!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=104)}([function(t,e,r){"use strict";e.__esModule=!0;e.VERSION="4.8.4",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;var n=r(0);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var i=r(4);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o=r(5);Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return q(o).default}});var s=r(31);Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return q(s).default}});var a=r(55);Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return q(a).default}});var u=r(15);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return q(u).default}});var h=r(57);Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return q(h).default}});var l=r(56);Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return q(l).default}});var c=r(33);Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return q(c).default}});var f=r(35);Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return q(f).default}});var d=r(137);Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return q(d).default}});var p=r(39);Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return q(p).default}});var v=r(140);Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return q(v).default}});var y=r(155);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return q(y).default}});var g=r(71);Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return q(g).default}});var _=r(72);Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return q(_).default}});var b=r(157);Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return q(b).default}});var m=r(73);Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return q(m).default}});var T=r(159);Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return q(T).default}});var E=r(166);Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return q(E).default}});var w=r(167);Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return q(w).default}});var x=r(9);Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return q(x).default}});var S=r(69);Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return q(S).default}});var O=r(12);Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return q(O).default}});var P=r(38);Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return q(P).default}});var M=r(63);Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return q(M).default}});var A=r(60);Object.defineProperty(e,"VideoBaseTexture",{enumerable:!0,get:function(){return q(A).default}});var C=r(61);Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return q(C).default}});var I=r(64);Object.defineProperty(e,"CanvasRenderTarget",{enumerable:!0,get:function(){return q(I).default}});var D=r(18);Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return q(D).default}});var R=r(17);Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return q(R).default}});var L=r(22);Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return q(L).default}});var N=r(24);Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return q(N).default}});var k=r(70);Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return q(k).default}});var B=r(66);Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return q(B).default}});var F=r(67);Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return q(F).default}});var U=r(74);Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return q(U).default}});var j=r(75);Object.defineProperty(e,"autoDetectRenderer",{enumerable:!0,get:function(){return j.autoDetectRenderer}});var H=z(r(2)),G=z(r(37)),W=q(r(3)),X=q(r(16)),V=q(r(23));function z(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function q(t){return t&&t.__esModule?t:{default:t}}e.settings=W.default,e.utils=H,e.ticker=G,e.CanvasRenderer=X.default,e.WebGLRenderer=V.default},function(t,e,r){"use strict";e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.earcut=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=void 0,e.uid=function(){return++p},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.getResolutionOfUrl=function(t,e){var r=i.default.RETINA_PREFIX.exec(t);if(r)return parseFloat(r[1]);return void 0!==e?e:1},e.decomposeDataUri=function(t){var e=n.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]};return},e.getUrlFileExtension=function(t){var e=n.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase();return},e.getSvgSize=function(t){var e=n.SVG_SIZE.exec(t),r={};e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7])));return r},e.skipHello=function(){v=!0},e.sayHello=function(t){if(v)return;if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+n.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+n.VERSION+" - "+t+" - http://www.pixijs.com/");v=!0},e.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(t){return!1}},e.sign=function(t){return 0===t?0:t<0?-1:1},e.destroyTextureCache=function(){var t=void 0;for(t in y)y[t].destroy();for(t in g)g[t].destroy()},e.clearTextureCache=function(){var t=void 0;for(t in y)delete y[t];for(t in g)delete g[t]},e.correctBlendMode=function(t,e){return _[e?1:0][t]},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(i=i*e+.5|0)},e.premultiplyRgba=function(t,e,r,n){r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]);return r[3]=e,r},e.premultiplyTintToRgba=function(t,e,r,n){(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(n||void 0===n)&&(r[0]*=e,r[1]*=e,r[2]*=e);return r[3]=e,r};var n=r(0),i=d(r(3)),o=d(r(10)),s=d(r(125)),a=f(r(126)),u=f(r(32)),h=d(r(127)),l=d(r(128)),c=d(r(34));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=!1;e.isMobile=u,e.removeItems=h.default,e.EventEmitter=o.default,e.pluginTarget=s.default,e.mixins=a,e.earcut=c.default;var y=e.TextureCache=Object.create(null),g=e.BaseTextureCache=Object.create(null);var _=e.premultiplyBlendMode=(0,l.default)()},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(123)),i=o(r(124));function o(t){return t&&t.__esModule?t:{default:t}}e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,n.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,i.default)(),MESH_CANVAS_PADDING:0}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(27);Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return f(n).default}});var i=r(44);Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return f(i).default}});var o=r(28);Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return f(o).default}});var s=r(45);Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return f(s).default}});var a=r(113);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return f(a).default}});var u=r(114);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return f(u).default}});var h=r(115);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return f(h).default}});var l=r(29);Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return f(l).default}});var c=r(116);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return f(c).default}})},function(t,e,r){var n={createContext:r(117),setVertexAttribArrays:r(46),GLBuffer:r(118),GLFramebuffer:r(119),GLShader:r(120),GLTexture:r(47),VertexArrayObject:r(121),shader:r(122)};t.exports&&(t.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.prototype.hasOwnProperty;function i(t){return"function"==typeof t}function o(t){return void 0===t}function s(t){return"[object String]"===Object.prototype.toString.call(t)}e.has=function(t,e){return n.call(t,e)},e.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},e.defaultEquals=function(t,e){return t===e},e.defaultToString=function(t){return null===t?"COLLECTION_NULL":o(t)?"COLLECTION_UNDEFINED":s(t)?"$s"+t:"$o"+t.toString()},e.makeString=function(t,r){if(void 0===r&&(r=","),null===t)return"COLLECTION_NULL";if(o(t))return"COLLECTION_UNDEFINED";if(s(t))return t.toString();var n="{",i=!0;for(var a in t)e.has(t,a)&&(i?i=!1:n+=r,n=n+a+":"+t[a]);return n+"}"},e.isFunction=i,e.isUndefined=o,e.isString=s,e.reverseCompareFunction=function(t){return o(t)||!i(t)?function(t,e){return t<e?1:t===e?0:-1}:function(e,r){return-1*t(e,r)}},e.compareToEquals=function(t){return function(e,r){return 0===t(e,r)}}},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return n.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,n="/"===s.charAt(0))}return(n?"/":"")+(e=r(o(e.split("/"),function(t){return!!t}),!n).join("/"))||"."},e.normalize=function(t){var n=e.isAbsolute(t),i="/"===s(t,-1);return(t=r(o(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&i&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var h=[];for(u=a;u<i.length;u++)h.push("..");return(h=h.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return i(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(68))},function(t,e,r){"use strict";(function(t){e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=void 0;var n=r(107);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var i=r(1);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o,s=r(168),a=(o=s)&&o.__esModule?o:{default:o},u=g(r(169)),h=g(r(171)),l=g(r(77)),c=g(r(181)),f=g(r(188)),d=g(r(190)),p=g(r(194)),v=g(r(199)),y=g(r(204));function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}i.utils.mixins.performMixins();var _=d.shared||null;e.accessibility=u,e.extract=h,e.extras=l,e.filters=c,e.interaction=f,e.loaders=d,e.mesh=p,e.particles=v,e.prepare=y,e.loader=_,"function"==typeof a.default&&(0,a.default)(e),t.PIXI=e}).call(this,r(26))},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=c(r(12)),o=c(r(60)),s=c(r(61)),a=c(r(10)),u=r(4),h=r(2),l=c(r(3));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(r,n,i,o,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));if(h.noFrame=!1,n||(h.noFrame=!0,n=new u.Rectangle(0,0,1,1)),r instanceof e&&(r=r.baseTexture),h.baseTexture=r,h._frame=n,h.trim=o,h.valid=!1,h.requiresUpdate=!1,h._uvs=null,h.orig=i||n,h._rotate=Number(s||0),!0===s)h._rotate=2;else if(h._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(h.noFrame&&(n=new u.Rectangle(0,0,r.width,r.height),r.on("update",h.onBaseTextureUpdated,h)),h.frame=n):r.once("loaded",h.onBaseTextureLoaded,h),h.defaultAnchor=a?new u.Point(a.x,a.y):new u.Point(0,0),h._updateID=0,h.transform=null,h.textureCacheIds=[],h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(h.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new s.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,r,n,o){var s=h.TextureCache[t];return s||(s=new e(i.default.fromImage(t,r,n,o)),e.addToCache(s,t)),s},e.fromFrame=function(t){var e=h.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(i.default.fromCanvas(t,r,n))},e.fromVideo=function(t,r,n,i){return"string"==typeof t?e.fromVideoUrl(t,r,n,i):new e(o.default.fromVideo(t,r,i))},e.fromVideoUrl=function(t,r,n,i){return new e(o.default.fromUrl(t,r,n,i))},e.from=function(t){if("string"==typeof t){var r=h.TextureCache[t];return r||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t))}return t instanceof HTMLImageElement?new e(i.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,l.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof i.default?new e(t):t},e.fromLoader=function(t,r,n){var o=new i.default(t,void 0,(0,h.getResolutionOfUrl)(r)),s=new e(o);return o.imageUrl=r,n||(n=r),i.default.addToCache(s.baseTexture,n),e.addToCache(s,n),n!==r&&(i.default.addToCache(s.baseTexture,r),e.addToCache(s,r)),s},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),h.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),h.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=h.TextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete h.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)h.TextureCache[t.textureCacheIds[n]]===t&&delete h.TextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},n(e,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,n=t.width,i=t.height,o=e+n>this.baseTexture.width,s=r+i>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",u="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,h="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+a+" "+h)}this.valid=n&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(a.default);function d(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}e.default=f,f.EMPTY=new f(new i.default),d(f.EMPTY),d(f.EMPTY.baseTexture),f.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new f(new i.default(t))}(),d(f.WHITE),d(f.WHITE.baseTexture)},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t,e){var r=i?i+t:t,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,a=new Array(s);o<s;o++)a[o]=n[o].fn;return a},a.prototype.emit=function(t,e,r,n,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var u,h,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,n),!0;case 5:return l.fn.call(l.context,e,r,n,o),!0;case 6:return l.fn.call(l.context,e,r,n,o,s),!0}for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];l.fn.apply(l.context,u)}else{var f,d=l.length;for(h=0;h<d;h++)switch(l[h].once&&this.removeListener(t,l[h].fn,void 0,!0),c){case 1:l[h].fn.call(l[h].context);break;case 2:l[h].fn.call(l[h].context,e);break;case 3:l[h].fn.call(l[h].context,e,r);break;case 4:l[h].fn.call(l[h].context,e,r,n);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];l[h].fn.apply(l[h].context,u)}}return!0},a.prototype.on=function(t,e,r){var n=new s(e,r||this),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},a.prototype.once=function(t,e,r){var n=new s(e,r||this,!0),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},a.prototype.removeListener=function(t,e,r,n){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||(0==--this._eventsCount?this._events=new o:delete this._events[s]);else{for(var u=0,h=[],l=a.length;u<l;u++)(a[u].fn!==e||n&&!a[u].once||r&&a[u].context!==r)&&h.push(a[u]);h.length?this._events[s]=1===h.length?h[0]:h:0==--this._eventsCount?this._events=new o:delete this._events[s]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,t.exports=a},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(214)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(68))},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2),i=u(r(3)),o=u(r(10)),s=u(r(58)),a=u(r(36));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return a.uid=(0,n.uid)(),a.touched=0,a.resolution=s||i.default.RESOLUTION,a.width=100,a.height=100,a.realWidth=100,a.realHeight=100,a.scaleMode=void 0!==o?o:i.default.SCALE_MODE,a.hasLoaded=!1,a.isLoading=!1,a.source=null,a.origSource=null,a.imageType=null,a.sourceScale=1,a.premultipliedAlpha=!0,a.imageUrl=null,a.isPowerOfTwo=!1,a.mipmap=i.default.MIPMAP_TEXTURES,a.wrapMode=i.default.WRAP_MODE,a._glTextures={},a._enabled=0,a._virtalBoundId=-1,a._destroyed=!1,a.textureCacheIds=[],r&&a.loadSource(r),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=a.default.isPow2(this.realWidth)&&a.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var n=this;if(t.onload=function(){n._updateImageType(),t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n._sourceLoaded(),"svg"!==n.imageType?n.emit("loaded",n):n._loadSvgSource())},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===n.imageType)return void n._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,n.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var r=t.subType.split("+")[0];if(!(e=(0,n.getUrlFileExtension)("."+r)))throw new Error("Invalid image type in data URI.")}else(e=(0,n.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,n.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var r=(0,n.getSvgSize)(t),i=r.width,o=r.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(o*this.sourceScale),this._updateDimensions();var s=document.createElement("canvas");s.width=this.realWidth,s.height=this.realHeight,s._pixiId="canvas_"+(0,n.uid)(),s.getContext("2d").drawImage(this.source,0,0,i,o,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=s,e.addToCache(this,s._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,r,i,o){var a=n.BaseTextureCache[t];if(!a){var u=new Image;void 0===r&&0!==t.indexOf("data:")?u.crossOrigin=(0,s.default)(t):r&&(u.crossOrigin="string"==typeof r?r:"anonymous"),(a=new e(u,i)).imageUrl=t,o&&(a.sourceScale=o),a.resolution=(0,n.getResolutionOfUrl)(t),u.src=t,e.addToCache(a,t)}return a},e.fromCanvas=function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=i+"_"+(0,n.uid)());var o=n.BaseTextureCache[t._pixiId];return o||(o=new e(t,r),e.addToCache(o,t._pixiId)),o},e.from=function(t,r,i){if("string"==typeof t)return e.fromImage(t,void 0,r,i);if(t instanceof HTMLImageElement){var o=t.src,s=n.BaseTextureCache[o];return s||((s=new e(t,r)).imageUrl=o,i&&(s.sourceScale=i),s.resolution=(0,n.getResolutionOfUrl)(o),e.addToCache(s,o)),s}return t instanceof HTMLCanvasElement?e.fromCanvas(t,r):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),n.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),n.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=n.BaseTextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete n.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete n.BaseTextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(o.default);e.default=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),i=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||n.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!n.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!n.isUndefined(t)&&!n.isUndefined(e)){var r,i="$"+this.toStr(t),o=this.table[i];return n.isUndefined(o)?(this.nElements++,r=void 0):r=o.value,this.table[i]={key:t,value:e},r}},t.prototype.remove=function(t){var e="$"+this.toStr(t),r=this.table[e];if(!n.isUndefined(r))return delete this.table[e],this.nElements--,r.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(n.has(this.table,e)){var r=this.table[e];t.push(r.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(n.has(this.table,e)){var r=this.table[e];t.push(r.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(n.has(this.table,e)){var r=this.table[e];if(!1===t(r.key,r.value))return}},t.prototype.containsKey=function(t){return!n.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(e,r){t+="\n\t"+e+" : "+r}),t+"\n}"},t}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,r){void 0===r&&(r=t+":"+e),this.type=t,this.name=e,this.fullName=r}return t.parse=function(e){var r=e.lastIndexOf(":");return-1==r?this.singleton(e):new t(e.substring(0,r),e.substring(r+1),e)},t.singleton=function(e){return new t(e,e,e)},t.prototype.toString=function(){return this.fullName},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(2),s=r(55);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.children=[],r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);(0,o.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,(0,o.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,o.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=t,n="number"==typeof e?e:this.children.length,i=n-r,o=void 0;if(i>0&&i<=n){o=this.children.splice(r,i);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<o.length;++a)o[a].emit("removed",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var r="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(e)},i(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(((n=s)&&n.__esModule?n:{default:n}).default);e.default=a,a.prototype.containerUpdateTransform=a.prototype.updateTransform},function(t,e,r){"use strict";e.__esModule=!0;var n=l(r(62)),i=l(r(138)),o=l(r(64)),s=l(r(139)),a=r(2),u=r(0),h=l(r(3));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(r,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"Canvas",r,n,o));return a.type=u.RENDERER_TYPE.CANVAS,a.rootContext=a.view.getContext("2d",{alpha:a.transparent}),a.context=a.rootContext,a.refresh=!0,a.maskManager=new i.default(a),a.smoothProperty="imageSmoothingEnabled",a.rootContext.imageSmoothingEnabled||(a.rootContext.webkitImageSmoothingEnabled?a.smoothProperty="webkitImageSmoothingEnabled":a.rootContext.mozImageSmoothingEnabled?a.smoothProperty="mozImageSmoothingEnabled":a.rootContext.oImageSmoothingEnabled?a.smoothProperty="oImageSmoothingEnabled":a.rootContext.msImageSmoothingEnabled&&(a.smoothProperty="msImageSmoothingEnabled")),a.initPlugins(),a.blendModes=(0,s.default)(),a._activeBlendMode=null,a.renderingToScreen=!1,a.resize(a.options.width,a.options.height),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t,e,r,n,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var s=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new o.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(e||(this._lastObjectRendered=t),!i){var h=t.parent,l=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=h}a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=u.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var c=this.context;this.context=a,t.renderCanvas(this),this.context=c,a.restore(),this.resolution=s,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=h.default.SCALE_MODE===u.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(n.default);e.default=c,a.pluginTarget.mixin(c)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(5),o=r(3),s=(n=o)&&n.__esModule?n:{default:n};function a(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}var u=function(t){function e(r,n,i,o,u){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,a(n,u||s.default.PRECISION_VERTEX),a(i,u||s.default.PRECISION_FRAGMENT),void 0,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.GLShader);e.default=u},function(t,e,r){"use strict";var n=r(191).Loader,i=r(41).Resource,o=r(90),s=r(91);n.Resource=i,n.async=o,n.encodeBinary=s,n.base64=s,t.exports=n,t.exports.Loader=n,t.exports.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),s=r(9),a=(n=s)&&n.__esModule?n:{default:n};var u=new o.Point,h=new o.Polygon,l=function(t){function e(r,n,i,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return h._texture=r||a.default.EMPTY,h.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),h.vertices=n||new Float32Array([0,0,100,0,100,100,0,100]),h.indices=s||new Uint16Array([0,1,3,2]),h.dirty=0,h.indexDirty=0,h.vertexDirty=0,h.autoUpdate=!0,h.blendMode=o.BLEND_MODES.NORMAL,h.canvasPadding=o.settings.MESH_CANVAS_PADDING,h.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,h.shader=null,h.tintRgb=new Float32Array([1,1,1]),h._glDatas={},h._uvTransform=new o.TextureMatrix(h._texture),h.uploadUvTransform=!1,h.pluginName="mesh",h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,u);for(var r=this.vertices,n=h.points,i=this.indices,o=this.indices.length,s=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,a=0;a+2<o;a+=s){var l=2*i[a],c=2*i[a+1],f=2*i[a+2];if(n[0]=r[l],n[1]=r[l+1],n[2]=r[c],n[3]=r[c+1],n[4]=r[f],n[5]=r[f+1],h.contains(u.x,u.y))return!0}return!1},e.prototype.destroy=function(e){for(var r in this._glDatas){var n=this._glDatas[r];n.destroy?n.destroy():(n.vertexBuffer&&(n.vertexBuffer.destroy(),n.vertexBuffer=null),n.indexBuffer&&(n.indexBuffer.destroy(),n.indexBuffer=null),n.uvBuffer&&(n.uvBuffer.destroy(),n.uvBuffer=null),n.vao&&(n.vao.destroy(),n.vao=null))}this._glDatas=null,t.prototype.destroy.call(this,e)},i(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return o.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=o.utils.hex2rgb(t,this.tintRgb)}}]),e}(o.Container);e.default=l,l.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6);function i(t,e,r){for(var i=r||n.defaultEquals,o=t.length,s=0;s<o;s++)if(i(t[s],e))return s;return-1}e.indexOf=i,e.lastIndexOf=function(t,e,r){for(var i=r||n.defaultEquals,o=t.length-1;o>=0;o--)if(i(t[o],e))return o;return-1},e.contains=function(t,e,r){return i(t,e,r)>=0},e.remove=function(t,e,r){var n=i(t,e,r);return!(n<0||(t.splice(n,1),0))},e.frequency=function(t,e,r){for(var i=r||n.defaultEquals,o=t.length,s=0,a=0;a<o;a++)i(t[a],e)&&s++;return s},e.equals=function(t,e,r){var i=r||n.defaultEquals;if(t.length!==e.length)return!1;for(var o=t.length,s=0;s<o;s++)if(!i(t[s],e[s]))return!1;return!0},e.copy=function(t){return t.concat()},e.swap=function(t,e,r){if(e<0||e>=t.length||r<0||r>=t.length)return!1;var n=t[e];return t[e]=t[r],t[r]=n,!0},e.toString=function(t){return"["+t.toString()+"]"},e.forEach=function(t,e){for(var r=0,n=t;r<n.length;r++)if(!1===e(n[r]))return}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(17);var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=_(r(62)),i=_(r(141)),o=_(r(143)),s=_(r(144)),a=_(r(24)),u=_(r(22)),h=_(r(146)),l=_(r(12)),c=_(r(147)),f=_(r(148)),d=_(r(150)),p=_(r(151)),v=r(2),y=_(r(5)),g=r(0);function _(t){return t&&t.__esModule?t:{default:t}}var b=0,m=function(t){function e(r,n,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"WebGL",r,n,s));return a.legacy=a.options.legacy,a.legacy&&(y.default.VertexArrayObject.FORCE_NATIVE=!0),a.type=g.RENDERER_TYPE.WEBGL,a.handleContextLost=a.handleContextLost.bind(a),a.handleContextRestored=a.handleContextRestored.bind(a),a.view.addEventListener("webglcontextlost",a.handleContextLost,!1),a.view.addEventListener("webglcontextrestored",a.handleContextRestored,!1),a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==a.transparent,stencil:!0,preserveDrawingBuffer:a.options.preserveDrawingBuffer,powerPreference:a.options.powerPreference},a._backgroundColorRgba[3]=a.transparent?0:1,a.maskManager=new i.default(a),a.stencilManager=new o.default(a),a.emptyRenderer=new u.default(a),a.currentRenderer=a.emptyRenderer,a.textureManager=null,a.filterManager=null,a.initPlugins(),a.options.context&&(0,p.default)(a.options.context),a.gl=a.options.context||y.default.createContext(a.view,a._contextOptions),a.CONTEXT_UID=b++,a.state=new f.default(a.gl),a.renderingToScreen=!0,a.boundTextures=null,a._activeShader=null,a._activeVao=null,a._activeRenderTarget=null,a._initContext(),a.drawModes=(0,d.default)(a.gl),a._nextTextureLocation=0,a.setBlendMode(0),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new h.default(this),this.filterManager=new s.default(this),this.textureGC=new c.default(this),this.state.resetToDefault(),this.rootRenderTarget=new a.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new y.default.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new l.default;o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,r,n,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){n.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var r=void 0;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),(r=n._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new y.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(n.default);e.default=m,v.pluginTarget.mixin(m)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(4),o=r(0),s=r(3),a=(n=s)&&n.__esModule?n:{default:n},u=r(5);var h=function(){function t(e,r,n,s,h,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=h||a.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==s?s:a.default.SCALE_MODE,this.root=l||!1,this.root?(this.frameBuffer=new u.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=u.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,n)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.nativeLines?function(t,e){var r=0,n=t.points;if(0===n.length)return;var o=e.points,s=n.length/2,a=(0,i.hex2rgb)(t.lineColor),u=t.lineAlpha,h=a[0]*u,l=a[1]*u,c=a[2]*u;for(r=1;r<s;r++){var f=n[2*(r-1)],d=n[2*(r-1)+1],p=n[2*r],v=n[2*r+1];o.push(f,d),o.push(h,l,c,u),o.push(p,v),o.push(h,l,c,u)}}(t,r):function(t,e){var r=t.points;if(0===r.length)return;var o=new n.Point(r[0],r[1]),s=new n.Point(r[r.length-2],r[r.length-1]);if(o.x===s.x&&o.y===s.y){(r=r.slice()).pop(),r.pop();var a=(s=new n.Point(r[r.length-2],r[r.length-1])).x+.5*(o.x-s.x),u=s.y+.5*(o.y-s.y);r.unshift(a,u),r.push(a,u)}var h=e.points,l=e.indices,c=r.length/2,f=r.length,d=h.length/6,p=t.lineWidth/2,v=(0,i.hex2rgb)(t.lineColor),y=t.lineAlpha,g=v[0]*y,_=v[1]*y,b=v[2]*y,m=r[0],T=r[1],E=r[2],w=r[3],x=0,S=0,O=-(T-w),P=m-E,M=0,A=0,C=0,I=0,D=Math.sqrt(O*O+P*P);O/=D,P/=D,O*=p,P*=p;var R=t.lineAlignment,L=2*(1-R),N=2*R;h.push(m-O*L,T-P*L,g,_,b,y),h.push(m+O*N,T+P*N,g,_,b,y);for(var k=1;k<c-1;++k){m=r[2*(k-1)],T=r[2*(k-1)+1],E=r[2*k],w=r[2*k+1],x=r[2*(k+1)],S=r[2*(k+1)+1],O=-(T-w),P=m-E,D=Math.sqrt(O*O+P*P),O/=D,P/=D,O*=p,P*=p,M=-(w-S),A=E-x,D=Math.sqrt(M*M+A*A),M/=D,A/=D;var B=-P+T-(-P+w),F=-O+E-(-O+m),U=(-O+m)*(-P+w)-(-O+E)*(-P+T),j=-(A*=p)+S-(-A+w),H=-(M*=p)+E-(-M+x),G=(-M+x)*(-A+w)-(-M+E)*(-A+S),W=B*H-j*F;if(Math.abs(W)<.1)W+=10.1,h.push(E-O*L,w-P*L,g,_,b,y),h.push(E+O*N,w+P*N,g,_,b,y);else{var X=(F*G-H*U)/W,V=(j*U-B*G)/W,z=(X-E)*(X-E)+(V-w)*(V-w);z>196*p*p?(C=O-M,I=P-A,D=Math.sqrt(C*C+I*I),C/=D,I/=D,C*=p,I*=p,h.push(E-C*L,w-I*L),h.push(g,_,b,y),h.push(E+C*N,w+I*N),h.push(g,_,b,y),h.push(E-C*N*L,w-I*L),h.push(g,_,b,y),f++):(h.push(E+(X-E)*L,w+(V-w)*L),h.push(g,_,b,y),h.push(E-(X-E)*N,w-(V-w)*N),h.push(g,_,b,y))}}m=r[2*(c-2)],T=r[2*(c-2)+1],E=r[2*(c-1)],w=r[2*(c-1)+1],O=-(T-w),P=m-E,D=Math.sqrt(O*O+P*P),O/=D,P/=D,O*=p,P*=p,h.push(E-O*L,w-P*L),h.push(g,_,b,y),h.push(E+O*N,w+P*N),h.push(g,_,b,y),l.push(d);for(var q=0;q<f;++q)l.push(d++);l.push(d-1)}(t,e)};var n=r(4),i=r(2)},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(27),s=(n=o)&&n.__esModule?n:{default:n},a=r(0);var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.a=e,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=s,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new s.default;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new s.default;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,r,n,i,o,s,a,u){return this.a=Math.cos(s+u)*i,this.b=Math.sin(s+u)*i,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+n*this.c),this.ty=e-(r*this.b+n*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),s=Math.atan2(r,e),u=Math.abs(o+s);return u<1e-5||Math.abs(a.PI_2-u)<1e-5?(t.rotation=s,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(o),this.type=i.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=n,this.height=i-n},n(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();e.default=o},function(t,e){var r=null,n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=function(t,e){if(!r){var i=Object.keys(n);r={};for(var o=0;o<i.length;++o){var s=i[o];r[t[s]]=n[s]}}return r[e]}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(4);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((t=t||new n.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,n=o>n?o:n,i=s>i?s:i,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,n=o>n?o:n,i=s>i?s:i,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,n=o>n?o:n,i=s>i?s:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.addFrame=function(t,e,r,n,i){var o=t.worldTransform,s=o.a,a=o.b,u=o.c,h=o.d,l=o.tx,c=o.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,y=s*e+u*r+l,g=a*e+h*r+c;f=y<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,f=(y=s*n+u*r+l)<f?y:f,d=(g=a*n+h*r+c)<d?g:d,p=y>p?y:p,v=g>v?g:v,f=(y=s*e+u*i+l)<f?y:f,d=(g=a*e+h*i+c)<d?g:d,p=y>p?y:p,v=g>v?g:v,f=(y=s*n+u*i+l)<f?y:f,d=(g=a*n+h*i+c)<d?g:d,p=y>p?y:p,v=g>v?g:v,this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertices=function(t,e,r,n){for(var i=t.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,c=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=r;v<n;v+=2){var y=e[v],g=e[v+1],_=o*y+a*g+h,b=u*g+s*y+l;c=_<c?_:c,f=b<f?b:f,d=_>d?_:d,p=b>p?b:p}this.minX=c,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t}();e.default=i},function(t,e,r){var n,i,o;!function(r){var s=/iPhone/i,a=/iPod/i,u=/iPad/i,h=/\bAndroid(?:.+)Mobile\b/i,l=/Android/i,c=/\bAndroid(?:.+)SD4930UR\b/i,f=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,d=/Windows Phone/i,p=/\bWindows(?:.+)ARM\b/i,v=/BlackBerry/i,y=/BB10/i,g=/Opera Mini/i,_=/\b(CriOS|Chrome)(?:.+)Mobile/i,b=/\Mobile(?:.+)Firefox\b/i;function m(t,e){return t.test(e)}function T(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),r=e.split("[FBAN");void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]);var n={apple:{phone:m(s,e)&&!m(d,e),ipod:m(a,e),tablet:!m(s,e)&&m(u,e)&&!m(d,e),device:(m(s,e)||m(a,e)||m(u,e))&&!m(d,e)},amazon:{phone:m(c,e),tablet:!m(c,e)&&m(f,e),device:m(c,e)||m(f,e)},android:{phone:!m(d,e)&&m(c,e)||!m(d,e)&&m(h,e),tablet:!m(d,e)&&!m(c,e)&&!m(h,e)&&(m(f,e)||m(l,e)),device:!m(d,e)&&(m(c,e)||m(f,e)||m(h,e)||m(l,e))},windows:{phone:m(d,e),tablet:m(p,e),device:m(d,e)||m(p,e)},other:{blackberry:m(v,e),blackberry10:m(y,e),opera:m(g,e),firefox:m(b,e),chrome:m(_,e),device:m(v,e)||m(y,e)||m(g,e)||m(b,e)||m(_,e)}};return n.any=n.apple.device||n.android.device||n.windows.device||n.other.device,n.phone=n.apple.phone||n.android.phone||n.windows.phone,n.tablet=n.apple.tablet||n.android.tablet||n.windows.tablet,n}t.exports&&"undefined"==typeof window?t.exports=T:t.exports&&"undefined"!=typeof window?t.exports=T():(i=[],n=r.isMobile=T(),void 0===(o="function"==typeof n?n.apply(e,i):n)||(t.exports=o))}(this)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(4);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*e.a+n.b*e.c,r.b=n.a*e.b+n.b*e.d,r.c=n.c*e.a+n.d*e.c,r.d=n.c*e.b+n.d*e.d,r.tx=n.tx*e.a+n.ty*e.c+e.tx,r.ty=n.tx*e.b+n.ty*e.d+e.ty,this._worldID++},t}();e.default=i,i.prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},function(t,e,r){"use strict";function n(t,e,r){r=r||2;var n,a,u,h,l,d,v,y=e&&e.length,g=y?e[0]*r:t.length,_=i(t,0,g,r,!0),b=[];if(!_||_.next===_.prev)return b;if(y&&(_=function(t,e,r,n){var s,a,u,h,l,d=[];for(s=0,a=e.length;s<a;s++)u=e[s]*n,h=s<a-1?e[s+1]*n:t.length,(l=i(t,u,h,n,!1))===l.next&&(l.steiner=!0),d.push(p(l));for(d.sort(c),s=0;s<d.length;s++)f(d[s],r),r=o(r,r.next);return r}(t,e,_,r)),t.length>80*r){n=u=t[0],a=h=t[1];for(var m=r;m<g;m+=r)(l=t[m])<n&&(n=l),(d=t[m+1])<a&&(a=d),l>u&&(u=l),d>h&&(h=d);v=0!==(v=Math.max(u-n,h-a))?1/v:0}return s(_,b,r,n,a,v),b}function i(t,e,r,n,i){var o,s;if(i===S(t,e,r,n)>0)for(o=e;o<r;o+=n)s=E(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=E(o,t[o],t[o+1],s);return s&&_(s,s.next)&&(w(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!_(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{if(w(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function s(t,e,r,n,i,c,f){if(t){!f&&c&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=d(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,s,a,u,h=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<h&&(a++,n=n.nextZ);e++);for(u=h;a>0||u>0&&n;)0!==a&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,h*=2}while(s>1)}(i)}(t,n,i,c);for(var p,v,y=t;t.prev!==t.next;)if(p=t.prev,v=t.next,c?u(t,n,i,c):a(t))e.push(p.i/r),e.push(t.i/r),e.push(v.i/r),w(t),t=v.next,y=v.next;else if((t=v)===y){f?1===f?s(t=h(t,e,r),e,r,n,i,c,2):2===f&&l(t,e,r,n,i,c):s(o(t),e,r,n,i,c,1);break}}}function a(t){var e=t.prev,r=t,n=t.next;if(g(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(v(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&g(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,r,n){var i=t.prev,o=t,s=t.next;if(g(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,h=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,l=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,c=d(a,u,e,r,n),f=d(h,l,e,r,n),p=t.prevZ,y=t.nextZ;p&&p.z>=c&&y&&y.z<=f;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,y!==t.prev&&y!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;y&&y.z<=f;){if(y!==t.prev&&y!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function h(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!_(i,o)&&b(i,n,n.next,o)&&m(i,o)&&m(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),w(n),w(n.next),n=t=o),n=n.next}while(n!==t);return n}function l(t,e,r,n,i,a){var u=t;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&y(u,h)){var l=T(u,h);return u=o(u,u.next),l=o(l,l.next),s(u,e,r,n,i,a),void s(l,e,r,n,i,a)}h=h.next}u=u.next}while(u!==t)}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s){if(s=a,a===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===s)return r.prev;var u,h=r,l=r.x,c=r.y,f=1/0;n=r.next;for(;n!==h;)i>=n.x&&n.x>=l&&i!==n.x&&v(o<c?i:s,o,l,c,o<c?s:i,o,n.x,n.y)&&((u=Math.abs(o-n.y)/(i-n.x))<f||u===f&&n.x>r.x)&&m(n,t)&&(r=n,f=u),n=n.next;return r}(t,e)){var r=T(e,t);o(r,r.next)}}function d(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function v(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&b(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&m(t,e)&&m(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)}function g(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function _(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,r,n){return!!(_(t,e)&&_(r,n)||_(t,n)&&_(r,e))||g(t,e,r)>0!=g(t,e,n)>0&&g(r,n,t)>0!=g(r,n,e)>0}function m(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function T(t,e){var r=new x(t.i,t.x,t.y),n=new x(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function E(t,e,r,n){var i=new x(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function x(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}t.exports=n,t.exports.default=n,n.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(S(t,0,o,r));if(i)for(var a=0,u=e.length;a<u;a++){var h=e[a]*r,l=a<u-1?e[a+1]*r:t.length;s-=Math.abs(S(t,h,l,r))}var c=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,d=n[a+1]*r,p=n[a+2]*r;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(4),o=r(2),s=r(0),a=h(r(9)),u=h(r(15));function h(t){return t&&t.__esModule?t:{default:t}}var l=new i.Point,c=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n._anchor=new i.ObservablePoint(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=s.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=r||a.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName="sprite",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,h=t.trim,l=t.orig,c=this._anchor,f=0,d=0,p=0,v=0;h?(f=(d=h.x-c._x*l.width)+h.width,p=(v=h.y-c._y*l.height)+h.height):(f=(d=-c._x*l.width)+l.width,p=(v=-c._y*l.height)+l.height),u[0]=r*d+i*v+s,u[1]=o*v+n*d+a,u[2]=r*f+i*v+s,u[3]=o*v+n*f+a,u[4]=r*f+i*p+s,u[5]=o*p+n*f+a,u[6]=r*d+i*p+s,u[7]=o*p+n*d+a}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,c=-n._x*r.width,f=c+r.width,d=-n._y*r.height,p=d+r.height;e[0]=o*c+a*d+h,e[1]=u*d+s*c+l,e[2]=o*f+a*d+h,e[3]=u*d+s*f+l,e[4]=o*f+a*p+h,e[5]=u*p+s*f+l,e[6]=o*c+a*p+h,e[7]=u*p+s*c+l},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return l.x>=n&&l.x<n+e&&(i=-r*this.anchor.y,l.y>=i&&l.y<i+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null,this.shader=null},e.from=function(t){return new e(a.default.from(t))},e.fromFrame=function(t){var r=o.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(r)},e.fromImage=function(t,r,n){return new e(a.default.fromImage(t,r,n))},n(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,o.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,o.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t||a.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(u.default);e.default=c},function(t,e,r){"use strict";function n(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},function(t,e,r){"use strict";e.__esModule=!0,e.Ticker=e.shared=void 0;var n,i=r(135),o=(n=i)&&n.__esModule?n:{default:n};var s=new o.default;s.autoStart=!0,s.destroy=function(){},e.shared=s,e.Ticker=o.default},function(t,e,r){"use strict";e.__esModule=!0;var n=i(r(63));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=null;if(!(r instanceof n.default)){var s=arguments[1],a=arguments[2],u=arguments[3],h=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+a+") instead of the ctor directly."),o=arguments[0],i=null,r=new n.default(s,a,u,h)}var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,i));return l.legacyRenderer=o,l.valid=!0,l._updateUvs(),l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e,r){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,r,i,o){return new e(new n.default(t,r,i,o))},e}(i(r(9)).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(2),o=r(65);var s={getTintedTexture:function(t,e){var r=t._texture,n="#"+("00000"+(0|(e=s.roundColor(e))).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var i=r.tintCache[n],o=void 0;if(i){if(i.tintId===r._updateID)return r.tintCache[n];o=r.tintCache[n]}else o=s.canvas||document.createElement("canvas");if(s.tintMethod(r,e,o),o.tintId=r._updateID,s.convertTintToImage){var a=new Image;a.src=o.toDataURL(),r.tintCache[n]=a}else r.tintCache[n]=o,s.canvas=null;return o},tintWithMultiply:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithOverlay:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithPerPixel:function(t,e,r){var n=r.getContext("2d"),o=t._frame.clone(),s=t.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,r.width=Math.ceil(o.width),r.height=Math.ceil(o.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),n.restore();for(var a=(0,i.hex2rgb)(e),u=a[0],h=a[1],l=a[2],c=n.getImageData(0,0,o.width,o.height),f=c.data,d=0;d<f.length;d+=4)f[d+0]*=u,f[d+1]*=h,f[d+2]*=l;n.putImageData(c,0,0)},roundColor:function(t){var e=s.cacheStepsPerColorChannel,r=(0,i.hex2rgb)(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),(0,i.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((n=o)&&n.__esModule?n:{default:n}).default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,e.default=s},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}},function(t,e,r){"use strict";e.__esModule=!0,e.Resource=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=s(r(89)),o=s(r(88));function s(t){return t&&t.__esModule?t:{default:t}}var a=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),u=null;function h(){}var l=e.Resource=function(){function t(e,r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=h,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new o.default,this.onProgress=new o.default,this.onComplete=new o.default,this.onAfterMiddleware=new o.default}return t.setExtensionLoadType=function(e,r){c(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){c(t._xhrTypeMap,e,r)},t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(r)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:a&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return 0!=(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=r,n},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(f(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(f(t)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(f(t)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===n&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2===(n/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,u||(u=document.createElement("a")),u.href=t;var r=!(t=(0,i.default)(u.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(n>-1?n:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},n(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function c(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function f(t){return t.toString().replace("object ","")}l.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},l.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},l.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},l.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},l._loadTypeMap={gif:l.LOAD_TYPE.IMAGE,png:l.LOAD_TYPE.IMAGE,bmp:l.LOAD_TYPE.IMAGE,jpg:l.LOAD_TYPE.IMAGE,jpeg:l.LOAD_TYPE.IMAGE,tif:l.LOAD_TYPE.IMAGE,tiff:l.LOAD_TYPE.IMAGE,webp:l.LOAD_TYPE.IMAGE,tga:l.LOAD_TYPE.IMAGE,svg:l.LOAD_TYPE.IMAGE,"svg+xml":l.LOAD_TYPE.IMAGE,mp3:l.LOAD_TYPE.AUDIO,ogg:l.LOAD_TYPE.AUDIO,wav:l.LOAD_TYPE.AUDIO,mp4:l.LOAD_TYPE.VIDEO,webm:l.LOAD_TYPE.VIDEO},l._xhrTypeMap={xhtml:l.XHR_RESPONSE_TYPE.DOCUMENT,html:l.XHR_RESPONSE_TYPE.DOCUMENT,htm:l.XHR_RESPONSE_TYPE.DOCUMENT,xml:l.XHR_RESPONSE_TYPE.DOCUMENT,tmx:l.XHR_RESPONSE_TYPE.DOCUMENT,svg:l.XHR_RESPONSE_TYPE.DOCUMENT,tsx:l.XHR_RESPONSE_TYPE.DOCUMENT,gif:l.XHR_RESPONSE_TYPE.BLOB,png:l.XHR_RESPONSE_TYPE.BLOB,bmp:l.XHR_RESPONSE_TYPE.BLOB,jpg:l.XHR_RESPONSE_TYPE.BLOB,jpeg:l.XHR_RESPONSE_TYPE.BLOB,tif:l.XHR_RESPONSE_TYPE.BLOB,tiff:l.XHR_RESPONSE_TYPE.BLOB,webp:l.XHR_RESPONSE_TYPE.BLOB,tga:l.XHR_RESPONSE_TYPE.BLOB,json:l.XHR_RESPONSE_TYPE.JSON,text:l.XHR_RESPONSE_TYPE.TEXT,txt:l.XHR_RESPONSE_TYPE.TEXT,ttf:l.XHR_RESPONSE_TYPE.BUFFER,otf:l.XHR_RESPONSE_TYPE.BUFFER},l.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",t.exports.default=l},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(95),s=(n=o)&&n.__esModule?n:{default:n};var a=i.ticker.shared;i.settings.UPLOADS_PER_FRAME=4;var u=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.limiter=new s.default(i.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(p),this.registerFindHook(v),this.registerFindHook(h),this.registerFindHook(l),this.registerFindHook(c),this.registerUploadHook(f),this.registerUploadHook(d)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,a.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)a.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var s=0,u=o.length;s<u;s++)o[s]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof i.Container)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},t.prototype.destroy=function(){this.ticking&&a.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function h(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof i.Texture){var o=t._textures[n].baseTexture;-1===e.indexOf(o)&&(e.push(o),r=!0)}return r}function l(t,e){return t instanceof i.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function c(t,e){if(t._texture&&t._texture instanceof i.Texture){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function f(t,e){return e instanceof i.Text&&(e.updateText(!0),!0)}function d(t,e){if(e instanceof i.TextStyle){var r=e.toFontString();return i.TextMetrics.measureFont(r),!0}return!1}function p(t,e){if(t instanceof i.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function v(t,e){return t instanceof i.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),i=r(21),o=function(){function t(){this.firstNode=null,this.lastNode=null,this.nElements=0}return t.prototype.add=function(t,e){if(n.isUndefined(e)&&(e=this.nElements),e<0||e>this.nElements||n.isUndefined(t))return!1;var r=this.createNode(t);if(0===this.nElements||null===this.lastNode)this.firstNode=r,this.lastNode=r;else if(e===this.nElements)this.lastNode.next=r,this.lastNode=r;else if(0===e)r.next=this.firstNode,this.firstNode=r;else{var i=this.nodeAtIndex(e-1);if(null==i)return!1;r.next=i.next,i.next=r}return this.nElements++,!0},t.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},t.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},t.prototype.elementAtIndex=function(t){var e=this.nodeAtIndex(t);if(null!==e)return e.element},t.prototype.indexOf=function(t,e){var r=e||n.defaultEquals;if(n.isUndefined(t))return-1;for(var i=this.firstNode,o=0;null!==i;){if(r(i.element,t))return o;o++,i=i.next}return-1},t.prototype.contains=function(t,e){return this.indexOf(t,e)>=0},t.prototype.remove=function(t,e){var r=e||n.defaultEquals;if(this.nElements<1||n.isUndefined(t))return!1;for(var i=null,o=this.firstNode;null!==o;){if(r(o.element,t))return null==i?(this.firstNode=o.next,o===this.lastNode&&(this.lastNode=null)):o===this.lastNode?(this.lastNode=i,i.next=o.next,o.next=null):(i.next=o.next,o.next=null),this.nElements--,!0;i=o,o=o.next}return!1},t.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},t.prototype.equals=function(e,r){var i=r||n.defaultEquals;return e instanceof t&&(this.size()===e.size()&&this.equalsAux(this.firstNode,e.firstNode,i))},t.prototype.equalsAux=function(t,e,r){for(;null!==t&&null!==e;){if(!r(t.element,e.element))return!1;t=t.next,e=e.next}return!0},t.prototype.removeElementAtIndex=function(t){if(!(t<0||t>=this.nElements||null===this.firstNode||null===this.lastNode)){var e;if(1===this.nElements)e=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var r=this.nodeAtIndex(t-1);null===r?(e=this.firstNode.element,this.firstNode=this.firstNode.next):r.next===this.lastNode&&(e=this.lastNode.element,this.lastNode=r),null!==r&&null!==r.next&&(e=r.next.element,r.next=r.next.next)}return this.nElements--,e}},t.prototype.forEach=function(t){for(var e=this.firstNode;null!==e&&!1!==t(e.element);)e=e.next},t.prototype.reverse=function(){for(var t=null,e=this.firstNode,r=null;null!==e;)r=e.next,e.next=t,t=e,e=r;r=this.firstNode,this.firstNode=this.lastNode,this.lastNode=r},t.prototype.toArray=function(){for(var t=[],e=this.firstNode;null!==e;)t.push(e.element),e=e.next;return t},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){return i.toString(this.toArray())},t.prototype.nodeAtIndex=function(t){if(t<0||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var e=this.firstNode,r=0;r<t&&null!=e;r++)e=e.next;return e},t.prototype.createNode=function(t){return{element:t,next:null}},t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t(e||this.cb,r||this.scope,this._x,this._y)},t.prototype.set=function(t,e){var r=t||0,n=e||(0!==e?r:0);this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(28),o=(n=i)&&n.__esModule?n:{default:n};var s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],h=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],c=[];function f(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var r=0;r<16;r++)for(var n=f(s[t]*s[r]+u[t]*a[r]),i=f(a[t]*s[r]+h[t]*a[r]),d=f(s[t]*u[r]+u[t]*h[r]),p=f(a[t]*u[r]+h[t]*h[r]),v=0;v<16;v++)if(s[v]===n&&a[v]===i&&u[v]===d&&h[v]===p){e.push(v);break}}for(var y=0;y<16;y++){var g=new o.default;g.set(s[y],a[y],u[y],h[y],0,0),l.push(g)}}();var d={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return s[t]},uY:function(t){return a[t]},vX:function(t){return u[t]},vY:function(t){return h[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][d.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?d.S:d.N:2*Math.abs(e)<=Math.abs(t)?t>0?d.E:d.W:e>0?t>0?d.SE:d.SW:t>0?d.NE:d.NW},matrixAppendRotationInv:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=l[d.inv(e)];i.tx=r,i.ty=n,t.append(i)}};e.default=d},function(t,e){t.exports=function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var s=e[n];t.enableVertexAttribArray(s.attribute.location)}}},function(t,e){var r=function(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE};r.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n};var n=!1;r.prototype.uploadData=function(t,e,r){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!n){if(!i.getExtension("OES_texture_float"))throw new Error("floating point textures not available");n=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},r.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},r.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},r.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},r.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},r.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},r.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},r.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},r.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},r.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},r.fromSource=function(t,e,n){var i=new r(t);return i.premultiplyAlpha=n||!1,i.upload(e),i},r.fromData=function(t,e,n,i){var o=new r(t);return o.uploadData(e,n,i),o},t.exports=r},function(t,e){var r=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};t.exports=function(t,e,n,i){var o=r(t,t.VERTEX_SHADER,e),s=r(t,t.FRAGMENT_SHADER,n),a=t.createProgram();if(t.attachShader(a,o),t.attachShader(a,s),i)for(var u in i)t.bindAttribLocation(a,i[u],u);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(o),t.deleteShader(s),a}},function(t,e,r){var n=r(30),i=r(50),o=function(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)};t.exports=function(t,e){for(var r={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<s;a++){var u=t.getActiveAttrib(e,a),h=n(t,u.type);r[u.name]={type:h,size:i(h),location:t.getAttribLocation(e,u.name),pointer:o}}return r}},function(t,e){var r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return r[t]}},function(t,e,r){var n=r(30),i=r(52);t.exports=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<o;s++){var a=t.getActiveUniform(e,s),u=a.name.replace(/\[.*?\]/,""),h=n(t,a.type);r[u]={type:h,size:a.size,location:t.getUniformLocation(e,u),value:i(h,a.size)}}return r}},function(t,e){var r=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};t.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return r(2*e);case"bvec3":return r(3*e);case"bvec4":return r(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(t,e){t.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},function(t,e){var r=function(t){return function(){return this.data[t].value}},n={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},i={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)}};function o(t,e){return function(r){this.data[t].value=r;var o=this.data[t].location;1===e.size?n[e.type](this.gl,o,r):i[e.type](this.gl,o,r)}}function s(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r}t.exports=function(t,e){var n={data:{}};n.gl=t;for(var i=Object.keys(e),a=0;a<i.length;a++){var u=i[a],h=u.split("."),l=h[h.length-1],c=s(h,n),f=e[u];c.data[l]=f,c.gl=t,Object.defineProperty(c,l,{get:r(l),set:o(l,f)})}return n}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=c(r(10)),o=r(0),s=c(r(3)),a=c(r(56)),u=c(r(57)),h=c(r(31)),l=r(4);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),n=s.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?a.default:u.default;return r.tempDisplayObjectParent=null,r.transform=new n,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new h.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new l.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new l.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=r,this.transform=e,n},e.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(i.default);e.default=f,f.prototype.displayObjectUpdateTransform=f.prototype.updateTransform},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(4),s=r(33);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new o.ObservablePoint(r.onChange,r,0,0),r.scale=new o.ObservablePoint(r.onChange,r,1,1),r.pivot=new o.ObservablePoint(r.onChange,r,0,0),r.skew=new o.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},i(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}}]),e}(((n=s)&&n.__esModule?n:{default:n}).default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(4),s=r(33);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new o.Point(0,0),r.scale=new o.Point(1,1),r.skew=new o.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new o.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},i(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((n=s)&&n.__esModule?n:{default:n}).default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,s||(s=document.createElement("a"));s.href=t;var r=!(t=o.default.parse(s.href)).port&&""===e.port||t.port===e.port;if(t.hostname!==e.hostname||!r||t.protocol!==e.protocol)return"anonymous";return""};var n,i=r(59),o=(n=i)&&n.__esModule?n:{default:n};var s=void 0},function(t,e,r){"use strict";var n=r(129),i=r(131);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=b(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(h),c=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=r(132);function b(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",h=t.split(a);h[0]=h[0].replace(/\\/g,"/");var b=t=h.join(a);if(b=b.trim(),!r&&1===t.split("#").length){var m=u.exec(b);if(m)return this.path=b,this.href=b,this.pathname=m[1],m[2]?(this.search=m[2],this.query=e?_.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var T=s.exec(b);if(T){var E=(T=T[0]).toLowerCase();this.protocol=E,b=b.substr(T.length)}if(r||T||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===b.substr(0,2);!w||T&&y[T]||(b=b.substr(2),this.slashes=!0)}if(!y[T]&&(w||T&&!g[T])){for(var x,S,O=-1,P=0;P<f.length;P++){-1!==(M=b.indexOf(f[P]))&&(-1===O||M<O)&&(O=M)}-1!==(S=-1===O?b.lastIndexOf("@"):b.lastIndexOf("@",O))&&(x=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(x)),O=-1;for(P=0;P<c.length;P++){var M;-1!==(M=b.indexOf(c[P]))&&(-1===O||M<O)&&(O=M)}-1===O&&(O=b.length),this.host=b.slice(0,O),b=b.slice(O),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var C=this.hostname.split(/\./),I=(P=0,C.length);P<I;P++){var D=C[P];if(D&&!D.match(d)){for(var R="",L=0,N=D.length;L<N;L++)D.charCodeAt(L)>127?R+="x":R+=D[L];if(!R.match(d)){var k=C.slice(0,P),B=C.slice(P+1),F=D.match(p);F&&(k.push(F[1]),B.unshift(F[2])),B.length&&(b="/"+B.join(".")+b),this.hostname=k.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+U,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[E])for(P=0,I=l.length;P<I;P++){var H=l[P];if(-1!==b.indexOf(H)){var G=encodeURIComponent(H);G===H&&(G=escape(H)),b=b.split(H).join(G)}}var W=b.indexOf("#");-1!==W&&(this.hash=b.substr(W),b=b.slice(0,W));var X=b.indexOf("?");if(-1!==X?(this.search=b.substr(X),this.query=b.substr(X+1),e&&(this.query=_.parse(this.query)),b=b.slice(0,X)):e&&(this.search="",this.query={}),b&&(this.pathname=b),g[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var V=this.search||"";this.path=U+V}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=_.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),h=0;h<u.length;h++){var l=u[h];"protocol"!==l&&(r[l]=t[l])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var d=c[f];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",_=r.search||"";r.path=v+_}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),m=t.host||t.pathname&&"/"===t.pathname.charAt(0),T=m||b||r.host&&t.pathname,E=T,w=r.pathname&&r.pathname.split("/")||[],x=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(x&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),T=T&&(""===p[0]||""===w[0])),m)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(x)r.hostname=r.host=w.shift(),(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=w.slice(-1)[0],O=(r.host||t.host||w.length>1)&&("."===S||".."===S)||""===S,P=0,M=w.length;M>=0;M--)"."===(S=w[M])?w.splice(M,1):".."===S?(w.splice(M,1),P++):P&&(w.splice(M,1),P--);if(!T&&!E)for(;P--;P)w.unshift("..");!T||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),O&&"/"!==w.join("/").substr(-1)&&w.push("");var A,C=""===w[0]||w[0]&&"/"===w[0].charAt(0);x&&(r.hostname=r.host=C?"":w.length?w.shift():"",(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift()));return(T=T||r.host&&w.length)&&!C&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=h(r(12)),o=r(2),s=r(37),a=r(0),u=h(r(58));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(r,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));return o.width=r.videoWidth,o.height=r.videoHeight,o._autoUpdate=!0,o._isAutoUpdating=!1,o.autoPlay=i,o.update=o.update.bind(o),o._onCanPlay=o._onCanPlay.bind(o),r.addEventListener("play",o._onPlayStart.bind(o)),r.addEventListener("pause",o._onPlayStop.bind(o)),o.hasLoaded=!1,o.__loaded=!1,o._isSourceReady()?o._onCanPlay():(r.addEventListener("canplay",o._onCanPlay),r.addEventListener("canplaythrough",o._onCanPlay)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(s.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(s.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&s.shared.remove(this.update,this),this.source&&this.source._pixiId&&(i.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,r,n){t._pixiId||(t._pixiId="video_"+(0,o.uid)());var s=o.BaseTextureCache[t._pixiId];return s||(s=new e(t,r,n),i.default.addToCache(s,t._pixiId)),s},e.fromUrl=function(t,r,n,i){var o=document.createElement("video");o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline","");var s=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===n&&0!==s.indexOf("data:")?o.crossOrigin=(0,u.default)(s):n&&(o.crossOrigin="string"==typeof n?n:"anonymous"),Array.isArray(t))for(var a=0;a<t.length;++a)o.appendChild(c(t[a].src||t[a],t[a].mime));else o.appendChild(c(s,t.mime));return o.load(),e.fromVideo(o,r,i)},n(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(s.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(s.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(i.default);function c(t,e){if(!e){var r=t.split("?").shift().toLowerCase();e="video/"+r.substr(r.lastIndexOf(".")+1)}var n=document.createElement("source");return n.src=t,n.type=e,n}e.default=l,l.fromUrls=l.fromUrl},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(45),o=(n=i)&&n.__esModule?n:{default:n};var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,r){var n=e.width,i=e.height;if(r){var s=t.width/2/n,a=t.height/2/i,u=t.x/n+s,h=t.y/i+a;r=o.default.add(r,o.default.NW),this.x0=u+s*o.default.uX(r),this.y0=h+a*o.default.uY(r),r=o.default.add(r,2),this.x1=u+s*o.default.uX(r),this.y1=h+a*o.default.uY(r),r=o.default.add(r,2),this.x2=u+s*o.default.uX(r),this.y2=h+a*o.default.uY(r),r=o.default.add(r,2),this.x3=u+s*o.default.uX(r),this.y3=h+a*o.default.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(2),o=r(4),s=r(0),a=c(r(3)),u=c(r(15)),h=c(r(38)),l=c(r(10));function c(t){return t&&t.__esModule?t:{default:t}}var f=new o.Matrix,d=function(t){function e(r,n,h,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return(0,i.sayHello)(r),"number"==typeof n&&(n=Object.assign({width:n,height:h||a.default.RENDER_OPTIONS.height},l)),n=Object.assign({},a.default.RENDER_OPTIONS,n),c.options=n,c.type=s.RENDERER_TYPE.UNKNOWN,c.screen=new o.Rectangle(0,0,n.width,n.height),c.view=n.view||document.createElement("canvas"),c.resolution=n.resolution||a.default.RESOLUTION,c.transparent=n.transparent,c.autoResize=n.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=n.preserveDrawingBuffer,c.clearBeforeRender=n.clearBeforeRender,c.roundPixels=n.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=n.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new u.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r,n){n=n||t.getLocalBounds();var i=h.default.create(0|n.width,0|n.height,e,r);return f.tx=-n.x,f.ty=-n.y,this.render(t,i,!1,f,!!t.parent),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,i.hex2string)(t),(0,i.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(l.default);e.default=d},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(12)),i=o(r(3));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments[2],s=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,null,o));return a.resolution=s||i.default.RESOLUTION,a.width=Math.ceil(r),a.height=Math.ceil(n),a.realWidth=a.width*a.resolution,a.realHeight=a.height*a.resolution,a.scaleMode=void 0!==o?o:i.default.SCALE_MODE,a.hasLoaded=!0,a._glRenderTargets={},a._canvasRenderTarget=null,a.valid=!1,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(n.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(3),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||s.default.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},i(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();e.default=a},function(t,e,r){"use strict";function n(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}e.__esModule=!0,e.default=function(){if("undefined"==typeof document)return!1;var t=n("#ff00ff"),e=n("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var i=r.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var s=o.data;return 255===s[0]&&0===s[1]&&0===s[2]}},function(t,e,r){"use strict";e.__esModule=!0;var n=s(r(67)),i=r(4),o=(r(7),s(r(69)));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new i.Matrix,o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return r.renderable=!1,o.maskSprite=r,o.maskMatrix=n,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var n=this.maskSprite,i=this.maskSprite.texture;i.valid&&(i.transform||(i.transform=new o.default(i,0)),i.transform.update(),this.uniforms.mask=i,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(i.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=i.transform.uClampFrame,t.applyFilter(this,e,r))},e}(n.default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=u(r(142)),o=r(2),s=r(0),a=u(r(3));function u(t){return t&&t.__esModule?t:{default:t}}var h={},l=function(){function t(e,r,n){for(var u in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=s.BLEND_MODES.NORMAL,this.uniformData=n||(0,i.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[u]=this.uniformData[u].value,this.uniformData[u].type&&(this.uniformData[u].type=this.uniformData[u].type.toLowerCase());this.glShaders={},h[this.vertexSrc+this.fragmentSrc]||(h[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()),this.glShaderKey=h[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=a.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},n(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();e.default=l},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,h=[],l=!1,c=-1;function f(){l&&u&&(l=!1,u.length?h=u.concat(h):c=-1,h.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=h.length;e;){for(u=h,h=[];++c<e;)u&&u[c].run();c=-1,e=h.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new p(t,e)),1!==h.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(28),s=(n=o)&&n.__esModule?n:{default:n};var a=new s.default,u=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._texture=e,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===r?.5:r}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(a.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(a));var o=e.baseTexture,s=this.uClampFrame,u=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+u+h)/o.width,s[1]=(e._frame.y+u+h)/o.height,s[2]=(e._frame.x+e._frame.width-u+h)/o.width,s[3]=(e._frame.y+e._frame.height-u+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,!0},i(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(5)),i=o(r(40));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var o=0;o<4;o++)this.interleaved[4*o]=this.vertices[2*o],this.interleaved[4*o+1]=this.vertices[2*o+1],this.interleaved[4*o+2]=this.uvs[2*o],this.interleaved[4*o+3]=this.uvs[2*o+1];this.indices=(0,i.default)(1),this.vertexBuffer=n.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(e,r)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(2);var s={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},a=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.styleID=0,this.reset(),c(this,e,e)}return t.prototype.clone=function(){var e={};return c(e,this,s),new t(e)},t.prototype.reset=function(){c(this,s,s)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&a.indexOf(n)<0&&(n='"'+n+'"'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},n(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=l(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=l(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=l(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();function h(t){return"number"==typeof t?(0,o.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function l(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=h(t[e]);return t}return h(t)}function c(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e,r,n,i,o,s,a,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=e,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=h}return t.measureText=function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;n=null==n?r.wordWrap:n;var o=r.toFontString(),s=t.measureFont(o),a=i.getContext("2d");a.font=o;for(var u=(n?t.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),h=new Array(u.length),l=0,c=0;c<u.length;c++){var f=a.measureText(u[c]).width+(u[c].length-1)*r.letterSpacing;h[c]=f,l=Math.max(l,f)}var d=l+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var p=r.lineHeight||s.fontSize+r.strokeThickness,v=Math.max(p,s.fontSize+r.strokeThickness)+(u.length-1)*(p+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new t(e,r,d,v,u,h,p+r.leading,l,s)},t.wordWrap=function(e,r){for(var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext("2d"),i=0,o="",s="",a={},u=r.letterSpacing,h=r.whiteSpace,l=t.collapseSpaces(h),c=t.collapseNewlines(h),f=!l,d=r.wordWrapWidth+u,p=t.tokenize(e),v=0;v<p.length;v++){var y=p[v];if(t.isNewline(y)){if(!c){s+=t.addLine(o),f=!l,o="",i=0;continue}y=" "}if(l){var g=t.isBreakingSpace(y),_=t.isBreakingSpace(o[o.length-1]);if(g&&_)continue}var b=t.getFromCache(y,u,a,n);if(b>d)if(""!==o&&(s+=t.addLine(o),o="",i=0),t.canBreakWords(y,r.breakWords))for(var m=y.split(""),T=0;T<m.length;T++){for(var E=m[T],w=1;m[T+w];){var x=m[T+w],S=E[E.length-1];if(t.canBreakChars(S,x,y,T,r.breakWords))break;E+=x,w++}T+=E.length-1;var O=t.getFromCache(E,u,a,n);O+i>d&&(s+=t.addLine(o),f=!1,o="",i=0),o+=E,i+=O}else{o.length>0&&(s+=t.addLine(o),o="",i=0);var P=v===p.length-1;s+=t.addLine(y,!P),f=!1,o="",i=0}else b+i>d&&(f=!1,s+=t.addLine(o),o="",i=0),(o.length>0||!t.isBreakingSpace(y)||f)&&(o+=y,i+=b)}return s+=t.addLine(o,!1)},t.addLine=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=t.trimRight(e),e=r?e+"\n":e},t.getFromCache=function(t,e,r,n){var i=r[t];if(void 0===i){var o=t.length*e;i=n.measureText(t).width+o,r[t]=i}return i},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if("string"!=typeof e)return r;for(var i=0;i<e.length;i++){var o=e[i];t.isBreakingSpace(o)||t.isNewline(o)?(""!==n&&(r.push(n),n=""),r.push(o)):n+=o}return""!==n&&r.push(n),r},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,r,n,i){return!0},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={},n=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(i.measureText(o).width),a=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=2*a;a=a*t.BASELINE_MULTIPLIER|0,n.width=s,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,s,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,a);var h=i.getImageData(0,0,s,u).data,l=h.length,c=4*s,f=0,d=0,p=!1;for(f=0;f<a;++f){for(var v=0;v<c;v+=4)if(255!==h[d+v]){p=!0;break}if(p)break;d+=c}for(r.ascent=a-f,d=l-c,p=!1,f=u;f>a;--f){for(var y=0;y<c;y+=4)if(255!==h[d+y]){p=!0;break}if(p)break;d-=c}return r.descent=f-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e?delete t._fonts[e]:t._fonts={}},t}();e.default=n;var i=document.createElement("canvas");i.width=i.height=10,n._canvas=i,n._context=i.getContext("2d"),n._fonts={},n.METRICS_STRING="|Éq",n.BASELINE_SYMBOL="M",n.BASELINE_MULTIPLIER=1.4,n._newlines=[10,13],n._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e,r,n,i,o,s,a,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lineWidth=e,this.lineAlignment=h,this.nativeLines=a,this.lineColor=r,this.lineAlpha=n,this._lineTint=r,this.fillColor=i,this.fillAlpha=o,this._fillTint=i,this.fill=s,this.holes=[],this.shape=u,this.type=u.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(75),o=h(r(15)),s=r(37),a=h(r(3)),u=r(0);function h(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,r,n,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:r||a.default.RENDER_OPTIONS.height,forceCanvas:!!u,sharedTicker:!!h},n)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,i.autoDetectRenderer)(e),this.stage=new o.default,this._ticker=null,this.ticker=e.sharedTicker?s.shared:new s.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t,e){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},n(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,u.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();e.default=l},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=function(t,e,r,s){var a=t&&t.forceCanvas;void 0!==s&&(a=s);if(!a&&n.isWebGLSupported())return new o.default(t,e,r);return new i.default(t,e,r)};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),i=s(r(16)),o=s(r(23));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,r){"use strict";e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=void 0;var n=r(174);Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return a(n).default}});var i=r(175);Object.defineProperty(e,"TilingSprite",{enumerable:!0,get:function(){return a(i).default}});var o=r(176);Object.defineProperty(e,"TilingSpriteRenderer",{enumerable:!0,get:function(){return a(o).default}});var s=r(177);function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"BitmapText",{enumerable:!0,get:function(){return a(s).default}}),r(178),r(179),r(180)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(79)),s=u(r(80)),a=u(r(81));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var h=(0,o.default)(u,!0),l=(0,s.default)(u),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h,l));return c.resolution=a||i.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,u=(0,a.default)(i);this.vertexSrc=(0,o.default)(u,!0),this.fragmentSrc=(0,s.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var h=t.getRenderTarget(!0),l=e,c=h,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var d=c;c=l,l=d}t.applyFilter(this,l,r,n),t.returnRenderTarget(h)}},n(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=Math.ceil(t/2),i=n,o="",s=void 0;s=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var u=s.replace("%index%",a);u=u.replace("%sampleIndex%",a-(r-1)+".0"),o+=u,o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t)};var n=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=n[t],r=e.length,o=i,s="",a=void 0,u=0;u<t;u++){var h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",u);a=u,u>=r&&(a=t-u-1),h=h.replace("%value%",e[a]),s+=h,s+="\n"}return o=(o=o.replace("%blur%",s)).replace("%size%",t)};var n={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;for(;r>e;)r-=2;return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(79)),s=u(r(80)),a=u(r(81));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var h=(0,o.default)(u,!1),l=(0,s.default)(u),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h,l));return c.resolution=a||i.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,u=(0,a.default)(i);this.vertexSrc=(0,o.default)(u,!1),this.fragmentSrc=(0,s.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var h=t.getRenderTarget(!0),l=e,c=h,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var d=c;c=l,l=d}t.applyFilter(this,l,r,n),t.returnRenderTarget(h)}},n(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},n(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();e.default=i,i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,r){"use strict";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,r){"use strict";e.__esModule=!0,e.parse=s,e.default=function(){return function(t,e){if(t.data&&t.type===i.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var r=t.isDataUrl?"":n.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),(r=r.replace(this.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/");for(var o=t.data.getElementsByTagName("page"),a={},u=function(r){a[r.metadata.pageFile]=r.texture,Object.keys(a).length===o.length&&(s(t,a),e())},h=0;h<o.length;++h){var l=o[h].getAttribute("file"),c=r+l,f=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===c){p.metadata.pageFile=l,p.texture?u(p):p.onAfterMiddleware.add(u),f=!0;break}}if(!f){var v={crossOrigin:t.crossOrigin,loadType:i.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t};this.add(c,v,u)}}}else e();else e()}};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(7)),i=r(19),o=r(77);function s(t,e){t.bitmapFont=o.BitmapText.registerFont(t.data,e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r,n){void 0===r&&(r=!1),i(this,t),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return n(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){i(this,t),this._head=this._tail=void 0}return n(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e,r){"use strict";t.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(t,e,n){e&&(i[r.q.name][e]=n)}),i}},function(t,e,r){"use strict";function n(){}function i(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}e.__esModule=!0,e.eachSeries=function(t,e,r,n){var i=0,o=t.length;!function s(a){a||i===o?r&&r(a):n?setTimeout(function(){e(t[i++],s)},1):e(t[i++],s)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,o={_tasks:[],concurrency:e,saturated:n,unsaturated:n,buffer:e/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function(t,e){s(t,!1,e)},kill:function(){r=0,o.drain=n,o.started=!1,o._tasks=[]},unshift:function(t,e){s(t,!0,e)},process:function(){for(;!o.paused&&r<o.concurrency&&o._tasks.length;){var e=o._tasks.shift();0===o._tasks.length&&o.empty(),(r+=1)===o.concurrency&&o.saturated(),t(e.data,i(a(e)))}},length:function(){return o._tasks.length},running:function(){return r},idle:function(){return o._tasks.length+r===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};function s(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(o.started=!0,null==t&&o.idle())setTimeout(function(){return o.drain()},1);else{var i={data:t,callback:"function"==typeof r?r:n};e?o._tasks.unshift(i):o._tasks.push(i),setTimeout(function(){return o.process()},1)}}function a(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),r<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},function(t,e,r){"use strict";e.__esModule=!0,e.encodeBinary=i;var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],o=[0,0,0,0],s=0;s<i.length;++s)r<t.length?i[s]=255&t.charCodeAt(r++):i[s]=0;switch(o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2],r-(t.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var a=0;a<o.length;++a)e+=n.charAt(o[a])}return e}t.exports.default=i},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){var r=t.name+"_image";if(t.data&&t.type===i.Resource.TYPE.JSON&&t.data.frames&&!this.resources[r]){var n={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=u(t,this.baseUrl);this.add(r,o,n,function(r){if(r.error)e(r.error);else{var n=new a.Spritesheet(r.texture.baseTexture,t.data,t.url);n.parse(function(){t.spritesheet=n,t.textures=n.textures,e()})}})}else e()}},e.getResourcePath=u;var n,i=r(19),o=r(59),s=(n=o)&&n.__esModule?n:{default:n},a=r(1);function u(t,e){return t.isDataUrl?t.data.meta.image:s.default.resolve(t.url.replace(e,""),t.data.meta.image)}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=s.default.fromLoader(t.data,t.url,t.name)),e()}};var n,i=r(19),o=r(9),s=(n=o)&&n.__esModule?n:{default:n}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(20),o=(n=i)&&n.__esModule?n:{default:n};var s=function(t){function e(r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return s._ready=!0,s.verticesX=n||10,s.verticesY=i||10,s.drawMode=o.default.DRAW_MODES.TRIANGLES,s.refresh(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,r=[],n=[],i=[],o=this.verticesX-1,s=this.verticesY-1,a=t.width/o,u=t.height/s,h=0;h<e;h++){var l=h%this.verticesX,c=h/this.verticesX|0;r.push(l*a,c*u),n.push(l/o,c/s)}for(var f=o*s,d=0;d<f;d++){var p=d%o,v=d/o|0,y=v*this.verticesX+p,g=v*this.verticesX+p+1,_=(v+1)*this.verticesX+p,b=(v+1)*this.verticesX+p+1;i.push(y,g,_),i.push(g,b,_)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(n),this.colors=new Float32Array([]),this.indices=new Uint16Array(i),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){o.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(o.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(21);e.arrays=n;var i=r(217);e.Bag=i.default;var o=r(218);e.BSTree=o.default;var s=r(98);e.BSTreeKV=s.default;var a=r(13);e.Dictionary=a.default;var u=r(100);e.Heap=u.default;var h=r(219);e.LinkedDictionary=h.default;var l=r(43);e.LinkedList=l.default;var c=r(220);e.MultiDictionary=c.default;var f=r(101);e.FactoryDictionary=f.default;var d=r(101);e.DefaultDictionary=d.default;var p=r(99);e.Queue=p.default;var v=r(221);e.PriorityQueue=v.default;var y=r(97);e.Set=y.default;var g=r(222);e.Stack=g.default;var _=r(223);e.MultiRootTree=_.default;var b=r(6);e.util=b},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),i=r(21),o=r(13),s=function(){function t(t){this.dictionary=new o.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!n.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var e=this;this.forEach(function(r){return t.contains(r)||e.remove(r),!0})},t.prototype.union=function(t){var e=this;t.forEach(function(t){return e.add(t),!0})},t.prototype.difference=function(t){var e=this;t.forEach(function(t){return e.remove(t),!0})},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach(function(r){return!!t.contains(r)||(e=!1,!1)}),e},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,r){return t(r)})},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return i.toString(this.toArray())},t}();e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),i=r(99),o=function(){function t(t){this.root=null,this.compare=t||n.defaultCompare,this.nElements=0}return t.prototype.add=function(t){return!n.isUndefined(t)&&(null!==this.insertNode(this.createNode(t))&&(this.nElements++,!0))},t.prototype.clear=function(){this.root=null,this.nElements=0},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.size=function(){return this.nElements},t.prototype.contains=function(t){return!n.isUndefined(t)&&null!==this.searchNode(this.root,t)},t.prototype.search=function(t){var e=this.searchNode(this.root,t);if(null!==e)return e.element},t.prototype.remove=function(t){var e=this.searchNode(this.root,t);return null!==e&&(this.removeNode(e),this.nElements--,!0)},t.prototype.inorderTraversal=function(t){this.inorderTraversalAux(this.root,t,{stop:!1})},t.prototype.preorderTraversal=function(t){this.preorderTraversalAux(this.root,t,{stop:!1})},t.prototype.postorderTraversal=function(t){this.postorderTraversalAux(this.root,t,{stop:!1})},t.prototype.levelTraversal=function(t){this.levelTraversalAux(this.root,t)},t.prototype.minimum=function(){if(!this.isEmpty()&&null!==this.root)return this.minimumAux(this.root).element},t.prototype.maximum=function(){if(!this.isEmpty()&&null!==this.root)return this.maximumAux(this.root).element},t.prototype.forEach=function(t){this.inorderTraversal(t)},t.prototype.toArray=function(){var t=[];return this.inorderTraversal(function(e){return t.push(e),!0}),t},t.prototype.height=function(){return this.heightAux(this.root)},t.prototype.searchNode=function(t,e){for(var r=1;null!==t&&0!==r;)(r=this.compare(e,t.element))<0?t=t.leftCh:r>0&&(t=t.rightCh);return t},t.prototype.transplant=function(t,e){null===t.parent?this.root=e:t===t.parent.leftCh?t.parent.leftCh=e:t.parent.rightCh=e,null!==e&&(e.parent=t.parent)},t.prototype.removeNode=function(t){if(null===t.leftCh)this.transplant(t,t.rightCh);else if(null===t.rightCh)this.transplant(t,t.leftCh);else{var e=this.minimumAux(t.rightCh);e.parent!==t&&(this.transplant(e,e.rightCh),e.rightCh=t.rightCh,e.rightCh.parent=e),this.transplant(t,e),e.leftCh=t.leftCh,e.leftCh.parent=e}},t.prototype.inorderTraversalAux=function(t,e,r){null===t||r.stop||(this.inorderTraversalAux(t.leftCh,e,r),r.stop||(r.stop=!1===e(t.element),r.stop||this.inorderTraversalAux(t.rightCh,e,r)))},t.prototype.levelTraversalAux=function(t,e){var r=new i.default;for(null!==t&&r.enqueue(t),t=r.dequeue()||null;null!=t;){if(!1===e(t.element))return;null!==t.leftCh&&r.enqueue(t.leftCh),null!==t.rightCh&&r.enqueue(t.rightCh),t=r.dequeue()||null}},t.prototype.preorderTraversalAux=function(t,e,r){null===t||r.stop||(r.stop=!1===e(t.element),r.stop||(this.preorderTraversalAux(t.leftCh,e,r),r.stop||this.preorderTraversalAux(t.rightCh,e,r)))},t.prototype.postorderTraversalAux=function(t,e,r){null===t||r.stop||(this.postorderTraversalAux(t.leftCh,e,r),r.stop||(this.postorderTraversalAux(t.rightCh,e,r),r.stop||(r.stop=!1===e(t.element))))},t.prototype.minimumAux=function(t){for(;null!=t&&null!==t.leftCh;)t=t.leftCh;return t},t.prototype.maximumAux=function(t){for(;null!=t&&null!==t.rightCh;)t=t.rightCh;return t},t.prototype.heightAux=function(t){return null===t?-1:Math.max(this.heightAux(t.leftCh),this.heightAux(t.rightCh))+1},t.prototype.insertNode=function(t){for(var e=null,r=this.root;null!==r;){var n=this.compare(t.element,r.element);if(0===n)return null;n<0?(e=r,r=r.leftCh):(e=r,r=r.rightCh)}return t.parent=e,null===e?this.root=t:this.compare(t.element,e.element)<0?e.leftCh=t:e.rightCh=t,t},t.prototype.createNode=function(t){return{element:t,leftCh:null,rightCh:null,parent:null}},t}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(43),i=function(){function t(){this.list=new n.default}return t.prototype.enqueue=function(t){return this.list.add(t)},t.prototype.add=function(t){return this.list.add(t)},t.prototype.dequeue=function(){if(0!==this.list.size()){var t=this.list.first();return this.list.removeElementAtIndex(0),t}},t.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.size()<=0},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),i=r(21),o=function(){function t(t){this.data=[],this.compare=t||n.defaultCompare}return t.prototype.leftChildIndex=function(t){return 2*t+1},t.prototype.rightChildIndex=function(t){return 2*t+2},t.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},t.prototype.minIndex=function(t,e){return e>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[e])<=0?t:e},t.prototype.siftUp=function(t){for(var e=this.parentIndex(t);t>0&&this.compare(this.data[e],this.data[t])>0;)i.swap(this.data,e,t),t=e,e=this.parentIndex(t)},t.prototype.siftDown=function(t){for(var e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));e>=0&&this.compare(this.data[t],this.data[e])>0;)i.swap(this.data,e,t),t=e,e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t))},t.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},t.prototype.add=function(t){return!n.isUndefined(t)&&(this.data.push(t),this.siftUp(this.data.length-1),!0)},t.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},t.prototype.contains=function(t){var e=n.compareToEquals(this.compare);return i.contains(this.data,t,e)},t.prototype.size=function(){return this.data.length},t.prototype.isEmpty=function(){return this.data.length<=0},t.prototype.clear=function(){this.data.length=0},t.prototype.forEach=function(t){i.forEach(this.data,t)},t}();e.default=o},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(13),s=r(6),a=function(t){function e(e,r){var n=t.call(this,r)||this;return n.defaultFactoryFunction=e,n}return i(e,t),e.prototype.setDefault=function(e,r){var n=t.prototype.getValue.call(this,e);return s.isUndefined(n)?(this.setValue(e,r),r):n},e.prototype.getValue=function(t){return this.setDefault(t,this.defaultFactoryFunction())},e}(o.default);e.default=a},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var r=t.call(this)||this;return r.fullName=e,r.name=e.toString(),r}return i(e,t),e}(r(8).Container);e.ContainerActor=o},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),s=function(t){function e(e){var r=this,n=new o.TextStyle({fontFamily:"Arial",fontSize:16,fill:["#efeeac","#d6d30e"],stroke:"#333333",strokeThickness:1});return(r=t.call(this,"",n)||this).anchor.set(.5,0),r.x=0,r.y=e.birdSprite.height/2+10,e.addChild(r),r}return i(e,t),e.prototype.renderScore=function(t){var e=t.score,r=t.pipeCount,n=t.death;this.text="S: "+Math.round(e)+"\nP: "+r+" L: "+n},e}(o.Text);e.AttachedScoreLabel=s;var a=function(t){function e(e){var r=t.call(this)||this;return r.x=0,r.y=0,r.leftLabel=new o.Text("",new o.TextStyle({fontFamily:"Arial",fontSize:16,fill:["#efeeac","#d6d30e"],stroke:"#333333",strokeThickness:1})),r.leftLabel.anchor.set(0,0),r.leftLabel.x=5,r.leftLabel.y=5,r.addChild(r.leftLabel),r.rightLabel=new o.Text("",new o.TextStyle({fontFamily:"Arial",fontSize:16,fill:["#bcfff9","#0acebc"],stroke:"#333333",strokeThickness:1})),r.rightLabel.anchor.set(1,0),r.rightLabel.x=e.screen.width-5,r.rightLabel.y=5,r.addChild(r.rightLabel),r}return i(e,t),e.prototype.renderScore=function(t){var e=t.name,r=t.score,n=t.pipeCount,i=t.distance,o=t.death,s=t.bestScore,a=t.bestDistance,u=t.bestPipeCount;this.leftLabel.text=["    "+e+" ["+o+" gen]","        Score: "+Math.round(r),"         Pipe: "+n,"     Distance: "+Math.round(i)].join("\n"),this.rightLabel.text=["   Best Score: "+Math.round(s),"    Best Pipe: "+u,"Best Distance: "+Math.round(a)].join("\n")},e}(o.Container);e.FixedScoreLabel=a},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),r(105);var i=new(r(8).Application)({width:800,height:600}),o=i.loader;document.body.appendChild(i.view);var s=n(r(208)),a=n(r(209)),u=n(r(210));o.add({name:"bird",url:s.default}).add({name:"topPipe",url:a.default}).add({name:"bottomPipe",url:u.default}),new(n(r(211)).default),new(n(r(212)).default)(i).run()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(106)},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0}),n(r(8)).Rectangle.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top}},function(t,e,r){"use strict";r(108),r(110),r(111),r(112),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e,r){"use strict";var n,i=r(109),o=(n=i)&&n.__esModule?n:{default:n};Object.assign||(Object.assign=o.default)},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,a=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var h in r=Object(arguments[u]))i.call(r,h)&&(a[h]=r[h]);if(n){s=n(r);for(var l=0;l<s.length;l++)o.call(r,s[l])&&(a[s[l]]=r[s[l]])}}return a}},function(t,e,r){"use strict";(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i){var o=n[i];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+r-e;return n<0&&(n=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},n)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,r(26))},function(t,e,r){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},function(t,e,r){"use strict";Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t})},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(29),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.radius=n,this.type=s.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return(n*=n)+(i*=i)<=r},t.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(29),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=n,this.height=i,this.type=s.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return(r*=r)+(n*=n)<=1},t.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(27),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof o.default){for(var i=[],a=0,u=r.length;a<u;a++)i.push(r[a].x,r[a].y);r=i}this.closed=!0,this.points=r,this.type=s.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],h=this.points[2*o+1];a>e!=h>e&&t<(e-a)/(h-a)*(u-s)+s&&(r=!r)}return r},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=r(0);var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=i,this.height=o,this.radius=s,this.type=n.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(r*r+(n=e-(this.y+this.height-this.radius))*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1},t}();e.default=i},function(t,e){t.exports=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}},function(t,e){var r=new ArrayBuffer(0),n=function(t,e,n,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=r,n&&this.upload(n),this._updateID=0};n.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},n.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},n.createVertexBuffer=function(t,e,r){return new n(t,t.ARRAY_BUFFER,e,r)},n.createIndexBuffer=function(t,e,r){return new n(t,t.ELEMENT_ARRAY_BUFFER,e,r)},n.create=function(t,e,r,i){return new n(t,e,r,i)},n.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=n},function(t,e,r){var n=r(47),i=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,r,o){var s=n.fromData(t,null,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},i.createFloat32=function(t,e,r,o){var s=new n.fromData(t,o,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},t.exports=i},function(t,e,r){var n=r(48),i=r(49),o=r(51),s=r(53),a=r(54),u=function(t,e,r,u,h){this.gl=t,u&&(e=s(e,u),r=s(r,u)),this.program=n(t,e,r,h),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=a(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=u},function(t,e,r){var n=r(46);function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,t.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var i=this.attributes[r];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return n(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,r,n,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r,e||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,r){t.exports={compileProgram:r(48),defaultValue:r(52),extractAttributes:r(49),extractUniforms:r(51),generateUniformAccessObject:r(54),setPrecision:r(53),mapSize:r(50),mapType:r(30)}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){if(o.default.tablet||o.default.phone)return 4;return t};var n,i=r(32),o=(n=i)&&n.__esModule?n:{default:n}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(t,e,r){"use strict";e.__esModule=!0,e.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},function(t,e,r){"use strict";function n(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}e.__esModule=!0,e.mixin=n,e.delayMixin=function(t,e){i.push(t,e)},e.performMixins=function(){for(var t=0;t<i.length;t+=2)n(i[t],i[t+1]);i.length=0};var i=[]},function(t,e,r){"use strict";t.exports=function(t,e,r){var n,i=t.length;if(!(e>=i||0===r)){var o=i-(r=e+r>i?i-e:r);for(n=e;n<o;++n)t[n]=t[n+r];t.length=o}}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,t[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,t[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,e[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,e[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,e[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i};var n=r(0)},function(t,e,r){(function(t,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,h=36,l=1,c=26,f=38,d=700,p=72,v=128,y="-",g=/^xn--/,_=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=h-l,E=Math.floor,w=String.fromCharCode;function x(t){throw new RangeError(m[t])}function S(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function O(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+S((t=t.replace(b,".")).split("."),e).join(".")}function P(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function M(t){return S(t,function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)}).join("")}function A(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function C(t,e,r){var n=0;for(t=r?E(t/d):t>>1,t+=E(t/e);t>T*c>>1;n+=h)t=E(t/T);return E(n+(T+1)*t/(t+f))}function I(t){var e,r,n,i,o,s,a,f,d,g,_,b=[],m=t.length,T=0,w=v,S=p;for((r=t.lastIndexOf(y))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&x("not-basic"),b.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(o=T,s=1,a=h;i>=m&&x("invalid-input"),((f=(_=t.charCodeAt(i++))-48<10?_-22:_-65<26?_-65:_-97<26?_-97:h)>=h||f>E((u-T)/s))&&x("overflow"),T+=f*s,!(f<(d=a<=S?l:a>=S+c?c:a-S));a+=h)s>E(u/(g=h-d))&&x("overflow"),s*=g;S=C(T-o,e=b.length+1,0==o),E(T/e)>u-w&&x("overflow"),w+=E(T/e),T%=e,b.splice(T++,0,w)}return M(b)}function D(t){var e,r,n,i,o,s,a,f,d,g,_,b,m,T,S,O=[];for(b=(t=P(t)).length,e=v,r=0,o=p,s=0;s<b;++s)(_=t[s])<128&&O.push(w(_));for(n=i=O.length,i&&O.push(y);n<b;){for(a=u,s=0;s<b;++s)(_=t[s])>=e&&_<a&&(a=_);for(a-e>E((u-r)/(m=n+1))&&x("overflow"),r+=(a-e)*m,e=a,s=0;s<b;++s)if((_=t[s])<e&&++r>u&&x("overflow"),_==e){for(f=r,d=h;!(f<(g=d<=o?l:d>=o+c?c:d-o));d+=h)S=f-g,T=h-g,O.push(w(A(g+S%T,0))),f=E(S/T);O.push(w(A(f,0))),o=C(r,m,n==i),r=0,++n}++r,++e}return O.join("")}a={version:"1.4.1",ucs2:{decode:P,encode:M},decode:I,encode:D,toASCII:function(t){return O(t,function(t){return _.test(t)?"xn--"+D(t):t})},toUnicode:function(t){return O(t,function(t){return g.test(t)?I(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return a}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(130)(t),r(26))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(133),e.encode=e.stringify=r(134)},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var l=0;l<h;++l){var c,f,d,p,v=t[l].replace(a,"%20"),y=v.indexOf(r);y>=0?(c=v.substr(0,y),f=v.substr(y+1)):(c=v,f=""),d=decodeURIComponent(c),p=decodeURIComponent(f),n(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),function(s){var a=encodeURIComponent(n(s))+r;return i(t[s])?o(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=a(r(3)),o=r(0),s=a(r(136));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._head=new s.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,r))},t.prototype.addOnce=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*i.default.TARGET_FPMS*this.speed;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},n(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,i.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fn=e,this.context=r,this.priority=n,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=a(r(16)),i=r(0),o=r(4),s=a(r(39));function a(t){return t&&t.__esModule?t:{default:t}}var u=new o.Matrix,h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,n=e._frame.width,a=e._frame.height,h=t.transform.worldTransform,l=0,c=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(r.setBlendMode(t.blendMode),e.valid)){r.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===i.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==f&&(r.context[r.smoothProperty]=f),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(h.copy(u),h=u,o.GroupD8.matrixAppendRotationInv(h,e.rotate,l,c),l=0,c=0),l-=n/2,c-=a/2,r.roundPixels?(r.context.setTransform(h.a,h.b,h.c,h.d,h.tx*r.resolution|0,h.ty*r.resolution|0),l|=0,c|=0):r.context.setTransform(h.a,h.b,h.c,h.d,h.tx*r.resolution,h.ty*r.resolution);var d=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=s.default.getTintedTexture(t,t.tint)),r.context.drawImage(t.tintedTexture,0,0,n*d,a*d,l*r.resolution,c*r.resolution,n*r.resolution,a*r.resolution)):r.context.drawImage(e.baseTexture.source,e._frame.x*d,e._frame.y*d,n*d,a*d,l*r.resolution,c*r.resolution,n*r.resolution,a*r.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=h,n.default.registerPlugin("sprite",h)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(0);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var r=t.alpha,n=t.transform.worldTransform,i=e.resolution;e.context.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var i=0;i<r;i++){var o=t.graphicsData[i],s=o.shape;if(o.type===n.SHAPES.POLY){var a=s.points,u=o.holes,h=void 0,l=void 0;e.moveTo(a[0],a[1]);for(var c=2;c<a.length;c+=2)e.lineTo(a[c],a[c+1]);if(a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath(),u.length>0){h=0;for(var f=0;f<a.length;f+=2)h+=a[f]*a[f+3]-a[f+1]*a[f+2];for(var d=0;d<u.length;d++){a=u[d].points,l=0;for(var p=0;p<a.length;p+=2)l+=a[p]*a[p+3]-a[p+1]*a[p+2];if(e.moveTo(a[0],a[1]),l*h<0)for(var v=2;v<a.length;v+=2)e.lineTo(a[v],a[v+1]);else for(var y=a.length-2;y>=2;y-=2)e.lineTo(a[y],a[y+1])}}}else if(o.type===n.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===n.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===n.SHAPES.ELIP){var g=2*s.width,_=2*s.height,b=s.x-g/2,m=s.y-_/2,T=g/2*.5522848,E=_/2*.5522848,w=b+g,x=m+_,S=b+g/2,O=m+_/2;e.moveTo(b,O),e.bezierCurveTo(b,O-E,S-T,m,S,m),e.bezierCurveTo(S+T,m,w,O-E,w,O),e.bezierCurveTo(w,O+E,S+T,x,S,x),e.bezierCurveTo(S-T,x,b,O+E,b,O),e.closePath()}else if(o.type===n.SHAPES.RREC){var P=s.x,M=s.y,A=s.width,C=s.height,I=s.radius,D=Math.min(A,C)/2|0;I=I>D?D:I,e.moveTo(P,M+I),e.lineTo(P,M+C-I),e.quadraticCurveTo(P,M+C,P+I,M+C),e.lineTo(P+A-I,M+C),e.quadraticCurveTo(P+A,M+C,P+A,M+C-I),e.lineTo(P+A,M+I),e.quadraticCurveTo(P+A,M,P+A-I,M),e.lineTo(P+I,M),e.quadraticCurveTo(P,M,P,M+I),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,s.default)()?(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="multiply",t[i.BLEND_MODES.SCREEN]="screen",t[i.BLEND_MODES.OVERLAY]="overlay",t[i.BLEND_MODES.DARKEN]="darken",t[i.BLEND_MODES.LIGHTEN]="lighten",t[i.BLEND_MODES.COLOR_DODGE]="color-dodge",t[i.BLEND_MODES.COLOR_BURN]="color-burn",t[i.BLEND_MODES.HARD_LIGHT]="hard-light",t[i.BLEND_MODES.SOFT_LIGHT]="soft-light",t[i.BLEND_MODES.DIFFERENCE]="difference",t[i.BLEND_MODES.EXCLUSION]="exclusion",t[i.BLEND_MODES.HUE]="hue",t[i.BLEND_MODES.SATURATION]="saturate",t[i.BLEND_MODES.COLOR]="color",t[i.BLEND_MODES.LUMINOSITY]="luminosity"):(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="source-over",t[i.BLEND_MODES.SCREEN]="source-over",t[i.BLEND_MODES.OVERLAY]="source-over",t[i.BLEND_MODES.DARKEN]="source-over",t[i.BLEND_MODES.LIGHTEN]="source-over",t[i.BLEND_MODES.COLOR_DODGE]="source-over",t[i.BLEND_MODES.COLOR_BURN]="source-over",t[i.BLEND_MODES.HARD_LIGHT]="source-over",t[i.BLEND_MODES.SOFT_LIGHT]="source-over",t[i.BLEND_MODES.DIFFERENCE]="source-over",t[i.BLEND_MODES.EXCLUSION]="source-over",t[i.BLEND_MODES.HUE]="source-over",t[i.BLEND_MODES.SATURATION]="source-over",t[i.BLEND_MODES.COLOR]="source-over",t[i.BLEND_MODES.LUMINOSITY]="source-over");return t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t};var n,i=r(0),o=r(65),s=(n=o)&&n.__esModule?n:{default:n}},function(t,e,r){"use strict";e.__esModule=!0;var n=d(r(22)),i=d(r(23)),o=d(r(40)),s=d(r(152)),a=d(r(153)),u=d(r(154)),h=d(r(3)),l=r(2),c=d(r(5)),f=d(r(36));function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=0,y=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=h.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var i=1;i<=f.default.nextPow2(n.size);i*=2)n.buffers.push(new u.default(4*i*n.vertByteSize));n.indices=(0,o.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var s=0;s<n.size;s++)n.groups[s]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on("prerender",n.onPrerender,n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,a.default)(this.MAX_TEXTURES,t)),this.shader=(0,s.default)(t,this.MAX_TEXTURES),this.indexBuffer=c.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(n,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(n,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,r=f.default.nextPow2(this.currentIndex),n=f.default.log2(r),i=this.buffers[n],o=this.sprites,s=this.groups,a=i.float32View,u=i.uint32View,d=this.boundTextures,y=this.renderer.boundTextures,g=this.renderer.textureGC.count,_=0,b=void 0,m=void 0,T=1,E=0,w=s[0],x=void 0,S=void 0,O=l.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];w.textureCount=0,w.start=0,w.blend=O,p++;var P=void 0;for(P=0;P<e;++P){var M=y[P];M._enabled!==p?(d[P]=M,M._virtalBoundId=P,M._enabled=p):d[P]=this.renderer.emptyTextures[P]}for(p++,P=0;P<this.currentIndex;++P){var A=o[P];o[P]=null,b=A._texture.baseTexture;var C=l.premultiplyBlendMode[Number(b.premultipliedAlpha)][A.blendMode];if(O!==C&&(O=C,m=null,E=e,p++),m!==b&&(m=b,b._enabled!==p)){if(E===e&&(p++,w.size=P-w.start,E=0,(w=s[T++]).blend=O,w.textureCount=0,w.start=P),b.touched=g,-1===b._virtalBoundId)for(var I=0;I<e;++I){var D=(I+v)%e,R=d[D];if(R._enabled!==p){v++,R._virtalBoundId=-1,b._virtalBoundId=D,d[D]=b;break}}b._enabled=p,w.textureCount++,w.ids[E]=b._virtalBoundId,w.textures[E++]=b}if(x=A.vertexData,S=A._texture._uvs.uvsUint32,this.renderer.roundPixels){var L=this.renderer.resolution;a[_]=(x[0]*L|0)/L,a[_+1]=(x[1]*L|0)/L,a[_+5]=(x[2]*L|0)/L,a[_+6]=(x[3]*L|0)/L,a[_+10]=(x[4]*L|0)/L,a[_+11]=(x[5]*L|0)/L,a[_+15]=(x[6]*L|0)/L,a[_+16]=(x[7]*L|0)/L}else a[_]=x[0],a[_+1]=x[1],a[_+5]=x[2],a[_+6]=x[3],a[_+10]=x[4],a[_+11]=x[5],a[_+15]=x[6],a[_+16]=x[7];u[_+2]=S[0],u[_+7]=S[1],u[_+12]=S[2],u[_+17]=S[3];var N=Math.min(A.worldAlpha,1),k=N<1&&b.premultipliedAlpha?(0,l.premultiplyTint)(A._tintRGB,N):A._tintRGB+(255*N<<24);u[_+3]=u[_+8]=u[_+13]=u[_+18]=k,a[_+4]=a[_+9]=a[_+14]=a[_+19]=b._virtalBoundId,_+=20}if(w.size=P-w.start,h.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var B=this.shader.attributes,F=this.vertexBuffers[this.vertexCount]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),U=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(F,B.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(F,B.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(F,B.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);B.aTextureId&&U.addAttribute(F,B.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=U}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(P=0;P<e;++P)y[P]._virtalBoundId=-1;for(P=0;P<T;++P){for(var j=s[P],H=j.textureCount,G=0;G<H;G++)m=j.textures[G],y[j.ids[G]]!==m&&this.renderer.bindTexture(m,j.ids[G],!0),m._virtalBoundId=-1;this.renderer.state.setBlendMode(j.blend),t.drawElements(t.TRIANGLES,6*j.size,t.UNSIGNED_SHORT,6*j.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),h.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},e}(n.default);e.default=y,i.default.registerPlugin("sprite",y)},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(17)),i=o(r(66));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a);(n=Math.round(n*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new i.default(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(n.x*i,(r.root?r.size.height-n.y-n.height:n.y)*i,n.width*i,n.height*i),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(n.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=s(t),i=s(e);return Object.assign(n,i)};var n,i=r(5);var o=((n=i)&&n.__esModule?n:{default:n}).default.shader.defaultValue;function s(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},n=void 0,i=t.replace(/\s+/g," ").split(/\s*;\s*/),s=0;s<i.length;s++){var a=i[s].trim();if(a.indexOf("uniform")>-1){var u=a.split(" "),h=u[1],l=u[2],c=1;l.indexOf("[")>-1&&(n=l.split(/\[|]/),l=n[0],c*=Number(n[1])),l.match(e)||(r[l]={value:o(h,c),name:l,type:h})}}return r}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(17),o=(n=i)&&n.__esModule?n:{default:n};var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.stencilMaskStack=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){o.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(o.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=l(r(17)),i=l(r(24)),o=l(r(70)),s=r(4),a=l(r(18)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(145)),h=l(r(36));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=function(){function t(){c(this,t),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new s.Rectangle,this.destinationFrame=new s.Rectangle,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),d=function(t){function e(r){c(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.gl=n.renderer.gl,n.quad=new o.default(n.gl,r.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n.managedFilters=[],n.renderer.on("prerender",n.onPrerender,n),n._screenWidth=r.view.width,n._screenHeight=r.view.height,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushFilter=function(t,e){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var i=new f;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var o=n.stack[++n.index],s=n.stack[0].destinationFrame;o||(o=n.stack[n.index]=new f);var a=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===r.screen.width&&t.filterArea.height===r.screen.height,u=e[0].resolution,h=0|e[0].padding,l=a?r.screen:t.filterArea||t.getBounds(!0),c=o.sourceFrame,d=o.destinationFrame;c.x=(l.x*u|0)/u,c.y=(l.y*u|0)/u,c.width=(l.width*u|0)/u,c.height=(l.height*u|0)/u,a||(n.stack[0].renderTarget.transform||e[0].autoFit&&c.fit(s),c.pad(h)),d.width=c.width,d.height=c.height;var p=this.getPotRenderTarget(r.gl,c.width,c.height,u);o.target=t,o.filters=e,o.resolution=u,o.renderTarget=p,p.setFrame(d,c),r.bindRenderTarget(p),p.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var s=0;for(s=0;s<n.length-1;++s){n[s].apply(this,i,o,!0,r);var a=i;i=o,o=a}n[s].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}r.clear(),t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,r,n){var i=this.renderer,o=i.gl,s=t.glShaders[i.CONTEXT_UID];s||(t.glShaderKey?(s=this.shaderCache[t.glShaderKey])||(s=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=s,this.managedFilters.push(t)):(s=t.glShaders[i.CONTEXT_UID]=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(s)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(s);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u,this.syncUniforms(s,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var r=e.uniformData,n=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=t.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,t.uniforms.filterArea=s}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,a[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=a}for(var u in r)if(t.uniforms.data[u]){var h=r[u].type;if("sampler2d"===h&&0!==n[u]){if(n[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(n[u].baseTexture,i);else{t.uniforms[u]=i;var l=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],l.activeTexture(l.TEXTURE0+i),n[u].texture.bind()}i++}else if("mat3"===h)void 0!==n[u].a?t.uniforms[u]=n[u].toArray(!0):t.uniforms[u]=n[u];else if("vec2"===h)if(void 0!==n[u].x){var c=t.uniforms[u]||new Float32Array(2);c[0]=n[u].x,c[1]=n[u].y,t.uniforms[u]=c}else t.uniforms[u]=n[u];else"float"===h?t.uniforms.data[u].value!==r[u]&&(t.uniforms[u]=n[u]):t.uniforms[u]=n[u]}},e.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return u.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)},e.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.renderer,r=this.managedFilters;e.off("prerender",this.onPrerender,this);for(var n=0;n<r.length;n++)t||r[n].glShaders[e.CONTEXT_UID].destroy(),delete r[n].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,r,n){var o="screen";r*=n,(e*=n)===this._screenWidth&&r===this._screenHeight||(o=(65535&(e=h.default.nextPow2(e)))<<16|65535&(r=h.default.nextPow2(r))),this.pool[o]||(this.pool[o]=[]);var s=this.pool[o].pop();if(!s){var a=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),s=new i.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return s.resolution=n,s.defaultFrame.width=s.size.width=e/n,s.defaultFrame.height=s.size.height=r/n,s.filterPoolKey=o,s},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},e.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},e}(n.default);e.default=d},function(t,e,r){"use strict";e.__esModule=!0,e.calculateScreenSpaceMatrix=function(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n},e.calculateNormalizedScreenSpaceMatrix=function(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n},e.calculateSpriteMatrix=function(t,e,r,i){var o=i._texture.orig,s=t.set(r.width,0,0,r.height,e.x,e.y),a=i.worldTransform.copy(n.Matrix.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(i.anchor.x,i.anchor.y),s};var n=r(4)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(5),o=r(0),s=r(24),a=(n=s)&&n.__esModule?n:{default:n},u=r(2);var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var r=this.gl,n=!!t._glRenderTargets;if(!t.hasLoaded)return null;var s=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<s.length;++u)if(s[u]===t){e=u;break}}s[e]=t,r.activeTexture(r.TEXTURE0+e);var h=t._glTextures[this.renderer.CONTEXT_UID];if(h)n?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):h.upload(t.source);else{if(n){var l=new a.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);l.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=l,h=l.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else(h=new i.GLTexture(this.gl,null,null,null,null)).bind(e),h.premultiplyAlpha=!0,h.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=h,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&h.enableMipmap(),t.wrapMode===o.WRAP_MODES.CLAMP?h.enableWrapClamp():t.wrapMode===o.WRAP_MODES.REPEAT?h.enableWrapRepeat():h.enableWrapMirrorRepeat()):h.enableWrapClamp(),t.scaleMode===o.SCALE_MODES.NEAREST?h.enableNearestScaling():h.enableLinearScaling()}return h},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var r=this.renderer,n=r.CONTEXT_UID,i=t._glTextures,o=t._glRenderTargets;if(i[n]&&(r.unbindTexture(t),i[n].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete i[n],!e)){var s=this._managedTextures.indexOf(t);-1!==s&&(0,u.removeItems)(this._managedTextures,s,1)}o&&o[n]&&(r._activeRenderTarget===o[n]&&r.bindRenderTarget(r.rootRenderTarget),o[n].destroy(),delete o[n])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(0),o=r(3),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=s.default.GC_MAX_IDLE,this.checkCountMax=s.default.GC_MAX_CHECK_COUNT,this.mode=s.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(149),o=(n=i)&&n.__esModule?n:{default:n};var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,o.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[n.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[n.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[n.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[n.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e};var n=r(0)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[n.DRAW_MODES.POINTS]=t.POINTS,e[n.DRAW_MODES.LINES]=t.LINES,e[n.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[n.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[n.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[n.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[n.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var n=r(0)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=s;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var n=new o.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",r),i=[],a=0;a<e;a++)i[a]=a;return n.bind(),n.uniforms.uSamplers=i,n};var n,i=r(18),o=(n=i)&&n.__esModule?n:{default:n};r(7);var s=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var n=document.createElement("canvas");n.width=1,n.height=1,e=o.default.createContext(n)}var i=e.createShader(e.FRAGMENT_SHADER);for(;;){var u=s.replace(/%forloop%/gi,a(t));if(e.shaderSource(i,u),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext();return t};var n,i=r(5),o=(n=i)&&n.__esModule?n:{default:n};var s=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function a(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=d(r(35)),o=d(r(9)),s=r(4),a=r(2),u=r(0),h=d(r(3)),l=d(r(71)),c=d(r(72)),f=d(r(156));function d(t){return t&&t.__esModule?t:{default:t}}var p={texture:!0,children:!1,baseTexture:!0},v=function(t){function e(r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=i||document.createElement("canvas")).width=3,i.height=3;var a=o.default.fromCanvas(i,h.default.SCALE_MODE,"text");a.orig=new s.Rectangle,a.trim=new s.Rectangle;var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,a));return o.default.addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=i,u.context=u.canvas.getContext("2d"),u.resolution=h.default.RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=r,u.style=n,u.localStyleID=-1,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r=this.context,n=c.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=n.width,o=n.height,s=n.lines,a=n.lineHeight,u=n.lineWidths,h=n.maxLineWidth,l=n.fontProperties;this.canvas.width=Math.ceil((Math.max(1,i)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this.resolution),r.scale(this.resolution,this.resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.strokeStyle=e.stroke,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;var f=void 0,d=void 0;if(e.dropShadow){r.fillStyle=e.dropShadowColor,r.globalAlpha=e.dropShadowAlpha,r.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(r.shadowColor=e.dropShadowColor);for(var p=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,v=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,y=0;y<s.length;y++)f=e.strokeThickness/2,d=e.strokeThickness/2+y*a+l.ascent,"right"===e.align?f+=h-u[y]:"center"===e.align&&(f+=(h-u[y])/2),e.fill&&(this.drawLetterSpacing(s[y],f+p+e.padding,d+v+e.padding),e.stroke&&e.strokeThickness&&(r.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(s[y],f+p+e.padding,d+v+e.padding,!0),r.strokeStyle=e.stroke))}r.shadowBlur=0,r.globalAlpha=1,r.fillStyle=this._generateFillStyle(e,s);for(var g=0;g<s.length;g++)f=e.strokeThickness/2,d=e.strokeThickness/2+g*a+l.ascent,"right"===e.align?f+=h-u[g]:"center"===e.align&&(f+=(h-u[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(s[g],f+e.padding,d+e.padding,!0),e.fill&&this.drawLetterSpacing(s[g],f+e.padding,d+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing;if(0!==i)for(var o=String.prototype.split.call(t,""),s=e,a=0,u="";a<t.length;)u=o[a++],n?this.context.strokeText(u,s,r):this.context.fillText(u,s,r),s+=this.context.measureText(u).width+i;else n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,f.default)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,n=this._style,i=n.trim?0:n.padding,o=r.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,r.trim.width=r._frame.width=t.width/this.resolution,r.trim.height=r._frame.height=t.height/this.resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var r=void 0,n=void 0,i=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,h=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=h.length+1,f=1;f<c;++f)l.push(f/c);if(h.unshift(t.fill[0]),l.unshift(0),h.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===u.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,a),n=(h.length+1)*e.length,i=0;for(var d=0;d<e.length;d++){i+=1;for(var p=0;p<h.length;p++)o="number"==typeof l[p]?l[p]/e.length+d/e.length:i/n,r.addColorStop(o,h[p]),i++}}else{r=this.context.createLinearGradient(0,a/2,s,a/2),n=h.length+1,i=1;for(var v=0;v<h.length;v++)o="number"==typeof l[v]?l[v]:i/n,r.addColorStop(o,h[v]),i++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},p,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},n(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,a.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,a.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof l.default?this._style=t:this._style=new l.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null==t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(i.default);e.default=v},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r).data,o=i.length,s={top:null,left:null,right:null,bottom:null},a=null,u=void 0,h=void 0,l=void 0;for(u=0;u<o;u+=4)0!==i[u+3]&&(h=u/4%e,l=~~(u/4/e),null===s.top&&(s.top=l),null===s.left?s.left=h:h<s.left&&(s.left=h),null===s.right?s.right=h+1:s.right<h&&(s.right=h+1),null===s.bottom?s.bottom=l:s.bottom<l&&(s.bottom=l));null!==s.top&&(e=s.right-s.left,r=s.bottom-s.top+1,a=n.getImageData(s.left,s.top,e,r));return{height:r,width:e,data:a}}},function(t,e,r){"use strict";e.__esModule=!0;var n=p(r(15)),i=p(r(38)),o=p(r(9)),s=p(r(73)),a=p(r(35)),u=r(4),h=r(2),l=r(0),c=p(r(31)),f=p(r(158)),d=p(r(16));function p(t){return t&&t.__esModule?t:{default:t}}var v=void 0,y=new u.Matrix,g=new u.Point,_=new Float32Array(4),b=new Float32Array(4),m=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.lineAlignment=.5,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=l.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new c.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n._prevRectTint=null,n._prevRectFillColor=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype._quadraticCurveLength=function(t,e,r,n,i,o){var s=t-(2*r+i),a=e-(2*n+o),u=(r-2)*t*2,h=(n-2)*e*2,l=4*(s*s+a*a),c=4*(s*u+a*h),f=u*u+h*h,d=2*Math.sqrt(l+c+f),p=Math.sqrt(l),v=2*l*p,y=2*Math.sqrt(f),g=c/p;return(v*d+p*c*(d-y)+(4*f*l-c*c)*Math.log((2*p+g+d)/(g+y)))/(4*v)},e.prototype._bezierCurveLength=function(t,e,r,n,i,o,s,a){for(var u=0,h=0,l=0,c=0,f=0,d=0,p=0,v=0,y=0,g=0,_=0,b=t,m=e,T=1;T<=10;++T)g=b-(v=(p=(d=(f=1-(h=T/10))*f)*f)*t+3*d*h*r+3*f*(l=h*h)*i+(c=l*h)*s),_=m-(y=p*e+3*d*h*n+3*f*l*o+c*a),b=v,m=y,u+=Math.sqrt(g*g+_*_);return u},e.prototype._segmentsCount=function(t){var r=Math.ceil(t/e.CURVES.maxLength);return r<e.CURVES.minSegments?r=e.CURVES.minSegments:r>e.CURVES.maxSegments&&(r=e.CURVES.maxSegments),r},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this.lineAlignment=n,this.currentPath)if(this.currentPath.shape.points.length){var i=new u.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},e.prototype.moveTo=function(t,e){var r=new u.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},e.prototype.lineTo=function(t,e){var r=this.currentPath.shape.points,n=r[r.length-2],i=r[r.length-1];return n===t&&i===e||(r.push(t,e),this.dirty++),this},e.prototype.quadraticCurveTo=function(t,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,s=0,a=0;0===o.length&&this.moveTo(0,0);for(var u=o[o.length-2],h=o[o.length-1],l=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(u,h,t,r,n,i)):20,c=1;c<=l;++c){var f=c/l;s=u+(t-u)*f,a=h+(r-h)*f,o.push(s+(t+(n-t)*f-s)*f,a+(r+(i-r)*f-a)*f)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,r,n,i,o,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,u=a[a.length-2],h=a[a.length-1];a.length-=2;var l=e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(u,h,t,r,n,i,o,s)):20;return(0,f.default)(u,h,t,r,n,i,o,s,l,a),this.dirty++,this},e.prototype.arcTo=function(t,e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1]-e,u=s-t,h=n-e,l=r-t,c=Math.abs(a*l-u*h);if(c<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=a*a+u*u,d=h*h+l*l,p=a*h+u*l,v=i*Math.sqrt(f)/c,y=i*Math.sqrt(d)/c,g=v*p/f,_=y*p/d,b=v*l+y*u,m=v*h+y*a,T=u*(y+g),E=a*(y+g),w=l*(v+_),x=h*(v+_),S=Math.atan2(E-m,T-b),O=Math.atan2(x-m,w-b);this.arc(b+t,m+e,i,S,O,u*h>l*a)}return this.dirty++,this},e.prototype.arc=function(t,r,n,i,o){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i===o)return this;!s&&o<=i?o+=l.PI_2:s&&i<=o&&(i+=l.PI_2);var a=o-i,u=e.CURVES.adaptive?this._segmentsCount(Math.abs(a)*n):40*Math.ceil(Math.abs(a)/l.PI_2);if(0===a)return this;var h=t+Math.cos(i)*n,c=r+Math.sin(i)*n,f=this.currentPath?this.currentPath.shape.points:null;if(f){var d=Math.abs(f[f.length-2]-h),p=Math.abs(f[f.length-1]-c);d<.001&&p<.001||f.push(h,c)}else this.moveTo(h,c),f=this.currentPath.shape.points;for(var v=a/(2*u),y=2*v,g=Math.cos(v),_=Math.sin(v),b=u-1,m=b%1/b,T=0;T<=b;++T){var E=v+i+y*(T+m*T),w=Math.cos(E),x=-Math.sin(E);f.push((g*w+_*x)*n+t,(g*-x+_*w)*n+r)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new u.Rectangle(t,e,r,n)),this},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new u.RoundedRectangle(t,e,r,n,i)),this},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new u.Circle(t,e,r)),this},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new u.Ellipse(t,e,r,n)),this},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof u.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new u.Polygon(e);return i.closed=r,this.drawShape(i),this},e.prototype.drawStar=function(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i=i||n/2;for(var s=-1*Math.PI/2+o,a=2*r,u=l.PI_2/a,h=[],c=0;c<a;c++){var f=c%2?i:n,d=c*u+s;h.push(t+f*Math.cos(d),e+f*Math.sin(d))}return this.drawPolygon(h)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===l.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new a.default(new o.default(o.default.WHITE)));var r=this._spriteRect,n=this.graphicsData[0].fillColor;if(16777215===this.tint)r.tint=n;else if(this.tint!==this._prevRectTint||n!==this._prevRectFillColor){var i=_,s=b;(0,h.hex2rgb)(n,i),(0,h.hex2rgb)(this.tint,s),i[0]*=s[0],i[1]*=s[1],i[2]*=s[2],r.tint=(0,h.rgb2hex)(i),this._prevRectTint=this.tint,this._prevRectFillColor=n}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=e.width,r._texture._frame.height=e.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-e.x/e.width,-e.y/e.height),r._onAnchorUpdate(),r._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,g);for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fill&&(n.shape&&n.shape.contains(g.x,g.y))){if(n.holes)for(var i=0;i<n.holes.length;i++){if(n.holes[i].contains(g.x,g.y))return!1}return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i=0,o=0,s=0,a=0,u=0,h=0;h<this.graphicsData.length;h++){var c=this.graphicsData[h],f=c.type,d=c.lineWidth*c.lineAlignment;if(i=c.shape,f===l.SHAPES.RECT||f===l.SHAPES.RREC)o=i.x-d,s=i.y-d,t=o<t?o:t,e=o+(a=i.width+2*d)>e?o+a:e,r=s<r?s:r,n=s+(u=i.height+2*d)>n?s+u:n;else if(f===l.SHAPES.CIRC)o=i.x,s=i.y,t=o-(a=i.radius+d)<t?o-a:t,e=o+a>e?o+a:e,r=s-(u=i.radius+d)<r?s-u:r,n=s+u>n?s+u:n;else if(f===l.SHAPES.ELIP)o=i.x,s=i.y,t=o-(a=i.width+d)<t?o-a:t,e=o+a>e?o+a:e,r=s-(u=i.height+d)<r?s-u:r,n=s+u>n?s+u:n;else for(var p=i.points,v=0,y=0,g=0,_=0,b=0,m=0,T=0,E=0,w=0;w+2<p.length;w+=2)o=p[w],s=p[w+1],v=p[w+2],y=p[w+3],g=Math.abs(v-o),_=Math.abs(y-s),u=2*d,(a=Math.sqrt(g*g+_*_))<1e-9||(t=(T=(v+o)/2)-(b=(u/a*_+g)/2)<t?T-b:t,e=T+b>e?T+b:e,r=(E=(y+s)/2)-(m=(u/a*g+_)/2)<r?E-m:r,n=E+m>n?E+m:n)}else t=0,e=0,r=0,n=0;var x=this.boundsPadding;this._localBounds.minX=t-x,this._localBounds.maxX=e+x,this._localBounds.minY=r-x,this._localBounds.maxY=n+x},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new s.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(e),e.type===l.SHAPES.POLY&&(e.shape.closed=e.shape.closed,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),n=i.default.create(r.width,r.height,t,e);v||(v=new d.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(y),y.invert(),y.tx-=r.x,y.ty-=r.y,v.render(this,n,!0,y);var s=o.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,t,"graphics");return s.baseTexture.resolution=e,s.baseTexture.update(),s},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var n in this._webGL)for(var i=0;i<this._webGL[n].data.length;++i)this._webGL[n].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},e}(n.default);e.default=m,m._SPRITE_TEXTURE=null,m.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r,n,i,o,s,a,u){var h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],l=0,c=0,f=0,d=0,p=0;h.push(t,e);for(var v=1,y=0;v<=u;++v)f=(c=(l=1-(y=v/u))*l)*l,p=(d=y*y)*y,h.push(f*t+3*c*y*r+3*l*d*i+p*s,f*e+3*c*y*n+3*l*d*o+p*a);return h}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2),i=r(0),o=d(r(22)),s=d(r(23)),a=d(r(160)),u=d(r(161)),h=d(r(162)),l=d(r(163)),c=d(r(164)),f=d(r(165));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=r.gl,n.CONTEXT_UID=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new u.default(this.gl)},e.prototype.destroy=function(){o.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,r=e.gl,i=void 0,o=t._webGL[this.CONTEXT_UID];o&&t.dirty===o.dirty||(this.updateGraphics(t),o=t._webGL[this.CONTEXT_UID]);var s=this.primitiveShader;e.bindShader(s),e.state.setBlendMode(t.blendMode);for(var a=0,u=o.data.length;a<u;a++){var h=(i=o.data[a]).shader;e.bindShader(h),h.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),h.uniforms.tint=(0,n.hex2rgb)(t.tint),h.uniforms.alpha=t.worldAlpha,e.bindVao(i.vao),i.nativeLines?r.drawArrays(r.LINES,0,i.points.length/6):i.vao.draw(r.TRIANGLE_STRIP,i.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[this.CONTEXT_UID];if(r||(r=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),r.dirty=t.dirty,t.clearDirty!==r.clearDirty){r.clearDirty=t.clearDirty;for(var n=0;n<r.data.length;n++)this.graphicsDataPool.push(r.data[n]);r.data.length=0,r.lastIndex=0}for(var o=void 0,s=void 0,a=r.lastIndex;a<t.graphicsData.length;a++){var u=t.graphicsData[a];o=this.getWebGLData(r,0),u.nativeLines&&u.lineWidth&&(s=this.getWebGLData(r,0,!0),r.lastIndex++),u.type===i.SHAPES.POLY&&(0,h.default)(u,o,s),u.type===i.SHAPES.RECT?(0,l.default)(u,o,s):u.type===i.SHAPES.CIRC||u.type===i.SHAPES.ELIP?(0,f.default)(u,o,s):u.type===i.SHAPES.RREC&&(0,c.default)(u,o,s),r.lastIndex++}this.renderer.bindVao(null);for(var d=0;d<r.data.length;d++)(o=r.data[d]).dirty&&o.upload()},e.prototype.getWebGLData=function(t,e,r){var n=t.data[t.data.length-1];return(!n||n.nativeLines!==r||n.points.length>32e4)&&((n=this.graphicsDataPool.pop()||new a.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=r,n.reset(e),t.data.push(n)),n.dirty=!0,n},e}(o.default);e.default=p,s.default.registerPlugin("graphics",p)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(5),o=(n=i)&&n.__esModule?n:{default:n};var s=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new o.default.VertexArrayObject(e,n).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(18);var o=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.points=t.shape.points.slice();var s=t.points;if(t.fill&&s.length>=6){for(var a=[],u=t.holes,h=0;h<u.length;h++){var l=u[h];a.push(s.length/2),s=s.concat(l.points)}var c=e.points,f=e.indices,d=s.length/2,p=(0,i.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,_=p[2]*v,b=(0,o.default)(s,a,2);if(!b)return;for(var m=c.length/6,T=0;T<b.length;T+=3)f.push(b[T]+m),f.push(b[T]+m),f.push(b[T+1]+m),f.push(b[T+2]+m),f.push(b[T+2]+m);for(var E=0;E<d;E++)c.push(s[2*E],s[2*E+1],y,g,_,v)}t.lineWidth>0&&(0,n.default)(t,e,r)};var n=s(r(25)),i=r(2),o=s(r(34));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=t.shape,i=n.x,a=n.y,u=n.width,h=n.height;if(t.fill){var l=(0,s.hex2rgb)(t.fillColor),c=t.fillAlpha,f=l[0]*c,d=l[1]*c,p=l[2]*c,v=e.points,y=e.indices,g=v.length/6;v.push(i,a),v.push(f,d,p,c),v.push(i+u,a),v.push(f,d,p,c),v.push(i,a+h),v.push(f,d,p,c),v.push(i+u,a+h),v.push(f,d,p,c),y.push(g,g,g+1,g+2,g+3,g+3)}if(t.lineWidth){var _=t.points;t.points=[i,a,i+u,a,i+u,a+h,i,a+h,i,a],(0,o.default)(t,e,r),t.points=_}};var n,i=r(25),o=(n=i)&&n.__esModule?n:{default:n},s=r(2)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var s=t.shape,a=s.x,h=s.y,l=s.width,c=s.height,f=s.radius,d=[];if(d.push(a+f,h),u(a+l-f,h,a+l,h,a+l,h+f,d),u(a+l,h+c-f,a+l,h+c,a+l-f,h+c,d),u(a+f,h+c,a,h+c,a,h+c-f,d),u(a,h+f,a,h,a+f+1e-10,h,d),t.fill){for(var p=(0,o.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,_=p[2]*v,b=e.points,m=e.indices,T=b.length/6,E=(0,n.default)(d,null,2),w=0,x=E.length;w<x;w+=3)m.push(E[w]+T),m.push(E[w]+T),m.push(E[w+1]+T),m.push(E[w+2]+T),m.push(E[w+2]+T);for(var S=0,O=d.length;S<O;S++)b.push(d[S],d[++S],y,g,_,v)}if(t.lineWidth){var P=t.points;t.points=d,(0,i.default)(t,e,r),t.points=P}};var n=s(r(34)),i=s(r(25)),o=r(2);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){return t+(e-t)*r}function u(t,e,r,n,i,o){for(var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=0,h=0,l=0,c=0,f=0,d=0,p=0,v=0;p<=20;++p)u=a(t,r,v=p/20),h=a(e,n,v),l=a(r,i,v),c=a(n,o,v),f=a(u,l,v),d=a(h,c,v),s.push(f,d);return s}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=t.shape,i=n.x,u=n.y,h=void 0,l=void 0;t.type===s.SHAPES.CIRC?(h=n.radius,l=n.radius):(h=n.width,l=n.height);if(0===h||0===l)return;var c=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),f=2*Math.PI/c;if(t.fill){var d=(0,a.hex2rgb)(t.fillColor),p=t.fillAlpha,v=d[0]*p,y=d[1]*p,g=d[2]*p,_=e.points,b=e.indices,m=_.length/6;b.push(m);for(var T=0;T<c+1;T++)_.push(i,u,v,y,g,p),_.push(i+Math.sin(f*T)*h,u+Math.cos(f*T)*l,v,y,g,p),b.push(m++,m++);b.push(m-1)}if(t.lineWidth){var E=t.points;t.points=[];for(var w=0;w<c;w++)t.points.push(i+Math.sin(f*-w)*h,u+Math.cos(f*-w)*l);t.points.push(t.points[0],t.points[1]),(0,o.default)(t,e,r),t.points=E}};var n,i=r(25),o=(n=i)&&n.__esModule?n:{default:n},s=r(0),a=r(2)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(16),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldAlpha,i=t.transform.worldTransform,o=e.resolution;r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.canvasTintDirty===t.dirty&&t._prevTint===t.tint||this.updateGraphicsTint(t),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var u=t.graphicsData[a],h=u.shape,l=u._fillTint,c=u._lineTint;if(r.lineWidth=u.lineWidth,u.type===s.SHAPES.POLY){r.beginPath();var f=h.points,d=u.holes,p=void 0,v=void 0;r.moveTo(f[0],f[1]);for(var y=2;y<f.length;y+=2)r.lineTo(f[y],f[y+1]);if(h.closed&&r.closePath(),d.length>0){p=0;for(var g=0;g<f.length;g+=2)p+=f[g]*f[g+3]-f[g+1]*f[g+2];for(var _=0;_<d.length;_++){f=d[_].points,v=0;for(var b=0;b<f.length;b+=2)v+=f[b]*f[b+3]-f[b+1]*f[b+2];if(r.moveTo(f[0],f[1]),v*p<0)for(var m=2;m<f.length;m+=2)r.lineTo(f[m],f[m+1]);else for(var T=f.length-2;T>=2;T-=2)r.lineTo(f[T],f[T+1]);d[_].closed&&r.closePath()}}u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fillRect(h.x,h.y,h.width,h.height)),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.strokeRect(h.x,h.y,h.width,h.height));else if(u.type===s.SHAPES.CIRC)r.beginPath(),r.arc(h.x,h.y,h.radius,0,2*Math.PI),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke());else if(u.type===s.SHAPES.ELIP){var E=2*h.width,w=2*h.height,x=h.x-E/2,S=h.y-w/2;r.beginPath();var O=E/2*.5522848,P=w/2*.5522848,M=x+E,A=S+w,C=x+E/2,I=S+w/2;r.moveTo(x,I),r.bezierCurveTo(x,I-P,C-O,S,C,S),r.bezierCurveTo(C+O,S,M,I-P,M,I),r.bezierCurveTo(M,I+P,C+O,A,C,A),r.bezierCurveTo(C-O,A,x,I+P,x,I),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RREC){var D=h.x,R=h.y,L=h.width,N=h.height,k=h.radius,B=Math.min(L,N)/2|0;k=k>B?B:k,r.beginPath(),r.moveTo(D,R+k),r.lineTo(D,R+N-k),r.quadraticCurveTo(D,R+N,D+k,R+N),r.lineTo(D+L-k,R+N),r.quadraticCurveTo(D+L,R+N,D+L,R+N-k),r.lineTo(D+L,R+k),r.quadraticCurveTo(D+L,R,D+L-k,R),r.lineTo(D+k,R),r.quadraticCurveTo(D,R,D,R+k),r.closePath(),(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint,t.canvasTintDirty=t.dirty;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,n=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*n*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255}},t.prototype.renderPolygon=function(t,e,r){r.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)r.lineTo(t[2*n],t[2*n+1]);e&&r.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=a,o.default.registerPlugin("graphics",a)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(1),o=r(2);var s=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseTexture=e,this.textures={},this.animations={},this.data=r,this.resolution=this._updateResolution(n||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=(0,o.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE,o=this.baseTexture.sourceScale;r-e<n&&r<this._frameKeys.length;){var s=this._frameKeys[r],a=this._frames[s],u=a.frame;if(u){var h=null,l=null,c=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,f=new i.Rectangle(0,0,Math.floor(c.w*o)/this.resolution,Math.floor(c.h*o)/this.resolution);h=a.rotated?new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.h*o)/this.resolution,Math.floor(u.w*o)/this.resolution):new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(l=new i.Rectangle(Math.floor(a.spriteSourceSize.x*o)/this.resolution,Math.floor(a.spriteSourceSize.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution)),this.textures[s]=new i.Texture(this.baseTexture,h,f,l,a.rotated?2:0,a.anchor),i.Texture.addToCache(this.textures[s],s)}r++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];var r=t[e],n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var s=o;this.animations[e].push(this.textures[s])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.mesh,r=t.particles,n=t.extras,o=t.filters,s=t.prepare,a=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return i("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return i("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return i("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return i("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return i("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),r.ParticleContainer}},MovieClip:{get:function(){return i("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),n.AnimatedSprite}},TilingSprite:{get:function(){return i("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),n.TilingSprite}},BitmapText:{get:function(){return i("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),n.BitmapText}},blendModes:{get:function(){return i("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return i("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return i("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return i("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return i("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return i("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return i("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var h=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],l=function(e){var r=h[e];Object.defineProperty(t[r.parent],"DEFAULT",{get:function(){return i("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]},set:function(e){i("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]=e}})},c=0;c<h.length;c++)l(c);Object.defineProperties(t.settings,{PRECISION:{get:function(){return i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),n.AnimatedSprite&&Object.defineProperties(n,{MovieClip:{get:function(){return i("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),n.AnimatedSprite}}});n&&Object.defineProperties(n,{TextureTransform:{get:function(){return i("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}});t.DisplayObject.prototype.generateTexture=function(t,e,r){return i("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,r)},t.Graphics.prototype.generateTexture=function(t,e){return i("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){return i("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,r,n){this.legacyRenderer.render(t,this,r,e,!n),i("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return i("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return i("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return i("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return i("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,i("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},n.BitmapText&&(n.BitmapText.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});t.Text.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(e){return i("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return i("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return i("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return i("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,i("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return i("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return i("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(e=e||{})instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){i("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){i("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),r=-1;this._fontSize=26;for(var n=0;n<e.length;++n)if(e[n].match(/(px|pt|em|%)/)){r=n,this._fontSize=e[n];break}this._fontWeight="normal";for(var o=0;o<r;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(r>-1&&r<e.length-1){this._fontFamily="";for(var s=r+1;s<e.length;++s)this._fontFamily+=e[s]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,i("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,r){t.Texture.addToCache(e,r),i("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return i("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return i("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function(){return i("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),o.AlphaFilter}}}),t.utils.uuid=function(){return i("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return i("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var f=!0;Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(i("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),f=t},get:function(){return f}}),s.BasePrepare&&(s.BasePrepare.prototype.register=function(t,e){return i("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this});s.canvas&&Object.defineProperty(s.canvas,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});s.webgl&&Object.defineProperty(s.webgl,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});if(a.Loader){var d=a.Resource,p=a.Loader;Object.defineProperties(d.prototype,{isJson:{get:function(){return i("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===d.TYPE.JSON}},isXml:{get:function(){return i("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===d.TYPE.XML}},isImage:{get:function(){return i("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===d.TYPE.IMAGE}},isAudio:{get:function(){return i("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===d.TYPE.AUDIO}},isVideo:{get:function(){return i("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===d.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function(){return i("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return i("The after() method is deprecated, please use use()."),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function(t){i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}});u.InteractionManager&&(Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function(t){i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function(t){i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))};var n={};function i(t){if(!n[t]){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e))),n[t]=!0}}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(76);Object.defineProperty(e,"accessibleTarget",{enumerable:!0,get:function(){return o(n).default}});var i=r(170);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AccessibilityManager",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=s(r(32)),o=s(r(76));function s(t){return t&&t.__esModule?t:{default:t}}n.utils.mixins.delayMixin(n.DisplayObject.prototype,o.default);var a=100,u=0,h=0,l=2,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!i.default.tablet&&!i.default.phone||navigator.isCocoonJS||this.createTouchHook();var r=document.createElement("div");r.style.width=a+"px",r.style.height=a+"px",r.style.position="absolute",r.style.top=u+"px",r.style.left=h+"px",r.style.zIndex=l,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId)s._accessibleActive=!1,n.utils.removeItems(this.children,o,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{i=s._accessibleDiv;var a=s.hitArea,u=s.worldTransform;s.hitArea?(i.style.left=(u.tx+a.x*u.a)*e+"px",i.style.top=(u.ty+a.y*u.d)*r+"px",i.style.width=a.width*u.a*e+"px",i.style.height=a.height*u.d*r+"px"):(a=s.getBounds(),this.capHitArea(a),i.style.left=a.x*e+"px",i.style.top=a.y*r+"px",i.style.width=a.width*e+"px",i.style.height=a.height*r+"px",i.title!==s.accessibleTitle&&null!==s.accessibleTitle&&(i.title=s.accessibleTitle),i.getAttribute("aria-label")!==s.accessibleHint&&null!==s.accessibleHint&&i.setAttribute("aria-label",s.accessibleHint))}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=a+"px",e.style.height=a+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=l,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();e.default=c,n.WebGLRenderer.registerPlugin("accessibility",c),n.CanvasRenderer.registerPlugin("accessibility",c)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(172);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return o(n).default}});var i=r(173);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var i=new n.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=!1,u=void 0,h=!1;t&&(t instanceof n.RenderTexture?u=t:(u=this.renderer.generateTexture(t),h=!0)),u?(o=(r=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=u.frame,a=!1):(o=(r=this.renderer.rootRenderTarget).resolution,a=!0,(s=i).width=r.size.width,s.height=r.size.height);var l=s.width*o,c=s.height*o,f=new n.CanvasRenderTarget(l,c,1);if(r){e.bindRenderTarget(r);var d=new Uint8Array(4*l*c),p=e.gl;p.readPixels(s.x*o,s.y*o,l,c,p.RGBA,p.UNSIGNED_BYTE,d);var v=f.context.getImageData(0,0,l,c);v.data.set(d),f.context.putImageData(v,0,0),a&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-c))}return h&&u.destroy(!0),f.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0,u=!1;t&&(t instanceof n.RenderTexture?a=t:(a=this.renderer.generateTexture(t),u=!0)),a?(o=(r=a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=a.frame):(o=(r=this.renderer.rootRenderTarget).resolution,(s=i).width=r.size.width,s.height=r.size.height);var h=s.width*o,l=s.height*o,c=new Uint8Array(4*h*l);if(r){e.bindRenderTarget(r);var f=e.gl;f.readPixels(s.x*o,s.y*o,h,l,f.RGBA,f.UNSIGNED_BYTE,c)}return u&&a.destroy(!0),c},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,n.WebGLRenderer.registerPlugin("extract",o)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var i=new n.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0;t&&(a=t instanceof n.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(r=e.rootContext,(s=i).width=this.renderer.width,s.height=this.renderer.height);var u=s.width*o,h=s.height*o,l=new n.CanvasRenderTarget(u,h,1),c=r.getImageData(s.x*o,s.y*o,u,h);return l.context.putImageData(c,0,0),l.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0;return t&&(a=t instanceof n.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(r=e.rootContext,(s=i).width=e.width,s.height=e.height),r.getImageData(0,0,s.width*o,s.height*o).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,n.CanvasRenderer.registerPlugin("extract",o)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r[0]instanceof i.Texture?r[0]:r[0].texture));return o._textures=null,o._durations=null,o.textures=r,o._autoUpdate=!1!==n,o.animationSpeed=1,o.loop=!0,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o.playing=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&i.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var r=[],n=0;n<t.length;++n)r.push(i.Texture.fromFrame(t[n]));return new e(r)},e.fromImages=function(t){for(var r=[],n=0;n<t.length;++n)r.push(i.Texture.fromImage(t[n]));return new e(r)},n(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof i.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(i.Sprite);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),s=r(39),a=(n=s)&&n.__esModule?n:{default:n};var u=new o.Point,h=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return s.tileTransform=new o.TransformStatic,s._width=n,s._height=i,s._canvasPattern=null,s.uvTransform=r.transform||new o.TextureMatrix(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,n=this.worldTransform,i=t.resolution,s=2===e.rotate,u=e.baseTexture,h=u.resolution,l=this.tilePosition.x/this.tileScale.x%e.orig.width*h,c=this.tilePosition.y/this.tileScale.y%e.orig.height*h;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var f=new o.CanvasRenderTarget(e.orig.width,e.orig.height,h);if(16777215!==this.tint)this.tintedTexture=a.default.getTintedTexture(this,this.tint),f.context.drawImage(this.tintedTexture,0,0);else{var d=e._frame.x*h,p=e._frame.y*h,v=e._frame.width*h,y=e._frame.height*h,g=(e.trim?e.trim.width:e.orig.width)*h,_=(e.trim?e.trim.height:e.orig.height)*h,b=(e.trim?e.trim.x:0)*h,m=(e.trim?e.trim.y:0)*h;s?(f.context.rotate(-Math.PI/2),f.context.translate(-_,0),f.context.drawImage(u.source,d,p,v,y,-m,b,_,g)):f.context.drawImage(u.source,d,p,v,y,b,m,g,_)}this.cachedTint=this.tint,this._canvasPattern=f.context.createPattern(f.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/h,this.tileScale.y/h);var T=this.anchor.x*-this._width*h,E=this.anchor.y*-this._height*h;this.uvRespectAnchor?(r.translate(l,c),r.fillRect(-l+T,-c+E,this._width/this.tileScale.x*h,this._height/this.tileScale.y*h)):(r.translate(l+T,c+E),r.fillRect(-l,-c,this._width/this.tileScale.x*h,this._height/this.tileScale.y*h))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e=this._width,r=this._height,n=-e*this.anchor._x;if(u.x>=n&&u.x<n+e){var i=-r*this.anchor._y;if(u.y>=i&&u.y<i+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,r,n){return new e(o.Texture.from(t),r,n)},e.fromFrame=function(t,r,n){var i=o.utils.TextureCache[t];if(!i)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(i,r,n)},e.fromImage=function(t,r,n,i,s){return new e(o.Texture.fromImage(t,i,s),r,n)},i(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(o.Sprite);e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=r(0);r(7);var o=new n.Matrix,s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n.simpleShader=null,n.quad=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new n.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,r=this.quad;e.bindVao(r.vao);var s=r.vertices;s[0]=s[6]=t._width*-t.anchor.x,s[1]=s[3]=t._height*-t.anchor.y,s[2]=s[4]=t._width*(1-t.anchor.x),s[5]=s[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((s=r.uvs)[0]=s[6]=-t.anchor.x,s[1]=s[3]=-t.anchor.y,s[2]=s[4]=1-t.anchor.x,s[5]=s[7]=1-t.anchor.y),r.upload();var a=t._texture,u=a.baseTexture,h=t.tileTransform.localTransform,l=t.uvTransform,c=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;c&&(u._glTextures[e.CONTEXT_UID]?c=u.wrapMode!==i.WRAP_MODES.CLAMP:u.wrapMode===i.WRAP_MODES.CLAMP&&(u.wrapMode=i.WRAP_MODES.REPEAT));var f=c?this.simpleShader:this.shader;e.bindShader(f);var d=a.width,p=a.height,v=t._width,y=t._height;o.set(h.a*d/v,h.b*d/y,h.c*p/v,h.d*p/y,h.tx/v,h.ty/y),o.invert(),c?o.prepend(l.mapCoord):(f.uniforms.uMapCoord=l.mapCoord.toArray(!0),f.uniforms.uClampFrame=l.uClampFrame,f.uniforms.uClampOffset=l.uClampOffset),f.uniforms.uTransform=o.toArray(!0),f.uniforms.uColor=n.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,f.uniforms.uColor,u.premultipliedAlpha),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=e.bindTexture(a),e.setBlendMode(n.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha)),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(n.ObjectRenderer);e.default=s,n.WebGLRenderer.registerPlugin("tilingSprite",s)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(44)),s=r(2),a=u(r(3));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},i.font=n.font,i._text=r,i._maxWidth=0,i._maxLineHeight=0,i._letterSpacing=0,i._anchor=new o.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,n=new i.Point,o=[],s=[],a=this.text.replace(/(?:\r\n|\r)/g,"\n"),u=a.length,h=this._maxWidth*t.size/this._font.size,l=null,c=0,f=0,d=0,p=-1,v=0,y=0,g=0,_=0;_<u;_++){var b=a.charCodeAt(_),m=a.charAt(_);if(/(?:\s)/.test(m)&&(p=_,v=c),"\r"!==m&&"\n"!==m){var T=t.chars[b];T&&(l&&T.kerning[l]&&(n.x+=T.kerning[l]),o.push({texture:T.texture,line:d,charCode:b,position:new i.Point(n.x+T.xOffset+this._letterSpacing/2,n.y+T.yOffset)}),n.x+=T.xAdvance+this._letterSpacing,c=n.x,g=Math.max(g,T.yOffset+T.texture.height),l=b,-1!==p&&h>0&&n.x>h&&(++y,i.utils.removeItems(o,1+p-y,1+_-p),_=p,p=-1,s.push(v),f=Math.max(f,v),d++,n.x=0,n.y+=t.lineHeight,l=null))}else s.push(c),f=Math.max(f,c),++d,++y,n.x=0,n.y+=t.lineHeight,l=null}var E=a.charAt(a.length-1);"\r"!==E&&"\n"!==E&&(/(?:\s)/.test(E)&&(c=v),s.push(c),f=Math.max(f,c));for(var w=[],x=0;x<=d;x++){var S=0;"right"===this._font.align?S=f-s[x]:"center"===this._font.align&&(S=(f-s[x])/2),w.push(S)}for(var O=o.length,P=this.tint,M=0;M<O;M++){var A=this._glyphs[M];A?A.texture=o[M].texture:(A=new i.Sprite(o[M].texture),this._glyphs.push(A)),A.position.x=(o[M].position.x+w[o[M].line])*r,A.position.y=o[M].position.y*r,A.scale.x=A.scale.y=r,A.tint=P,A.parent||this.addChild(A)}for(var C=O;C<this._glyphs.length;++C)this.removeChild(this._glyphs[C]);if(this._textWidth=f*r,this._textHeight=(n.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var I=0;I<O;I++)this._glyphs[I].x-=this._textWidth*this.anchor.x,this._glyphs[I].y-=this._textHeight*this.anchor.y;this._maxLineHeight=g*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,r){var n={},o=t.getElementsByTagName("info")[0],u=t.getElementsByTagName("common")[0],h=t.getElementsByTagName("page"),l=(0,s.getResolutionOfUrl)(h[0].getAttribute("file"),a.default.RESOLUTION),c={};n.font=o.getAttribute("face"),n.size=parseInt(o.getAttribute("size"),10),n.lineHeight=parseInt(u.getAttribute("lineHeight"),10)/l,n.chars={},r instanceof i.Texture&&(r=[r]);for(var f=0;f<h.length;f++){var d=h[f].getAttribute("id"),p=h[f].getAttribute("file");c[d]=r instanceof Array?r[f]:r[p]}for(var v=t.getElementsByTagName("char"),y=0;y<v.length;y++){var g=v[y],_=parseInt(g.getAttribute("id"),10),b=g.getAttribute("page")||0,m=new i.Rectangle(parseInt(g.getAttribute("x"),10)/l+c[b].frame.x/l,parseInt(g.getAttribute("y"),10)/l+c[b].frame.y/l,parseInt(g.getAttribute("width"),10)/l,parseInt(g.getAttribute("height"),10)/l);n.chars[_]={xOffset:parseInt(g.getAttribute("xoffset"),10)/l,yOffset:parseInt(g.getAttribute("yoffset"),10)/l,xAdvance:parseInt(g.getAttribute("xadvance"),10)/l,kerning:{},texture:new i.Texture(c[b].baseTexture,m),page:b}}for(var T=t.getElementsByTagName("kerning"),E=0;E<T.length;E++){var w=T[E],x=parseInt(w.getAttribute("first"),10)/l,S=parseInt(w.getAttribute("second"),10)/l,O=parseInt(w.getAttribute("amount"),10)/l;n.chars[S]&&(n.chars[S].kerning[x]=O)}return e.fonts[n.font]=n,n},n(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(i.Container);e.default=h,h.fonts={}},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=a(r(9)),o=a(r(12)),s=r(2);function a(t){return t&&t.__esModule?t:{default:t}}var u=n.DisplayObject,h=new n.Matrix;u.prototype._cacheAsBitmap=!1,u.prototype._cacheData=!1;var l=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(u.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new l),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),u.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},u.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var a=this._filters[0].padding;r.pad(a)}var u=t._activeRenderTarget,l=t.filterManager.filterStack,c=n.RenderTexture.create(0|r.width,0|r.height),f="cacheAsBitmap_"+(0,s.uid)();this._cacheData.textureCacheId=f,o.default.addToCache(c.baseTexture,f),i.default.addToCache(c,f);var d=h;d.tx=-r.x,d.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,c,!0,d,!0),t.bindRenderTarget(u),t.filterManager.filterStack=l,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var p=new n.Sprite(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-r.x/r.width,p.anchor.y=-r.y/r.height,p.alpha=e,p._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)}},u.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},u.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var a=t.context,u=n.RenderTexture.create(0|e.width,0|e.height),l="cacheAsBitmap_"+(0,s.uid)();this._cacheData.textureCacheId=l,o.default.addToCache(u.baseTexture,l),i.default.addToCache(u,l);var c=h;this.transform.localTransform.copy(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,u,!0,c,!1),t.context=a,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var f=new n.Sprite(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-e.x/e.width,f.anchor.y=-e.y/e.height,f._bounds=this._bounds,f.alpha=r,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=f,this.containsPoint=f.containsPoint.bind(f)}},u.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},u.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},u.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,o.default.removeFromCache(this._cacheData.textureCacheId),i.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},u.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));n.DisplayObject.prototype.name=null,n.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));n.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new n.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(182);Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return c(n).default}});var i=r(183);Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return c(i).default}});var o=r(184);Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return c(o).default}});var s=r(185);Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return c(s).default}});var a=r(78);Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return c(a).default}});var u=r(82);Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return c(u).default}});var h=r(186);Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return c(h).default}});var l=r(187);function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AlphaFilter",{enumerable:!0,get:function(){return c(l).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(7);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n.Filter);e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(7);var o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return i.noise=r,i.seed=n,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(7);var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=new i.Matrix;r.renderable=!1;var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return s.maskSprite=r,s.maskMatrix=o,s.uniforms.mapSampler=r._texture,s.uniforms.filterMatrix=o,s.uniforms.scale={x:1,y:1},null==n&&(n=20),s.scale=new i.Point(n,n),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,r)},n(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=a(r(78)),s=a(r(82));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return h.blurXFilter=new o.default(r,n,a,u),h.blurYFilter=new s.default(r,n,a,u),h.padding=0,h.resolution=a||i.settings.RESOLUTION,h.quality=n||4,h.blur=r||8,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)},n(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(i.Filter);e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(7);var o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._loadMatrix=function(t){var e=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),s=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,n,i){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=((n=n||3375104)>>16&255)/255,h=(n>>8&255)/255,l=(255&n)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,u,h,l,e=e||.15,0,o-u,s-h,a-l,0,0];this._loadMatrix(c,i)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},n(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o,o.prototype.grayscale=o.prototype.greyscale},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(7);var o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return n.alpha=r,n.glShaderKey="alpha",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=r(83);Object.defineProperty(e,"InteractionData",{enumerable:!0,get:function(){return u(n).default}});var i=r(189);Object.defineProperty(e,"InteractionManager",{enumerable:!0,get:function(){return u(i).default}});var o=r(86);Object.defineProperty(e,"interactiveTarget",{enumerable:!0,get:function(){return u(o).default}});var s=r(85);Object.defineProperty(e,"InteractionTrackingData",{enumerable:!0,get:function(){return u(s).default}});var a=r(84);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"InteractionEvent",{enumerable:!0,get:function(){return u(a).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=l(r(83)),s=l(r(84)),a=l(r(85)),u=l(r(10)),h=l(r(86));function l(t){return t&&t.__esModule?t:{default:t}}i.utils.mixins.delayMixin(i.DisplayObject.prototype,h.default);var c=1,f={target:null,data:{global:null}},d=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n=n||{},a.renderer=r,a.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,a.interactionFrequency=n.interactionFrequency||10,a.mouse=new o.default,a.mouse.identifier=c,a.mouse.global.set(-999999),a.activeInteractionData={},a.activeInteractionData[c]=a.mouse,a.interactionDataPool=[],a.eventData=new s.default,a.interactionDOMElement=null,a.moveWhenInside=!1,a.eventsAdded=!1,a.mouseOverRenderer=!1,a.supportsTouchEvents="ontouchstart"in window,a.supportsPointerEvents=!!window.PointerEvent,a.onPointerUp=a.onPointerUp.bind(a),a.processPointerUp=a.processPointerUp.bind(a),a.onPointerCancel=a.onPointerCancel.bind(a),a.processPointerCancel=a.processPointerCancel.bind(a),a.onPointerDown=a.onPointerDown.bind(a),a.processPointerDown=a.processPointerDown.bind(a),a.onPointerMove=a.onPointerMove.bind(a),a.processPointerMove=a.processPointerMove.bind(a),a.onPointerOut=a.onPointerOut.bind(a),a.processPointerOverOut=a.processPointerOverOut.bind(a),a.onPointerOver=a.onPointerOver.bind(a),a.cursorStyles={default:"inherit",pointer:"pointer"},a.currentCursorMode=null,a.cursor=null,a._tempPoint=new i.Point,a.resolution=1,a.setTargetElement(a.renderer.view,a.renderer.resolution),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.hitTest=function(t,e){return f.target=null,f.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(f,e,null,!0),f.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":n(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.mapPositionToPoint=function(t,e,r){var n=void 0;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},e.prototype.processInteractive=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=i=e.interactive||i,u=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(n=!1,u=!1)),a=!1):e._mask&&n&&(e._mask.containsPoint(o)||(n=!1,u=!1)),u&&e.interactiveChildren&&e.children)for(var h=e.children,l=h.length-1;l>=0;l--){var c=h[l],f=this.processInteractive(t,c,r,n,a);if(f){if(!c.parent)continue;a=!1,f&&(t.target&&(n=!1),s=!0)}}return i&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===i.pointerType)this.emit("touchstart",s);else if("mouse"===i.pointerType||"pen"===i.pointerType){var a=2===i.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var n=t.data,i=t.data.identifier;if(r)if(e.trackedPointers[i]||(e.trackedPointers[i]=new a.default(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<i;s++){var a=n[s],u=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,u);if(h.data.originalEvent=t,this.processInteractive(h,this.renderer._lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,h),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,h)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(a.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var n=t.data,i=t.data.identifier,o=e.trackedPointers[i],s="touch"===n.pointerType,u="mouse"===n.pointerType||"pen"===n.pointerType,h=!1;if(u){var l=2===n.button,c=a.default.FLAGS,f=l?c.RIGHT_DOWN:c.LEFT_DOWN,d=void 0!==o&&o.flags&f;r?(this.dispatchEvent(e,l?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,l?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,l?"rightupoutside":"mouseupoutside",t),o&&(l?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(u&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=t;var a="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===i.pointerType&&this.emit("touchmove",s),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var n=t.data,i="touch"===n.pointerType,o="mouse"===n.pointerType||"pen"===n.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var n=t.data,i=t.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,s=e.trackedPointers[i];r&&!s&&(s=e.trackedPointers[i]=new a.default(i)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",n)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,r=void 0;return e===c||"mouse"===t.pointerType?r=this.mouse:this.activeInteractionData[e]?r=this.activeInteractionData[e]:((r=this.interactionDataPool.pop()||new o.default).identifier=e,this.activeInteractionData[e]=r),r.copyEvent(t),r},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(r.global.x=r.global.x/this.resolution,r.global.y=r.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),i.twist=0,i.tangentialPressure=0,void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=c),void 0===t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(u.default);e.default=d,i.WebGLRenderer.registerPlugin("interaction",d),i.CanvasRenderer.registerPlugin("interaction",d)},function(t,e,r){"use strict";e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=void 0;var n=r(87);Object.defineProperty(e,"bitmapFontParser",{enumerable:!0,get:function(){return h(n).default}}),Object.defineProperty(e,"parseBitmapFontData",{enumerable:!0,get:function(){return n.parse}});var i=r(92);Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return h(i).default}}),Object.defineProperty(e,"getResourcePath",{enumerable:!0,get:function(){return i.getResourcePath}});var o=r(93);Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return h(o).default}});var s=r(19);Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return s.Resource}});var a=h(r(74)),u=h(r(192));function h(t){return t&&t.__esModule?t:{default:t}}e.Loader=u.default;var l=new u.default;l.destroy=function(){},e.shared=l;var c=a.default.prototype;c._loader=null,Object.defineProperty(c,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?l:new u.default}return this._loader}}),c._parentDestroy=c.destroy,c.destroy=function(t,e){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t,e)}},function(t,e,r){"use strict";e.__esModule=!0,e.Loader=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=h(r(88)),s=h(r(89)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(90)),u=r(41);function h(t){return t&&t.__esModule?t:{default:t}}var l=/(#[\w-]+)?$/,c=e.Loader=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,r){return e._loadResource(t,r)},this._queue=a.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default;for(var i=0;i<t._defaultBeforeMiddleware.length;++i)this.pre(t._defaultBeforeMiddleware[i]);for(var s=0;s<t._defaultAfterMiddleware.length;++s)this.use(t._defaultAfterMiddleware[s])}return t.prototype.add=function(t,e,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"===(void 0===t?"undefined":n(t))&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new u.Resource(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var s=r.parentResource,a=[],h=0;h<s.children.length;++h)s.children[h].isComplete||a.push(s.children[h]);var l=s.progressChunk*(a.length+1)/(a.length+2);s.children.push(this.resources[t]),s.progressChunk=l;for(var c=0;c<a.length;++c)a[c].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,s.default)(t,{strictMode:!0}),r=void 0;if(r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=l.exec(r)[0];-1!==(r=r.substr(0,r.length-n.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=n}return r},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,a.eachSeries(this._beforeMiddleware,function(e,n){e.call(r,t,function(){n(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),a.eachSeries(this._afterMiddleware,function(r,n){r.call(e,t,n)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},i(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();c._defaultBeforeMiddleware=[],c._defaultAfterMiddleware=[],c.pre=function(t){return c._defaultBeforeMiddleware.push(t),c},c.use=function(t){return c._defaultAfterMiddleware.push(t),c}},function(t,e,r){"use strict";e.__esModule=!0;var n=h(r(19)),i=r(193),o=h(r(10)),s=h(r(93)),a=h(r(92)),u=h(r(87));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));o.default.call(i);for(var s=0;s<e._pixiMiddleware.length;++s)i.use(e._pixiMiddleware[s]());return i.onStart.add(function(t){return i.emit("start",t)}),i.onProgress.add(function(t,e){return i.emit("progress",t,e)}),i.onError.add(function(t,e,r){return i.emit("error",t,e,r)}),i.onLoad.add(function(t,e){return i.emit("load",t,e)}),i.onComplete.add(function(t,e){return i.emit("complete",t,e)}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(n.default);for(var c in e.default=l,o.default.prototype)l.prototype[c]=o.default.prototype[c];l._pixiMiddleware=[i.blobMiddlewareFactory,s.default,a.default,u.default];var f=n.default.Resource;f.setExtensionXhrType("fnt",f.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,r){"use strict";e.__esModule=!0,e.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===n.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=o.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=n.Resource.TYPE.IMAGE,void(t.data.onload=function(){o.revokeObjectURL(r),t.data.onload=null,e()})}}else{var s=t.xhr.getResponseHeader("content-type");if(s&&0===s.indexOf("image"))return t.data=new Image,t.data.src="data:"+s+";base64,"+(0,i.encodeBinary)(t.xhr.responseText),t.type=n.Resource.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}};var n=r(41),i=r(91),o=window.URL||window.webkitURL},function(t,e,r){"use strict";e.__esModule=!0;var n=r(20);Object.defineProperty(e,"Mesh",{enumerable:!0,get:function(){return h(n).default}});var i=r(195);Object.defineProperty(e,"MeshRenderer",{enumerable:!0,get:function(){return h(i).default}});var o=r(196);Object.defineProperty(e,"CanvasMeshRenderer",{enumerable:!0,get:function(){return h(o).default}});var s=r(94);Object.defineProperty(e,"Plane",{enumerable:!0,get:function(){return h(s).default}});var a=r(197);Object.defineProperty(e,"NineSlicePlane",{enumerable:!0,get:function(){return h(a).default}});var u=r(198);function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Rope",{enumerable:!0,get:function(){return h(u).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=s(r(5)),o=s(r(20));r(7);function s(t){return t&&t.__esModule?t:{default:t}}var a=n.Matrix.IDENTITY,u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function(t){var e=this.renderer,r=e.gl,s=t._texture;if(s.valid){var u=t._glDatas[e.CONTEXT_UID];u||(e.bindVao(null),(u={shader:this.shader,vertexBuffer:i.default.GLBuffer.createVertexBuffer(r,t.vertices,r.STREAM_DRAW),uvBuffer:i.default.GLBuffer.createVertexBuffer(r,t.uvs,r.STREAM_DRAW),indexBuffer:i.default.GLBuffer.createIndexBuffer(r,t.indices,r.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty,vertexDirty:t.vertexDirty}).vao=new i.default.VertexArrayObject(r).addIndex(u.indexBuffer).addAttribute(u.vertexBuffer,u.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(u.uvBuffer,u.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=u),e.bindVao(u.vao),t.dirty!==u.dirty&&(u.dirty=t.dirty,u.uvBuffer.upload(t.uvs)),t.indexDirty!==u.indexDirty&&(u.indexDirty=t.indexDirty,u.indexBuffer.upload(t.indices)),t.vertexDirty!==u.vertexDirty&&(u.vertexDirty=t.vertexDirty,u.vertexBuffer.upload(t.vertices)),e.bindShader(u.shader),u.shader.uniforms.uSampler=e.bindTexture(s),e.state.setBlendMode(n.utils.correctBlendMode(t.blendMode,s.baseTexture.premultipliedAlpha)),u.shader.uniforms.uTransform&&(t.uploadUvTransform?u.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):u.shader.uniforms.uTransform=a.toArray(!0)),u.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),u.shader.uniforms.uColor=n.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,u.shader.uniforms.uColor,s.baseTexture.premultipliedAlpha);var h=t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;u.vao.draw(h,t.indices.length,0)}},e}(n.ObjectRenderer);e.default=u,n.WebGLRenderer.registerPlugin("mesh",u)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(20),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldTransform,i=e.resolution;e.roundPixels?r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,r=0;r<e-2;r++){var n=2*r;this._renderDrawTriangle(t,n,n+2,n+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,r=e.length,n=0;n<r;n+=3){var i=2*e[n],o=2*e[n+1],s=2*e[n+2];this._renderDrawTriangle(t,i,o,s)}},t.prototype._renderDrawTriangle=function(t,e,r,n){var i=this.renderer.context,o=t.uvs,s=t.vertices,a=t._texture;if(a.valid){var u=a.baseTexture,h=u.source,l=u.width,c=u.height,f=void 0,d=void 0,p=void 0,v=void 0,y=void 0,g=void 0;if(t.uploadUvTransform){var _=t._uvTransform.mapCoord;f=(o[e]*_.a+o[e+1]*_.c+_.tx)*u.width,d=(o[r]*_.a+o[r+1]*_.c+_.tx)*u.width,p=(o[n]*_.a+o[n+1]*_.c+_.tx)*u.width,v=(o[e]*_.b+o[e+1]*_.d+_.ty)*u.height,y=(o[r]*_.b+o[r+1]*_.d+_.ty)*u.height,g=(o[n]*_.b+o[n+1]*_.d+_.ty)*u.height}else f=o[e]*u.width,d=o[r]*u.width,p=o[n]*u.width,v=o[e+1]*u.height,y=o[r+1]*u.height,g=o[n+1]*u.height;var b=s[e],m=s[r],T=s[n],E=s[e+1],w=s[r+1],x=s[n+1],S=t.canvasPadding/this.renderer.resolution;if(S>0){var O=S/Math.abs(t.worldTransform.a),P=S/Math.abs(t.worldTransform.d),M=(b+m+T)/3,A=(E+w+x)/3,C=b-M,I=E-A,D=Math.sqrt(C*C+I*I);b=M+C/D*(D+O),E=A+I/D*(D+P),I=w-A,m=M+(C=m-M)/(D=Math.sqrt(C*C+I*I))*(D+O),w=A+I/D*(D+P),I=x-A,T=M+(C=T-M)/(D=Math.sqrt(C*C+I*I))*(D+O),x=A+I/D*(D+P)}i.save(),i.beginPath(),i.moveTo(b,E),i.lineTo(m,w),i.lineTo(T,x),i.closePath(),i.clip();var R=f*y+v*p+d*g-y*p-v*d-f*g,L=b*y+v*T+m*g-y*T-v*m-b*g,N=f*m+b*p+d*T-m*p-b*d-f*T,k=f*y*T+v*m*p+b*d*g-b*y*p-v*d*T-f*m*g,B=E*y+v*x+w*g-y*x-v*w-E*g,F=f*w+E*p+d*x-w*p-E*d-f*x,U=f*y*x+v*w*p+E*d*g-E*y*p-v*d*x-f*w*g;i.transform(L/R,B/R,N/R,F/R,k/R,U/R),i.drawImage(h,0,0,l*u.resolution,c*u.resolution,0,0,l,c),i.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.vertices,n=r.length/2;e.beginPath();for(var i=1;i<n-2;++i){var o=2*i,s=r[o],a=r[o+1],u=r[o+2],h=r[o+3],l=r[o+4],c=r[o+5];e.moveTo(s,a),e.lineTo(u,h),e.lineTo(l,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=a,i.CanvasRenderer.registerPlugin("mesh",a)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(94),s=(n=o)&&n.__esModule?n:{default:n};var a=10,u=function(t){function e(r,n,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,4,4));return u._origWidth=r.orig.width,u._origHeight=r.orig.height,u._width=u._origWidth,u._height=u._origHeight,u._leftWidth=void 0!==n?n:a,u._rightWidth=void 0!==o?o:a,u._topHeight=void 0!==i?i:a,u._bottomHeight=void 0!==s?s:a,u.refresh(!0),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,r=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode);var r=this.worldTransform,n=t.resolution;t.roundPixels?e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n|0,r.ty*n|0):e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n);var i=this._texture.baseTexture,o=i.source,s=i.width*i.resolution,a=i.height*i.resolution;this.drawSegment(e,o,s,a,0,1,10,11),this.drawSegment(e,o,s,a,2,3,12,13),this.drawSegment(e,o,s,a,4,5,14,15),this.drawSegment(e,o,s,a,8,9,18,19),this.drawSegment(e,o,s,a,10,11,20,21),this.drawSegment(e,o,s,a,12,13,22,23),this.drawSegment(e,o,s,a,16,17,26,27),this.drawSegment(e,o,s,a,18,19,28,29),this.drawSegment(e,o,s,a,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,n,i,o,s,a){var u=this.uvs,h=this.vertices,l=(u[s]-u[i])*r,c=(u[a]-u[o])*n,f=h[s]-h[i],d=h[a]-h[o];l<1&&(l=1),c<1&&(c=1),f<1&&(f=1),d<1&&(d=1),t.drawImage(e,u[i]*r,u[o]*n,l,c,h[i],h[o],f,d)},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,r=this._texture;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var n=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},i(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(s.default);e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(20);var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.points=n,i.vertices=new Float32Array(4*n.length),i.uvs=new Float32Array(4*n.length),i.colors=new Float32Array(2*n.length),i.indices=new Uint16Array(2*n.length),i.autoUpdate=!0,i.refresh(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,r=this.indices,n=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var i=t.length,o=1;o<i;o++){var s=4*o,a=o/(i-1);e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1,n[s=2*o]=1,n[s+1]=1,r[s=2*o]=s,r[s+1]=s+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],r=void 0,n=0,i=0,o=this.vertices,s=t.length,a=0;a<s;a++){var u=t[a],h=4*a;i=-((r=a<t.length-1?t[a+1]:u).x-e.x),n=r.y-e.y;var l=10*(1-a/(s-1));l>1&&(l=1);var c=Math.sqrt(n*n+i*i),f=this._texture.height/2;n/=c,i/=c,n*=f,i*=f,o[h]=u.x+n,o[h+1]=u.y+i,o[h+2]=u.x-n,o[h+3]=u.y-i,e=u}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=r(200);Object.defineProperty(e,"ParticleContainer",{enumerable:!0,get:function(){return o(n).default}});var i=r(201);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"ParticleRenderer",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(2);var s=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,n=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o>16384&&(o=16384),o>r&&(o=r),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=o,a._glBuffers={},a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=i.BLEND_MODES.NORMAL,a.autoResize=s,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,n=!0,i=0,o=0,s=0,a=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var h=this.children[u];if(h.visible){var l=h._texture.frame;if(e.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)==0)n&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx*t.resolution,r.ty*t.resolution),n=!1),i=h.anchor.x*(-l.width*h.scale.x)+h.position.x+.5,o=h.anchor.y*(-l.height*h.scale.y)+h.position.y+.5,s=l.width*h.scale.x,a=l.height*h.scale.y;else{n||(n=!0),h.displayObjectUpdateTransform();var c=h.worldTransform;t.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution|0,c.ty*t.resolution|0):e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution,c.ty*t.resolution),i=h.anchor.x*-l.width+.5,o=h.anchor.y*-l.height+.5,s=l.width,a=l.height}var f=h._texture.baseTexture.resolution;e.drawImage(h._texture.baseTexture.source,l.x*f,l.y*f,l.width*f,l.height*f,i*t.resolution,o*t.resolution,s*t.resolution,a*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},n(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,o.hex2rgb)(t,this.tintRgb)}}]),e}(i.Container);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=a(r(202)),o=a(r(203)),s=r(2);function a(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.shader=null,i.indexBuffer=null,i.properties=null,i.tempMatrix=new n.Matrix,i.CONTEXT_UID=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new i.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,o=this.renderer,s=e.length;if(0!==s){s>r&&(s=r);var a=t._glBuffers[o.CONTEXT_UID];a||(a=t._glBuffers[o.CONTEXT_UID]=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.renderer.setBlendMode(n.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha));var h=o.gl,l=t.worldTransform.copy(this.tempMatrix);l.prepend(o._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=l.toArray(!0),this.shader.uniforms.uColor=n.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.premultipliedAlpha),this.shader.uniforms.uSampler=o.bindTexture(u);for(var c=!1,f=0,d=0;f<s;f+=i,d+=1){var p=s-f;if(p>i&&(p=i),d>=a.length){if(!t.autoResize)break;a.push(this._generateOneMoreBuffer(t))}var v=a[d];v.uploadDynamic(e,f,p);var y=t._bufferUpdateIDs[d]||0;(c=c||v._updateID<y)&&(v._updateID=t._updateID,v.uploadStatic(e,f,p)),o.bindVao(v.vao),v.vao.draw(h.TRIANGLES,6*p)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,r=[],n=t._maxSize,i=t._batchSize,s=t._properties,a=0;a<n;a+=i)r.push(new o.default(e,this.properties,s,i));return r},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,r=t._batchSize,n=t._properties;return new o.default(e,this.properties,n,r)},e.prototype.uploadVertices=function(t,e,r,n,i,o){for(var s=0,a=0,u=0,h=0,l=0;l<r;++l){var c=t[e+l],f=c._texture,d=c.scale.x,p=c.scale.y,v=f.trim,y=f.orig;v?(s=(a=v.x-c.anchor.x*y.width)+v.width,u=(h=v.y-c.anchor.y*y.height)+v.height):(s=y.width*(1-c.anchor.x),a=y.width*-c.anchor.x,u=y.height*(1-c.anchor.y),h=y.height*-c.anchor.y),n[o]=a*d,n[o+1]=h*p,n[o+i]=s*d,n[o+i+1]=h*p,n[o+2*i]=s*d,n[o+2*i+1]=u*p,n[o+3*i]=a*d,n[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].position;n[o]=a.x,n[o+1]=a.y,n[o+i]=a.x,n[o+i+1]=a.y,n[o+2*i]=a.x,n[o+2*i+1]=a.y,n[o+3*i]=a.x,n[o+3*i+1]=a.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},e.prototype.uploadUvs=function(t,e,r,n,i,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(n[o]=a.x0,n[o+1]=a.y0,n[o+i]=a.x1,n[o+i+1]=a.y1,n[o+2*i]=a.x2,n[o+2*i+1]=a.y2,n[o+3*i]=a.x3,n[o+3*i+1]=a.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,r,n,i,o){for(var a=0;a<r;++a){var u=t[e+a],h=u._texture.baseTexture.premultipliedAlpha,l=u.alpha,c=l<1&&h?(0,s.premultiplyTint)(u._tintRGB,l):u._tintRGB+(255*l<<24);n[o]=c,n[o+i]=c,n[o+2*i]=c,n[o+3*i]=c,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(n.ObjectRenderer);e.default=u,n.WebGLRenderer.registerPlugin("particle",u)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(18);var o=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(5)),i=o(r(40));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<r.length;++o){var s=r[o];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,unsignedByte:s.unsignedByte,offset:s.offset},n[o]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,i.default)(this.size),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var o=this.dynamicProperties[r];o.offset=e,e+=o.size,this.dynamicStride+=o.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=n.default.GLBuffer.createVertexBuffer(t,s,t.STREAM_DRAW);var a=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var h=this.staticProperties[u];h.offset=a,a+=h.size,this.staticStride+=h.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=n.default.GLBuffer.createVertexBuffer(t,l,t.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var c=0;c<this.dynamicProperties.length;++c){var f=this.dynamicProperties[c];f.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*f.offset):this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.FLOAT,!1,4*this.dynamicStride,4*f.offset)}for(var d=0;d<this.staticProperties.length;++d){var p=this.staticProperties[d];p.unsignedByte?this.vao.addAttribute(this.staticBuffer,p.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*p.offset):this.vao.addAttribute(this.staticBuffer,p.attribute,t.FLOAT,!1,4*this.staticStride,4*p.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=r(205);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return u(n).default}});var i=r(206);Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return u(i).default}});var o=r(42);Object.defineProperty(e,"BasePrepare",{enumerable:!0,get:function(){return u(o).default}});var s=r(95);Object.defineProperty(e,"CountLimiter",{enumerable:!0,get:function(){return u(s).default}});var a=r(207);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"TimeLimiter",{enumerable:!0,get:function(){return u(a).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(42);var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.uploadHookHelper=n.renderer,n.registerFindHook(h),n.registerUploadHook(a),n.registerUploadHook(u),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((n=o)&&n.__esModule?n:{default:n}).default);function a(t,e){return e instanceof i.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function u(t,e){return e instanceof i.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function h(t,e){return t instanceof i.Graphics&&(e.push(t),!0)}e.default=s,i.WebGLRenderer.registerPlugin("prepare",s)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(42),s=(n=o)&&n.__esModule?n:{default:n};var a=16,u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.uploadHookHelper=n,n.canvas=document.createElement("canvas"),n.canvas.width=a,n.canvas.height=a,n.ctx=n.canvas.getContext("2d"),n.registerUploadHook(h),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(s.default);function h(t,e){if(e instanceof i.BaseTexture){var r=e.source,n=0===r.width?t.canvas.width:Math.min(t.canvas.width,r.width),o=0===r.height?t.canvas.height:Math.min(t.canvas.height,r.height);return t.ctx.drawImage(r,0,0,n,o,0,0,t.canvas.width,t.canvas.height),!0}return!1}e.default=u,i.CanvasRenderer.registerPlugin("prepare",u)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e.default=n},function(t,e,r){t.exports=r.p+"aed6575dee913e144c28e316be2c7683.png"},function(t,e,r){t.exports=r.p+"f27e248666f28a80619d235b844fe00d.png"},function(t,e,r){t.exports=r.p+"99a52c594cf3dd1a4cd6db7763861290.png"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){window.gameObserver=this}return t.prototype.reportPlayerScore=function(t){console.table(t)},t}();e.default=n},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(213)),o=n(r(224)),s=function(){function t(t){this.app=t,this.world=new o.default(this),this.keyboard=new i.default}return Object.defineProperty(t.prototype,"screen",{get:function(){return this.app.screen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resources",{get:function(){return this.app.loader.resources},enumerable:!0,configurable:!0}),t.prototype.run=function(){var t=this;this.app.loader.load(function(){t.setup(),t.app.ticker.add(t.loop.bind(t))})},t.prototype.setup=function(){this.keyboard.subscribe(),this.world.setup(),this.app.stage=this.world},t.prototype.loop=function(){var t=this.app.ticker;this.world.update(t.elapsedMS/1e3,this)},t}();e.default=s},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(11)).default("app:KeyboardListener"),o=r(216),s=r(96),a=function(){function t(t){this.code=t,this.emitter=new o.EventEmitter,this._isDown=!1,this._isRepeating=!1}return Object.defineProperty(t.prototype,"isDown",{get:function(){return this._isDown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRepeating",{get:function(){return this._isRepeating},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isUp",{get:function(){return!this.isDown},enumerable:!0,configurable:!0}),t.prototype.onEvent=function(t,e){i("Listen on %s for %s",this.code,t),this.emitter.on(t,e)},t.prototype.trigger=function(t){i("Trigger %s for %s",t,this.code),this.emitter.emit(t,this)},t.prototype.onKeyDown=function(t){t.preventDefault(),this._isRepeating=this.isDown,this._isDown=!0,this.trigger("keyDown"),this.isRepeating||this.trigger("keyDownSingle")},t.prototype.onKeyUp=function(t){t.code===this.code&&(t.preventDefault(),this._isDown=!1,this._isRepeating=!1,this.trigger("keyUp"))},t}();e.KeyBinding=a;var u=function(){function t(){var t=this;this.keyBindings=new s.Dictionary,this.onKeyDown=function(e){t.invokeIfListening(e.code,function(t){t.onKeyDown(e)})},this.onKeyUp=function(e){t.invokeIfListening(e.code,function(t){t.onKeyUp(e)})}}return t.prototype.isListening=function(t){return this.keyBindings.containsKey(t)},t.prototype.silence=function(t){this.keyBindings.remove(t)},t.prototype.onKey=function(t){return this.isListening(t)||this.keyBindings.setValue(t,new a(t)),this.keyBindings.getValue(t)},t.prototype.invokeIfListening=function(t,e){var r=this.keyBindings.getValue(t);null!=r&&e(r)},t.prototype.subscribe=function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},t.prototype.unsubscribe=function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},t}();e.default=u},function(t,e,r){var n;function i(t){function r(){if(r.enabled){var t=r,i=+new Date,o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(r.log||e.log||console.log.bind(console)).apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),"function"==typeof e.init&&e.init(r),r}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var r=("string"==typeof t?t:"").split(/[\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&("-"===(t=r[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(215),e.names=[],e.skips=[],e.formatters={}},function(t,e){var r=1e3,n=60*r,i=60*n,o=24*i,s=365.25*o;function a(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}t.exports=function(t,e){e=e||{};var u,h=typeof t;if("string"===h&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===h&&!1===isNaN(t))return e.long?a(u=t,o,"day")||a(u,i,"hour")||a(u,n,"minute")||a(u,r,"second")||u+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=i)return Math.round(t/i)+"h";if(t>=n)return Math.round(t/n)+"m";if(t>=r)return Math.round(t/r)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,s,a,u,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(o(r=this._events[t]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(i(r))for(a=Array.prototype.slice.call(arguments,1),s=(h=r.slice()).length,u=0;u<s;u++)h[u].apply(this,a);return!0},r.prototype.addListener=function(t,e){var s;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(s=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){if(!n(e))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},r.prototype.removeListener=function(t,e){var r,o,s,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(r=this._events[t]).length,o=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(r)){for(a=s;a-- >0;)if(r[a]===e||r[a].listener&&r[a].listener===e){o=a;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),i=r(13),o=r(97),s=function(){function t(t){this.toStrF=t||n.defaultToString,this.dictionary=new i.default(this.toStrF),this.nElements=0}return t.prototype.add=function(t,e){if(void 0===e&&(e=1),n.isUndefined(t)||e<=0)return!1;if(this.contains(t))this.dictionary.getValue(t).copies+=e;else{var r={value:t,copies:e};this.dictionary.setValue(t,r)}return this.nElements+=e,!0},t.prototype.count=function(t){return this.contains(t)?this.dictionary.getValue(t).copies:0},t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.remove=function(t,e){if(void 0===e&&(e=1),n.isUndefined(t)||e<=0)return!1;if(this.contains(t)){var r=this.dictionary.getValue(t);return e>r.copies?this.nElements-=r.copies:this.nElements-=e,r.copies-=e,r.copies<=0&&this.dictionary.remove(t),!0}return!1},t.prototype.toArray=function(){for(var t=[],e=0,r=this.dictionary.values();e<r.length;e++)for(var n=r[e],i=n.value,o=n.copies,s=0;s<o;s++)t.push(i);return t},t.prototype.toSet=function(){for(var t=new o.default(this.toStrF),e=0,r=this.dictionary.values();e<r.length;e++){var n=r[e].value;t.add(n)}return t},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,r){for(var n=r.value,i=r.copies,o=0;o<i;o++)if(!1===t(n))return!1;return!0})},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},t}();e.default=s},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r(98).default);e.default=o},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(13),s=r(6),a=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}(),u=function(){function t(){this.key=null,this.value=null}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}();var h=function(t){function e(e){var r=t.call(this,e)||this;return r.head=new u,r.tail=new u,r.head.next=r.tail,r.tail.prev=r.head,r}return i(e,t),e.prototype.appendToTail=function(t){var e=this.tail.prev;e.next=t,t.prev=e,t.next=this.tail,this.tail.prev=t},e.prototype.getLinkedDictionaryPair=function(t){if(!s.isUndefined(t)){var e="$"+this.toStr(t);return this.table[e]}},e.prototype.getValue=function(t){var e=this.getLinkedDictionaryPair(t);if(!s.isUndefined(e))return e.value},e.prototype.remove=function(e){var r=this.getLinkedDictionaryPair(e);if(!s.isUndefined(r))return t.prototype.remove.call(this,e),r.unlink(),r.value},e.prototype.clear=function(){t.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},e.prototype.replace=function(t,e){var r="$"+this.toStr(e.key);e.next=t.next,e.prev=t.prev,this.remove(t.key),e.prev.next=e,e.next.prev=e,this.table[r]=e,++this.nElements},e.prototype.setValue=function(t,e){if(!s.isUndefined(t)&&!s.isUndefined(e)){var r=this.getLinkedDictionaryPair(t),n=new a(t,e),i="$"+this.toStr(t);return s.isUndefined(r)?(this.appendToTail(n),this.table[i]=n,void++this.nElements):(this.replace(r,n),r.value)}},e.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(e)}),t},e.prototype.values=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),t},e.prototype.forEach=function(t){for(var e=this.head.next;null!==e.next;){if(!1===t(e.key,e.value))return;e=e.next}},e}(o.default);e.default=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),i=r(13),o=r(21),s=function(){function t(t,e,r){void 0===r&&(r=!1),this.dict=new i.default(t),this.equalsF=e||n.defaultEquals,this.allowDuplicate=r}return t.prototype.getValue=function(t){var e=this.dict.getValue(t);return n.isUndefined(e)?[]:o.copy(e)},t.prototype.setValue=function(t,e){if(n.isUndefined(t)||n.isUndefined(e))return!1;var r=this.dict.getValue(t);return n.isUndefined(r)?(this.dict.setValue(t,[e]),!0):!(!this.allowDuplicate&&o.contains(r,e,this.equalsF))&&(r.push(e),!0)},t.prototype.remove=function(t,e){if(n.isUndefined(e)){var r=this.dict.remove(t);return!n.isUndefined(r)}var i=this.dict.getValue(t);return!(n.isUndefined(i)||!o.remove(i,e,this.equalsF))&&(0===i.length&&this.dict.remove(t),!0)},t.prototype.keys=function(){return this.dict.keys()},t.prototype.values=function(){for(var t=[],e=0,r=this.dict.values();e<r.length;e++)for(var n=0,i=r[e];n<i.length;n++){var o=i[n];t.push(o)}return t},t.prototype.containsKey=function(t){return this.dict.containsKey(t)},t.prototype.clear=function(){this.dict.clear()},t.prototype.size=function(){return this.dict.size()},t.prototype.isEmpty=function(){return this.dict.isEmpty()},t}();e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),i=r(100),o=function(){function t(t){this.heap=new i.default(n.reverseCompareFunction(t))}return t.prototype.enqueue=function(t){return this.heap.add(t)},t.prototype.add=function(t){return this.heap.add(t)},t.prototype.dequeue=function(){if(0!==this.heap.size()){var t=this.heap.peek();return this.heap.removeRoot(),t}},t.prototype.peek=function(){return this.heap.peek()},t.prototype.contains=function(t){return this.heap.contains(t)},t.prototype.isEmpty=function(){return this.heap.isEmpty()},t.prototype.size=function(){return this.heap.size()},t.prototype.clear=function(){this.heap.clear()},t.prototype.forEach=function(t){this.heap.forEach(t)},t}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(43),i=function(){function t(){this.list=new n.default}return t.prototype.push=function(t){return this.list.add(t,0)},t.prototype.add=function(t){return this.list.add(t,0)},t.prototype.pop=function(){return this.list.removeElementAtIndex(0)},t.prototype.peek=function(){return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.isEmpty()},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();e.default=i},function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER",t[t.INSIDE_AT_END=2]="INSIDE_AT_END",t[t.INSIDE_AT_START=3]="INSIDE_AT_START"}(n||(n={}));var i=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.rootIds=t,this.nodes=e,this.initRootIds(),this.initNodes()}return t.prototype.initRootIds=function(){for(var t=0,e=this.rootIds;t<e.length;t++){var r=e[t];this.createEmptyNodeIfNotExist(r)}},t.prototype.initNodes=function(){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var e=0,r=this.nodes[t];e<r.length;e++){var n=r[e];this.createEmptyNodeIfNotExist(n)}},t.prototype.createEmptyNodeIfNotExist=function(t){this.nodes[t]||(this.nodes[t]=[])},t.prototype.getRootIds=function(){return this.rootIds.slice()},t.prototype.getNodes=function(){var t={};for(var e in this.nodes)this.nodes.hasOwnProperty(e)&&(t[e]=this.nodes[e].slice());return t},t.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},t.prototype.toObject=function(){return this.getObject()},t.prototype.flatten=function(){for(var t=this,e=[],r=0;r<this.rootIds.length;r++){var n=this.rootIds[r];e.push({id:n,level:0,hasParent:!1,childrenCount:0}),u(n,this.nodes,e,0)}for(var i=0,o=e;i<o.length;i++){var s=o[i];s.childrenCount=a(s.id)}return e;function a(e){return t.nodes[e]?t.nodes[e].length:0}function u(t,e,r,n){if(void 0===n&&(n=0),t&&e&&r&&e[t]){n++;for(var i=e[t],o=0;o<i.length;o++){var s=i[o];r.push({id:s,level:n,hasParent:!0}),u(s,e,r,n)}n--}}},t.prototype.moveIdBeforeId=function(t,e){return this.moveId(t,e,n.BEFORE)},t.prototype.moveIdAfterId=function(t,e){return this.moveId(t,e,n.AFTER)},t.prototype.moveIdIntoId=function(t,e,r){return void 0===r&&(r=!0),r?this.moveId(t,e,n.INSIDE_AT_START):this.moveId(t,e,n.INSIDE_AT_END)},t.prototype.swapRootIdWithRootId=function(t,e){var r=this.findRootId(t),n=this.findRootId(e);this.swapRootPositionWithRootPosition(r,n)},t.prototype.swapRootPositionWithRootPosition=function(t,e){var r=this.rootIds[e];this.rootIds[e]=this.rootIds[t],this.rootIds[t]=r},t.prototype.deleteId=function(t){this.rootDeleteId(t),this.nodeAndSubNodesDelete(t),this.nodeRefrencesDelete(t)},t.prototype.insertIdBeforeId=function(t,e){var r=this.findRootId(t);for(var n in r>-1&&this.insertIdIntoRoot(e,r),this.nodes)if(this.nodes.hasOwnProperty(n)){var i=this.findNodeId(n,t);i>-1&&this.insertIdIntoNode(n,e,i)}},t.prototype.insertIdAfterId=function(t,e){var r=this.findRootId(t);for(var n in r>-1&&this.insertIdIntoRoot(e,r+1),this.nodes)if(this.nodes.hasOwnProperty(n)){var i=this.findNodeId(n,t);i>-1&&this.insertIdIntoNode(n,e,i+1)}},t.prototype.insertIdIntoId=function(t,e){this.nodeInsertAtEnd(t,e),this.nodes[e]=[]},t.prototype.insertIdIntoRoot=function(t,e){if(void 0===e)this.rootInsertAtEnd(t);else if(e<0){var r=this.rootIds.length;this.rootIds.splice(e+r+1,0,t)}else this.rootIds.splice(e,0,t);this.nodes[t]=this.nodes[t]||[]},t.prototype.insertIdIntoNode=function(t,e,r){if(this.nodes[t]=this.nodes[t]||[],this.nodes[e]=this.nodes[e]||[],void 0===r)this.nodeInsertAtEnd(t,e);else if(r<0){var n=this.nodes[t].length;this.nodes[t].splice(r+n+1,0,e)}else this.nodes[t].splice(r,0,e)},t.prototype.moveId=function(t,e,r){var i=t,o=this.findRootId(i);for(var s in this.nodes[e]&&e,this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,e);break}var a=e,u=this.findRootId(a);for(var s in this.nodes[e]&&e,this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,e);break}if(o>-1)if(u>-1)switch(this.rootDelete(o),u>o&&u--,r){case n.BEFORE:this.insertIdIntoRoot(i,u);break;case n.AFTER:this.insertIdIntoRoot(i,u+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(a,i);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(a,i)}else for(var s in this.rootDelete(o),this.nodes){if(this.nodes.hasOwnProperty(s))if((h=this.findNodeId(s,a))>-1){switch(r){case n.BEFORE:this.insertIdIntoNode(s,i,h);break;case n.AFTER:this.insertIdIntoNode(s,i,h+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(a,i);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(a,i)}break}}else if(u>-1){for(var s in this.nodes){if(this.nodes.hasOwnProperty(s))if((h=this.findNodeId(s,i))>-1){this.nodeDeleteAtIndex(s,h);break}}switch(r){case n.BEFORE:this.insertIdIntoRoot(i,u);break;case n.AFTER:this.insertIdIntoRoot(i,u+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(a,i);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(a,i)}}else{for(var s in this.nodes){if(this.nodes.hasOwnProperty(s))if((h=this.findNodeId(s,i))>-1){this.nodeDeleteAtIndex(s,h);break}}for(var s in this.nodes){var h;if(this.nodes.hasOwnProperty(s))if((h=this.findNodeId(s,a))>-1){switch(r){case n.BEFORE:this.insertIdIntoNode(s,i,h);break;case n.AFTER:this.insertIdIntoNode(s,i,h+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(a,i);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(a,i)}break}}}},t.prototype.swapArrayElements=function(t,e,r){var n=t[e];return t[e]=t[r],t[r]=n,t},t.prototype.rootDeleteId=function(t){var e=this.findRootId(t);e>-1&&this.rootDelete(e)},t.prototype.nodeAndSubNodesDelete=function(t){for(var e=[],r=0;r<this.nodes[t].length;r++){var n=this.nodes[t][r];this.nodeAndSubNodesDelete(n),e.push(t)}this.nodeDelete(t);for(r=0;r<e.length;r++)this.nodeDelete(e[r])},t.prototype.nodeRefrencesDelete=function(t){for(var e in this.nodes)if(this.nodes.hasOwnProperty(e))for(var r=0;r<this.nodes[e].length;r++){this.nodes[e][r]===t&&this.nodeDeleteAtIndex(e,r)}},t.prototype.nodeDelete=function(t){delete this.nodes[t]},t.prototype.findRootId=function(t){return this.rootIds.indexOf(t)},t.prototype.findNodeId=function(t,e){return this.nodes[t].indexOf(e)},t.prototype.findNode=function(t){return this.nodes[t]},t.prototype.nodeInsertAtStart=function(t,e){this.nodes[t].unshift(e)},t.prototype.nodeInsertAtEnd=function(t,e){this.nodes[t].push(e)},t.prototype.rootDelete=function(t){this.rootIds.splice(t,1)},t.prototype.nodeDeleteAtIndex=function(t,e){this.nodes[t].splice(e,1)},t.prototype.rootInsertAtStart=function(t){this.rootIds.unshift(t)},t.prototype.rootInsertAtEnd=function(t){this.rootIds.push(t)},t}();e.default=i},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});o(r(11)).default("app:World");var s=o(r(225)),a=o(r(226)),u=o(r(228)),h=o(r(231)),l=o(r(232)),c=r(103),f=function(t){function e(e){var r=t.call(this,"Game",e)||this;return r.params=new h.default,r.scoreLabel=new c.FixedScoreLabel(r),window.world=r,r}return i(e,t),e.prototype.setup=function(){this.params.setup(this),this.addController(new l.default(this,"TimNew","Space"));var t=new a.default(this);this.addObject(t),this.addObject(new u.default(this)),this.addChild(this.scoreLabel),t.startGame()},e}(s.default);e.default=f},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r(11)).default("app:Stage"),a=r(8),u=r(96),h=o(r(14)),l=function(t){function e(e,r){var n=t.call(this)||this;return n.game=r,n.actors=new u.MultiDictionary,n.controllers=new u.MultiDictionary,n.fullName=new h.default("Stage",e),n.name=n.fullName.toString(),n}return i(e,t),Object.defineProperty(e.prototype,"screen",{get:function(){return this.game.screen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resources",{get:function(){return this.game.resources},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyboard",{get:function(){return this.game.keyboard},enumerable:!0,configurable:!0}),e.prototype.addObject=function(t){t instanceof a.DisplayObject?this.addActor(t):this.addController(t)},e.prototype.removeObject=function(t){t instanceof a.DisplayObject?this.removeActor(t):this.removeController(t)},e.prototype.addActor=function(t,e){void 0===e&&(e=!1),s("Add actor: %s",t.name),this.actors.setValue(t.fullName.type,t),e?this.addChild(t):this.addChildAt(t,0)},e.prototype.addController=function(t){s("Add controller: %s",t.fullName),this.controllers.setValue(t.fullName.type,t)},e.prototype.removeActor=function(t){s("Remove actor: %s",t.name),this.actors.remove(t.fullName.type,t),this.removeChild(t)},e.prototype.removeController=function(t){s("Remove controller: %s",t.fullName),this.controllers.remove(t.fullName.name,t)},e.prototype.update=function(t,e){var r=this;this.actors.values().forEach(function(e){e.update(t,r)}),this.controllers.values().forEach(function(e){e.update(t,r)}),this.updateOthers()},e.prototype.updateOthers=function(){},e}(a.Container);e.default=l},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(11)).default("app:Judger"),o=n(r(227)),s=n(r(14)),a=function(){function t(t){this.world=t,this.fullName=s.default.singleton("Judger"),this.nextPipe=null;var e=t.params,r=e.halfBirdWidth,n=e.pipeWidth,i=e.halfScreenWidth;this.safeX=i-r-n}return t.prototype.update=function(t,e){null!=this.nextPipe&&this.nextPipe.x<this.safeX&&(this.updatePlayerPipeCount(),this.nextPipe=null),null==this.nextPipe&&(this.nextPipe=this.findNextPipe(e)),null!=this.nextPipe&&this.detectCollision(this.nextPipe,e),this.updatePlayer(t,e.params.speed)},t.prototype.findNextPipe=function(t){var e,r=this,n=t.actors.getValue("PipeGate").filter(function(t){return t.x>=r.safeX});switch(n.length){case 0:e=null;break;case 1:e=n[0],i("Next Pipe: %s[x: %d, y: %d +- %d]",e.name,e.x,e.position,e.halfGapSize);break;default:e=n.reduce(function(t,e){return e.x<t.x?e:t},n[0]),i("Next Pipe: %s[x: %d, y: %d +- %d]",e.name,e.x,e.position,e.halfGapSize)}return e},t.prototype.detectCollision=function(t,e){var r=this;this.liveBirds.filter(function(e){return t.testHit(e)}).forEach(function(e){i("Bird[%s] collides on Pipe[%s]",e.name,t.name),e.kill(),r.revivePlayer(e.player)})},t.prototype.createBirdForPlayer=function(t,e){var r=new o.default(t,this.world,e);this.world.addActor(r)},Object.defineProperty(t.prototype,"players",{get:function(){return this.world.controllers.getValue("Player").map(function(t){return t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"liveBirds",{get:function(){return this.world.actors.getValue("Player").map(function(t){return t}).filter(function(t){return t.isLive})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"livePlayers",{get:function(){return this.liveBirds.map(function(t){return t.player})},enumerable:!0,configurable:!0}),t.prototype.startGame=function(){var t=this;this.players.forEach(function(e){t.createBirdForPlayer(e,!0),e.onGameStart()})},t.prototype.updatePlayer=function(t,e){var r=this,n=t*e;this.liveBirds.forEach(function(t){var i=t.player;if(i.onIncreaseDistance(n),null!=r.nextPipe){var o=r.nextPipe,s=o.gapPosition,a=o.halfGapSize,u=o.x;i.onVisual({speed:e,distanceToNextPipe:u-t.x,pipeGap:2*a,heightDifference:s-t.y})}})},t.prototype.updatePlayerPipeCount=function(){this.livePlayers.forEach(function(t){return t.onIncreasePipeCount()})},t.prototype.revivePlayer=function(t){this.world.params.autoRevive&&this.createBirdForPlayer(t,!0)},t}();e.default=a},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r(11)).default("app:Bird"),a=r(8),u=function(t){function e(e,r,n){void 0===n&&(n=!1);var i=t.call(this,e.fullName)||this;i.player=e,i.world=r,i.birdSprite=i.createBirdSprite(r);var o=r.screen;i.x=o.width/2,i.y=o.height/2;var s=i.height/2,u=i.width/2;return i.moveBounds=new a.Rectangle(-u,s,o.width/2+u,o.height-i.height),i.velocity=0,i.state=n?new f(i):new l(i),e.attach(i),i}return i(e,t),e.prototype.createBirdSprite=function(t){var e=new a.Sprite(t.resources.bird.texture);return e.anchor.set(.5),e.x=0,e.y=0,this.addChild(e),e},Object.defineProperty(e.prototype,"isLive",{get:function(){return this.state.isLive},enumerable:!0,configurable:!0}),e.prototype.onLeash=function(t,e){switch(s("Command: %s(%j)",t,e),t){case"flap":this.flap()}},e.prototype.update=function(t,e){this.state.onUpdate(t)},e.prototype.updateVelocity=function(t){var e=this.world.params,r=e.maxDroppingSpeed,n=e.gravity;this.velocity<r&&(this.velocity+=n*t)},e.prototype.updateX=function(t){var e=this.world.params.speed;this.x-=e*t,this.x<=this.moveBounds.left&&this.world.removeObject(this)},e.prototype.updateY=function(t){this.y+=this.velocity*t,this.y<this.moveBounds.top?(this.velocity=0,this.y=this.moveBounds.top,this.state.onHitTop()):this.y>this.moveBounds.bottom&&(this.velocity=0,this.y=this.moveBounds.bottom,this.state.onHitBottom())},e.prototype.updateRotation=function(){var t=this.world.params,e=t.maxRaisingSpeed,r=t.maxDroppingSpeed,n=t.maxRotation;this.velocity<0?this.birdSprite.rotation=this.velocity/e*n:this.velocity>0?this.birdSprite.rotation=this.velocity/r*n:this.birdSprite.rotation=0},e.prototype.dispose=function(){this.player.detach(this)},e.prototype.flap=function(){this.state.onFlap()},e.prototype.kill=function(){this.state.onKill()},e}(r(102).ContainerActor);e.default=u;var h=function(){function t(t,e,r){void 0===r&&(r=!1),this.bird=t,this.name=e,this.isLive=r,t.state=this,s("Bird[%s] state changed to %s",t.name,e)}return t.prototype.onUpdate=function(t){},t.prototype.onFlap=function(){},t.prototype.onKill=function(){},t.prototype.onHitTop=function(){},t.prototype.onHitBottom=function(){},t}(),l=function(t){function e(e){var r=t.call(this,e,"Live",!0)||this;return e.alpha=1,e.birdSprite.tint=16777215,r}return i(e,t),e.prototype.onUpdate=function(t){var e=this.bird;e.updateY(t),e.updateVelocity(t),e.updateRotation()},e.prototype.onFlap=function(){var t=this.bird,e=t.world.params.raisingSpeed;t.velocity=-e,t.updateRotation()},e.prototype.onKill=function(){new c(this.bird)},e}(h),c=function(t){function e(e){var r=t.call(this,e,"Dead",!1)||this;return e.birdSprite.tint=4278242508,e.dispose(),e.player.onDeath(),r}return i(e,t),e.prototype.onUpdate=function(t){var e=this.bird;e.updateY(t),e.updateVelocity(t),e.updateRotation(),e.updateX(t)},e}(h),f=function(t){function e(e){var r=t.call(this,e,"Pending",!1)||this;return e.alpha=.5,r}return i(e,t),e.prototype.onFlap=function(){new l(this.bird),this.bird.player.onRevive(),this.bird.flap()},e}(h)},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(11)).default("app:PipeGenerator"),o=r(229),s=n(r(14)),a=n(r(230)),u=function(){function t(t){this.world=t,this.fullName=s.default.singleton("PipeGenerator"),this._distance=0,this.initialX=t.screen.width,this._distance=o.randomInt(3*t.params.pipeWidth)}return Object.defineProperty(t.prototype,"distanceThreshold",{get:function(){return this.world.params.minPipeDistance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),t.prototype.update=function(t,e){this._distance-=e.params.speed*t,this.distance<this.distanceThreshold&&(i("Generating Pipe: %d < %d",this.distance,this.distanceThreshold),this.generatePipe(),this.generateDistance())},t.prototype.generatePipe=function(){var t=this.world.params,e=o.randomInt(t.maxGapSize,t.minGapSize)/2,r=o.randomInt(this.world.screen.height-t.minPipeBottomMargin-e,t.minPipeTopMargin+e),n=this.distance+this.initialX;i("Generate Pipe: [%d, %d +- %d]",n,r,e),this.world.addObject(new a.default(this.world,n,r,e))},t.prototype.generateDistance=function(){this._distance+=o.randomInt(this.world.params.maxPipeDistance,this.world.params.minPipeDistance),i("new distance: %d",this.distance)},t}();e.default=u},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=0),e+Math.random()*(t-e)}Object.defineProperty(e,"__esModule",{value:!0}),e.randomFloat=n,e.randomInt=function(t,e){return void 0===e&&(e=0),Math.floor(n(e,t))}},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(102),a=r(8),u=o(r(14)),h=function(t){function e(r,n,i,o){var s=t.call(this,new u.default("PipeGate",String(e.instanceCount++)))||this;return s.gapPosition=i,s.halfGapSize=o,s.x=n,s.topPipe=new l(r.resources,1,"topPipe",i-o),s.bottomPipe=new l(r.resources,0,"bottomPipe",i+o),s.addChild(s.topPipe),s.addChild(s.bottomPipe),s}return i(e,t),Object.defineProperty(e.prototype,"tint",{get:function(){return this.topPipe.tint},set:function(t){this.topPipe.tint=this.bottomPipe.tint=t},enumerable:!0,configurable:!0}),e.prototype.testHit=function(t){var e=t.getBounds();return this.topPipe.getBounds().overlaps(e)||this.bottomPipe.getBounds().overlaps(e)},e.prototype.update=function(t,e){this.x-=e.params.speed*t,this.getBounds().right<=0&&e.removeObject(this)},e.instanceCount=0,e}(s.ContainerActor);e.default=h;var l=function(t){function e(e,r,n,i){var o=t.call(this,e[n].texture)||this;return o.anchor.set(0,r),o.x=0,o.y=i,o}return i(e,t),e}(a.Sprite)},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(14)),o=r(8),s=function(){function t(){this.fullName=i.default.singleton("ParameterController"),this.screen=o.Rectangle.EMPTY,this.pipeWidth=0,this.birdWidth=0,this.birdHeight=0,this.maxRaisingSpeed=0,this.raisingSpeed=0,this.gravity=5,this.maxDroppingSpeed=0,this.maxRotation=Math.PI/6,this.speed=1,this.minPipeDistance=0,this.maxPipeDistance=0,this.minGapSize=0,this.maxGapSize=0,this.minPipeTopMargin=30,this.minPipeBottomMargin=30,this.autoRevive=!0,window.params=this}return Object.defineProperty(t.prototype,"screenWidth",{get:function(){return this.screen.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"screenHeight",{get:function(){return this.screen.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"halfScreenWidth",{get:function(){return this.screenWidth/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"halfScreenHeight",{get:function(){return this.screenHeight/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"halfBirdWidth",{get:function(){return this.birdWidth/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"halfBirdHeight",{get:function(){return this.birdHeight/2},enumerable:!0,configurable:!0}),t.prototype.setup=function(t){this.screen=t.screen;var e=t.resources.bird.texture;this.birdHeight=e.height,this.birdWidth=e.width,this.pipeWidth=t.resources.topPipe.texture.width,this.speed=t.screen.width/4,this.gravity=80*this.birdHeight,this.maxDroppingSpeed=this.gravity,this.raisingSpeed=15*this.birdHeight,this.maxRaisingSpeed=this.raisingSpeed,this.maxRotation=Math.PI/3,this.minPipeBottomMargin=30,this.minPipeTopMargin=30;var r=(this.pipeWidth+this.birdWidth)/this.speed*Math.min(this.maxDroppingSpeed,this.maxRaisingSpeed,this.gravity/60);this.minGapSize=5*r,this.maxGapSize=8*r,this.maxPipeDistance=6*this.pipeWidth,this.minPipeDistance=4*this.pipeWidth,this.autoRevive=!0},t.prototype.update=function(t,e){},t}();e.default=s},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e,r,n){var i=t.call(this,e,r)||this;return i.world=e,i.keyCode=n,e.keyboard.onKey(n).onEvent("keyDownSingle",function(){i.flap()}),i.debug("Listening on key %s",n),i}return i(e,t),e.prototype.setupNameLabel=function(e){var r=t.prototype.setupNameLabel.call(this,e);return r.alpha=.7,r},e.prototype.setupScoreLabel=function(t){return this.scoreLabel=this.world.scoreLabel,this.scoreLabel},e.prototype.dispose=function(){this.world.keyboard.silence(this.keyCode),this.debug("Disposed")},e}(o(r(233)).default);e.default=s},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(11)),o=n(r(14)),s=n(r(234)),a=r(103),u=function(){function t(t,e){this.world=t,this.scoreLabel=null,this.score=0,this.bestScore=0,this.distance=0,this.bestDistance=0,this.pipeCount=0,this.bestPipeCount=0,this.death=0,this.birdLeash=null,this.fullName=new o.default("Player",e),this.debug=i.default(this.fullName.fullName),this.reportScore()}return Object.defineProperty(t.prototype,"name",{get:function(){return this.fullName.name},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){this.birdLeash=t.onLeash.bind(t),this.setupNameLabel(t),this.setupScoreLabel(t),this.renderScore()},t.prototype.detach=function(t){this.birdLeash=null},t.prototype.setupNameLabel=function(t){var e=this.fullName.name+":"+this.death,r=new s.default(e,t.birdSprite);return t.addChild(r),r},t.prototype.setupScoreLabel=function(t){var e=new a.AttachedScoreLabel(t);return this.scoreLabel=e,e},t.prototype.renderScore=function(){null!=this.scoreLabel&&this.scoreLabel.renderScore(this)},t.prototype.instructBird=function(t,e){void 0===e&&(e=null),null!=this.birdLeash?this.birdLeash(t,e):this.debug("Player not yet registered")},t.prototype.onGameStart=function(){this.debug("Game start")},t.prototype.flap=function(){this.debug("Flap Bird"),this.instructBird("flap")},t.prototype.onIncreaseDistance=function(t){this.distance+=t,this.updateScore(!1)},t.prototype.onIncreasePipeCount=function(){this.pipeCount+=1,this.updateScore()},t.prototype.updateScore=function(t){void 0===t&&(t=!0),this.score=this.distance+500*this.pipeCount,this.renderScore(),t&&(this.debug("Score: d: %d p: %d s: %d",this.distance,this.pipeCount,this.score),this.reportScore())},t.prototype.onDeath=function(){this.death+=1,this.debug("Dead: $d",this.death),this.bestScore=Math.max(this.bestScore,this.score),this.score=0,this.bestDistance=Math.max(this.bestDistance,this.distance),this.distance=0,this.bestPipeCount=Math.max(this.bestPipeCount,this.pipeCount),this.pipeCount=0,this.updateScore()},t.prototype.onRevive=function(){this.debug("Revive")},t.prototype.onVisual=function(t){},t.prototype.update=function(t,e){},t.prototype.reportScore=function(){null!=window.gameObserver&&window.gameObserver.reportPlayerScore({name:this.fullName.name,score:this.score,bestScore:this.bestScore,distance:this.distance,bestDistance:this.bestDistance,pipeCount:this.pipeCount,bestPipeCount:this.bestPipeCount,death:this.death})},t}();e.default=u},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),s=function(t){function e(e,r,n){void 0===n&&(n=1);var i=this,s=new o.TextStyle({fontFamily:"Arial",fontSize:16,fill:["#ffff","#cccccc"],stroke:"#333333",strokeThickness:1});return(i=t.call(this,e,s)||this).anchor.set(.5,1),i.x=0,i.y=-r.height/2-10,i.alpha=n,i}return i(e,t),e}(o.Text);e.default=s}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvY29uc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc2V0dGluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZXNjcmlwdC1jb2xsZWN0aW9ucy9kaXN0L2xpYi91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wYXRoLWJyb3dzZXJpZnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1RleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL0Jhc2VUZXh0dXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90eXBlc2NyaXB0LWNvbGxlY3Rpb25zL2Rpc3QvbGliL0RpY3Rpb25hcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9GdWxsTmFtZS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9kaXNwbGF5L0NvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9tYW5hZ2Vycy9XZWJHTE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL01lc2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVzY3JpcHQtY29sbGVjdGlvbnMvZGlzdC9saWIvYXJyYXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC91dGlscy9PYmplY3RSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvUmVuZGVyVGFyZ2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3V0aWxzL2J1aWxkTGluZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvUG9pbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9NYXRyaXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9zaGFwZXMvUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9tYXBUeXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvQm91bmRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pc21vYmlsZWpzL2Rpc3QvaXNNb2JpbGUubWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvVHJhbnNmb3JtQmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc3ByaXRlcy9TcHJpdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JpdC10d2lkZGxlL3R3aWRkbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGlja2VyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1JlbmRlclRleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc3ByaXRlcy9jYW52YXMvQ2FudmFzVGludGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9SZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS9CYXNlUHJlcGFyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZXNjcmlwdC1jb2xsZWN0aW9ucy9kaXN0L2xpYi9MaW5rZWRMaXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvT2JzZXJ2YWJsZVBvaW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvR3JvdXBEOC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zZXRWZXJ0ZXhBdHRyaWJBcnJheXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvR0xUZXh0dXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9jb21waWxlUHJvZ3JhbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvZXh0cmFjdEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL21hcFNpemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL2V4dHJhY3RVbmlmb3Jtcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvZGVmYXVsdFZhbHVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9zZXRQcmVjaXNpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL2dlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9kaXNwbGF5L0Rpc3BsYXlPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZGlzcGxheS9UcmFuc2Zvcm1TdGF0aWMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZGlzcGxheS9UcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VybC91cmwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvVmlkZW9CYXNlVGV4dHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0dXJlcy9UZXh0dXJlVXZzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy9TeXN0ZW1SZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0dXJlcy9CYXNlUmVuZGVyVGV4dHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL0NhbnZhc1JlbmRlclRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL0ZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1RleHR1cmVNYXRyaXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL1F1YWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dC9UZXh0U3R5bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dC9UZXh0TWV0cmljcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy9HcmFwaGljc0RhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvQXBwbGljYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvYXV0b0RldGVjdFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hY2Nlc3NpYmlsaXR5L2FjY2Vzc2libGVUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL0JsdXJYRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2JsdXIvZ2VuZXJhdGVCbHVyVmVydFNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvYmx1ci9nZXRNYXhCbHVyS2VybmVsU2l6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL0JsdXJZRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbkRhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uRXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbnRlcmFjdGlvbi9pbnRlcmFjdGl2ZVRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy9iaXRtYXBGb250UGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9taW5pLXNpZ25hbHMvbGliL21pbmktc2lnbmFscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGFyc2UtdXJpL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL2FzeW5jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL2I2NC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy9zcHJpdGVzaGVldFBhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy90ZXh0dXJlUGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL1BsYW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wcmVwYXJlL2xpbWl0ZXJzL0NvdW50TGltaXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZXNjcmlwdC1jb2xsZWN0aW9ucy9kaXN0L2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZXNjcmlwdC1jb2xsZWN0aW9ucy9kaXN0L2xpYi9TZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVzY3JpcHQtY29sbGVjdGlvbnMvZGlzdC9saWIvQlNUcmVlS1YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVzY3JpcHQtY29sbGVjdGlvbnMvZGlzdC9saWIvUXVldWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVzY3JpcHQtY29sbGVjdGlvbnMvZGlzdC9saWIvSGVhcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZXNjcmlwdC1jb2xsZWN0aW9ucy9kaXN0L2xpYi9GYWN0b3J5RGljdGlvbmFyeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL0NvbnRhaW5lckFjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy93b3JsZC9TY29yZUxhYmVsLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGF0Y2hlcy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGF0Y2hlcy9SZWN0YW5nbGUtb3ZlcmxhcHMudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BvbHlmaWxsL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wb2x5ZmlsbC9PYmplY3QuYXNzaWduLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wb2x5ZmlsbC9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BvbHlmaWxsL01hdGguc2lnbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcG9seWZpbGwvTnVtYmVyLmlzSW50ZWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL3NoYXBlcy9DaXJjbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9zaGFwZXMvRWxsaXBzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL3NoYXBlcy9Qb2x5Z29uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvc2hhcGVzL1JvdW5kZWRSZWN0YW5nbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvY3JlYXRlQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9HTEJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9HTEZyYW1lYnVmZmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL0dMU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL1ZlcnRleEFycmF5T2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9tYXhSZWNvbW1lbmRlZFRleHR1cmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL2NhblVwbG9hZFNhbWVCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvcGx1Z2luVGFyZ2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL21peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZW1vdmUtYXJyYXktaXRlbXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25vZGUtbGlicy1icm93c2VyL25vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZGVjb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZW5jb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RpY2tlci9UaWNrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGlja2VyL1RpY2tlckxpc3RlbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvY2FudmFzL0NhbnZhc1Nwcml0ZVJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy9jYW52YXMvdXRpbHMvQ2FudmFzTWFza01hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL2NhbnZhcy91dGlscy9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvd2ViZ2wvU3ByaXRlUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL01hc2tNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL1N0ZW5jaWxNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9tYW5hZ2Vycy9GaWx0ZXJNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL2ZpbHRlclRyYW5zZm9ybXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL1RleHR1cmVNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9UZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xTdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC91dGlscy9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvdmFsaWRhdGVDb250ZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvd2ViZ2wvZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9zcHJpdGVzL3dlYmdsL0JhdGNoQnVmZmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHQvVGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy90cmltQ2FudmFzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL0dyYXBoaWNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3V0aWxzL2JlemllckN1cnZlVG8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3Mvd2ViZ2wvR3JhcGhpY3NSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC9XZWJHTEdyYXBoaWNzRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC9zaGFkZXJzL1ByaW1pdGl2ZVNoYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC91dGlscy9idWlsZFBvbHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3Mvd2ViZ2wvdXRpbHMvYnVpbGRSZWN0YW5nbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3Mvd2ViZ2wvdXRpbHMvYnVpbGRSb3VuZGVkUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3V0aWxzL2J1aWxkQ2lyY2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL2NhbnZhcy9DYW52YXNHcmFwaGljc1JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1Nwcml0ZXNoZWV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9kZXByZWNhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvYWNjZXNzaWJpbGl0eS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvYWNjZXNzaWJpbGl0eS9BY2Nlc3NpYmlsaXR5TWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFjdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFjdC93ZWJnbC9XZWJHTEV4dHJhY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhY3QvY2FudmFzL0NhbnZhc0V4dHJhY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy9BbmltYXRlZFNwcml0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL1RpbGluZ1Nwcml0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL3dlYmdsL1RpbGluZ1Nwcml0ZVJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYXMvQml0bWFwVGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL2NhY2hlQXNCaXRtYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy9nZXRDaGlsZEJ5TmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL2dldEdsb2JhbFBvc2l0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2Z4YWEvRlhBQUZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ub2lzZS9Ob2lzZUZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9kaXNwbGFjZW1lbnQvRGlzcGxhY2VtZW50RmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2JsdXIvQmx1ckZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9jb2xvcm1hdHJpeC9Db2xvck1hdHJpeEZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9hbHBoYS9BbHBoYUZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW50ZXJhY3Rpb24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9Mb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2xvYWRlcnMvbG9hZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL21pZGRsZXdhcmVzL3BhcnNpbmcvYmxvYi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC93ZWJnbC9NZXNoUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL21lc2gvY2FudmFzL0NhbnZhc01lc2hSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9OaW5lU2xpY2VQbGFuZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9Sb3BlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wYXJ0aWNsZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BhcnRpY2xlcy9QYXJ0aWNsZUNvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGFydGljbGVzL3dlYmdsL1BhcnRpY2xlUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BhcnRpY2xlcy93ZWJnbC9QYXJ0aWNsZVNoYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGFydGljbGVzL3dlYmdsL1BhcnRpY2xlQnVmZmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wcmVwYXJlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wcmVwYXJlL3dlYmdsL1dlYkdMUHJlcGFyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS9jYW52YXMvQ2FudmFzUHJlcGFyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS9saW1pdGVycy9UaW1lTGltaXRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd29ybGQvYmlyZC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL3dvcmxkL3RvcFBpcGUucG5nIiwid2VicGFjazovLy8uL3NyYy93b3JsZC9ib3R0b21QaXBlLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvb2JzZXJ2ZXIvY29uc29sZU9ic2VydmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvR2FtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL0tleWJvYXJkTGlzdGVuZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9kZWJ1Zy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25vZGUtbGlicy1icm93c2VyL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90eXBlc2NyaXB0LWNvbGxlY3Rpb25zL2Rpc3QvbGliL0JhZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZXNjcmlwdC1jb2xsZWN0aW9ucy9kaXN0L2xpYi9CU1RyZWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVzY3JpcHQtY29sbGVjdGlvbnMvZGlzdC9saWIvTGlua2VkRGljdGlvbmFyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZXNjcmlwdC1jb2xsZWN0aW9ucy9kaXN0L2xpYi9NdWx0aURpY3Rpb25hcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVzY3JpcHQtY29sbGVjdGlvbnMvZGlzdC9saWIvUHJpb3JpdHlRdWV1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZXNjcmlwdC1jb2xsZWN0aW9ucy9kaXN0L2xpYi9TdGFjay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZXNjcmlwdC1jb2xsZWN0aW9ucy9kaXN0L2xpYi9NdWx0aVJvb3RUcmVlLmpzIiwid2VicGFjazovLy8uL3NyYy93b3JsZC9Xb3JsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL1N0YWdlLnRzIiwid2VicGFjazovLy8uL3NyYy93b3JsZC9KdWRnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dvcmxkL0JpcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dvcmxkL1BpcGVHZW5lcmF0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9yYW5kb21HZW5lcmF0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dvcmxkL1BpcGVHYXRlLnRzIiwid2VicGFjazovLy8uL3NyYy93b3JsZC9QYXJhbWV0ZXJDb250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvSHVtYW5QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dvcmxkL05hbWVMYWJlbC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlZFUlNJT04iLCJQSV8yIiwiTWF0aCIsIlBJIiwiUkFEX1RPX0RFRyIsIkRFR19UT19SQUQiLCJSRU5ERVJFUl9UWVBFIiwiVU5LTk9XTiIsIldFQkdMIiwiQ0FOVkFTIiwiQkxFTkRfTU9ERVMiLCJOT1JNQUwiLCJBREQiLCJNVUxUSVBMWSIsIlNDUkVFTiIsIk9WRVJMQVkiLCJEQVJLRU4iLCJMSUdIVEVOIiwiQ09MT1JfRE9ER0UiLCJDT0xPUl9CVVJOIiwiSEFSRF9MSUdIVCIsIlNPRlRfTElHSFQiLCJESUZGRVJFTkNFIiwiRVhDTFVTSU9OIiwiSFVFIiwiU0FUVVJBVElPTiIsIkNPTE9SIiwiTFVNSU5PU0lUWSIsIk5PUk1BTF9OUE0iLCJBRERfTlBNIiwiU0NSRUVOX05QTSIsIkRSQVdfTU9ERVMiLCJQT0lOVFMiLCJMSU5FUyIsIkxJTkVfTE9PUCIsIkxJTkVfU1RSSVAiLCJUUklBTkdMRVMiLCJUUklBTkdMRV9TVFJJUCIsIlRSSUFOR0xFX0ZBTiIsIlNDQUxFX01PREVTIiwiTElORUFSIiwiTkVBUkVTVCIsIldSQVBfTU9ERVMiLCJDTEFNUCIsIlJFUEVBVCIsIk1JUlJPUkVEX1JFUEVBVCIsIkdDX01PREVTIiwiQVVUTyIsIk1BTlVBTCIsIlVSTF9GSUxFX0VYVEVOU0lPTiIsIkRBVEFfVVJJIiwiU1ZHX1NJWkUiLCJTSEFQRVMiLCJQT0xZIiwiUkVDVCIsIkNJUkMiLCJFTElQIiwiUlJFQyIsIlBSRUNJU0lPTiIsIkxPVyIsIk1FRElVTSIsIkhJR0giLCJUUkFOU0ZPUk1fTU9ERSIsIlNUQVRJQyIsIkRZTkFNSUMiLCJURVhUX0dSQURJRU5UIiwiTElORUFSX1ZFUlRJQ0FMIiwiTElORUFSX0hPUklaT05UQUwiLCJVUERBVEVfUFJJT1JJVFkiLCJJTlRFUkFDVElPTiIsIlVUSUxJVFkiLCJhdXRvRGV0ZWN0UmVuZGVyZXIiLCJBcHBsaWNhdGlvbiIsIkZpbHRlciIsIlNwcml0ZU1hc2tGaWx0ZXIiLCJRdWFkIiwiUmVuZGVyVGFyZ2V0IiwiT2JqZWN0UmVuZGVyZXIiLCJXZWJHTE1hbmFnZXIiLCJTaGFkZXIiLCJDYW52YXNSZW5kZXJUYXJnZXQiLCJUZXh0dXJlVXZzIiwiVmlkZW9CYXNlVGV4dHVyZSIsIkJhc2VSZW5kZXJUZXh0dXJlIiwiUmVuZGVyVGV4dHVyZSIsIkJhc2VUZXh0dXJlIiwiVGV4dHVyZU1hdHJpeCIsIlRleHR1cmUiLCJTcHJpdGVzaGVldCIsIkNhbnZhc0dyYXBoaWNzUmVuZGVyZXIiLCJHcmFwaGljc1JlbmRlcmVyIiwiR3JhcGhpY3NEYXRhIiwiR3JhcGhpY3MiLCJUZXh0TWV0cmljcyIsIlRleHRTdHlsZSIsIlRleHQiLCJTcHJpdGVSZW5kZXJlciIsIkNhbnZhc1RpbnRlciIsIkNhbnZhc1Nwcml0ZVJlbmRlcmVyIiwiU3ByaXRlIiwiVHJhbnNmb3JtQmFzZSIsIlRyYW5zZm9ybVN0YXRpYyIsIlRyYW5zZm9ybSIsIkNvbnRhaW5lciIsIkRpc3BsYXlPYmplY3QiLCJCb3VuZHMiLCJnbENvcmUiLCJXZWJHTFJlbmRlcmVyIiwiQ2FudmFzUmVuZGVyZXIiLCJ0aWNrZXIiLCJ1dGlscyIsInNldHRpbmdzIiwidW5kZWZpbmVkIiwiX2NvbnN0Iiwia2V5cyIsImZvckVhY2giLCJfbWF0aCIsIl9waXhpR2xDb3JlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsImRlZmF1bHQiLCJfQm91bmRzIiwiX0Rpc3BsYXlPYmplY3QiLCJfQ29udGFpbmVyIiwiX1RyYW5zZm9ybSIsIl9UcmFuc2Zvcm1TdGF0aWMiLCJfVHJhbnNmb3JtQmFzZSIsIl9TcHJpdGUiLCJfQ2FudmFzU3ByaXRlUmVuZGVyZXIiLCJfQ2FudmFzVGludGVyIiwiX1Nwcml0ZVJlbmRlcmVyIiwiX1RleHQiLCJfVGV4dFN0eWxlIiwiX1RleHRNZXRyaWNzIiwiX0dyYXBoaWNzIiwiX0dyYXBoaWNzRGF0YSIsIl9HcmFwaGljc1JlbmRlcmVyIiwiX0NhbnZhc0dyYXBoaWNzUmVuZGVyZXIiLCJfU3ByaXRlc2hlZXQiLCJfVGV4dHVyZSIsIl9UZXh0dXJlTWF0cml4IiwiX0Jhc2VUZXh0dXJlIiwiX1JlbmRlclRleHR1cmUiLCJfQmFzZVJlbmRlclRleHR1cmUiLCJfVmlkZW9CYXNlVGV4dHVyZSIsIl9UZXh0dXJlVXZzIiwiX0NhbnZhc1JlbmRlclRhcmdldCIsIl9TaGFkZXIiLCJfV2ViR0xNYW5hZ2VyIiwiX09iamVjdFJlbmRlcmVyIiwiX1JlbmRlclRhcmdldCIsIl9RdWFkIiwiX1Nwcml0ZU1hc2tGaWx0ZXIiLCJfRmlsdGVyIiwiX0FwcGxpY2F0aW9uIiwiX2F1dG9EZXRlY3RSZW5kZXJlciIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX3NldHRpbmdzMiIsIl9DYW52YXNSZW5kZXJlcjIiLCJfV2ViR0xSZW5kZXJlcjIiLCJvYmoiLCJuZXdPYmoiLCJwcmVtdWx0aXBseUJsZW5kTW9kZSIsIkJhc2VUZXh0dXJlQ2FjaGUiLCJUZXh0dXJlQ2FjaGUiLCJlYXJjdXQiLCJtaXhpbnMiLCJwbHVnaW5UYXJnZXQiLCJFdmVudEVtaXR0ZXIiLCJyZW1vdmVJdGVtcyIsImlzTW9iaWxlIiwidWlkIiwibmV4dFVpZCIsImhleDJyZ2IiLCJoZXgiLCJvdXQiLCJoZXgyc3RyaW5nIiwidG9TdHJpbmciLCJzdWJzdHIiLCJsZW5ndGgiLCJyZ2IyaGV4IiwicmdiIiwiZ2V0UmVzb2x1dGlvbk9mVXJsIiwidXJsIiwiZGVmYXVsdFZhbHVlIiwicmVzb2x1dGlvbiIsIlJFVElOQV9QUkVGSVgiLCJleGVjIiwicGFyc2VGbG9hdCIsImRlY29tcG9zZURhdGFVcmkiLCJkYXRhVXJpIiwiZGF0YVVyaU1hdGNoIiwibWVkaWFUeXBlIiwidG9Mb3dlckNhc2UiLCJzdWJUeXBlIiwiY2hhcnNldCIsImVuY29kaW5nIiwiZGF0YSIsImdldFVybEZpbGVFeHRlbnNpb24iLCJleHRlbnNpb24iLCJnZXRTdmdTaXplIiwic3ZnU3RyaW5nIiwic2l6ZU1hdGNoIiwic2l6ZSIsInJvdW5kIiwic2tpcEhlbGxvIiwic2FpZEhlbGxvIiwic2F5SGVsbG8iLCJ0eXBlIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImFyZ3MiLCJ3aW5kb3ciLCJjb25zb2xlIiwibG9nIiwiYXBwbHkiLCJpc1dlYkdMU3VwcG9ydGVkIiwiY29udGV4dE9wdGlvbnMiLCJzdGVuY2lsIiwiZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImdsIiwiZ2V0Q29udGV4dCIsInN1Y2Nlc3MiLCJnZXRDb250ZXh0QXR0cmlidXRlcyIsImxvc2VDb250ZXh0IiwiZ2V0RXh0ZW5zaW9uIiwiZSIsInNpZ24iLCJkZXN0cm95VGV4dHVyZUNhY2hlIiwiZGVzdHJveSIsImNsZWFyVGV4dHVyZUNhY2hlIiwiY29ycmVjdEJsZW5kTW9kZSIsImJsZW5kTW9kZSIsInByZW11bHRpcGxpZWQiLCJwcmVtdWx0aXBseVRpbnQiLCJ0aW50IiwiYWxwaGEiLCJSIiwiRyIsIkIiLCJwcmVtdWx0aXBseVJnYmEiLCJwcmVtdWx0aXBseSIsIkZsb2F0MzJBcnJheSIsInByZW11bHRpcGx5VGludFRvUmdiYSIsIl9ldmVudGVtaXR0ZXIyIiwiX3BsdWdpblRhcmdldDIiLCJfcmVtb3ZlQXJyYXlJdGVtczIiLCJfbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMyIiwiX2VhcmN1dDIiLCJfbWF4UmVjb21tZW5kZWRUZXh0dXJlczIiLCJfY2FuVXBsb2FkU2FtZUJ1ZmZlcjIiLCJUQVJHRVRfRlBNUyIsIk1JUE1BUF9URVhUVVJFUyIsIlJFU09MVVRJT04iLCJGSUxURVJfUkVTT0xVVElPTiIsIlNQUklURV9NQVhfVEVYVFVSRVMiLCJTUFJJVEVfQkFUQ0hfU0laRSIsIlJFTkRFUl9PUFRJT05TIiwidmlldyIsImFudGlhbGlhcyIsImZvcmNlRlhBQSIsImF1dG9SZXNpemUiLCJ0cmFuc3BhcmVudCIsImJhY2tncm91bmRDb2xvciIsImNsZWFyQmVmb3JlUmVuZGVyIiwicHJlc2VydmVEcmF3aW5nQnVmZmVyIiwicm91bmRQaXhlbHMiLCJ3aWR0aCIsImhlaWdodCIsImxlZ2FjeSIsIkdDX01PREUiLCJHQ19NQVhfSURMRSIsIkdDX01BWF9DSEVDS19DT1VOVCIsIldSQVBfTU9ERSIsIlNDQUxFX01PREUiLCJQUkVDSVNJT05fVkVSVEVYIiwiUFJFQ0lTSU9OX0ZSQUdNRU5UIiwiQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUiIsIk1FU0hfQ0FOVkFTX1BBRERJTkciLCJfUG9pbnQiLCJfT2JzZXJ2YWJsZVBvaW50IiwiX01hdHJpeCIsIl9Hcm91cEQiLCJfQ2lyY2xlIiwiX0VsbGlwc2UiLCJfUG9seWdvbiIsIl9SZWN0YW5nbGUiLCJfUm91bmRlZFJlY3RhbmdsZSIsImNyZWF0ZUNvbnRleHQiLCJzZXRWZXJ0ZXhBdHRyaWJBcnJheXMiLCJHTEJ1ZmZlciIsIkdMRnJhbWVidWZmZXIiLCJHTFNoYWRlciIsIkdMVGV4dHVyZSIsIlZlcnRleEFycmF5T2JqZWN0Iiwic2hhZGVyIiwiUElYSSIsIl9oYXNPd25Qcm9wZXJ0eSIsImlzRnVuY3Rpb24iLCJmdW5jIiwiaXNVbmRlZmluZWQiLCJpc1N0cmluZyIsImhhcyIsInByb3AiLCJkZWZhdWx0Q29tcGFyZSIsImEiLCJiIiwiZGVmYXVsdEVxdWFscyIsImRlZmF1bHRUb1N0cmluZyIsIml0ZW0iLCJtYWtlU3RyaW5nIiwiam9pbiIsInRvcmV0IiwiZmlyc3QiLCJyZXZlcnNlQ29tcGFyZUZ1bmN0aW9uIiwiY29tcGFyZUZ1bmN0aW9uIiwidiIsImNvbXBhcmVUb0VxdWFscyIsInByb2Nlc3MiLCJub3JtYWxpemVBcnJheSIsInBhcnRzIiwiYWxsb3dBYm92ZVJvb3QiLCJ1cCIsImxhc3QiLCJzcGxpY2UiLCJ1bnNoaWZ0Iiwic3BsaXRQYXRoUmUiLCJzcGxpdFBhdGgiLCJmaWxlbmFtZSIsInNsaWNlIiwiZmlsdGVyIiwieHMiLCJmIiwicmVzIiwicHVzaCIsInJlc29sdmUiLCJyZXNvbHZlZFBhdGgiLCJyZXNvbHZlZEFic29sdXRlIiwiYXJndW1lbnRzIiwicGF0aCIsImN3ZCIsIlR5cGVFcnJvciIsImNoYXJBdCIsInNwbGl0Iiwibm9ybWFsaXplIiwiaXNBYnNvbHV0ZSIsInRyYWlsaW5nU2xhc2giLCJwYXRocyIsIkFycmF5IiwiaW5kZXgiLCJyZWxhdGl2ZSIsImZyb20iLCJ0byIsInRyaW0iLCJhcnIiLCJzdGFydCIsImVuZCIsImZyb21QYXJ0cyIsInRvUGFydHMiLCJtaW4iLCJzYW1lUGFydHNMZW5ndGgiLCJvdXRwdXRQYXJ0cyIsImNvbmNhdCIsInNlcCIsImRlbGltaXRlciIsImRpcm5hbWUiLCJyZXN1bHQiLCJyb290IiwiZGlyIiwiYmFzZW5hbWUiLCJleHQiLCJleHRuYW1lIiwic3RyIiwibGVuIiwiZ2xvYmFsIiwibG9hZGVyIiwicHJlcGFyZSIsInBhcnRpY2xlcyIsIm1lc2giLCJsb2FkZXJzIiwiaW50ZXJhY3Rpb24iLCJmaWx0ZXJzIiwiZXh0cmFzIiwiZXh0cmFjdCIsImFjY2Vzc2liaWxpdHkiLCJfcG9seWZpbGwiLCJfY29yZSIsIl9kZXByZWNhdGlvbiIsIl9kZXByZWNhdGlvbjIiLCJwZXJmb3JtTWl4aW5zIiwic2hhcmVkIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiQ29uc3RydWN0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfQmFzZVRleHR1cmUyIiwiX1ZpZGVvQmFzZVRleHR1cmUyIiwiX1RleHR1cmVVdnMyIiwiX3V0aWxzIiwiX0V2ZW50RW1pdHRlciIsImJhc2VUZXh0dXJlIiwiZnJhbWUiLCJvcmlnIiwicm90YXRlIiwiYW5jaG9yIiwiaW5zdGFuY2UiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX3RoaXMiLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIm5vRnJhbWUiLCJSZWN0YW5nbGUiLCJfZnJhbWUiLCJ2YWxpZCIsInJlcXVpcmVzVXBkYXRlIiwiX3V2cyIsIl9yb3RhdGUiLCJOdW1iZXIiLCJFcnJvciIsImhhc0xvYWRlZCIsIm9uIiwib25CYXNlVGV4dHVyZVVwZGF0ZWQiLCJvbmNlIiwib25CYXNlVGV4dHVyZUxvYWRlZCIsImRlZmF1bHRBbmNob3IiLCJQb2ludCIsIngiLCJ5IiwiX3VwZGF0ZUlEIiwidHJhbnNmb3JtIiwidGV4dHVyZUNhY2hlSWRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY29uc3RydWN0b3IiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9pbmhlcml0cyIsInVwZGF0ZSIsImVtaXQiLCJkZXN0cm95QmFzZSIsImltYWdlVXJsIiwicmVtb3ZlRnJvbUNhY2hlIiwib2ZmIiwiY2xvbmUiLCJfdXBkYXRlVXZzIiwic2V0IiwiZnJvbUltYWdlIiwiY3Jvc3NvcmlnaW4iLCJzY2FsZU1vZGUiLCJzb3VyY2VTY2FsZSIsInRleHR1cmUiLCJhZGRUb0NhY2hlIiwiZnJvbUZyYW1lIiwiZnJhbWVJZCIsImZyb21DYW52YXMiLCJvcmlnaW4iLCJmcm9tVmlkZW8iLCJ2aWRlbyIsImF1dG9QbGF5IiwiZnJvbVZpZGVvVXJsIiwidmlkZW9VcmwiLCJmcm9tVXJsIiwic291cmNlIiwibWF0Y2giLCJIVE1MSW1hZ2VFbGVtZW50IiwiSFRNTENhbnZhc0VsZW1lbnQiLCJIVE1MVmlkZW9FbGVtZW50IiwiZnJvbUxvYWRlciIsImlkIiwid2FybiIsInRleHR1cmVGcm9tQ2FjaGUiLCJ4Tm90Rml0IiwieU5vdEZpdCIsInJlbGF0aW9uc2hpcCIsImVycm9yWCIsImVycm9yWSIsInJlbW92ZUFsbEhhbmRsZXJzIiwidGV4IiwiRU1QVFkiLCJXSElURSIsImNvbnRleHQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImNyZWF0ZVdoaXRlVGV4dHVyZSIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiZm4iLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiZXZlbnROYW1lcyIsImV2ZW50cyIsIm5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibGlzdGVuZXJzIiwiZXZlbnQiLCJleGlzdHMiLCJldnQiLCJhdmFpbGFibGUiLCJlZSIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJyZW1vdmVMaXN0ZW5lciIsImoiLCJsaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImFkZExpc3RlbmVyIiwic2V0TWF4TGlzdGVuZXJzIiwicHJlZml4ZWQiLCJsb2FkIiwic3RvcmFnZSIsImRlYnVnIiwiZW52IiwiREVCVUciLCJGdW5jdGlvbiIsImZvcm1hdEFyZ3MiLCJ1c2VDb2xvcnMiLCJuYW1lc3BhY2UiLCJodW1hbml6ZSIsImRpZmYiLCJjb2xvciIsImxhc3RDIiwicmVwbGFjZSIsInNhdmUiLCJuYW1lc3BhY2VzIiwicmVtb3ZlSXRlbSIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwiV2Via2l0QXBwZWFyYW5jZSIsImZpcmVidWciLCJleGNlcHRpb24iLCJ0YWJsZSIsInBhcnNlSW50IiwiUmVnRXhwIiwiJDEiLCJjaHJvbWUiLCJsb2NhbCIsImxvY2FsU3RvcmFnZSIsImxvY2Fsc3RvcmFnZSIsImNvbG9ycyIsImZvcm1hdHRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyIiwibWVzc2FnZSIsImVuYWJsZSIsIl9kZXRlcm1pbmVDcm9zc09yaWdpbjIiLCJfYml0VHdpZGRsZTIiLCJ0b3VjaGVkIiwicmVhbFdpZHRoIiwicmVhbEhlaWdodCIsImlzTG9hZGluZyIsIm9yaWdTb3VyY2UiLCJpbWFnZVR5cGUiLCJwcmVtdWx0aXBsaWVkQWxwaGEiLCJpc1Bvd2VyT2ZUd28iLCJtaXBtYXAiLCJ3cmFwTW9kZSIsIl9nbFRleHR1cmVzIiwiX2VuYWJsZWQiLCJfdmlydGFsQm91bmRJZCIsIl9kZXN0cm95ZWQiLCJsb2FkU291cmNlIiwibmF0dXJhbFdpZHRoIiwidmlkZW9XaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJ2aWRlb0hlaWdodCIsIl91cGRhdGVEaW1lbnNpb25zIiwiaXNQb3cyIiwid2FzTG9hZGluZyIsIm9ubG9hZCIsIm9uZXJyb3IiLCJmaXJzdFNvdXJjZUxvYWRlZCIsInNyYyIsImNvbXBsZXRlIiwiX3VwZGF0ZUltYWdlVHlwZSIsIl9sb2FkU3ZnU291cmNlIiwiX3NvdXJjZUxvYWRlZCIsInNjb3BlIiwiZmlyc3RTdWJUeXBlIiwiX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmkiLCJfbG9hZFN2Z1NvdXJjZVVzaW5nWGhyIiwiYXRvYiIsIl9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmciLCJfdGhpczIiLCJzdmdYaHIiLCJYTUxIdHRwUmVxdWVzdCIsInJlYWR5U3RhdGUiLCJET05FIiwic3RhdHVzIiwicmVzcG9uc2UiLCJvcGVuIiwic2VuZCIsInN2Z1NpemUiLCJzdmdXaWR0aCIsInN2Z0hlaWdodCIsIl9waXhpSWQiLCJkcmF3SW1hZ2UiLCJpc0NvY29vbkpTIiwiZGlzcG9zZSIsInVwZGF0ZVNvdXJjZUltYWdlIiwibmV3U3JjIiwiaW1hZ2UiLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwiYmFzZVRleHR1cmVGcm9tQ2FjaGUiLCJ1dGlsIiwiRGljdGlvbmFyeSIsInRvU3RyRnVuY3Rpb24iLCJuRWxlbWVudHMiLCJ0b1N0ciIsImdldFZhbHVlIiwicGFpciIsInNldFZhbHVlIiwicmV0IiwiayIsInByZXZpb3VzRWxlbWVudCIsInJlbW92ZSIsImFycmF5IiwibmFtZV8xIiwidmFsdWVzIiwibmFtZV8yIiwiY2FsbGJhY2siLCJuYW1lXzMiLCJjb250YWluc0tleSIsImNsZWFyIiwiaXNFbXB0eSIsIkZ1bGxOYW1lIiwiZnVsbE5hbWUiLCJwYXJzZSIsImxhc3RTcGxpdHRlciIsImxhc3RJbmRleE9mIiwic2luZ2xldG9uIiwic3Vic3RyaW5nIiwiX0Rpc3BsYXlPYmplY3QyIiwiY2hpbGRyZW4iLCJvbkNoaWxkcmVuQ2hhbmdlIiwiYWRkQ2hpbGQiLCJjaGlsZCIsImFyZ3VtZW50c0xlbmd0aCIsInBhcmVudCIsInJlbW92ZUNoaWxkIiwiX3BhcmVudElEIiwiX2JvdW5kc0lEIiwiYWRkQ2hpbGRBdCIsInN3YXBDaGlsZHJlbiIsImNoaWxkMiIsImluZGV4MSIsImdldENoaWxkSW5kZXgiLCJpbmRleDIiLCJzZXRDaGlsZEluZGV4IiwiY3VycmVudEluZGV4IiwiZ2V0Q2hpbGRBdCIsInJlbW92ZUNoaWxkQXQiLCJyZW1vdmVDaGlsZHJlbiIsImJlZ2luSW5kZXgiLCJlbmRJbmRleCIsImJlZ2luIiwicmFuZ2UiLCJyZW1vdmVkIiwiX2kiLCJSYW5nZUVycm9yIiwidXBkYXRlVHJhbnNmb3JtIiwid29ybGRBbHBoYSIsInZpc2libGUiLCJjYWxjdWxhdGVCb3VuZHMiLCJfYm91bmRzIiwiX2NhbGN1bGF0ZUJvdW5kcyIsInJlbmRlcmFibGUiLCJfbWFzayIsImFkZEJvdW5kc01hc2siLCJmaWx0ZXJBcmVhIiwiYWRkQm91bmRzQXJlYSIsImFkZEJvdW5kcyIsIl9sYXN0Qm91bmRzSUQiLCJyZW5kZXJXZWJHTCIsInJlbmRlcmVyIiwiX2ZpbHRlcnMiLCJyZW5kZXJBZHZhbmNlZFdlYkdMIiwiX3JlbmRlcldlYkdMIiwiZmx1c2giLCJtYXNrIiwiX2VuYWJsZWRGaWx0ZXJzIiwiZW5hYmxlZCIsImZpbHRlck1hbmFnZXIiLCJwdXNoRmlsdGVyIiwibWFza01hbmFnZXIiLCJwdXNoTWFzayIsIl9pMiIsInBvcE1hc2siLCJwb3BGaWx0ZXIiLCJfcmVuZGVyQ2FudmFzIiwicmVuZGVyQ2FudmFzIiwib3B0aW9ucyIsImRlc3Ryb3lDaGlsZHJlbiIsIm9sZENoaWxkcmVuIiwic2NhbGUiLCJnZXRMb2NhbEJvdW5kcyIsIl93aWR0aCIsIl9oZWlnaHQiLCJjb250YWluZXJVcGRhdGVUcmFuc2Zvcm0iLCJfU3lzdGVtUmVuZGVyZXIzIiwiX0NhbnZhc01hc2tNYW5hZ2VyMiIsIl9DYW52YXNSZW5kZXJUYXJnZXQyIiwiX21hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkyIiwiX1N5c3RlbVJlbmRlcmVyIiwiYXJnMiIsImFyZzMiLCJyb290Q29udGV4dCIsInJlZnJlc2giLCJzbW9vdGhQcm9wZXJ0eSIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsIndlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZCIsIm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCIsIm9JbWFnZVNtb290aGluZ0VuYWJsZWQiLCJtc0ltYWdlU21vb3RoaW5nRW5hYmxlZCIsImluaXRQbHVnaW5zIiwiYmxlbmRNb2RlcyIsIl9hY3RpdmVCbGVuZE1vZGUiLCJyZW5kZXJpbmdUb1NjcmVlbiIsInJlc2l6ZSIsInJlbmRlciIsImRpc3BsYXlPYmplY3QiLCJyZW5kZXJUZXh0dXJlIiwic2tpcFVwZGF0ZVRyYW5zZm9ybSIsInJvb3RSZXNvbHV0aW9uIiwiX2NhbnZhc1JlbmRlclRhcmdldCIsIl9sYXN0T2JqZWN0UmVuZGVyZWQiLCJjYWNoZVBhcmVudCIsInRlbXBXdCIsIl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsIndvcmxkVHJhbnNmb3JtIiwiY29weSIsIl93b3JsZElEIiwiaWRlbnRpdHkiLCJzZXRUcmFuc2Zvcm0iLCJnbG9iYWxBbHBoYSIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsInNjcmVlbmNhbnZhcyIsImNsZWFyUmVjdCIsIl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmciLCJ0ZW1wQ29udGV4dCIsInJlc3RvcmUiLCJjbGVhckNvbG9yIiwic2V0QmxlbmRNb2RlIiwicmVtb3ZlVmlldyIsImRlc3Ryb3lQbHVnaW5zIiwic2NyZWVuV2lkdGgiLCJzY3JlZW5IZWlnaHQiLCJpbnZhbGlkYXRlQmxlbmRNb2RlIiwibWl4aW4iLCJvbkNvbnRleHRDaGFuZ2UiLCJfc2V0dGluZ3MiLCJjaGVja1ByZWNpc2lvbiIsImRlZiIsIl9HTFNoYWRlciIsInZlcnRleFNyYyIsImZyYWdtZW50U3JjIiwiYXR0cmlidXRlTG9jYXRpb25zIiwicHJlY2lzaW9uIiwiTG9hZGVyIiwiUmVzb3VyY2UiLCJhc3luYyIsImI2NCIsImVuY29kZUJpbmFyeSIsImJhc2U2NCIsImNvcmUiLCJfVGV4dHVyZTIiLCJ0ZW1wUG9pbnQiLCJ0ZW1wUG9seWdvbiIsIlBvbHlnb24iLCJNZXNoIiwiX2NvcmUkQ29udGFpbmVyIiwidmVydGljZXMiLCJ1dnMiLCJpbmRpY2VzIiwiZHJhd01vZGUiLCJfdGV4dHVyZSIsIlVpbnQxNkFycmF5IiwiZGlydHkiLCJpbmRleERpcnR5IiwidmVydGV4RGlydHkiLCJhdXRvVXBkYXRlIiwiY2FudmFzUGFkZGluZyIsIlRSSUFOR0xFX01FU0giLCJ0aW50UmdiIiwiX2dsRGF0YXMiLCJfdXZUcmFuc2Zvcm0iLCJ1cGxvYWRVdlRyYW5zZm9ybSIsInBsdWdpbk5hbWUiLCJzZXRPYmplY3RSZW5kZXJlciIsInBsdWdpbnMiLCJfb25UZXh0dXJlVXBkYXRlIiwibXVsdGlwbHlVdnMiLCJmb3JjZVVwZGF0ZSIsIl9yZWZyZXNoIiwiYWRkVmVydGljZXMiLCJjb250YWluc1BvaW50IiwicG9pbnQiLCJnZXRCb3VuZHMiLCJjb250YWlucyIsImFwcGx5SW52ZXJzZSIsInBvaW50cyIsInN0ZXAiLCJpbmQwIiwiaW5kMSIsImluZDIiLCJ2ZXJ0ZXhCdWZmZXIiLCJpbmRleEJ1ZmZlciIsInV2QnVmZmVyIiwidmFvIiwiZXF1YWxzRnVuY3Rpb24iLCJlcXVhbHMiLCJmcmVxdWVuY3kiLCJmcmVxIiwiYXJyYXkxIiwiYXJyYXkyIiwic3dhcCIsInRlbXAiLCJhcnJheV8xIiwiX1dlYkdMTWFuYWdlcjIiLCJzdG9wIiwiX01hc2tNYW5hZ2VyMiIsIl9TdGVuY2lsTWFuYWdlcjIiLCJfRmlsdGVyTWFuYWdlcjIiLCJfUmVuZGVyVGFyZ2V0MiIsIl9PYmplY3RSZW5kZXJlcjIiLCJfVGV4dHVyZU1hbmFnZXIyIiwiX1RleHR1cmVHYXJiYWdlQ29sbGVjdG9yMiIsIl9XZWJHTFN0YXRlMiIsIl9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aTIiLCJfdmFsaWRhdGVDb250ZXh0MiIsIl9waXhpR2xDb3JlMiIsIkNPTlRFWFRfVUlEIiwiRk9SQ0VfTkFUSVZFIiwiaGFuZGxlQ29udGV4dExvc3QiLCJoYW5kbGVDb250ZXh0UmVzdG9yZWQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2NvbnRleHRPcHRpb25zIiwicG93ZXJQcmVmZXJlbmNlIiwiX2JhY2tncm91bmRDb2xvclJnYmEiLCJzdGVuY2lsTWFuYWdlciIsImVtcHR5UmVuZGVyZXIiLCJjdXJyZW50UmVuZGVyZXIiLCJ0ZXh0dXJlTWFuYWdlciIsInN0YXRlIiwiYm91bmRUZXh0dXJlcyIsIl9hY3RpdmVTaGFkZXIiLCJfYWN0aXZlVmFvIiwiX2FjdGl2ZVJlbmRlclRhcmdldCIsIl9pbml0Q29udGV4dCIsImRyYXdNb2RlcyIsIl9uZXh0VGV4dHVyZUxvY2F0aW9uIiwiaXNDb250ZXh0TG9zdCIsInJlc3RvcmVDb250ZXh0IiwibWF4VGV4dHVyZXMiLCJnZXRQYXJhbWV0ZXIiLCJNQVhfVEVYVFVSRV9JTUFHRV9VTklUUyIsImVtcHR5VGV4dHVyZXMiLCJ0ZXh0dXJlR0MiLCJyZXNldFRvRGVmYXVsdCIsInJvb3RSZW5kZXJUYXJnZXQiLCJiaW5kUmVuZGVyVGFyZ2V0IiwiZW1wdHlHTFRleHR1cmUiLCJmcm9tRGF0YSIsInRlbXBPYmoiLCJlbXB0eSIsImJpbmRUZXh0dXJlIiwic2NyZWVuIiwiYmluZFJlbmRlclRleHR1cmUiLCJvYmplY3RSZW5kZXJlciIsImFjdGl2YXRlIiwidW5pZm9ybXMiLCJwcm9qZWN0aW9uTWF0cml4IiwidG9BcnJheSIsIm1hdHJpeCIsImNsZWFyUmVuZGVyVGV4dHVyZSIsInJlbmRlclRhcmdldCIsIl9nbFJlbmRlclRhcmdldHMiLCJ1cGRhdGVUZXh0dXJlIiwidW5iaW5kVGV4dHVyZSIsInNldEZyYW1lIiwic2V0TWFza1N0YWNrIiwic3RlbmNpbE1hc2tTdGFjayIsImJpbmRTaGFkZXIiLCJhdXRvUHJvamVjdCIsImxvY2F0aW9uIiwiZm9yY2VMb2NhdGlvbiIsImNvdW50IiwiZ2xUZXh0dXJlIiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwiVEVYVFVSRV8yRCIsImNyZWF0ZVZhbyIsImF0dHJpYlN0YXRlIiwiYmluZFZhbyIsInVuYmluZCIsInJlc2V0IiwicHJldmVudERlZmF1bHQiLCJyZW1vdmVBbGwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidXNlUHJvZ3JhbSIsImZyYW1lQnVmZmVyIiwiTWF0cml4IiwiZGVmYXVsdEZyYW1lIiwiZGVzdGluYXRpb25GcmFtZSIsInNvdXJjZUZyYW1lIiwic3RlbmNpbEJ1ZmZlciIsImZpbHRlckRhdGEiLCJmaWx0ZXJQb29sS2V5IiwiZnJhbWVidWZmZXIiLCJjcmVhdGVSR0JBIiwiZW5hYmxlTmVhcmVzdFNjYWxpbmciLCJlbmFibGVMaW5lYXJTY2FsaW5nIiwiY2MiLCJhdHRhY2hTdGVuY2lsQnVmZmVyIiwiZW5hYmxlU3RlbmNpbCIsImNhbGN1bGF0ZVByb2plY3Rpb24iLCJhcHBlbmQiLCJTQ0lTU09SX1RFU1QiLCJzY2lzc29yIiwiZGlzYWJsZSIsInZpZXdwb3J0IiwicG0iLCJ0eCIsInR5IiwicHJvamVjdGlvbkZyYW1lIiwiZ3JhcGhpY3NEYXRhIiwid2ViR0xEYXRhIiwid2ViR0xEYXRhTmF0aXZlTGluZXMiLCJuYXRpdmVMaW5lcyIsInZlcnRzIiwibGluZUNvbG9yIiwibGluZUFscGhhIiwiZyIsInAxeCIsInAxeSIsInAyeCIsInAyeSIsImJ1aWxkTmF0aXZlTGluZSIsImZpcnN0UG9pbnQiLCJsYXN0UG9pbnQiLCJwb3AiLCJtaWRQb2ludFgiLCJtaWRQb2ludFkiLCJpbmRleENvdW50IiwiaW5kZXhTdGFydCIsImxpbmVXaWR0aCIsInAzeCIsInAzeSIsInBlcnB4IiwicGVycHkiLCJwZXJwMngiLCJwZXJwMnkiLCJwZXJwM3giLCJwZXJwM3kiLCJkaXN0Iiwic3FydCIsInJhdGlvIiwibGluZUFsaWdubWVudCIsInIxIiwicjIiLCJiMSIsImMxIiwiYjIiLCJjMiIsImRlbm9tIiwiYWJzIiwicHgiLCJweSIsInBkaXN0IiwiYnVpbGRMaW5lIiwiX1BvaW50MiIsImZyb21BcnJheSIsInRyYW5zcG9zZSIsInBvcyIsIm5ld1BvcyIsInRyYW5zbGF0ZSIsImFuZ2xlIiwiY29zIiwic2luIiwidHgxIiwiZDEiLCJwaXZvdFgiLCJwaXZvdFkiLCJzY2FsZVgiLCJzY2FsZVkiLCJyb3RhdGlvbiIsInNrZXdYIiwic2tld1kiLCJwcmVwZW5kIiwiZGVjb21wb3NlIiwiYXRhbjIiLCJkZWx0YSIsInNrZXciLCJwb3NpdGlvbiIsImludmVydCIsInJlY3RhbmdsZSIsInBhZCIsInBhZGRpbmdYIiwicGFkZGluZ1kiLCJmaXQiLCJlbmxhcmdlIiwieDEiLCJ4MiIsIm1heCIsInkxIiwieTIiLCJHTF9UQUJMRSIsIkdMX1RPX0dMU0xfVFlQRVMiLCJGTE9BVCIsIkZMT0FUX1ZFQzIiLCJGTE9BVF9WRUMzIiwiRkxPQVRfVkVDNCIsIklOVCIsIklOVF9WRUMyIiwiSU5UX1ZFQzMiLCJJTlRfVkVDNCIsIkJPT0wiLCJCT09MX1ZFQzIiLCJCT09MX1ZFQzMiLCJCT09MX1ZFQzQiLCJGTE9BVF9NQVQyIiwiRkxPQVRfTUFUMyIsIkZMT0FUX01BVDQiLCJTQU1QTEVSXzJEIiwidHlwZU5hbWVzIiwidG4iLCJtaW5YIiwiSW5maW5pdHkiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJyZWN0IiwidXBkYXRlSUQiLCJnZXRSZWN0YW5nbGUiLCJhZGRQb2ludCIsImFkZFF1YWQiLCJhZGRGcmFtZSIsIngwIiwieTAiLCJiZWdpbk9mZnNldCIsImVuZE9mZnNldCIsInJhd1giLCJyYXdZIiwiYm91bmRzIiwiX21pblgiLCJfbWluWSIsIl9tYXhYIiwiX21heFkiLCJhcmVhIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwidSIsImgiLCJ3IiwidGVzdCIsImFwcGxlIiwicGhvbmUiLCJpcG9kIiwidGFibGV0IiwiZGV2aWNlIiwiYW1hem9uIiwiYW5kcm9pZCIsIndpbmRvd3MiLCJvdGhlciIsImJsYWNrYmVycnkiLCJibGFja2JlcnJ5MTAiLCJvcGVyYSIsImZpcmVmb3giLCJhbnkiLCJsb2NhbFRyYW5zZm9ybSIsInVwZGF0ZUxvY2FsVHJhbnNmb3JtIiwicGFyZW50VHJhbnNmb3JtIiwicHQiLCJ3dCIsImx0IiwidXBkYXRlV29ybGRUcmFuc2Zvcm0iLCJJREVOVElUWSIsImhvbGVJbmRpY2VzIiwiZGltIiwiaW52U2l6ZSIsImhhc0hvbGVzIiwib3V0ZXJMZW4iLCJvdXRlck5vZGUiLCJsaW5rZWRMaXN0IiwidHJpYW5nbGVzIiwibmV4dCIsInByZXYiLCJsaXN0IiwicXVldWUiLCJzdGVpbmVyIiwiZ2V0TGVmdG1vc3QiLCJzb3J0IiwiY29tcGFyZVgiLCJlbGltaW5hdGVIb2xlIiwiZmlsdGVyUG9pbnRzIiwiZWxpbWluYXRlSG9sZXMiLCJlYXJjdXRMaW5rZWQiLCJjbG9ja3dpc2UiLCJzaWduZWRBcmVhIiwiaW5zZXJ0Tm9kZSIsInJlbW92ZU5vZGUiLCJhZ2FpbiIsImVhciIsInBhc3MiLCJ6Iiwiek9yZGVyIiwicHJldloiLCJuZXh0WiIsInEiLCJ0YWlsIiwibnVtTWVyZ2VzIiwicFNpemUiLCJxU2l6ZSIsImluU2l6ZSIsInNvcnRMaW5rZWQiLCJpbmRleEN1cnZlIiwiaXNFYXJIYXNoZWQiLCJpc0VhciIsImN1cmVMb2NhbEludGVyc2VjdGlvbnMiLCJzcGxpdEVhcmN1dCIsInBvaW50SW5UcmlhbmdsZSIsIm1pblRYIiwibWluVFkiLCJtYXhUWCIsIm1heFRZIiwibWluWiIsIm1heFoiLCJpbnRlcnNlY3RzIiwibG9jYWxseUluc2lkZSIsImlzVmFsaWREaWFnb25hbCIsInNwbGl0UG9seWdvbiIsImhvbGUiLCJoeCIsImh5IiwicXgiLCJ0YW4iLCJteCIsIm15IiwidGFuTWluIiwiZmluZEhvbGVCcmlkZ2UiLCJsZWZ0bW9zdCIsImF4IiwiYXkiLCJieCIsImJ5IiwiY3giLCJjeSIsImludGVyc2VjdHNQb2x5Z29uIiwiaW5zaWRlIiwibWlkZGxlSW5zaWRlIiwicDEiLCJwMiIsInExIiwicTIiLCJOb2RlIiwiYW4iLCJicCIsInN1bSIsImRldmlhdGlvbiIsInBvbHlnb25BcmVhIiwidHJpYW5nbGVzQXJlYSIsImZsYXR0ZW4iLCJob2xlcyIsImRpbWVuc2lvbnMiLCJob2xlSW5kZXgiLCJfQ29udGFpbmVyMyIsIl9hbmNob3IiLCJPYnNlcnZhYmxlUG9pbnQiLCJfb25BbmNob3JVcGRhdGUiLCJfdGludCIsIl90aW50UkdCIiwiY2FjaGVkVGludCIsInZlcnRleERhdGEiLCJ2ZXJ0ZXhUcmltbWVkRGF0YSIsIl90cmFuc2Zvcm1JRCIsIl90ZXh0dXJlSUQiLCJfdHJhbnNmb3JtVHJpbW1lZElEIiwiX3RleHR1cmVUcmltbWVkSUQiLCJjYWxjdWxhdGVWZXJ0aWNlcyIsIncwIiwidzEiLCJoMCIsImgxIiwiX3giLCJfeSIsImNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyIsIl9sb2NhbEJvdW5kc1JlY3QiLCJkZXN0cm95QmFzZVRleHR1cmUiLCJpbWFnZUlkIiwiY291bnRUcmFpbGluZ1plcm9zIiwiSU5UX0JJVFMiLCJJTlRfTUFYIiwiSU5UX01JTiIsImxvZzIiLCJzaGlmdCIsImxvZzEwIiwicG9wQ291bnQiLCJuZXh0UG93MiIsInByZXZQb3cyIiwicGFyaXR5IiwiUkVWRVJTRV9UQUJMRSIsInRhYiIsInJldmVyc2UiLCJpbnRlcmxlYXZlMiIsImRlaW50ZXJsZWF2ZTIiLCJpbnRlcmxlYXZlMyIsImRlaW50ZXJsZWF2ZTMiLCJuZXh0Q29tYmluYXRpb24iLCJUaWNrZXIiLCJfVGlja2VyIiwiX1RpY2tlcjIiLCJhdXRvU3RhcnQiLCJfQmFzZVJlbmRlclRleHR1cmUyIiwiYmFzZVJlbmRlclRleHR1cmUiLCJfbGVnYWN5UmVuZGVyZXIiLCJsZWdhY3lSZW5kZXJlciIsImRvTm90UmVzaXplQmFzZVRleHR1cmUiLCJjZWlsIiwiX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMiLCJnZXRUaW50ZWRUZXh0dXJlIiwic3ByaXRlIiwic3RyaW5nQ29sb3IiLCJyb3VuZENvbG9yIiwidGludENhY2hlIiwiY2FjaGVkVGV4dHVyZSIsInRpbnRJZCIsInRpbnRNZXRob2QiLCJjb252ZXJ0VGludFRvSW1hZ2UiLCJ0aW50SW1hZ2UiLCJ0b0RhdGFVUkwiLCJ0aW50V2l0aE11bHRpcGx5IiwiY3JvcCIsInRpbnRXaXRoT3ZlcmxheSIsInRpbnRXaXRoUGVyUGl4ZWwiLCJyZ2JWYWx1ZXMiLCJwaXhlbERhdGEiLCJnZXRJbWFnZURhdGEiLCJwaXhlbHMiLCJwdXRJbWFnZURhdGEiLCJjYWNoZVN0ZXBzUGVyQ29sb3JDaGFubmVsIiwiY2FuVXNlTXVsdGlwbHkiLCJ0b3RhbEluZGljZXMiLCJfcGFyc2VVcmkyIiwiX21pbmlTaWduYWxzMiIsInVzZVhkciIsIlhEb21haW5SZXF1ZXN0IiwidGVtcEFuY2hvciIsIl9ub29wIiwiX2ZsYWdzIiwiX3NldEZsYWciLCJTVEFUVVNfRkxBR1MiLCJEQVRBX1VSTCIsIl9nZXRFeHRlbnNpb24iLCJ0aW1lb3V0IiwibG9hZFR5cGUiLCJfZGV0ZXJtaW5lTG9hZFR5cGUiLCJ4aHJUeXBlIiwibWV0YWRhdGEiLCJlcnJvciIsInhociIsIlRZUEUiLCJwcm9ncmVzc0NodW5rIiwiX2RlcXVldWUiLCJfb25Mb2FkQmluZGluZyIsIl9lbGVtZW50VGltZXIiLCJfYm91bmRDb21wbGV0ZSIsIl9ib3VuZE9uRXJyb3IiLCJfb25FcnJvciIsIl9ib3VuZE9uUHJvZ3Jlc3MiLCJfb25Qcm9ncmVzcyIsIl9ib3VuZE9uVGltZW91dCIsIl9vblRpbWVvdXQiLCJfYm91bmRYaHJPbkVycm9yIiwiX3hock9uRXJyb3IiLCJfYm91bmRYaHJPblRpbWVvdXQiLCJfeGhyT25UaW1lb3V0IiwiX2JvdW5kWGhyT25BYm9ydCIsIl94aHJPbkFib3J0IiwiX2JvdW5kWGhyT25Mb2FkIiwiX3hock9uTG9hZCIsIm9uU3RhcnQiLCJvblByb2dyZXNzIiwib25Db21wbGV0ZSIsIm9uQWZ0ZXJNaWRkbGV3YXJlIiwic2V0RXh0ZW5zaW9uTG9hZFR5cGUiLCJzZXRFeHRNYXAiLCJfbG9hZFR5cGVNYXAiLCJzZXRFeHRlbnNpb25YaHJUeXBlIiwiX3hoclR5cGVNYXAiLCJfY2xlYXJFdmVudHMiLCJfZmluaXNoIiwiYWJvcnQiLCJ4ZHIiLCJFTVBUWV9HSUYiLCJmaXJzdENoaWxkIiwiY2IiLCJpc0NvbXBsZXRlIiwic2V0VGltZW91dCIsIkxPQURJTkciLCJkaXNwYXRjaCIsIl9kZXRlcm1pbmVDcm9zc09yaWdpbiIsIkxPQURfVFlQRSIsIklNQUdFIiwiX2xvYWRFbGVtZW50IiwiQVVESU8iLCJfbG9hZFNvdXJjZUVsZW1lbnQiLCJWSURFTyIsIlhIUiIsIl9sb2FkWGRyIiwiX2xvYWRYaHIiLCJfaGFzRmxhZyIsImZsYWciLCJjbGVhclRpbWVvdXQiLCJvbnRpbWVvdXQiLCJvbnByb2dyZXNzIiwiQ09NUExFVEUiLCJsb2FkRWxlbWVudCIsInNraXBTb3VyY2UiLCJBdWRpbyIsImlzQXJyYXkiLCJtaW1lVHlwZXMiLCJtaW1lVHlwZSIsImFwcGVuZENoaWxkIiwiX2NyZWF0ZVNvdXJjZSIsIl9taW1lVHlwZXMiLCJfZGV0ZXJtaW5lWGhyVHlwZSIsIlhIUl9SRVNQT05TRV9UWVBFIiwiRE9DVU1FTlQiLCJyZXNwb25zZVR5cGUiLCJURVhUIiwibWltZSIsIm5vZGVOYW1lIiwibGVuZ3RoQ29tcHV0YWJsZSIsImxvYWRlZCIsInRvdGFsIiwicmVxVHlwZSIsInN0YXR1c1RleHQiLCJ0ZXh0IiwicmVzcG9uc2VUZXh0IiwiQlVGRkVSIiwiRE9NUGFyc2VyIiwiZG9tcGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiZGl2IiwiaW5uZXJIVE1MIiwiWE1MIiwicmVzcG9uc2VVUkwiLCJsb2MiLCJocmVmIiwic2FtZVBvcnQiLCJzdHJpY3RNb2RlIiwicG9ydCIsInByb3RvY29sIiwiaG9zdCIsImhvc3RuYW1lIiwiaXNEYXRhVXJsIiwic2xhc2hJbmRleCIsInF1ZXJ5U3RhcnQiLCJoYXNoU3RhcnQiLCJfZ2V0TWltZUZyb21YaHJUeXBlIiwiQkxPQiIsIkRFRkFVTFQiLCJtYXAiLCJ2YWwiLCJOT05FIiwiZ2lmIiwicG5nIiwiYm1wIiwianBnIiwianBlZyIsInRpZiIsInRpZmYiLCJ3ZWJwIiwidGdhIiwic3ZnIiwic3ZnK3htbCIsIm1wMyIsIm9nZyIsIndhdiIsIm1wNCIsIndlYm0iLCJ4aHRtbCIsImh0bWwiLCJodG0iLCJ4bWwiLCJ0bXgiLCJ0c3giLCJqc29uIiwidHh0IiwidHRmIiwib3RmIiwiX0NvdW50TGltaXRlciIsIl9Db3VudExpbWl0ZXIyIiwiU2hhcmVkVGlja2VyIiwiVVBMT0FEU19QRVJfRlJBTUUiLCJCYXNlUHJlcGFyZSIsImxpbWl0ZXIiLCJ1cGxvYWRIb29rSGVscGVyIiwiYWRkSG9va3MiLCJ1cGxvYWRIb29rcyIsImNvbXBsZXRlcyIsInRpY2tpbmciLCJkZWxheWVkVGljayIsInByZXBhcmVJdGVtcyIsInJlZ2lzdGVyRmluZEhvb2siLCJmaW5kVGV4dCIsImZpbmRUZXh0U3R5bGUiLCJmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMiLCJmaW5kQmFzZVRleHR1cmUiLCJmaW5kVGV4dHVyZSIsInJlZ2lzdGVyVXBsb2FkSG9vayIsImRyYXdUZXh0IiwiY2FsY3VsYXRlVGV4dFN0eWxlIiwidXBsb2FkIiwiZG9uZSIsImFkZCIsImFkZE9uY2UiLCJ0aWNrIiwiYmVnaW5GcmFtZSIsImFsbG93ZWRUb1VwbG9hZCIsInVwbG9hZGVkIiwiX2xlbiIsImFkZEhvb2siLCJ1cGxvYWRIb29rIiwiX3RleHR1cmVzIiwiaGVscGVyIiwidXBkYXRlVGV4dCIsImZvbnQiLCJ0b0ZvbnRTdHJpbmciLCJtZWFzdXJlRm9udCIsImFycmF5cyIsIkxpbmtlZExpc3QiLCJmaXJzdE5vZGUiLCJsYXN0Tm9kZSIsIm5ld05vZGUiLCJjcmVhdGVOb2RlIiwibm9kZUF0SW5kZXgiLCJlbGVtZW50IiwiZWxlbWVudEF0SW5kZXgiLCJub2RlIiwiZXF1YWxzRiIsImN1cnJlbnROb2RlIiwicHJldmlvdXMiLCJlcUYiLCJlcXVhbHNBdXgiLCJuMSIsIm4yIiwicmVtb3ZlRWxlbWVudEF0SW5kZXgiLCJjdXJyZW50IiwiX01hdHJpeDIiLCJ1eCIsInV5IiwidngiLCJ2eSIsInRlbXBNYXRyaWNlcyIsIm11bCIsInNpZ251bSIsInJvdyIsIl91eCIsIl91eSIsIl92eCIsIl92eSIsIm1hdCIsImluaXQiLCJHcm91cEQ4IiwiRSIsIlNFIiwiUyIsIlNXIiwiVyIsIk5XIiwiTiIsIk5FIiwiTUlSUk9SX1ZFUlRJQ0FMIiwiTUlSUk9SX0hPUklaT05UQUwiLCJ1WCIsImluZCIsInVZIiwidlgiLCJ2WSIsImludiIsInJvdGF0aW9uU2Vjb25kIiwicm90YXRpb25GaXJzdCIsInN1YiIsInJvdGF0ZTE4MCIsImlzVmVydGljYWwiLCJieURpcmVjdGlvbiIsImR4IiwiZHkiLCJtYXRyaXhBcHBlbmRSb3RhdGlvbkludiIsImF0dHJpYnMiLCJ0ZW1wQXR0cmliU3RhdGUiLCJhdHRyaWJ1dGUiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImF0dHJpYiIsImZvcm1hdCIsImNyZWF0ZVRleHR1cmUiLCJwcmVtdWx0aXBseUFscGhhIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCIsIm5ld1dpZHRoIiwibmV3SGVpZ2h0IiwidGV4SW1hZ2UyRCIsInRleFN1YkltYWdlMkQiLCJGTE9BVElOR19QT0lOVF9BVkFJTEFCTEUiLCJ1cGxvYWREYXRhIiwibWluRmlsdGVyIiwibGluZWFyIiwidGV4UGFyYW1ldGVyaSIsIlRFWFRVUkVfTUlOX0ZJTFRFUiIsIkxJTkVBUl9NSVBNQVBfTElORUFSIiwiTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCIsIm1hZ0ZpbHRlciIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsImVuYWJsZU1pcG1hcCIsImdlbmVyYXRlTWlwbWFwIiwiZW5hYmxlV3JhcENsYW1wIiwiVEVYVFVSRV9XUkFQX1MiLCJDTEFNUF9UT19FREdFIiwiVEVYVFVSRV9XUkFQX1QiLCJlbmFibGVXcmFwUmVwZWF0IiwiZW5hYmxlV3JhcE1pcnJvclJlcGVhdCIsImRlbGV0ZVRleHR1cmUiLCJmcm9tU291cmNlIiwiY29tcGlsZVNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiZ2V0U2hhZGVySW5mb0xvZyIsImdsVmVydFNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJnbEZyYWdTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJwcm9ncmFtIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImJpbmRBdHRyaWJMb2NhdGlvbiIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiVkFMSURBVEVfU1RBVFVTIiwiZ2V0RXJyb3IiLCJnZXRQcm9ncmFtSW5mb0xvZyIsImRlbGV0ZVByb2dyYW0iLCJkZWxldGVTaGFkZXIiLCJtYXBUeXBlIiwibWFwU2l6ZSIsInBvaW50ZXIiLCJub3JtYWxpemVkIiwic3RyaWRlIiwidmVydGV4QXR0cmliUG9pbnRlciIsImF0dHJpYnV0ZXMiLCJ0b3RhbEF0dHJpYnV0ZXMiLCJBQ1RJVkVfQVRUUklCVVRFUyIsImF0dHJpYkRhdGEiLCJnZXRBY3RpdmVBdHRyaWIiLCJnZXRBdHRyaWJMb2NhdGlvbiIsIkdMU0xfVE9fU0laRSIsImZsb2F0IiwidmVjMiIsInZlYzMiLCJ2ZWM0IiwiaW50IiwiaXZlYzIiLCJpdmVjMyIsIml2ZWM0IiwiYm9vbCIsImJ2ZWMyIiwiYnZlYzMiLCJidmVjNCIsIm1hdDIiLCJtYXQzIiwibWF0NCIsInNhbXBsZXIyRCIsInRvdGFsVW5pZm9ybXMiLCJBQ1RJVkVfVU5JRk9STVMiLCJ1bmlmb3JtRGF0YSIsImdldEFjdGl2ZVVuaWZvcm0iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJib29sZWFuQXJyYXkiLCJJbnQzMkFycmF5IiwiZ2VuZXJhdGVHZXR0ZXIiLCJHTFNMX1NJTkdMRV9TRVRURVJTIiwidW5pZm9ybTFmIiwidW5pZm9ybTJmIiwidW5pZm9ybTNmIiwidW5pZm9ybTRmIiwidW5pZm9ybTFpIiwidW5pZm9ybTJpIiwidW5pZm9ybTNpIiwidW5pZm9ybTRpIiwidW5pZm9ybU1hdHJpeDJmdiIsInVuaWZvcm1NYXRyaXgzZnYiLCJ1bmlmb3JtTWF0cml4NGZ2IiwiR0xTTF9BUlJBWV9TRVRURVJTIiwidW5pZm9ybTFmdiIsInVuaWZvcm0yZnYiLCJ1bmlmb3JtM2Z2IiwidW5pZm9ybTRmdiIsInVuaWZvcm0xaXYiLCJ1bmlmb3JtMml2IiwidW5pZm9ybTNpdiIsInVuaWZvcm00aXYiLCJnZW5lcmF0ZVNldHRlciIsInVuaWZvcm0iLCJnZXRVbmlmb3JtR3JvdXAiLCJuYW1lVG9rZW5zIiwiY3VyIiwidW5pZm9ybUtleXMiLCJ1bmlmb3JtR3JvdXAiLCJfVHJhbnNmb3JtU3RhdGljMiIsIl9UcmFuc2Zvcm0yIiwiX0JvdW5kczIiLCJUcmFuc2Zvcm1DbGFzcyIsInRlbXBEaXNwbGF5T2JqZWN0UGFyZW50IiwiX2JvdW5kc1JlY3QiLCJfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSIsInNraXBVcGRhdGUiLCJ0cmFuc2Zvcm1SZWYiLCJwYXJlbnRSZWYiLCJ0b0dsb2JhbCIsImRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0iLCJ0b0xvY2FsIiwic2V0UGFyZW50IiwiY29udGFpbmVyIiwicGl2b3QiLCJfY3VycmVudEJvdW5kcyIsImludGVyYWN0aXZlIiwiaW50ZXJhY3RpdmVDaGlsZHJlbiIsImlzTWFzayIsIl9UcmFuc2Zvcm1CYXNlMiIsIm9uQ2hhbmdlIiwidXBkYXRlU2tldyIsIl9yb3RhdGlvbiIsIl9jeCIsIl9zeCIsIl9jeSIsIl9zeSIsIl9sb2NhbElEIiwiX2N1cnJlbnRMb2NhbElEIiwic2V0RnJvbU1hdHJpeCIsIl91cmwzIiwiX3VybDIiLCJwdW55Y29kZSIsIlVybCIsInNsYXNoZXMiLCJhdXRoIiwiaGFzaCIsInNlYXJjaCIsInF1ZXJ5IiwicGF0aG5hbWUiLCJ1cmxQYXJzZSIsInJlc29sdmVPYmplY3QiLCJwcm90b2NvbFBhdHRlcm4iLCJwb3J0UGF0dGVybiIsInNpbXBsZVBhdGhQYXR0ZXJuIiwidW53aXNlIiwiYXV0b0VzY2FwZSIsIm5vbkhvc3RDaGFycyIsImhvc3RFbmRpbmdDaGFycyIsImhvc3RuYW1lUGFydFBhdHRlcm4iLCJob3N0bmFtZVBhcnRTdGFydCIsInVuc2FmZVByb3RvY29sIiwiamF2YXNjcmlwdCIsImphdmFzY3JpcHQ6IiwiaG9zdGxlc3NQcm90b2NvbCIsInNsYXNoZWRQcm90b2NvbCIsImh0dHAiLCJodHRwcyIsImZ0cCIsImdvcGhlciIsImZpbGUiLCJodHRwOiIsImh0dHBzOiIsImZ0cDoiLCJnb3BoZXI6IiwiZmlsZToiLCJxdWVyeXN0cmluZyIsInBhcnNlUXVlcnlTdHJpbmciLCJzbGFzaGVzRGVub3RlSG9zdCIsImlzT2JqZWN0IiwicXVlcnlJbmRleCIsInNwbGl0dGVyIiwidVNwbGl0IiwicmVzdCIsInNpbXBsZVBhdGgiLCJwcm90byIsImxvd2VyUHJvdG8iLCJhdFNpZ24iLCJob3N0RW5kIiwiaGVjIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicGFyc2VIb3N0IiwiaXB2Nkhvc3RuYW1lIiwiaG9zdHBhcnRzIiwicGFydCIsIm5ld3BhcnQiLCJjaGFyQ29kZUF0IiwidmFsaWRQYXJ0cyIsIm5vdEhvc3QiLCJiaXQiLCJ0b0FTQ0lJIiwiYWUiLCJlc2MiLCJlbmNvZGVVUklDb21wb25lbnQiLCJlc2NhcGUiLCJxbSIsInJlbCIsInRrZXlzIiwidGsiLCJ0a2V5IiwicmtleXMiLCJyayIsInJrZXkiLCJyZWxQYXRoIiwiaXNTb3VyY2VBYnMiLCJpc1JlbEFicyIsIm11c3RFbmRBYnMiLCJyZW1vdmVBbGxEb3RzIiwic3JjUGF0aCIsInBzeWNob3RpYyIsImlzTnVsbE9yVW5kZWZpbmVkIiwiYXV0aEluSG9zdCIsImlzTnVsbCIsImhhc1RyYWlsaW5nU2xhc2giLCJfQmFzZVRleHR1cmUzIiwiX3RpY2tlciIsIkhBVkVfRU5PVUdIX0RBVEEiLCJIQVZFX0ZVVFVSRV9EQVRBIiwiX2F1dG9VcGRhdGUiLCJfaXNBdXRvVXBkYXRpbmciLCJfb25DYW5QbGF5IiwiX29uUGxheVN0YXJ0IiwiX29uUGxheVN0b3AiLCJfX2xvYWRlZCIsIl9pc1NvdXJjZVJlYWR5IiwiX2lzU291cmNlUGxheWluZyIsImN1cnJlbnRUaW1lIiwicGF1c2VkIiwiZW5kZWQiLCJwbGF5IiwicGF1c2UiLCJ2aWRlb1NyYyIsInNldEF0dHJpYnV0ZSIsImNyZWF0ZVNvdXJjZSIsInB1cmVQYXRoIiwiZnJvbVVybHMiLCJfR3JvdXBEMiIsIngzIiwieTMiLCJ1dnNVaW50MzIiLCJVaW50MzJBcnJheSIsImJhc2VGcmFtZSIsInR3IiwidGgiLCJ3MiIsImgyIiwiY1giLCJjWSIsIl9Db250YWluZXIyIiwiX1JlbmRlclRleHR1cmUyIiwidGVtcE1hdHJpeCIsIlN5c3RlbVJlbmRlcmVyIiwic3lzdGVtIiwiYXNzaWduIiwiX2JhY2tncm91bmRDb2xvciIsImdlbmVyYXRlVGV4dHVyZSIsInJlZ2lvbiIsInBhcmVudE5vZGUiLCJjcmVhdGVDb2xvcmVkQ2FudmFzIiwibWFnZW50YSIsInllbGxvdyIsImltYWdlRGF0YSIsIl9GaWx0ZXIzIiwiX1RleHR1cmVNYXRyaXgyIiwibWFza01hdHJpeCIsIm1hc2tTcHJpdGUiLCJpbnB1dCIsIm91dHB1dCIsIm90aGVyTWF0cml4IiwiY2FsY3VsYXRlU3ByaXRlTWF0cml4IiwibWFwQ29vcmQiLCJtYXNrQ2xhbXAiLCJ1Q2xhbXBGcmFtZSIsImFwcGx5RmlsdGVyIiwiX2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMyIiwiU09VUkNFX0tFWV9NQVAiLCJkZWZhdWx0VmVydGV4U3JjIiwiZGVmYXVsdEZyYWdtZW50U3JjIiwiX2JsZW5kTW9kZSIsImdsU2hhZGVycyIsImdsU2hhZGVyS2V5IiwicGFkZGluZyIsImF1dG9GaXQiLCJjdXJyZW50U3RhdGUiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwiY3VycmVudFF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJub29wIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImJpbmRpbmciLCJjaGRpciIsInVtYXNrIiwidGVtcE1hdCIsImNsYW1wTWFyZ2luIiwidUNsYW1wT2Zmc2V0IiwiX2xhc3RUZXh0dXJlSUQiLCJjbGFtcE9mZnNldCIsInRleEJhc2UiLCJtYXJnaW4iLCJvZmZzZXQiLCJfY3JlYXRlSW5kaWNlc0ZvclF1YWRzMiIsImludGVybGVhdmVkIiwiY3JlYXRlVmVydGV4QnVmZmVyIiwiU1RBVElDX0RSQVciLCJjcmVhdGVJbmRleEJ1ZmZlciIsImluaXRWYW8iLCJhZGRJbmRleCIsImFkZEF0dHJpYnV0ZSIsImFWZXJ0ZXhQb3NpdGlvbiIsImFUZXh0dXJlQ29vcmQiLCJ0YXJnZXRUZXh0dXJlRnJhbWUiLCJkZWxldGVCdWZmZXIiLCJkZWZhdWx0U3R5bGUiLCJhbGlnbiIsImJyZWFrV29yZHMiLCJkcm9wU2hhZG93IiwiZHJvcFNoYWRvd0FscGhhIiwiZHJvcFNoYWRvd0FuZ2xlIiwiZHJvcFNoYWRvd0JsdXIiLCJkcm9wU2hhZG93Q29sb3IiLCJkcm9wU2hhZG93RGlzdGFuY2UiLCJmaWxsIiwiZmlsbEdyYWRpZW50VHlwZSIsImZpbGxHcmFkaWVudFN0b3BzIiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiZm9udFN0eWxlIiwiZm9udFZhcmlhbnQiLCJmb250V2VpZ2h0IiwibGV0dGVyU3BhY2luZyIsImxpbmVIZWlnaHQiLCJsaW5lSm9pbiIsIm1pdGVyTGltaXQiLCJzdHJva2UiLCJzdHJva2VUaGlja25lc3MiLCJ0ZXh0QmFzZWxpbmUiLCJ3aGl0ZVNwYWNlIiwid29yZFdyYXAiLCJ3b3JkV3JhcFdpZHRoIiwibGVhZGluZyIsImdlbmVyaWNGb250RmFtaWxpZXMiLCJzdHlsZUlEIiwiZGVlcENvcHlQcm9wZXJ0aWVzIiwiY2xvbmVkUHJvcGVydGllcyIsImZvbnRTaXplU3RyaW5nIiwiZm9udEZhbWlsaWVzIiwiX2FsaWduIiwiX2JyZWFrV29yZHMiLCJfZHJvcFNoYWRvdyIsIl9kcm9wU2hhZG93QWxwaGEiLCJfZHJvcFNoYWRvd0FuZ2xlIiwiX2Ryb3BTaGFkb3dCbHVyIiwiX2Ryb3BTaGFkb3dDb2xvciIsIm91dHB1dENvbG9yIiwiZ2V0Q29sb3IiLCJfZHJvcFNoYWRvd0Rpc3RhbmNlIiwiX2ZpbGwiLCJfZmlsbEdyYWRpZW50VHlwZSIsIl9maWxsR3JhZGllbnRTdG9wcyIsImFyZUFycmF5c0VxdWFsIiwiX2ZvbnRGYW1pbHkiLCJfZm9udFNpemUiLCJfZm9udFN0eWxlIiwiX2ZvbnRWYXJpYW50IiwiX2ZvbnRXZWlnaHQiLCJfbGV0dGVyU3BhY2luZyIsIl9saW5lSGVpZ2h0IiwiX2xlYWRpbmciLCJfbGluZUpvaW4iLCJfbWl0ZXJMaW1pdCIsIl9wYWRkaW5nIiwiX3N0cm9rZSIsIl9zdHJva2VUaGlja25lc3MiLCJfdGV4dEJhc2VsaW5lIiwiX3RyaW0iLCJfd2hpdGVTcGFjZSIsIl93b3JkV3JhcCIsIl93b3JkV3JhcFdpZHRoIiwiZ2V0U2luZ2xlQ29sb3IiLCJwcm9wZXJ0eU9iaiIsImxpbmVzIiwibGluZVdpZHRocyIsIm1heExpbmVXaWR0aCIsImZvbnRQcm9wZXJ0aWVzIiwibWVhc3VyZVRleHQiLCJfY2FudmFzIiwibGluZSIsImNhY2hlIiwiY29sbGFwc2VTcGFjZXMiLCJjb2xsYXBzZU5ld2xpbmVzIiwiY2FuUHJlcGVuZFNwYWNlcyIsInRva2VucyIsInRva2VuaXplIiwidG9rZW4iLCJpc05ld2xpbmUiLCJhZGRMaW5lIiwiY3VycklzQnJlYWtpbmdTcGFjZSIsImlzQnJlYWtpbmdTcGFjZSIsImxhc3RJc0JyZWFraW5nU3BhY2UiLCJ0b2tlbldpZHRoIiwiZ2V0RnJvbUNhY2hlIiwiY2FuQnJlYWtXb3JkcyIsImNoYXJhY3RlcnMiLCJjaGFyIiwibmV4dENoYXIiLCJsYXN0Q2hhciIsImNhbkJyZWFrQ2hhcnMiLCJjaGFyYWN0ZXJXaWR0aCIsImlzTGFzdFRva2VuIiwibmV3TGluZSIsInRyaW1SaWdodCIsInNwYWNpbmciLCJfbmV3bGluZXMiLCJfYnJlYWtpbmdTcGFjZXMiLCJfZm9udHMiLCJwcm9wZXJ0aWVzIiwiX2NvbnRleHQiLCJtZXRyaWNzU3RyaW5nIiwiTUVUUklDU19TVFJJTkciLCJCQVNFTElORV9TWU1CT0wiLCJiYXNlbGluZSIsIkJBU0VMSU5FX01VTFRJUExJRVIiLCJmaWxsVGV4dCIsImltYWdlZGF0YSIsImlkeCIsImFzY2VudCIsIl9qIiwiZGVzY2VudCIsImNsZWFyTWV0cmljcyIsImZpbGxDb2xvciIsImZpbGxBbHBoYSIsInNoYXBlIiwiX2xpbmVUaW50IiwiX2ZpbGxUaW50IiwiYWRkSG9sZSIsImFyZzQiLCJhcmc1IiwiZm9yY2VDYW52YXMiLCJzaGFyZWRUaWNrZXIiLCJfb3B0aW9ucyIsInNoYXJlZExvYWRlciIsInN0YWdlIiwic3RhZ2VPcHRpb25zIiwib2xkVGlja2VyIiwiYXJnMSIsImFjY2Vzc2libGUiLCJhY2Nlc3NpYmxlVGl0bGUiLCJhY2Nlc3NpYmxlSGludCIsInRhYkluZGV4IiwiX2FjY2Vzc2libGVBY3RpdmUiLCJfYWNjZXNzaWJsZURpdiIsIkJpdG1hcFRleHQiLCJUaWxpbmdTcHJpdGVSZW5kZXJlciIsIlRpbGluZ1Nwcml0ZSIsIkFuaW1hdGVkU3ByaXRlIiwiX0FuaW1hdGVkU3ByaXRlIiwiX1RpbGluZ1Nwcml0ZSIsIl9UaWxpbmdTcHJpdGVSZW5kZXJlciIsIl9CaXRtYXBUZXh0IiwiX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyIiwiX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyIiwiX2dldE1heEJsdXJLZXJuZWxTaXplMiIsIkJsdXJYRmlsdGVyIiwiX2NvcmUkRmlsdGVyIiwic3RyZW5ndGgiLCJxdWFsaXR5Iiwia2VybmVsU2l6ZSIsInZlcnRTcmMiLCJmcmFnU3JjIiwiX3F1YWxpdHkiLCJmaXJzdFJ1biIsInBhc3NlcyIsImdldFJlbmRlclRhcmdldCIsImZsaXAiLCJmbG9wIiwicmV0dXJuUmVuZGVyVGFyZ2V0IiwiaGFsZkxlbmd0aCIsInZlcnRTb3VyY2UiLCJ2ZXJ0VGVtcGxhdGUiLCJibHVyTG9vcCIsInRlbXBsYXRlIiwiYmx1ciIsImtlcm5lbCIsIkdBVVNTSUFOX1ZBTFVFUyIsImZyYWdTb3VyY2UiLCJmcmFnVGVtcGxhdGUiLCI1IiwiNyIsIjkiLCIxMSIsIjEzIiwiMTUiLCJtYXhWYXJ5aW5ncyIsIk1BWF9WQVJZSU5HX1ZFQ1RPUlMiLCJCbHVyWUZpbHRlciIsIkludGVyYWN0aW9uRGF0YSIsIm9yaWdpbmFsRXZlbnQiLCJpZGVudGlmaWVyIiwiaXNQcmltYXJ5IiwiYnV0dG9uIiwiYnV0dG9ucyIsInRpbHRYIiwidGlsdFkiLCJwb2ludGVyVHlwZSIsInByZXNzdXJlIiwicm90YXRpb25BbmdsZSIsInR3aXN0IiwidGFuZ2VudGlhbFByZXNzdXJlIiwiZ2V0TG9jYWxQb3NpdGlvbiIsImdsb2JhbFBvcyIsImNvcHlFdmVudCIsImlzSW50ZWdlciIsIndoaWNoIiwiSW50ZXJhY3Rpb25FdmVudCIsInN0b3BwZWQiLCJjdXJyZW50VGFyZ2V0Iiwic3RvcFByb3BhZ2F0aW9uIiwiSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEiLCJwb2ludGVySWQiLCJfcG9pbnRlcklkIiwiRkxBR1MiLCJfZG9TZXQiLCJ5biIsImZsYWdzIiwiT1ZFUiIsIlJJR0hUX0RPV04iLCJMRUZUX0RPV04iLCJmcmVlemUiLCJoaXRBcmVhIiwiYnV0dG9uTW9kZSIsImN1cnNvciIsInRyYWNrZWRQb2ludGVycyIsIl90cmFja2VkUG9pbnRlcnMiLCJyZXNvdXJjZSIsIl9yZXNvdXJjZUxvYWRlciIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0QXR0cmlidXRlIiwieG1sVXJsIiwiYmFzZVVybCIsInBhZ2VzIiwidGV4dHVyZXMiLCJjb21wbGV0ZWQiLCJwYWdlIiwicGFnZUZpbGUiLCJyZXNvdXJjZXMiLCJiaXRtYXBSZXNvdXJjZSIsImltYWdlTWV0YWRhdGEiLCJwYXJlbnRSZXNvdXJjZSIsIl9leHRyYXMiLCJiaXRtYXBGb250IiwicmVnaXN0ZXJGb250IiwiTWluaVNpZ25hbEJpbmRpbmciLCJ0aGlzQXJnIiwiX2ZuIiwiX29uY2UiLCJfdGhpc0FyZyIsIl9uZXh0IiwiX3ByZXYiLCJfb3duZXIiLCJkZXRhY2giLCJfYWRkTWluaVNpZ25hbEJpbmRpbmciLCJfaGVhZCIsIl90YWlsIiwiTWluaVNpZ25hbCIsIm9wdHMiLCJwYXJzZXIiLCJzdHJpY3QiLCJsb29zZSIsInVyaSIsIiQwIiwiJDIiLCJvbmx5T25jZSIsImNhbGxGbiIsImVhY2hTZXJpZXMiLCJpdGVyYXRvciIsImRlZmVyTmV4dCIsIndvcmtlciIsImNvbmN1cnJlbmN5Iiwid29ya2VycyIsIl90YXNrcyIsInNhdHVyYXRlZCIsInVuc2F0dXJhdGVkIiwiYnVmZmVyIiwiZHJhaW4iLCJzdGFydGVkIiwiX2luc2VydCIsImtpbGwiLCJ0YXNrIiwicnVubmluZyIsImlkbGUiLCJyZXN1bWUiLCJpbnNlcnRBdEZyb250IiwiX2tleVN0ciIsImlueCIsImJ5dGVidWZmZXIiLCJlbmNvZGVkQ2hhckluZGV4ZXMiLCJqbngiLCJfam54IiwiaW1hZ2VSZXNvdXJjZU5hbWUiLCJmcmFtZXMiLCJsb2FkT3B0aW9ucyIsInJlc291cmNlUGF0aCIsImdldFJlc291cmNlUGF0aCIsInNwcml0ZXNoZWV0IiwiX3VybCIsIm1ldGEiLCJfTWVzaDIiLCJfTWVzaDMiLCJQbGFuZSIsIl9NZXNoIiwidmVydGljZXNYIiwidmVydGljZXNZIiwiX3JlYWR5Iiwic2VnbWVudHNYIiwic2VnbWVudHNZIiwic2l6ZVgiLCJzaXplWSIsInRvdGFsU3ViIiwieHBvcyIsInlwb3MiLCJ2YWx1ZTIiLCJ2YWx1ZTMiLCJ2YWx1ZTQiLCJDb3VudExpbWl0ZXIiLCJtYXhJdGVtc1BlckZyYW1lIiwiaXRlbXNMZWZ0IiwiX2FycmF5cyIsIkJhZ18xIiwiQmFnIiwiQlNUcmVlXzEiLCJCU1RyZWUiLCJCU1RyZWVLVl8xIiwiQlNUcmVlS1YiLCJEaWN0aW9uYXJ5XzEiLCJIZWFwXzEiLCJIZWFwIiwiTGlua2VkRGljdGlvbmFyeV8xIiwiTGlua2VkRGljdGlvbmFyeSIsIkxpbmtlZExpc3RfMSIsIk11bHRpRGljdGlvbmFyeV8xIiwiTXVsdGlEaWN0aW9uYXJ5IiwiRmFjdG9yeURpY3Rpb25hcnlfMSIsIkZhY3RvcnlEaWN0aW9uYXJ5IiwiRmFjdG9yeURpY3Rpb25hcnlfMiIsIkRlZmF1bHREaWN0aW9uYXJ5IiwiUXVldWVfMSIsIlF1ZXVlIiwiUHJpb3JpdHlRdWV1ZV8xIiwiUHJpb3JpdHlRdWV1ZSIsIlNldF8xIiwiU2V0IiwiU3RhY2tfMSIsIlN0YWNrIiwiTXVsdGlSb290VHJlZV8xIiwiTXVsdGlSb290VHJlZSIsIl91dGlsIiwidG9TdHJpbmdGdW5jdGlvbiIsImRpY3Rpb25hcnkiLCJpbnRlcnNlY3Rpb24iLCJvdGhlclNldCIsInVuaW9uIiwiZGlmZmVyZW5jZSIsImlzU3Vic2V0T2YiLCJpc1N1YiIsImNvbXBhcmUiLCJzZWFyY2hOb2RlIiwiaW5vcmRlclRyYXZlcnNhbCIsImlub3JkZXJUcmF2ZXJzYWxBdXgiLCJwcmVvcmRlclRyYXZlcnNhbCIsInByZW9yZGVyVHJhdmVyc2FsQXV4IiwicG9zdG9yZGVyVHJhdmVyc2FsIiwicG9zdG9yZGVyVHJhdmVyc2FsQXV4IiwibGV2ZWxUcmF2ZXJzYWwiLCJsZXZlbFRyYXZlcnNhbEF1eCIsIm1pbmltdW0iLCJtaW5pbXVtQXV4IiwibWF4aW11bSIsIm1heGltdW1BdXgiLCJoZWlnaHRBdXgiLCJjbXAiLCJsZWZ0Q2giLCJyaWdodENoIiwidHJhbnNwbGFudCIsInNpZ25hbCIsImVucXVldWUiLCJkZXF1ZXVlIiwiZWxlbSIsImVsIiwicGVlayIsImNvbGxlY3Rpb25zIiwibGVmdENoaWxkSW5kZXgiLCJub2RlSW5kZXgiLCJyaWdodENoaWxkSW5kZXgiLCJwYXJlbnRJbmRleCIsImZsb29yIiwibWluSW5kZXgiLCJsZWZ0Q2hpbGQiLCJyaWdodENoaWxkIiwic2lmdFVwIiwic2lmdERvd24iLCJyZW1vdmVSb290IiwiZXF1RiIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJfXyIsIl9zdXBlciIsImRlZmF1bHRGYWN0b3J5RnVuY3Rpb24iLCJzZXREZWZhdWx0IiwiY3VycmVudFZhbHVlIiwiQ29udGFpbmVyQWN0b3IiLCJwaXhpX2pzXzEiLCJBdHRhY2hlZFNjb3JlTGFiZWwiLCJiaXJkIiwiYmlyZFNwcml0ZSIsInJlbmRlclNjb3JlIiwicGxheWVyIiwic2NvcmUiLCJwaXBlQ291bnQiLCJkZWF0aCIsIkZpeGVkU2NvcmVMYWJlbCIsIndvcmxkIiwibGVmdExhYmVsIiwicmlnaHRMYWJlbCIsImRpc3RhbmNlIiwiYmVzdFNjb3JlIiwiYmVzdERpc3RhbmNlIiwiYmVzdFBpcGVDb3VudCIsImFwcCIsImJvZHkiLCJiaXJkX3BuZ18xIiwiX19pbXBvcnREZWZhdWx0IiwidG9wUGlwZV9wbmdfMSIsImJvdHRvbVBpcGVfcG5nXzEiLCJfX2ltcG9ydFN0YXIiLCJvdmVybGFwcyIsImFub3RoZXIiLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJBcnJheUJ1ZmZlciIsIl9vYmplY3RBc3NpZ24iLCJfb2JqZWN0QXNzaWduMiIsInByb3BJc0VudW1lcmFibGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRlc3QxIiwiU3RyaW5nIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInRlc3QyIiwiZnJvbUNoYXJDb2RlIiwidGVzdDMiLCJsZXR0ZXIiLCJzaG91bGRVc2VOYXRpdmUiLCJzeW1ib2xzIiwidG9PYmplY3QiLCJEYXRlIiwibm93IiwiZ2V0VGltZSIsInBlcmZvcm1hbmNlIiwic3RhcnRUaW1lIiwibGFzdFRpbWUiLCJ2ZW5kb3JzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJkZWxheSIsImlzTmFOIiwiaXNGaW5pdGUiLCJfUmVjdGFuZ2xlMiIsIkNpcmNsZSIsInJhZGl1cyIsIkVsbGlwc2UiLCJoYWxmV2lkdGgiLCJoYWxmSGVpZ2h0Iiwibm9ybXgiLCJub3JteSIsIl9rZXkiLCJpbCIsImNsb3NlZCIsImNsb3NlIiwieGkiLCJ5aSIsInhqIiwieWoiLCJSb3VuZGVkUmVjdGFuZ2xlIiwicmFkaXVzMiIsIkVNUFRZX0FSUkFZX0JVRkZFUiIsIkJ1ZmZlciIsImRyYXdUeXBlIiwiY3JlYXRlQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiZG9udEJpbmQiLCJieXRlTGVuZ3RoIiwiYnVmZmVyU3ViRGF0YSIsImJ1ZmZlckRhdGEiLCJiaW5kQnVmZmVyIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJGcmFtZWJ1ZmZlciIsImNyZWF0ZUZyYW1lYnVmZmVyIiwiZW5hYmxlVGV4dHVyZSIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiRlJBTUVCVUZGRVIiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsImNyZWF0ZVJlbmRlcmJ1ZmZlciIsImJpbmRSZW5kZXJidWZmZXIiLCJSRU5ERVJCVUZGRVIiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCIsInJlbmRlcmJ1ZmZlclN0b3JhZ2UiLCJERVBUSF9TVEVOQ0lMIiwiQ09MT1JfQlVGRkVSX0JJVCIsIkRFUFRIX0JVRkZFUl9CSVQiLCJiaW5kRnJhbWVidWZmZXIiLCJkZWxldGVGcmFtZWJ1ZmZlciIsImZibyIsImNyZWF0ZUZsb2F0MzIiLCJjb21waWxlUHJvZ3JhbSIsImV4dHJhY3RBdHRyaWJ1dGVzIiwiZXh0cmFjdFVuaWZvcm1zIiwic2V0UHJlY2lzaW9uIiwiZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0IiwibmF0aXZlVmFvRXh0ZW5zaW9uIiwibmF0aXZlU3RhdGUiLCJuYXRpdmVWYW8iLCJjcmVhdGVWZXJ0ZXhBcnJheU9FUyIsIm1heEF0dHJpYnMiLCJNQVhfVkVSVEVYX0FUVFJJQlMiLCJiaW5kVmVydGV4QXJyYXlPRVMiLCJsYXN0QnVmZmVyIiwiZHJhdyIsImRyYXdFbGVtZW50cyIsIlVOU0lHTkVEX1NIT1JUIiwiZHJhd0FycmF5cyIsImdldFNpemUiLCJkZWxldGVWZXJ0ZXhBcnJheU9FUyIsIl9pc21vYmlsZWpzMiIsIl9pc21vYmlsZWpzIiwicGxhdGZvcm0iLCJfX3BsdWdpbnMiLCJyZWdpc3RlclBsdWdpbiIsImN0b3IiLCJwcm9wZXJ0eU5hbWUiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJkZWxheU1peGluIiwic3RhcnRJZHgiLCJyZW1vdmVDb3VudCIsIm5wbSIsIm5vZGVUeXBlIiwiZnJlZUdsb2JhbCIsIm1heEludCIsImJhc2UiLCJ0TWluIiwidE1heCIsImRhbXAiLCJpbml0aWFsQmlhcyIsImluaXRpYWxOIiwicmVnZXhQdW55Y29kZSIsInJlZ2V4Tm9uQVNDSUkiLCJyZWdleFNlcGFyYXRvcnMiLCJlcnJvcnMiLCJvdmVyZmxvdyIsIm5vdC1iYXNpYyIsImludmFsaWQtaW5wdXQiLCJiYXNlTWludXNUTWluIiwic3RyaW5nRnJvbUNoYXJDb2RlIiwibWFwRG9tYWluIiwic3RyaW5nIiwidWNzMmRlY29kZSIsImV4dHJhIiwiY291bnRlciIsInVjczJlbmNvZGUiLCJkaWdpdFRvQmFzaWMiLCJkaWdpdCIsImFkYXB0IiwibnVtUG9pbnRzIiwiZmlyc3RUaW1lIiwiZGVjb2RlIiwiYmFzaWMiLCJvbGRpIiwiYmFzZU1pbnVzVCIsImNvZGVQb2ludCIsImlucHV0TGVuZ3RoIiwiYmlhcyIsImVuY29kZSIsImhhbmRsZWRDUENvdW50IiwiYmFzaWNMZW5ndGgiLCJoYW5kbGVkQ1BDb3VudFBsdXNPbmUiLCJxTWludXNUIiwidWNzMiIsInRvVW5pY29kZSIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsImFyZyIsInFzIiwiZXEiLCJyZWdleHAiLCJtYXhLZXlzIiwia3N0ciIsInZzdHIiLCJzdHJpbmdpZnlQcmltaXRpdmUiLCJvYmplY3RLZXlzIiwia3MiLCJfVGlja2VyTGlzdGVuZXIyIiwiX3JlcXVlc3RJZCIsIl9tYXhFbGFwc2VkTVMiLCJkZWx0YVRpbWUiLCJlbGFwc2VkTVMiLCJzcGVlZCIsIl90aWNrIiwidGltZSIsIl9yZXF1ZXN0SWZOZWVkZWQiLCJfY2FuY2VsSWZOZWVkZWQiLCJfc3RhcnRJZlBvc3NpYmxlIiwicHJpb3JpdHkiLCJfYWRkTGlzdGVuZXIiLCJjb25uZWN0IiwiaGVhZCIsImZwcyIsIm1pbkZQTVMiLCJUaWNrZXJMaXN0ZW5lciIsInJlZGlyZWN0IiwiaGFyZCIsIl9DYW52YXNUaW50ZXIyIiwiY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm0iLCJzbW9vdGhpbmdFbmFibGVkIiwidGludGVkVGV4dHVyZSIsIkNhbnZhc01hc2tNYW5hZ2VyIiwibWFza0RhdGEiLCJjYWNoZUFscGhhIiwicmVuZGVyR3JhcGhpY3NTaGFwZSIsImNsaXAiLCJncmFwaGljcyIsImJlZ2luUGF0aCIsIm91dGVyQXJlYSIsImlubmVyQXJlYSIsIm1vdmVUbyIsImxpbmVUbyIsImNsb3NlUGF0aCIsIl9qMiIsIl9qMyIsIl9qNCIsImFyYyIsIm94Iiwib3kiLCJ4ZSIsInllIiwieG0iLCJ5bSIsImJlemllckN1cnZlVG8iLCJyeCIsInJ5IiwibWF4UmFkaXVzIiwicXVhZHJhdGljQ3VydmVUbyIsIl9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMiIsIl9PYmplY3RSZW5kZXJlcjMiLCJfZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIyIiwiX2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlcjIiLCJfQmF0Y2hCdWZmZXIyIiwiVElDSyIsIlRFWFRVUkVfVElDSyIsInZlcnRTaXplIiwidmVydEJ5dGVTaXplIiwiYnVmZmVycyIsImdyb3VwcyIsInRleHR1cmVDb3VudCIsImlkcyIsImJsZW5kIiwic3ByaXRlcyIsInZlcnRleEJ1ZmZlcnMiLCJ2YW9zIiwidmFvTWF4IiwidmVydGV4Q291bnQiLCJvblByZXJlbmRlciIsIk1BWF9URVhUVVJFUyIsImF0dHJzIiwiU1RSRUFNX0RSQVciLCJhQ29sb3IiLCJhVGV4dHVyZUlkIiwiY3VycmVudEJsZW5kTW9kZSIsIm5wMiIsImZsb2F0MzJWaWV3IiwidWludDMyVmlldyIsInJlbmRlcmVyQm91bmRUZXh0dXJlcyIsInRvdWNoIiwibmV4dFRleHR1cmUiLCJjdXJyZW50VGV4dHVyZSIsImdyb3VwQ291bnQiLCJjdXJyZW50R3JvdXAiLCJidCIsInNwcml0ZUJsZW5kTW9kZSIsInRJbmRleCIsImFyZ2IiLCJncm91cCIsImdyb3VwVGV4dHVyZUNvdW50IiwiX1dlYkdMTWFuYWdlcjMiLCJfU3ByaXRlTWFza0ZpbHRlcjIiLCJNYXNrTWFuYWdlciIsInNjaXNzb3JEYXRhIiwic2Npc3NvclJlbmRlclRhcmdldCIsImVuYWJsZVNjaXNzb3IiLCJhbHBoYU1hc2tQb29sIiwiYWxwaGFNYXNrSW5kZXgiLCJwdXNoU3ByaXRlTWFzayIsImlzRmFzdFJlY3QiLCJyb3QiLCJwdXNoU3RlbmNpbE1hc2siLCJwdXNoU2Npc3Nvck1hc2siLCJwb3BTcHJpdGVNYXNrIiwicG9wU2Npc3Nvck1hc2siLCJwb3BTdGVuY2lsTWFzayIsImFscGhhTWFza0ZpbHRlciIsInB1c2hTdGVuY2lsIiwicG9wU3RlbmNpbCIsInZlcnRVbmlmb3JtcyIsImV4dHJhY3RVbmlmb3Jtc0Zyb21TdHJpbmciLCJmcmFnVW5pZm9ybXMiLCJtYXNrUmVnZXgiLCJuYW1lU3BsaXQiLCJzcGxpdExpbmUiLCJTdGVuY2lsTWFuYWdlciIsIlNURU5DSUxfVEVTVCIsInByZXZNYXNrQ291bnQiLCJjb2xvck1hc2siLCJzdGVuY2lsRnVuYyIsIkVRVUFMIiwiX2dldEJpdHdpc2VNYXNrIiwic3RlbmNpbE9wIiwiS0VFUCIsIklOQ1IiLCJfdXNlQ3VycmVudCIsIlNURU5DSUxfQlVGRkVSX0JJVCIsImNsZWFyU3RlbmNpbCIsIkRFQ1IiLCJzdGVuY2lsU3RhY2siLCJfUXVhZDIiLCJfU2hhZGVyMiIsImZpbHRlclRyYW5zZm9ybXMiLCJGaWx0ZXJTdGF0ZSIsIkZpbHRlck1hbmFnZXIiLCJxdWFkIiwic2hhZGVyQ2FjaGUiLCJwb29sIiwibWFuYWdlZEZpbHRlcnMiLCJfc2NyZWVuV2lkdGgiLCJfc2NyZWVuSGVpZ2h0IiwiZmlsdGVyU3RhY2siLCJmaWx0ZXJTdGF0ZSIsInN0YWNrIiwicmVuZGVyVGFyZ2V0RnJhbWUiLCJmdWxsU2NyZWVuIiwidGFyZ2V0Qm91bmRzIiwiZ2V0UG90UmVuZGVyVGFyZ2V0IiwibGFzdFN0YXRlIiwiZnJlZVBvdFJlbmRlclRhcmdldCIsInN5bmNVbmlmb3JtcyIsImZpbHRlckNsYW1wIiwiY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgiLCJvdXRwdXRNYXRyaXgiLCJjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgiLCJjb250ZXh0TG9zdCIsImVtcHR5UG9vbCIsIm1pbldpZHRoIiwibWluSGVpZ2h0IiwidGV4dHVyZVNpemUiLCJtYXBwZWRNYXRyaXgiLCJ0cmFuc2xhdGVTY2FsZVgiLCJ0cmFuc2xhdGVTY2FsZVkiLCJURU1QX01BVFJJWCIsIlRleHR1cmVNYW5hZ2VyIiwiX21hbmFnZWRUZXh0dXJlcyIsImdldFRleHR1cmUiLCJpc1JlbmRlclRleHR1cmUiLCJkZXN0cm95VGV4dHVyZSIsInNraXBSZW1vdmUiLCJnbFRleHR1cmVzIiwiZ2xSZW5kZXJUYXJnZXRzIiwiVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IiLCJjaGVja0NvdW50IiwibWF4SWRsZSIsImNoZWNrQ291bnRNYXgiLCJ0bSIsIm1hbmFnZWRUZXh0dXJlcyIsIndhc1JlbW92ZWQiLCJ1bmxvYWQiLCJfbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpIiwiX21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aTIiLCJXZWJHTFN0YXRlIiwiYWN0aXZlU3RhdGUiLCJVaW50OEFycmF5IiwiZGVmYXVsdFN0YXRlIiwic3RhY2tJbmRleCIsInNldFN0YXRlIiwic2V0QmxlbmQiLCJzZXREZXB0aFRlc3QiLCJzZXRGcm9udEZhY2UiLCJzZXRDdWxsRmFjZSIsIkJMRU5EIiwiYmxlbmRGdW5jIiwiYmxlbmRGdW5jU2VwYXJhdGUiLCJERVBUSF9URVNUIiwiQ1VMTF9GQUNFIiwiZnJvbnRGYWNlIiwicmVzZXRBdHRyaWJ1dGVzIiwiVU5QQUNLX0ZMSVBfWV9XRUJHTCIsIk9ORSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJEU1RfQUxQSEEiLCJEU1RfQ09MT1IiLCJPTkVfTUlOVVNfU1JDX0NPTE9SIiwiU1JDX0FMUEhBIiwiZ2VuZXJhdGVTYW1wbGVTcmMiLCJzYW1wbGVWYWx1ZXMiLCJ1U2FtcGxlcnMiLCJtYXhJZnMiLCJjcmVhdGVUZW1wQ29udGV4dCIsInRpbnlDYW52YXMiLCJnZW5lcmF0ZUlmVGVzdFNyYyIsInBvc2l0aW9ucyIsIl9TcHJpdGUzIiwiX1RleHRTdHlsZTIiLCJfVGV4dE1ldHJpY3MyIiwiX3RyaW1DYW52YXMyIiwiZGVmYXVsdERlc3Ryb3lPcHRpb25zIiwiX3RleHQiLCJfc3R5bGUiLCJfc3R5bGVMaXN0ZW5lciIsIl9mb250IiwibG9jYWxTdHlsZUlEIiwicmVzcGVjdERpcnR5IiwibWVhc3VyZWQiLCJzdHJva2VTdHlsZSIsImxpbmVQb3NpdGlvblgiLCJsaW5lUG9zaXRpb25ZIiwic2hhZG93Qmx1ciIsInNoYWRvd0NvbG9yIiwieFNoYWRvd09mZnNldCIsInlTaGFkb3dPZmZzZXQiLCJkcmF3TGV0dGVyU3BhY2luZyIsIl9nZW5lcmF0ZUZpbGxTdHlsZSIsImlzU3Ryb2tlIiwiY3VycmVudFBvc2l0aW9uIiwic3Ryb2tlVGV4dCIsInRyaW1tZWQiLCJfb25TdHlsZUNoYW5nZSIsImdyYWRpZW50IiwidG90YWxJdGVyYXRpb25zIiwiY3VycmVudEl0ZXJhdGlvbiIsImxlbmd0aFBsdXMxIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJhZGRDb2xvclN0b3AiLCJfaTMiLCJib3VuZCIsIl9HcmFwaGljc0RhdGEyIiwiX1Nwcml0ZTIiLCJfYmV6aWVyQ3VydmVUbzMiLCJjYW52YXNSZW5kZXJlciIsInRlbXBDb2xvcjEiLCJ0ZW1wQ29sb3IyIiwiX3ByZXZUaW50IiwiY3VycmVudFBhdGgiLCJfd2ViR0wiLCJib3VuZHNQYWRkaW5nIiwiX2xvY2FsQm91bmRzIiwiZmFzdFJlY3REaXJ0eSIsImNsZWFyRGlydHkiLCJib3VuZHNEaXJ0eSIsImNhY2hlZFNwcml0ZURpcnR5IiwiX3Nwcml0ZVJlY3QiLCJfZmFzdFJlY3QiLCJfcHJldlJlY3RUaW50IiwiX3ByZXZSZWN0RmlsbENvbG9yIiwidXBkYXRlTG9jYWxCb3VuZHMiLCJfcXVhZHJhdGljQ3VydmVMZW5ndGgiLCJmcm9tWCIsImZyb21ZIiwiY3BYIiwiY3BZIiwidG9YIiwidG9ZIiwiYTMyIiwiYmEiLCJfYmV6aWVyQ3VydmVMZW5ndGgiLCJjcFgyIiwiY3BZMiIsInQyIiwidDMiLCJudCIsIm50MiIsIm50MyIsInByZXZYIiwicHJldlkiLCJfc2VnbWVudHNDb3VudCIsIkNVUlZFUyIsIm1heExlbmd0aCIsIm1pblNlZ21lbnRzIiwibWF4U2VnbWVudHMiLCJsaW5lU3R5bGUiLCJhbGlnbm1lbnQiLCJkcmF3U2hhcGUiLCJ4YSIsInlhIiwiYWRhcHRpdmUiLCJhcmNUbyIsIm1tIiwiZGQiLCJ0dCIsImsxIiwiazIiLCJqMSIsImoyIiwicXkiLCJzdGFydEFuZ2xlIiwiZW5kQW5nbGUiLCJhbnRpY2xvY2t3aXNlIiwic3dlZXAiLCJzZWdzIiwic3RhcnRYIiwic3RhcnRZIiwieERpZmYiLCJ5RGlmZiIsInRoZXRhIiwidGhldGEyIiwiY1RoZXRhIiwic1RoZXRhIiwic2VnTWludXMiLCJyZW1haW5kZXIiLCJiZWdpbkZpbGwiLCJmaWxsaW5nIiwiZW5kRmlsbCIsImRyYXdSZWN0IiwiZHJhd1JvdW5kZWRSZWN0IiwiZHJhd0NpcmNsZSIsImRyYXdFbGxpcHNlIiwiZHJhd1BvbHlnb24iLCJkcmF3U3RhciIsImlubmVyUmFkaXVzIiwicG9seWdvbiIsImNhbnZhc1RpbnREaXJ0eSIsIl9yZW5kZXJTcHJpdGVSZWN0IiwidDEiLCJsYiIsImxpbmVPZmZzZXQiLCJydyIsInJoIiwiZ2VuZXJhdGVDYW52YXNUZXh0dXJlIiwiY2FudmFzQnVmZmVyIiwiX1NQUklURV9URVhUVVJFIiwiZHQiLCJkdDIiLCJkdDMiLCJfV2ViR0xHcmFwaGljc0RhdGEyIiwiX1ByaW1pdGl2ZVNoYWRlcjIiLCJfYnVpbGRQb2x5MiIsIl9idWlsZFJlY3RhbmdsZTIiLCJfYnVpbGRSb3VuZGVkUmVjdGFuZ2xlMiIsIl9idWlsZENpcmNsZTIiLCJncmFwaGljc0RhdGFQb29sIiwicHJpbWl0aXZlU2hhZGVyIiwid2ViR0wiLCJ1cGRhdGVHcmFwaGljcyIsInNoYWRlclRlbXAiLCJ0cmFuc2xhdGlvbk1hdHJpeCIsImxhc3RJbmRleCIsImdldFdlYkdMRGF0YSIsImF0dHJpYnNTdGF0ZSIsIldlYkdMR3JhcGhpY3NEYXRhIiwiZ2xQb2ludHMiLCJnbEluZGljZXMiLCJQcmltaXRpdmVTaGFkZXIiLCJob2xlQXJyYXkiLCJ2ZXJ0UG9zIiwiX2J1aWxkTGluZTIiLCJyZWN0RGF0YSIsInRlbXBQb2ludHMiLCJfYnVpbGRMaW5lIiwicnJlY3REYXRhIiwicmVjUG9pbnRzIiwicXVhZHJhdGljQmV6aWVyQ3VydmUiLCJ2ZWNQb3MiLCJnZXRQdCIsInBlcmMiLCJ4YiIsInliIiwiY2lyY2xlRGF0YSIsInRvdGFsU2VncyIsInNlZyIsIl9DYW52YXNSZW5kZXJlciIsInVwZGF0ZUdyYXBoaWNzVGludCIsInN0cm9rZVJlY3QiLCJ0aW50UiIsInRpbnRHIiwidGludEIiLCJyZW5kZXJQb2x5Z29uIiwiXyIsInJlc29sdXRpb25GaWxlbmFtZSIsImFuaW1hdGlvbnMiLCJfdXBkYXRlUmVzb2x1dGlvbiIsIl9mcmFtZXMiLCJfZnJhbWVLZXlzIiwiX2JhdGNoSW5kZXgiLCJfY2FsbGJhY2siLCJCQVRDSF9TSVpFIiwiX3Byb2Nlc3NGcmFtZXMiLCJfcHJvY2Vzc0FuaW1hdGlvbnMiLCJfcGFyc2VDb21wbGV0ZSIsIl9uZXh0QmF0Y2giLCJpbml0aWFsRnJhbWVJbmRleCIsImZyYW1lSW5kZXgiLCJtYXhGcmFtZXMiLCJzb3VyY2VTaXplIiwicm90YXRlZCIsInNwcml0ZVNvdXJjZVNpemUiLCJhbmltTmFtZSIsIl9pdGVyYXRvciIsIl9pc0FycmF5IiwiX3JlZiIsImZyYW1lTmFtZSIsIlNwcml0ZUJhdGNoIiwiQXNzZXRMb2FkZXIiLCJTdGFnZSIsIkRpc3BsYXlPYmplY3RDb250YWluZXIiLCJTdHJpcCIsIlJvcGUiLCJQYXJ0aWNsZUNvbnRhaW5lciIsIk1vdmllQ2xpcCIsInNjYWxlTW9kZXMiLCJtYXRoIiwiQWJzdHJhY3RGaWx0ZXIiLCJUcmFuc2Zvcm1NYW51YWwiLCJERUZBVUxUX1JFTkRFUl9PUFRJT05TIiwiZGVmYXVsdHMiLCJfbG9vcCIsImRlcHJlY2F0aW9uIiwiVGV4dHVyZVRyYW5zZm9ybSIsImlzU3dhcFdpZHRoSGVpZ2h0IiwiZ2V0SW1hZ2UiLCJnZXRCYXNlNjQiLCJnZXRDYW52YXMiLCJnZXRQaXhlbHMiLCJzZXRUZXh0dXJlIiwic2V0VGV4dCIsImNhbGN1bGF0ZUZvbnRQcm9wZXJ0aWVzIiwiZm9udFByb3BlcnRpZXNDYWNoZSIsImZvbnRQcm9wZXJ0aWVzQ2FudmFzIiwiZm9udFByb3BlcnRpZXNDb250ZXh0Iiwic2V0U3R5bGUiLCJkZXRlcm1pbmVGb250UHJvcGVydGllcyIsImdldEZvbnRTdHlsZSIsInNwbGl0cyIsImZvbnRTaXplSW5kZXgiLCJhZGRUZXh0dXJlVG9DYWNoZSIsInJlbW92ZVRleHR1cmVGcm9tQ2FjaGUiLCJWb2lkRmlsdGVyIiwiQWxwaGFGaWx0ZXIiLCJ1dWlkIiwiY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcyIsInJlZ2lzdGVyIiwiTmFOIiwid2ViZ2wiLCJpc0pzb24iLCJpc1htbCIsImlzSW1hZ2UiLCJpc0F1ZGlvIiwiaXNWaWRlbyIsImJlZm9yZSIsInByZSIsImFmdGVyIiwidXNlIiwiaW50ZXJhY3RpdmVUYXJnZXQiLCJJbnRlcmFjdGlvbk1hbmFnZXIiLCJjdXJzb3JTdHlsZXMiLCJjdXJyZW50Q3Vyc29yTW9kZSIsIndhcm5pbmdzIiwibXNnIiwiZ3JvdXBDb2xsYXBzZWQiLCJncm91cEVuZCIsIl9hY2Nlc3NpYmxlVGFyZ2V0IiwiX0FjY2Vzc2liaWxpdHlNYW5hZ2VyIiwiX2FjY2Vzc2libGVUYXJnZXQyIiwiRElWX1RPVUNIX1NJWkUiLCJESVZfVE9VQ0hfUE9TX1giLCJESVZfVE9VQ0hfUE9TX1kiLCJESVZfVE9VQ0hfWklOREVYIiwiQWNjZXNzaWJpbGl0eU1hbmFnZXIiLCJjcmVhdGVUb3VjaEhvb2siLCJ6SW5kZXgiLCJyZW5kZXJJZCIsIl9vbktleURvd24iLCJfb25Nb3VzZU1vdmUiLCJpc0FjdGl2ZSIsImlzTW9iaWxlQWNjZXNzYWJpbGxpdHkiLCJob29rRGl2IiwiRElWX0hPT0tfU0laRSIsIkRJVl9IT09LX1BPU19YIiwiRElWX0hPT0tfUE9TX1kiLCJkZWFjdGl2YXRlIiwidXBkYXRlQWNjZXNzaWJsZU9iamVjdHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzeCIsInN5IiwiY2FwSGl0QXJlYSIsImJvcmRlclN0eWxlIiwiX29uQ2xpY2siLCJfb25Gb2N1cyIsIl9vbkZvY3VzT3V0IiwiaW50ZXJhY3Rpb25NYW5hZ2VyIiwiZGlzcGF0Y2hFdmVudCIsImV2ZW50RGF0YSIsImtleUNvZGUiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJfV2ViR0xFeHRyYWN0IiwiX0NhbnZhc0V4dHJhY3QiLCJURU1QX1JFQ1QiLCJXZWJHTEV4dHJhY3QiLCJ0ZXh0dXJlQnVmZmVyIiwiZmxpcFkiLCJnZW5lcmF0ZWQiLCJ3ZWJnbFBpeGVscyIsInJlYWRQaXhlbHMiLCJjYW52YXNEYXRhIiwiQ2FudmFzRXh0cmFjdCIsIl9jb3JlJFNwcml0ZSIsIl9kdXJhdGlvbnMiLCJhbmltYXRpb25TcGVlZCIsImxvb3AiLCJvbkZyYW1lQ2hhbmdlIiwib25Mb29wIiwiX2N1cnJlbnRUaW1lIiwicGxheWluZyIsImdvdG9BbmRTdG9wIiwiZnJhbWVOdW1iZXIiLCJwcmV2aW91c0ZyYW1lIiwiY3VycmVudEZyYW1lIiwiZ290b0FuZFBsYXkiLCJlbGFwc2VkIiwibGFnIiwiZnJvbUZyYW1lcyIsImZyb21JbWFnZXMiLCJpbWFnZXMiLCJ0aWxlVHJhbnNmb3JtIiwiX2NhbnZhc1BhdHRlcm4iLCJ1dlRyYW5zZm9ybSIsInV2UmVzcGVjdEFuY2hvciIsImlzVGV4dHVyZVJvdGF0ZWQiLCJiYXNlVGV4dHVyZVJlc29sdXRpb24iLCJtb2RYIiwidGlsZVBvc2l0aW9uIiwidGlsZVNjYWxlIiwibW9kWSIsInRlbXBDYW52YXMiLCJzV2lkdGgiLCJzSGVpZ2h0IiwiZFdpZHRoIiwiZEhlaWdodCIsImNyZWF0ZVBhdHRlcm4iLCJhbmNob3JYIiwiYW5jaG9yWSIsIl9jb3JlJE9iamVjdFJlbmRlcmVyIiwic2ltcGxlU2hhZGVyIiwidHMiLCJiYXNlVGV4IiwidXYiLCJpc1NpbXBsZSIsIkgiLCJ1TWFwQ29vcmQiLCJ1VHJhbnNmb3JtIiwidUNvbG9yIiwidVNhbXBsZXIiLCJfT2JzZXJ2YWJsZVBvaW50MiIsIl90ZXh0V2lkdGgiLCJfdGV4dEhlaWdodCIsIl9nbHlwaHMiLCJfbWF4V2lkdGgiLCJfbWF4TGluZUhlaWdodCIsImZvbnRzIiwiY2hhcnMiLCJ0ZXh0TGVuZ3RoIiwibWF4V2lkdGgiLCJwcmV2Q2hhckNvZGUiLCJsYXN0TGluZVdpZHRoIiwibGFzdEJyZWFrUG9zIiwibGFzdEJyZWFrV2lkdGgiLCJzcGFjZXNSZW1vdmVkIiwibWF4TGluZUhlaWdodCIsImNoYXJDb2RlIiwiY2hhckRhdGEiLCJrZXJuaW5nIiwieE9mZnNldCIsInlPZmZzZXQiLCJ4QWR2YW5jZSIsImxpbmVBbGlnbk9mZnNldHMiLCJhbGlnbk9mZnNldCIsImxlbkNoYXJzIiwiX2k0IiwidmFsaWRhdGUiLCJpbmZvIiwiY29tbW9uIiwicGFnZXNUZXh0dXJlcyIsImxldHRlcnMiLCJfaTUiLCJ0ZXh0dXJlUmVjdCIsImtlcm5pbmdzIiwiX2k2Iiwic2Vjb25kIiwiYW1vdW50IiwiX3RlbXBNYXRyaXgiLCJfY2FjaGVBc0JpdG1hcCIsIl9jYWNoZURhdGEiLCJDYWNoZURhdGEiLCJ0ZXh0dXJlQ2FjaGVJZCIsIm9yaWdpbmFsUmVuZGVyV2ViR0wiLCJvcmlnaW5hbFJlbmRlckNhbnZhcyIsIm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzIiwib3JpZ2luYWxHZXRMb2NhbEJvdW5kcyIsIm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtIiwib3JpZ2luYWxIaXRUZXN0Iiwib3JpZ2luYWxEZXN0cm95Iiwib3JpZ2luYWxNYXNrIiwib3JpZ2luYWxGaWx0ZXJBcmVhIiwiY2FjaGVBc0JpdG1hcCIsIm9yaWdpbmFsQ29udGFpbnNQb2ludCIsIl9yZW5kZXJDYWNoZWRXZWJHTCIsIl9yZW5kZXJDYWNoZWRDYW52YXMiLCJfY2FjaGVBc0JpdG1hcERlc3Ryb3kiLCJfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QiLCJfaW5pdENhY2hlZERpc3BsYXlPYmplY3QiLCJjYWNoZWRSZW5kZXJUYXJnZXQiLCJjYWNoZWRTcHJpdGUiLCJfY2FsY3VsYXRlQ2FjaGVkQm91bmRzIiwiX2dldENhY2hlZExvY2FsQm91bmRzIiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzIiwiZ2V0Q2hpbGRCeU5hbWUiLCJnZXRHbG9iYWxQb3NpdGlvbiIsIl9GWEFBRmlsdGVyIiwiX05vaXNlRmlsdGVyIiwiX0Rpc3BsYWNlbWVudEZpbHRlciIsIl9CbHVyRmlsdGVyIiwiX0JsdXJYRmlsdGVyIiwiX0JsdXJZRmlsdGVyIiwiX0NvbG9yTWF0cml4RmlsdGVyIiwiX0FscGhhRmlsdGVyIiwiRlhBQUZpbHRlciIsIk5vaXNlRmlsdGVyIiwibm9pc2UiLCJzZWVkIiwicmFuZG9tIiwidU5vaXNlIiwidVNlZWQiLCJEaXNwbGFjZW1lbnRGaWx0ZXIiLCJtYXBTYW1wbGVyIiwiZmlsdGVyTWF0cml4IiwiX0JsdXJYRmlsdGVyMiIsIl9CbHVyWUZpbHRlcjIiLCJCbHVyRmlsdGVyIiwiYmx1clhGaWx0ZXIiLCJibHVyWUZpbHRlciIsIkNvbG9yTWF0cml4RmlsdGVyIiwiX2xvYWRNYXRyaXgiLCJuZXdNYXRyaXgiLCJfbXVsdGlwbHkiLCJfY29sb3JNYXRyaXgiLCJicmlnaHRuZXNzIiwibXVsdGlwbHkiLCJncmV5c2NhbGUiLCJibGFja0FuZFdoaXRlIiwiaHVlIiwiY29zUiIsInNpblIiLCJzcXJXIiwiY29udHJhc3QiLCJzYXR1cmF0ZSIsImRlc2F0dXJhdGUiLCJuZWdhdGl2ZSIsInNlcGlhIiwidGVjaG5pY29sb3IiLCJwb2xhcm9pZCIsInRvQkdSIiwia29kYWNocm9tZSIsImJyb3duaSIsInZpbnRhZ2UiLCJjb2xvclRvbmUiLCJkZXNhdHVyYXRpb24iLCJ0b25lZCIsImxpZ2h0Q29sb3IiLCJkYXJrQ29sb3IiLCJsUiIsImxHIiwibEIiLCJkUiIsImRHIiwiZEIiLCJuaWdodCIsImludGVuc2l0eSIsInByZWRhdG9yIiwibHNkIiwidUFscGhhIiwiZ3JheXNjYWxlIiwiX0ludGVyYWN0aW9uRGF0YSIsIl9JbnRlcmFjdGlvbk1hbmFnZXIiLCJfaW50ZXJhY3RpdmVUYXJnZXQiLCJfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEiLCJfSW50ZXJhY3Rpb25FdmVudCIsIl90eXBlb2YiLCJfSW50ZXJhY3Rpb25EYXRhMiIsIl9JbnRlcmFjdGlvbkV2ZW50MiIsIl9JbnRlcmFjdGlvblRyYWNraW5nRGF0YTIiLCJfaW50ZXJhY3RpdmVUYXJnZXQyIiwiTU9VU0VfUE9JTlRFUl9JRCIsImhpdFRlc3RFdmVudCIsImF1dG9QcmV2ZW50RGVmYXVsdCIsImludGVyYWN0aW9uRnJlcXVlbmN5IiwibW91c2UiLCJhY3RpdmVJbnRlcmFjdGlvbkRhdGEiLCJpbnRlcmFjdGlvbkRhdGFQb29sIiwiaW50ZXJhY3Rpb25ET01FbGVtZW50IiwibW92ZVdoZW5JbnNpZGUiLCJldmVudHNBZGRlZCIsIm1vdXNlT3ZlclJlbmRlcmVyIiwic3VwcG9ydHNUb3VjaEV2ZW50cyIsInN1cHBvcnRzUG9pbnRlckV2ZW50cyIsIlBvaW50ZXJFdmVudCIsIm9uUG9pbnRlclVwIiwicHJvY2Vzc1BvaW50ZXJVcCIsIm9uUG9pbnRlckNhbmNlbCIsInByb2Nlc3NQb2ludGVyQ2FuY2VsIiwib25Qb2ludGVyRG93biIsInByb2Nlc3NQb2ludGVyRG93biIsIm9uUG9pbnRlck1vdmUiLCJwcm9jZXNzUG9pbnRlck1vdmUiLCJvblBvaW50ZXJPdXQiLCJwcm9jZXNzUG9pbnRlck92ZXJPdXQiLCJvblBvaW50ZXJPdmVyIiwiX3RlbXBQb2ludCIsInNldFRhcmdldEVsZW1lbnQiLCJoaXRUZXN0IiwiZ2xvYmFsUG9pbnQiLCJwcm9jZXNzSW50ZXJhY3RpdmUiLCJyZW1vdmVFdmVudHMiLCJhZGRFdmVudHMiLCJtc1BvaW50ZXJFbmFibGVkIiwiX2RlbHRhVGltZSIsImRpZE1vdmUiLCJpbnRlcmFjdGlvbkRhdGEiLCJpbnRlcmFjdGlvbkV2ZW50IiwiY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50Iiwic2V0Q3Vyc29yTW9kZSIsImV2ZW50U3RyaW5nIiwibWFwUG9zaXRpb25Ub1BvaW50IiwicGFyZW50RWxlbWVudCIsInJlc29sdXRpb25NdWx0aXBsaWVyIiwiaGl0IiwiaW50ZXJhY3RpdmVQYXJlbnQiLCJoaXRUZXN0Q2hpbGRyZW4iLCJjaGlsZEhpdCIsIm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEiLCJpc05vcm1hbGl6ZWQiLCJldmVudExlbiIsImdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCIsImlzUmlnaHRCdXR0b24iLCJyaWdodERvd24iLCJsZWZ0RG93biIsIm9uUG9pbnRlckNvbXBsZXRlIiwiY2FuY2VsbGVkIiwiZXZlbnRBcHBlbmQiLCJyZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwidHJhY2tpbmdEYXRhIiwiaXNUb3VjaCIsImlzTW91c2UiLCJpc01vdXNlVGFwIiwiaXNEb3duIiwib3ZlciIsIm5vbmUiLCJwb2ludGVyRXZlbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsImdsb2JhbFgiLCJnbG9iYWxZIiwibm9ybWFsaXplZEV2ZW50cyIsIlRvdWNoRXZlbnQiLCJsaSIsImNoYW5nZWRUb3VjaGVzIiwidG91Y2hlcyIsInJhZGl1c1giLCJyYWRpdXNZIiwiZm9yY2UiLCJsYXllclgiLCJvZmZzZXRYIiwibGF5ZXJZIiwib2Zmc2V0WSIsIk1vdXNlRXZlbnQiLCJ0ZXh0dXJlUGFyc2VyIiwic3ByaXRlc2hlZXRQYXJzZXIiLCJwYXJzZUJpdG1hcEZvbnREYXRhIiwiYml0bWFwRm9udFBhcnNlciIsIl9iaXRtYXBGb250UGFyc2VyIiwiX3Nwcml0ZXNoZWV0UGFyc2VyIiwiX3RleHR1cmVQYXJzZXIiLCJfQXBwbGljYXRpb24yIiwiX2xvYWRlcjIiLCJBcHBQcm90b3R5cGUiLCJfbG9hZGVyIiwiX3BhcmVudERlc3Ryb3kiLCJfUmVzb3VyY2UiLCJyZ3hFeHRyYWN0VXJsSGFzaCIsInByb2dyZXNzIiwibG9hZGluZyIsImRlZmF1bHRRdWVyeVN0cmluZyIsIl9iZWZvcmVNaWRkbGV3YXJlIiwiX2FmdGVyTWlkZGxld2FyZSIsIl9yZXNvdXJjZXNQYXJzaW5nIiwiX2JvdW5kTG9hZFJlc291cmNlIiwiX2xvYWRSZXNvdXJjZSIsIl9xdWV1ZSIsIm9uRXJyb3IiLCJvbkxvYWQiLCJfZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmUiLCJfZGVmYXVsdEFmdGVyTWlkZGxld2FyZSIsIl9wcmVwYXJlVXJsIiwiaW5jb21wbGV0ZUNoaWxkcmVuIiwiZWFjaENodW5rIiwiX29uU3RhcnQiLCJfb25Db21wbGV0ZSIsImNodW5rIiwicGFyc2VkVXJsIiwiX29uTG9hZCIsIl90aGlzMyIsIl9yZXNvdXJjZUxvYWRlcjIiLCJfYmxvYiIsIl90ZXh0dXJlUGFyc2VyMiIsIl9zcHJpdGVzaGVldFBhcnNlcjIiLCJfYml0bWFwRm9udFBhcnNlcjIiLCJfUmVzb3VyY2VMb2FkZXIiLCJfcGl4aU1pZGRsZXdhcmUiLCJhZGRQaXhpTWlkZGxld2FyZSIsImJsb2JNaWRkbGV3YXJlRmFjdG9yeSIsIkJsb2IiLCJjcmVhdGVPYmplY3RVUkwiLCJibG9iIiwicmV2b2tlT2JqZWN0VVJMIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJfYiIsIlVSTCIsIndlYmtpdFVSTCIsIl9NZXNoUmVuZGVyZXIiLCJfQ2FudmFzTWVzaFJlbmRlcmVyIiwiX1BsYW5lIiwiX05pbmVTbGljZVBsYW5lIiwiX1JvcGUiLCJtYXRyaXhJZGVudGl0eSIsIk1lc2hSZW5kZXJlciIsImdsRGF0YSIsIk1lc2hTcHJpdGVSZW5kZXJlciIsIl9yZW5kZXJUcmlhbmdsZU1lc2giLCJfcmVuZGVyVHJpYW5nbGVzIiwiX3JlbmRlckRyYXdUcmlhbmdsZSIsImluZGV4MCIsInRleHR1cmVTb3VyY2UiLCJ0ZXh0dXJlV2lkdGgiLCJ0ZXh0dXJlSGVpZ2h0IiwidTAiLCJ1MSIsInUyIiwidjAiLCJ2MSIsInYyIiwidXQiLCJjZW50ZXJYIiwiY2VudGVyWSIsIm5vcm1YIiwibm9ybVkiLCJkZWx0YUEiLCJkZWx0YUIiLCJkZWx0YUMiLCJkZWx0YUQiLCJkZWx0YUUiLCJkZWx0YUYiLCJyZW5kZXJNZXNoRmxhdCIsIl9QbGFuZTIiLCJfUGxhbmUzIiwiREVGQVVMVF9CT1JERVJfU0laRSIsIk5pbmVTbGljZVBsYW5lIiwibGVmdFdpZHRoIiwidG9wSGVpZ2h0IiwicmlnaHRXaWR0aCIsImJvdHRvbUhlaWdodCIsIl9vcmlnV2lkdGgiLCJfb3JpZ0hlaWdodCIsIl9sZWZ0V2lkdGgiLCJfcmlnaHRXaWR0aCIsIl90b3BIZWlnaHQiLCJfYm90dG9tSGVpZ2h0IiwidXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzIiwidXBkYXRlVmVydGljYWxWZXJ0aWNlcyIsImRyYXdTZWdtZW50Iiwic3ciLCJzaCIsImR3IiwiZGgiLCJfdXZ3IiwiX3V2aCIsInJlZnJlc2hWZXJ0aWNlcyIsIm5leHRQb2ludCIsInBlcnBYIiwicGVycFkiLCJwZXJwTGVuZ3RoIiwibnVtIiwiX1BhcnRpY2xlQ29udGFpbmVyIiwiX1BhcnRpY2xlUmVuZGVyZXIiLCJtYXhTaXplIiwiYmF0Y2hTaXplIiwiX3Byb3BlcnRpZXMiLCJfbWF4U2l6ZSIsIl9iYXRjaFNpemUiLCJfZ2xCdWZmZXJzIiwiX2J1ZmZlclVwZGF0ZUlEcyIsInNldFByb3BlcnRpZXMiLCJwYXJ0aWNsZSIsInNtYWxsZXN0Q2hpbGRJbmRleCIsImJ1ZmZlckluZGV4IiwiaXNSb3RhdGVkIiwicG9zaXRpb25YIiwicG9zaXRpb25ZIiwiZmluYWxXaWR0aCIsImZpbmFsSGVpZ2h0IiwiY2hpbGRUcmFuc2Zvcm0iLCJfYnVmZmVycyIsIl9QYXJ0aWNsZVNoYWRlcjIiLCJfUGFydGljbGVCdWZmZXIyIiwiUGFydGljbGVSZW5kZXJlciIsInVwbG9hZEZ1bmN0aW9uIiwidXBsb2FkVmVydGljZXMiLCJhUG9zaXRpb25Db29yZCIsInVwbG9hZFBvc2l0aW9uIiwiYVJvdGF0aW9uIiwidXBsb2FkUm90YXRpb24iLCJ1cGxvYWRVdnMiLCJ1bnNpZ25lZEJ5dGUiLCJ1cGxvYWRUaW50IiwidG90YWxDaGlsZHJlbiIsImdlbmVyYXRlQnVmZmVycyIsInVwZGF0ZVN0YXRpYyIsIl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIiLCJ1cGxvYWREeW5hbWljIiwiYmlkIiwidXBsb2FkU3RhdGljIiwiZHluYW1pY1Byb3BlcnR5RmxhZ3MiLCJzdGFydEluZGV4Iiwic3ByaXRlUG9zaXRpb24iLCJzcHJpdGVSb3RhdGlvbiIsInRleHR1cmVVdnMiLCJQYXJ0aWNsZVNoYWRlciIsIlBhcnRpY2xlQnVmZmVyIiwiZHluYW1pY1Byb3BlcnRpZXMiLCJzdGF0aWNQcm9wZXJ0aWVzIiwic3RhdGljU3RyaWRlIiwic3RhdGljQnVmZmVyIiwic3RhdGljRGF0YSIsInN0YXRpY0RhdGFVaW50MzIiLCJkeW5hbWljU3RyaWRlIiwiZHluYW1pY0J1ZmZlciIsImR5bmFtaWNEYXRhIiwiZHluYW1pY0RhdGFVaW50MzIiLCJpbml0QnVmZmVycyIsImR5bmFtaWNPZmZzZXQiLCJkeW5CdWZmZXIiLCJzdGF0aWNPZmZzZXQiLCJfcHJvcGVydHkiLCJzdGF0QnVmZmVyIiwiX3Byb3BlcnR5MiIsIl9wcm9wZXJ0eTMiLCJfV2ViR0xQcmVwYXJlIiwiX0NhbnZhc1ByZXBhcmUiLCJfQmFzZVByZXBhcmUiLCJfVGltZUxpbWl0ZXIiLCJfQmFzZVByZXBhcmUyIiwiV2ViR0xQcmVwYXJlIiwiZmluZEdyYXBoaWNzIiwidXBsb2FkQmFzZVRleHR1cmVzIiwidXBsb2FkR3JhcGhpY3MiLCJfQmFzZVByZXBhcmUzIiwiQ0FOVkFTX1NUQVJUX1NJWkUiLCJDYW52YXNQcmVwYXJlIiwiY3R4IiwiaW1hZ2VXaWR0aCIsImltYWdlSGVpZ2h0IiwiVGltZUxpbWl0ZXIiLCJtYXhNaWxsaXNlY29uZHMiLCJmcmFtZVN0YXJ0IiwiQ29uc29sZU9ic2VydmVyIiwiZ2FtZU9ic2VydmVyIiwicmVwb3J0UGxheWVyU2NvcmUiLCJLZXlib2FyZExpc3RlbmVyXzEiLCJXb3JsZF8xIiwiR2FtZSIsImtleWJvYXJkIiwic2V0dXAiLCJzdWJzY3JpYmUiLCJldmVudHNfMSIsInR5cGVzY3JpcHRfY29sbGVjdGlvbnNfMSIsIktleUJpbmRpbmciLCJjb2RlIiwiZW1pdHRlciIsIl9pc0Rvd24iLCJfaXNSZXBlYXRpbmciLCJvbkV2ZW50IiwiaGFuZGxlciIsInRyaWdnZXIiLCJvbktleURvd24iLCJpc1JlcGVhdGluZyIsIm9uS2V5VXAiLCJLZXlib2FyZExpc3RlbmVyIiwia2V5QmluZGluZ3MiLCJpbnZva2VJZkxpc3RlbmluZyIsImlzTGlzdGVuaW5nIiwic2lsZW5jZSIsIm9uS2V5IiwiYmxvY2siLCJ1bnN1YnNjcmliZSIsInByZXZUaW1lIiwiY3JlYXRlRGVidWciLCJjdXJyIiwibXMiLCJjb2VyY2UiLCJmb3JtYXR0ZXIiLCJzZWxlY3RDb2xvciIsInNraXBzIiwicGx1cmFsIiwibG9uZyIsImZtdFNob3J0IiwiX21heExpc3RlbmVycyIsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLCJlciIsIm5ld0xpc3RlbmVyIiwid2FybmVkIiwidHJhY2UiLCJmaXJlZCIsImxpc3RlbmVyQ291bnQiLCJldmxpc3RlbmVyIiwidG9TdHJGIiwibkNvcGllcyIsImNvcGllcyIsInZhbHVlc18xIiwidG9TZXQiLCJlbGVtZW50c18xIiwiTGlua2VkRGljdGlvbmFyeVBhaXIiLCJ1bmxpbmsiLCJIZWFkT3JUYWlsTGlua2VkRGljdGlvbmFyeVBhaXIiLCJhcHBlbmRUb1RhaWwiLCJlbnRyeSIsImdldExpbmtlZERpY3Rpb25hcnlQYWlyIiwib2xkUGFpciIsIm5ld1BhaXIiLCJleGlzdGluZ1BhaXIiLCJjcmF3bE5vZGUiLCJ2YWx1ZXNFcXVhbHNGdW5jdGlvbiIsImFsbG93RHVwbGljYXRlVmFsdWVzIiwiZGljdCIsImFsbG93RHVwbGljYXRlIiwiX2EiLCJ2XzEiLCJoZWFwIiwiRGlyZWN0aW9uIiwicm9vdElkcyIsIm5vZGVzIiwiaW5pdFJvb3RJZHMiLCJpbml0Tm9kZXMiLCJyb290SWQiLCJjcmVhdGVFbXB0eU5vZGVJZk5vdEV4aXN0Iiwibm9kZUtleSIsIm5vZGVMaXN0SXRlbSIsImdldFJvb3RJZHMiLCJnZXROb2RlcyIsImdldE9iamVjdCIsImV4dHJhUHJvcHNPYmplY3QiLCJsZXZlbCIsImhhc1BhcmVudCIsImNoaWxkcmVuQ291bnQiLCJ0cmF2ZXJzZSIsImV4dHJhUHJvcHNPYmplY3RfMSIsImNvdW50Q2hpbGRyZW4iLCJzdGFydElkIiwicmV0dXJuQXJyYXkiLCJpZHNMaXN0IiwibW92ZUlkQmVmb3JlSWQiLCJtb3ZlSWQiLCJiZWZvcmVJZCIsIkJFRk9SRSIsIm1vdmVJZEFmdGVySWQiLCJhZnRlcklkIiwiQUZURVIiLCJtb3ZlSWRJbnRvSWQiLCJpbnNpZGVJZCIsImF0U3RhcnQiLCJJTlNJREVfQVRfU1RBUlQiLCJJTlNJREVfQVRfRU5EIiwic3dhcFJvb3RJZFdpdGhSb290SWQiLCJ3aXRoUm9vdElkIiwibGVmdEluZGV4IiwiZmluZFJvb3RJZCIsInJpZ2h0SW5kZXgiLCJzd2FwUm9vdFBvc2l0aW9uV2l0aFJvb3RQb3NpdGlvbiIsInN3YXBSb290UG9zaXRpb24iLCJ3aXRoUm9vdFBvc2l0aW9uIiwiZGVsZXRlSWQiLCJyb290RGVsZXRlSWQiLCJub2RlQW5kU3ViTm9kZXNEZWxldGUiLCJub2RlUmVmcmVuY2VzRGVsZXRlIiwiaW5zZXJ0SWRCZWZvcmVJZCIsImluc2VydElkIiwiZm91bmRSb290SWRJbmRleCIsImluc2VydElkSW50b1Jvb3QiLCJmb3VuZE5vZGVJZEluZGV4IiwiZmluZE5vZGVJZCIsImluc2VydElkSW50b05vZGUiLCJpbnNlcnRJZEFmdGVySWQiLCJiZWxvd0lkIiwiaW5zZXJ0SWRJbnRvSWQiLCJub2RlSW5zZXJ0QXRFbmQiLCJyb290SW5zZXJ0QXRFbmQiLCJsZW5ndGhfMSIsImxlbmd0aF8yIiwiZGlyZWN0aW9uIiwic291cmNlSWQiLCJzb3VyY2VSb290SW5kZXgiLCJ0YXJnZXRJZCIsInRhcmdldFJvb3RJbmRleCIsInJvb3REZWxldGUiLCJub2RlSW5zZXJ0QXRTdGFydCIsIm5vZGVEZWxldGVBdEluZGV4Iiwic3dhcEFycmF5RWxlbWVudHMiLCJpbmRleEEiLCJpbmRleEIiLCJ0b0RlbGV0ZUxhdGVyIiwibm9kZURlbGV0ZSIsImZpbmROb2RlIiwicm9vdEluc2VydEF0U3RhcnQiLCJTdGFnZV8xIiwiSnVkZ2VyXzEiLCJQaXBlR2VuZXJhdG9yXzEiLCJQYXJhbWV0ZXJDb250cm9sbGVyXzEiLCJIdW1hblBsYXllcl8xIiwiU2NvcmVMYWJlbF8xIiwiV29ybGQiLCJnYW1lIiwicGFyYW1zIiwic2NvcmVMYWJlbCIsImFkZENvbnRyb2xsZXIiLCJqdWRnZSIsImFkZE9iamVjdCIsInN0YXJ0R2FtZSIsIkZ1bGxOYW1lXzEiLCJhY3RvcnMiLCJjb250cm9sbGVycyIsImFkZEFjdG9yIiwicmVtb3ZlT2JqZWN0IiwicmVtb3ZlQWN0b3IiLCJyZW1vdmVDb250cm9sbGVyIiwiYWN0b3IiLCJvblRvcCIsImNvbnRyb2xsZXIiLCJ1cGRhdGVPdGhlcnMiLCJCaXJkXzEiLCJKdWRnZXIiLCJuZXh0UGlwZSIsImhhbGZCaXJkV2lkdGgiLCJwaXBlV2lkdGgiLCJoYWxmU2NyZWVuV2lkdGgiLCJzYWZlWCIsInVwZGF0ZVBsYXllclBpcGVDb3VudCIsImZpbmROZXh0UGlwZSIsImRldGVjdENvbGxpc2lvbiIsInVwZGF0ZVBsYXllciIsImZ1dHVyZUdhdGVzIiwicGlwZSIsImhhbGZHYXBTaXplIiwicmVkdWNlIiwibGl2ZUJpcmRzIiwidGVzdEhpdCIsInJldml2ZVBsYXllciIsImNyZWF0ZUJpcmRGb3JQbGF5ZXIiLCJpc1BlbmRpbmciLCJpc0xpdmUiLCJwbGF5ZXJzIiwib25HYW1lU3RhcnQiLCJvbkluY3JlYXNlRGlzdGFuY2UiLCJnYXBQb3NpdGlvbiIsIm9uVmlzdWFsIiwiZGlzdGFuY2VUb05leHRQaXBlIiwicGlwZUdhcCIsImhlaWdodERpZmZlcmVuY2UiLCJsaXZlUGxheWVycyIsIm9uSW5jcmVhc2VQaXBlQ291bnQiLCJhdXRvUmV2aXZlIiwiQmlyZCIsImNyZWF0ZUJpcmRTcHJpdGUiLCJtb3ZlQm91bmRzIiwidmVsb2NpdHkiLCJCaXJkUGVuZGluZ1N0YXRlIiwiQmlyZExpdmVTdGF0ZSIsImF0dGFjaCIsIm9uTGVhc2giLCJjb21tYW5kIiwiZmxhcCIsIm9uVXBkYXRlIiwidXBkYXRlVmVsb2NpdHkiLCJtYXhEcm9wcGluZ1NwZWVkIiwiZ3Jhdml0eSIsInVwZGF0ZVgiLCJ1cGRhdGVZIiwib25IaXRUb3AiLCJvbkhpdEJvdHRvbSIsInVwZGF0ZVJvdGF0aW9uIiwibWF4UmFpc2luZ1NwZWVkIiwibWF4Um90YXRpb24iLCJvbkZsYXAiLCJvbktpbGwiLCJCaXJkU3RhdGUiLCJyYWlzaW5nU3BlZWQiLCJCaXJkRGVhZFN0YXRlIiwib25EZWF0aCIsIm9uUmV2aXZlIiwicmFuZG9tR2VuZXJhdG9yXzEiLCJQaXBlR2F0ZV8xIiwiUGlwZUdlbmVyYXRvciIsIl9kaXN0YW5jZSIsImluaXRpYWxYIiwicmFuZG9tSW50IiwibWluUGlwZURpc3RhbmNlIiwiZGlzdGFuY2VUaHJlc2hvbGQiLCJnZW5lcmF0ZVBpcGUiLCJnZW5lcmF0ZURpc3RhbmNlIiwibWF4R2FwU2l6ZSIsIm1pbkdhcFNpemUiLCJtaW5QaXBlQm90dG9tTWFyZ2luIiwibWluUGlwZVRvcE1hcmdpbiIsIm1heFBpcGVEaXN0YW5jZSIsInJhbmRvbUZsb2F0IiwiQ29udGFpbmVyQWN0b3JfMSIsIlBpcGVHYXRlIiwiaW5zdGFuY2VDb3VudCIsInRvcFBpcGUiLCJQaXBlIiwiYm90dG9tUGlwZSIsImJpcmRCb3VuZHMiLCJhc3NldE5hbWUiLCJQYXJhbWV0ZXJDb250cm9sbGVyIiwiYmlyZFdpZHRoIiwiYmlyZEhlaWdodCIsImJpcmRUZXh0dXJlIiwibWluRmVhc2libGVHYXBTaXplIiwiSHVtYW5QbGF5ZXIiLCJzZXR1cE5hbWVMYWJlbCIsImxhYmVsIiwic2V0dXBTY29yZUxhYmVsIiwiZGVidWdfMSIsIk5hbWVMYWJlbF8xIiwiUGxheWVyIiwiYmlyZExlYXNoIiwicmVwb3J0U2NvcmUiLCJpbnN0cnVjdEJpcmQiLCJkZWx0YURpc3RhbmNlIiwidXBkYXRlU2NvcmUiLCJyZXBvcnQiLCJ2aXN1YWwiLCJOYW1lTGFiZWwiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQXJCLEVBQUFVLEVBQUFlLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gsT0FBQU4sRUFBQU0sSUFBcUJD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QXozRixFQUFBdUksRUFBQUMsR0E2QkEsT0EzQkF4SSxFQUFBLEdBQUF1SSxFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLEdBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUFBRCxFQUFBLEdBQUFDLEVBQUEsSUFDQXhJLEVBQUEsR0FBQXVJLEVBQUEsR0FBQUMsRUFBQSxHQUFBRCxFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLElBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUNBeEksRUFBQSxHQUFBdUksRUFBQSxHQUFBQyxFQUFBLEdBQUFELEVBQUEsR0FBQUMsRUFBQSxHQUFBRCxFQUFBLEdBQUFDLEVBQUEsSUFBQUQsRUFBQSxHQUFBQyxFQUFBLElBQ0F4SSxFQUFBLEdBQUF1SSxFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLEdBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUFBRCxFQUFBLEdBQUFDLEVBQUEsSUFDQXhJLEVBQUEsR0FBQXVJLEVBQUEsR0FBQUMsRUFBQSxHQUFBRCxFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLElBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUFBRCxFQUFBLEdBR0F2SSxFQUFBLEdBQUF1SSxFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLEdBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUFBRCxFQUFBLEdBQUFDLEVBQUEsSUFDQXhJLEVBQUEsR0FBQXVJLEVBQUEsR0FBQUMsRUFBQSxHQUFBRCxFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLElBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUNBeEksRUFBQSxHQUFBdUksRUFBQSxHQUFBQyxFQUFBLEdBQUFELEVBQUEsR0FBQUMsRUFBQSxHQUFBRCxFQUFBLEdBQUFDLEVBQUEsSUFBQUQsRUFBQSxHQUFBQyxFQUFBLElBQ0F4SSxFQUFBLEdBQUF1SSxFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLEdBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUFBRCxFQUFBLEdBQUFDLEVBQUEsSUFDQXhJLEVBQUEsR0FBQXVJLEVBQUEsR0FBQUMsRUFBQSxHQUFBRCxFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLElBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUFBRCxFQUFBLEdBR0F2SSxFQUFBLElBQUF1SSxFQUFBLElBQUFDLEVBQUEsR0FBQUQsRUFBQSxJQUFBQyxFQUFBLEdBQUFELEVBQUEsSUFBQUMsRUFBQSxJQUFBRCxFQUFBLElBQUFDLEVBQUEsSUFDQXhJLEVBQUEsSUFBQXVJLEVBQUEsSUFBQUMsRUFBQSxHQUFBRCxFQUFBLElBQUFDLEVBQUEsR0FBQUQsRUFBQSxJQUFBQyxFQUFBLElBQUFELEVBQUEsSUFBQUMsRUFBQSxJQUNBeEksRUFBQSxJQUFBdUksRUFBQSxJQUFBQyxFQUFBLEdBQUFELEVBQUEsSUFBQUMsRUFBQSxHQUFBRCxFQUFBLElBQUFDLEVBQUEsSUFBQUQsRUFBQSxJQUFBQyxFQUFBLElBQ0F4SSxFQUFBLElBQUF1SSxFQUFBLElBQUFDLEVBQUEsR0FBQUQsRUFBQSxJQUFBQyxFQUFBLEdBQUFELEVBQUEsSUFBQUMsRUFBQSxJQUFBRCxFQUFBLElBQUFDLEVBQUEsSUFDQXhJLEVBQUEsSUFBQXVJLEVBQUEsSUFBQUMsRUFBQSxHQUFBRCxFQUFBLElBQUFDLEVBQUEsR0FBQUQsRUFBQSxJQUFBQyxFQUFBLElBQUFELEVBQUEsSUFBQUMsRUFBQSxJQUFBRCxFQUFBLElBR0F2SSxFQUFBLElBQUF1SSxFQUFBLElBQUFDLEVBQUEsR0FBQUQsRUFBQSxJQUFBQyxFQUFBLEdBQUFELEVBQUEsSUFBQUMsRUFBQSxJQUFBRCxFQUFBLElBQUFDLEVBQUEsSUFDQXhJLEVBQUEsSUFBQXVJLEVBQUEsSUFBQUMsRUFBQSxHQUFBRCxFQUFBLElBQUFDLEVBQUEsR0FBQUQsRUFBQSxJQUFBQyxFQUFBLElBQUFELEVBQUEsSUFBQUMsRUFBQSxJQUNBeEksRUFBQSxJQUFBdUksRUFBQSxJ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NkMsRUFBQXZuRSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTA0KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbi8qKlxuICogU3RyaW5nIG9mIHRoZSBjdXJyZW50IFBJWEkgdmVyc2lvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBWRVJTSU9OXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG52YXIgVkVSU0lPTiA9IGV4cG9ydHMuVkVSU0lPTiA9ICc0LjguNCc7XG5cbi8qKlxuICogVHdvIFBpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBQSV8yID0gZXhwb3J0cy5QSV8yID0gTWF0aC5QSSAqIDI7XG5cbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgcmFkaWFucyB0byBkZWdyZWVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBSQURfVE9fREVHID0gZXhwb3J0cy5SQURfVE9fREVHID0gMTgwIC8gTWF0aC5QSTtcblxuLyoqXG4gKiBDb252ZXJzaW9uIGZhY3RvciBmb3IgY29udmVydGluZyBkZWdyZWVzIHRvIHJhZGlhbnMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIERFR19UT19SQUQgPSBleHBvcnRzLkRFR19UT19SQUQgPSBNYXRoLlBJIC8gMTgwO1xuXG4vKipcbiAqIENvbnN0YW50IHRvIGlkZW50aWZ5IHRoZSBSZW5kZXJlciBUeXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIFJFTkRFUkVSX1RZUEVcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5LTk9XTiAtIFVua25vd24gcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wgLSBXZWJHTCByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDQU5WQVMgLSBDYW52YXMgcmVuZGVyIHR5cGUuXG4gKi9cbnZhciBSRU5ERVJFUl9UWVBFID0gZXhwb3J0cy5SRU5ERVJFUl9UWVBFID0ge1xuICBVTktOT1dOOiAwLFxuICBXRUJHTDogMSxcbiAgQ0FOVkFTOiAyXG59O1xuXG4vKipcbiAqIFZhcmlvdXMgYmxlbmQgbW9kZXMgc3VwcG9ydGVkIGJ5IFBJWEkuXG4gKlxuICogSU1QT1JUQU5UIC0gVGhlIFdlYkdMIHJlbmRlcmVyIG9ubHkgc3VwcG9ydHMgdGhlIE5PUk1BTCwgQURELCBNVUxUSVBMWSBhbmQgU0NSRUVOIGJsZW5kIG1vZGVzLlxuICogQW55dGhpbmcgZWxzZSB3aWxsIHNpbGVudGx5IGFjdCBsaWtlIE5PUk1BTC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCTEVORF9NT0RFU1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNVUxUSVBMWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9WRVJMQVlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEQVJLRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSUdIVEVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfRE9ER0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9CVVJOXG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFSRF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNPRlRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBESUZGRVJFTkNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVhDTFVTSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gSFVFXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0FUVVJBVElPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SXG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5PU0lUWVxuICovXG52YXIgQkxFTkRfTU9ERVMgPSBleHBvcnRzLkJMRU5EX01PREVTID0ge1xuICBOT1JNQUw6IDAsXG4gIEFERDogMSxcbiAgTVVMVElQTFk6IDIsXG4gIFNDUkVFTjogMyxcbiAgT1ZFUkxBWTogNCxcbiAgREFSS0VOOiA1LFxuICBMSUdIVEVOOiA2LFxuICBDT0xPUl9ET0RHRTogNyxcbiAgQ09MT1JfQlVSTjogOCxcbiAgSEFSRF9MSUdIVDogOSxcbiAgU09GVF9MSUdIVDogMTAsXG4gIERJRkZFUkVOQ0U6IDExLFxuICBFWENMVVNJT046IDEyLFxuICBIVUU6IDEzLFxuICBTQVRVUkFUSU9OOiAxNCxcbiAgQ09MT1I6IDE1LFxuICBMVU1JTk9TSVRZOiAxNixcbiAgTk9STUFMX05QTTogMTcsXG4gIEFERF9OUE06IDE4LFxuICBTQ1JFRU5fTlBNOiAxOVxufTtcblxuLyoqXG4gKiBWYXJpb3VzIHdlYmdsIGRyYXcgbW9kZXMuIFRoZXNlIGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgd2hpY2ggR0wgZHJhd01vZGUgdG8gdXNlXG4gKiB1bmRlciBjZXJ0YWluIHNpdHVhdGlvbnMgYW5kIHJlbmRlcmVycy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBEUkFXX01PREVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPSU5UU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9MT09QXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9TVFJJUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfRkFOXG4gKi9cbnZhciBEUkFXX01PREVTID0gZXhwb3J0cy5EUkFXX01PREVTID0ge1xuICBQT0lOVFM6IDAsXG4gIExJTkVTOiAxLFxuICBMSU5FX0xPT1A6IDIsXG4gIExJTkVfU1RSSVA6IDMsXG4gIFRSSUFOR0xFUzogNCxcbiAgVFJJQU5HTEVfU1RSSVA6IDUsXG4gIFRSSUFOR0xFX0ZBTjogNlxufTtcblxuLyoqXG4gKiBUaGUgc2NhbGUgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLlNDQUxFX01PREV9IHNjYWxlIG1vZGUgYWZmZWN0cyB0aGUgZGVmYXVsdCBzY2FsaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIExJTkVBUiBvciBORUFSRVNULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBTQ0FMRV9NT0RFU1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVIgU21vb3RoIHNjYWxpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBORUFSRVNUIFBpeGVsYXRpbmcgc2NhbGluZ1xuICovXG52YXIgU0NBTEVfTU9ERVMgPSBleHBvcnRzLlNDQUxFX01PREVTID0ge1xuICBMSU5FQVI6IDAsXG4gIE5FQVJFU1Q6IDFcbn07XG5cbi8qKlxuICogVGhlIHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLldSQVBfTU9ERX0gd3JhcCBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgd3JhcHBpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgQ0xBTVAgb3IgUkVQRUFULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqIElmIHRoZSB0ZXh0dXJlIGlzIG5vbiBwb3dlciBvZiB0d28gdGhlbiBjbGFtcCB3aWxsIGJlIHVzZWQgcmVnYXJkbGVzcyBhcyB3ZWJHTCBjYW5cbiAqIG9ubHkgdXNlIFJFUEVBVCBpZiB0aGUgdGV4dHVyZSBpcyBwbzIuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBXUkFQX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDTEFNUCAtIFRoZSB0ZXh0dXJlcyB1dnMgYXJlIGNsYW1wZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUlSUk9SRURfUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdCB3aXRoIG1pcnJvcmluZ1xuICovXG52YXIgV1JBUF9NT0RFUyA9IGV4cG9ydHMuV1JBUF9NT0RFUyA9IHtcbiAgQ0xBTVA6IDAsXG4gIFJFUEVBVDogMSxcbiAgTUlSUk9SRURfUkVQRUFUOiAyXG59O1xuXG4vKipcbiAqIFRoZSBnYyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuR0NfTU9ERX0gR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUgZm9yIFBpeGlKUyB0ZXh0dXJlcyBpcyBBVVRPXG4gKiBJZiBzZXQgdG8gR0NfTU9ERSwgdGhlIHJlbmRlcmVyIHdpbGwgb2NjYXNpb25hbGx5IGNoZWNrIHRleHR1cmVzIHVzYWdlLiBJZiB0aGV5IGFyZSBub3RcbiAqIHVzZWQgZm9yIGEgc3BlY2lmaWVkIHBlcmlvZCBvZiB0aW1lIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVS4gVGhleSB3aWxsIG9mIGNvdXJzZVxuICogYmUgdXBsb2FkZWQgYWdhaW4gd2hlbiB0aGV5IGFyZSByZXF1aXJlZC4gVGhpcyBpcyBhIHNpbGVudCBiZWhpbmQgdGhlIHNjZW5lcyBwcm9jZXNzIHRoYXRcbiAqIHNob3VsZCBlbnN1cmUgdGhhdCB0aGUgR1BVIGRvZXMgbm90ICBnZXQgZmlsbGVkIHVwLlxuICpcbiAqIEhhbmR5IGZvciBtb2JpbGUgZGV2aWNlcyFcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgR0NfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFVVE8gLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBoYXBwZW4gcGVyaW9kaWNhbGx5IGF1dG9tYXRpY2FsbHlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNQU5VQUwgLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBuZWVkIHRvIGJlIGNhbGxlZCBtYW51YWxseVxuICovXG52YXIgR0NfTU9ERVMgPSBleHBvcnRzLkdDX01PREVTID0ge1xuICBBVVRPOiAwLFxuICBNQU5VQUw6IDFcbn07XG5cbi8qKlxuICogUmVnZXhwIGZvciBpbWFnZSB0eXBlIGJ5IGV4dGVuc2lvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7UmVnRXhwfHN0cmluZ31cbiAqIEBleGFtcGxlIGBpbWFnZS5wbmdgXG4gKi9cbnZhciBVUkxfRklMRV9FWFRFTlNJT04gPSBleHBvcnRzLlVSTF9GSUxFX0VYVEVOU0lPTiA9IC9cXC4oXFx3ezMsNH0pKD86JHxcXD98IykvaTtcblxuLyoqXG4gKiBSZWdleHAgZm9yIGRhdGEgVVJJLlxuICogQmFzZWQgb246IHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcmFnaW5nd2luZC9kYXRhLXVyaS1yZWdleH1cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIERBVEFfVVJJXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge1JlZ0V4cHxzdHJpbmd9XG4gKiBAZXhhbXBsZSBkYXRhOmltYWdlL3BuZztiYXNlNjRcbiAqL1xudmFyIERBVEFfVVJJID0gZXhwb3J0cy5EQVRBX1VSSSA9IC9eXFxzKmRhdGE6KD86KFtcXHctXSspXFwvKFtcXHcrLi1dKykpPyg/OjtjaGFyc2V0PShbXFx3LV0rKSk/KD86OyhiYXNlNjQpKT8sKC4qKS9pO1xuXG4vKipcbiAqIFJlZ2V4cCBmb3IgU1ZHIHNpemUuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBTVkdfU0laRVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtSZWdFeHB8c3RyaW5nfVxuICogQGV4YW1wbGUgJmx0O3N2ZyB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiJmd0OyZsdDsvc3ZnJmd0O1xuICovXG52YXIgU1ZHX1NJWkUgPSBleHBvcnRzLlNWR19TSVpFID0gLzxzdmdbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qPi9pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG1heC1sZW5cblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBpZGVudGlmeSBzaGFwZXMsIG1haW5seSB0byBwcmV2ZW50IGBpbnN0YW5jZW9mYCBjYWxscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNIQVBFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9MWSBQb2x5Z29uXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVDVCBSZWN0YW5nbGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDSVJDIENpcmNsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVMSVAgRWxsaXBzZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJSRUMgUm91bmRlZCBSZWN0YW5nbGVcbiAqL1xudmFyIFNIQVBFUyA9IGV4cG9ydHMuU0hBUEVTID0ge1xuICBQT0xZOiAwLFxuICBSRUNUOiAxLFxuICBDSVJDOiAyLFxuICBFTElQOiAzLFxuICBSUkVDOiA0XG59O1xuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIHNoYWRlcnMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBQUkVDSVNJT05cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtzdHJpbmd9IExPVz0nbG93cCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBNRURJVU09J21lZGl1bXAnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gSElHSD0naGlnaHAnXG4gKi9cbnZhciBQUkVDSVNJT04gPSBleHBvcnRzLlBSRUNJU0lPTiA9IHtcbiAgTE9XOiAnbG93cCcsXG4gIE1FRElVTTogJ21lZGl1bXAnLFxuICBISUdIOiAnaGlnaHAnXG59O1xuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgdGhlIHRyYW5zZm9ybSB0eXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVFJBTlNGT1JNX01PREVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNUQVRJQ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IERZTkFNSUNcbiAqL1xudmFyIFRSQU5TRk9STV9NT0RFID0gZXhwb3J0cy5UUkFOU0ZPUk1fTU9ERSA9IHtcbiAgU1RBVElDOiAwLFxuICBEWU5BTUlDOiAxXG59O1xuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IGRlZmluZSB0aGUgdHlwZSBvZiBncmFkaWVudCBvbiB0ZXh0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVEVYVF9HUkFESUVOVFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSX1ZFUlRJQ0FMIFZlcnRpY2FsIGdyYWRpZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSX0hPUklaT05UQUwgTGluZWFyIGdyYWRpZW50XG4gKi9cbnZhciBURVhUX0dSQURJRU5UID0gZXhwb3J0cy5URVhUX0dSQURJRU5UID0ge1xuICBMSU5FQVJfVkVSVElDQUw6IDAsXG4gIExJTkVBUl9IT1JJWk9OVEFMOiAxXG59O1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIHVwZGF0ZSBwcmlvcml0aWVzIHVzZWQgYnkgaW50ZXJuYWwgUElYSSBjbGFzc2VzIHdoZW4gcmVnaXN0ZXJlZCB3aXRoXG4gKiB0aGUge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlcn0gb2JqZWN0LiBIaWdoZXIgcHJpb3JpdHkgaXRlbXMgYXJlIHVwZGF0ZWQgZmlyc3QgYW5kIGxvd2VyXG4gKiBwcmlvcml0eSBpdGVtcywgc3VjaCBhcyByZW5kZXIsIHNob3VsZCBnbyBsYXRlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFVQREFURV9QUklPUklUWVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gSU5URVJBQ1RJT049NTAgSGlnaGVzdCBwcmlvcml0eSwgdXNlZCBmb3Ige0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhJR0g9MjUgSGlnaCBwcmlvcml0eSB1cGRhdGluZywge0BsaW5rIFBJWEkuVmlkZW9CYXNlVGV4dHVyZX0gYW5kIHtAbGluayBQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZX1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUw9MCBEZWZhdWx0IHByaW9yaXR5IGZvciB0aWNrZXIgZXZlbnRzLCBzZWUge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNhZGR9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExPVz0tMjUgTG93IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLkFwcGxpY2F0aW9ufSByZW5kZXJpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gVVRJTElUWT0tNTAgTG93ZXN0IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmV9IHV0aWxpdHkuXG4gKi9cbnZhciBVUERBVEVfUFJJT1JJVFkgPSBleHBvcnRzLlVQREFURV9QUklPUklUWSA9IHtcbiAgSU5URVJBQ1RJT046IDUwLFxuICBISUdIOiAyNSxcbiAgTk9STUFMOiAwLFxuICBMT1c6IC0yNSxcbiAgVVRJTElUWTogLTUwXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3QuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5hdXRvRGV0ZWN0UmVuZGVyZXIgPSBleHBvcnRzLkFwcGxpY2F0aW9uID0gZXhwb3J0cy5GaWx0ZXIgPSBleHBvcnRzLlNwcml0ZU1hc2tGaWx0ZXIgPSBleHBvcnRzLlF1YWQgPSBleHBvcnRzLlJlbmRlclRhcmdldCA9IGV4cG9ydHMuT2JqZWN0UmVuZGVyZXIgPSBleHBvcnRzLldlYkdMTWFuYWdlciA9IGV4cG9ydHMuU2hhZGVyID0gZXhwb3J0cy5DYW52YXNSZW5kZXJUYXJnZXQgPSBleHBvcnRzLlRleHR1cmVVdnMgPSBleHBvcnRzLlZpZGVvQmFzZVRleHR1cmUgPSBleHBvcnRzLkJhc2VSZW5kZXJUZXh0dXJlID0gZXhwb3J0cy5SZW5kZXJUZXh0dXJlID0gZXhwb3J0cy5CYXNlVGV4dHVyZSA9IGV4cG9ydHMuVGV4dHVyZU1hdHJpeCA9IGV4cG9ydHMuVGV4dHVyZSA9IGV4cG9ydHMuU3ByaXRlc2hlZXQgPSBleHBvcnRzLkNhbnZhc0dyYXBoaWNzUmVuZGVyZXIgPSBleHBvcnRzLkdyYXBoaWNzUmVuZGVyZXIgPSBleHBvcnRzLkdyYXBoaWNzRGF0YSA9IGV4cG9ydHMuR3JhcGhpY3MgPSBleHBvcnRzLlRleHRNZXRyaWNzID0gZXhwb3J0cy5UZXh0U3R5bGUgPSBleHBvcnRzLlRleHQgPSBleHBvcnRzLlNwcml0ZVJlbmRlcmVyID0gZXhwb3J0cy5DYW52YXNUaW50ZXIgPSBleHBvcnRzLkNhbnZhc1Nwcml0ZVJlbmRlcmVyID0gZXhwb3J0cy5TcHJpdGUgPSBleHBvcnRzLlRyYW5zZm9ybUJhc2UgPSBleHBvcnRzLlRyYW5zZm9ybVN0YXRpYyA9IGV4cG9ydHMuVHJhbnNmb3JtID0gZXhwb3J0cy5Db250YWluZXIgPSBleHBvcnRzLkRpc3BsYXlPYmplY3QgPSBleHBvcnRzLkJvdW5kcyA9IGV4cG9ydHMuZ2xDb3JlID0gZXhwb3J0cy5XZWJHTFJlbmRlcmVyID0gZXhwb3J0cy5DYW52YXNSZW5kZXJlciA9IGV4cG9ydHMudGlja2VyID0gZXhwb3J0cy51dGlscyA9IGV4cG9ydHMuc2V0dGluZ3MgPSB1bmRlZmluZWQ7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuL2NvbnN0Jyk7XG5cbk9iamVjdC5rZXlzKF9jb25zdCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX2NvbnN0W2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuL21hdGgnKTtcblxuT2JqZWN0LmtleXMoX21hdGgpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9tYXRoW2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdnbENvcmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Cb3VuZHMgPSByZXF1aXJlKCcuL2Rpc3BsYXkvQm91bmRzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQm91bmRzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQm91bmRzKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9EaXNwbGF5T2JqZWN0ID0gcmVxdWlyZSgnLi9kaXNwbGF5L0Rpc3BsYXlPYmplY3QnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdEaXNwbGF5T2JqZWN0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlzcGxheU9iamVjdCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ29udGFpbmVyID0gcmVxdWlyZSgnLi9kaXNwbGF5L0NvbnRhaW5lcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NvbnRhaW5lcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVHJhbnNmb3JtID0gcmVxdWlyZSgnLi9kaXNwbGF5L1RyYW5zZm9ybScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RyYW5zZm9ybScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVHJhbnNmb3JtU3RhdGljID0gcmVxdWlyZSgnLi9kaXNwbGF5L1RyYW5zZm9ybVN0YXRpYycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RyYW5zZm9ybVN0YXRpYycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybVN0YXRpYykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVHJhbnNmb3JtQmFzZSA9IHJlcXVpcmUoJy4vZGlzcGxheS9UcmFuc2Zvcm1CYXNlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVHJhbnNmb3JtQmFzZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybUJhc2UpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1Nwcml0ZSA9IHJlcXVpcmUoJy4vc3ByaXRlcy9TcHJpdGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdTcHJpdGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc1Nwcml0ZVJlbmRlcmVyID0gcmVxdWlyZSgnLi9zcHJpdGVzL2NhbnZhcy9DYW52YXNTcHJpdGVSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NhbnZhc1Nwcml0ZVJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzU3ByaXRlUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc1RpbnRlciA9IHJlcXVpcmUoJy4vc3ByaXRlcy9jYW52YXMvQ2FudmFzVGludGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2FudmFzVGludGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzVGludGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9TcHJpdGVSZW5kZXJlciA9IHJlcXVpcmUoJy4vc3ByaXRlcy93ZWJnbC9TcHJpdGVSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1Nwcml0ZVJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ByaXRlUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RleHQgPSByZXF1aXJlKCcuL3RleHQvVGV4dCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RleHQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UZXh0U3R5bGUgPSByZXF1aXJlKCcuL3RleHQvVGV4dFN0eWxlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGV4dFN0eWxlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dFN0eWxlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UZXh0TWV0cmljcyA9IHJlcXVpcmUoJy4vdGV4dC9UZXh0TWV0cmljcycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RleHRNZXRyaWNzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dE1ldHJpY3MpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0dyYXBoaWNzID0gcmVxdWlyZSgnLi9ncmFwaGljcy9HcmFwaGljcycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0dyYXBoaWNzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JhcGhpY3MpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0dyYXBoaWNzRGF0YSA9IHJlcXVpcmUoJy4vZ3JhcGhpY3MvR3JhcGhpY3NEYXRhJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnR3JhcGhpY3NEYXRhJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JhcGhpY3NEYXRhKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9HcmFwaGljc1JlbmRlcmVyID0gcmVxdWlyZSgnLi9ncmFwaGljcy93ZWJnbC9HcmFwaGljc1JlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnR3JhcGhpY3NSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyYXBoaWNzUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc0dyYXBoaWNzUmVuZGVyZXIgPSByZXF1aXJlKCcuL2dyYXBoaWNzL2NhbnZhcy9DYW52YXNHcmFwaGljc1JlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2FudmFzR3JhcGhpY3NSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc0dyYXBoaWNzUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1Nwcml0ZXNoZWV0ID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9TcHJpdGVzaGVldCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1Nwcml0ZXNoZWV0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ByaXRlc2hlZXQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuL3RleHR1cmVzL1RleHR1cmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUZXh0dXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGV4dHVyZU1hdHJpeCA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvVGV4dHVyZU1hdHJpeCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RleHR1cmVNYXRyaXgnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlTWF0cml4KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvQmFzZVRleHR1cmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCYXNlVGV4dHVyZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VUZXh0dXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9SZW5kZXJUZXh0dXJlID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9SZW5kZXJUZXh0dXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUmVuZGVyVGV4dHVyZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRleHR1cmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0Jhc2VSZW5kZXJUZXh0dXJlID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9CYXNlUmVuZGVyVGV4dHVyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0Jhc2VSZW5kZXJUZXh0dXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVJlbmRlclRleHR1cmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1ZpZGVvQmFzZVRleHR1cmUgPSByZXF1aXJlKCcuL3RleHR1cmVzL1ZpZGVvQmFzZVRleHR1cmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdWaWRlb0Jhc2VUZXh0dXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVmlkZW9CYXNlVGV4dHVyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGV4dHVyZVV2cyA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvVGV4dHVyZVV2cycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RleHR1cmVVdnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlVXZzKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9DYW52YXNSZW5kZXJUYXJnZXQgPSByZXF1aXJlKCcuL3JlbmRlcmVycy9jYW52YXMvdXRpbHMvQ2FudmFzUmVuZGVyVGFyZ2V0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2FudmFzUmVuZGVyVGFyZ2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyVGFyZ2V0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9TaGFkZXIgPSByZXF1aXJlKCcuL1NoYWRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1NoYWRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NoYWRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfV2ViR0xNYW5hZ2VyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvbWFuYWdlcnMvV2ViR0xNYW5hZ2VyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnV2ViR0xNYW5hZ2VyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xNYW5hZ2VyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9PYmplY3RSZW5kZXJlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL09iamVjdFJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnT2JqZWN0UmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYmplY3RSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUmVuZGVyVGFyZ2V0ID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvUmVuZGVyVGFyZ2V0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUmVuZGVyVGFyZ2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyVGFyZ2V0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9RdWFkID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvUXVhZCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1F1YWQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9RdWFkKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9TcHJpdGVNYXNrRmlsdGVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvZmlsdGVycy9zcHJpdGVNYXNrL1Nwcml0ZU1hc2tGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdTcHJpdGVNYXNrRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ByaXRlTWFza0ZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfRmlsdGVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvZmlsdGVycy9GaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0FwcGxpY2F0aW9uID0gcmVxdWlyZSgnLi9BcHBsaWNhdGlvbicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0FwcGxpY2F0aW9uJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQXBwbGljYXRpb24pLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2F1dG9EZXRlY3RSZW5kZXJlciA9IHJlcXVpcmUoJy4vYXV0b0RldGVjdFJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnYXV0b0RldGVjdFJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2F1dG9EZXRlY3RSZW5kZXJlci5hdXRvRGV0ZWN0UmVuZGVyZXI7XG4gIH1cbn0pO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG52YXIgdXRpbHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHMpO1xuXG52YXIgX3RpY2tlciA9IHJlcXVpcmUoJy4vdGlja2VyJyk7XG5cbnZhciB0aWNrZXIgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGlja2VyKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy9jYW52YXMvQ2FudmFzUmVuZGVyZXInKTtcblxudmFyIF9DYW52YXNSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNSZW5kZXJlcik7XG5cbnZhciBfV2ViR0xSZW5kZXJlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyZXInKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMUmVuZGVyZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLnNldHRpbmdzID0gX3NldHRpbmdzMi5kZWZhdWx0O1xuZXhwb3J0cy51dGlscyA9IHV0aWxzO1xuZXhwb3J0cy50aWNrZXIgPSB0aWNrZXI7XG5leHBvcnRzLkNhbnZhc1JlbmRlcmVyID0gX0NhbnZhc1JlbmRlcmVyMi5kZWZhdWx0O1xuZXhwb3J0cy5XZWJHTFJlbmRlcmVyID0gX1dlYkdMUmVuZGVyZXIyLmRlZmF1bHQ7IC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBuYW1lc3BhY2UgUElYSVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5wcmVtdWx0aXBseUJsZW5kTW9kZSA9IGV4cG9ydHMuQmFzZVRleHR1cmVDYWNoZSA9IGV4cG9ydHMuVGV4dHVyZUNhY2hlID0gZXhwb3J0cy5lYXJjdXQgPSBleHBvcnRzLm1peGlucyA9IGV4cG9ydHMucGx1Z2luVGFyZ2V0ID0gZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBleHBvcnRzLnJlbW92ZUl0ZW1zID0gZXhwb3J0cy5pc01vYmlsZSA9IHVuZGVmaW5lZDtcbmV4cG9ydHMudWlkID0gdWlkO1xuZXhwb3J0cy5oZXgycmdiID0gaGV4MnJnYjtcbmV4cG9ydHMuaGV4MnN0cmluZyA9IGhleDJzdHJpbmc7XG5leHBvcnRzLnJnYjJoZXggPSByZ2IyaGV4O1xuZXhwb3J0cy5nZXRSZXNvbHV0aW9uT2ZVcmwgPSBnZXRSZXNvbHV0aW9uT2ZVcmw7XG5leHBvcnRzLmRlY29tcG9zZURhdGFVcmkgPSBkZWNvbXBvc2VEYXRhVXJpO1xuZXhwb3J0cy5nZXRVcmxGaWxlRXh0ZW5zaW9uID0gZ2V0VXJsRmlsZUV4dGVuc2lvbjtcbmV4cG9ydHMuZ2V0U3ZnU2l6ZSA9IGdldFN2Z1NpemU7XG5leHBvcnRzLnNraXBIZWxsbyA9IHNraXBIZWxsbztcbmV4cG9ydHMuc2F5SGVsbG8gPSBzYXlIZWxsbztcbmV4cG9ydHMuaXNXZWJHTFN1cHBvcnRlZCA9IGlzV2ViR0xTdXBwb3J0ZWQ7XG5leHBvcnRzLnNpZ24gPSBzaWduO1xuZXhwb3J0cy5kZXN0cm95VGV4dHVyZUNhY2hlID0gZGVzdHJveVRleHR1cmVDYWNoZTtcbmV4cG9ydHMuY2xlYXJUZXh0dXJlQ2FjaGUgPSBjbGVhclRleHR1cmVDYWNoZTtcbmV4cG9ydHMuY29ycmVjdEJsZW5kTW9kZSA9IGNvcnJlY3RCbGVuZE1vZGU7XG5leHBvcnRzLnByZW11bHRpcGx5VGludCA9IHByZW11bHRpcGx5VGludDtcbmV4cG9ydHMucHJlbXVsdGlwbHlSZ2JhID0gcHJlbXVsdGlwbHlSZ2JhO1xuZXhwb3J0cy5wcmVtdWx0aXBseVRpbnRUb1JnYmEgPSBwcmVtdWx0aXBseVRpbnRUb1JnYmE7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuXG52YXIgX2V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudGVtaXR0ZXIpO1xuXG52YXIgX3BsdWdpblRhcmdldCA9IHJlcXVpcmUoJy4vcGx1Z2luVGFyZ2V0Jyk7XG5cbnZhciBfcGx1Z2luVGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsdWdpblRhcmdldCk7XG5cbnZhciBfbWl4aW4gPSByZXF1aXJlKCcuL21peGluJyk7XG5cbnZhciBtaXhpbnMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfbWl4aW4pO1xuXG52YXIgX2lzbW9iaWxlanMgPSByZXF1aXJlKCdpc21vYmlsZWpzJyk7XG5cbnZhciBpc01vYmlsZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9pc21vYmlsZWpzKTtcblxudmFyIF9yZW1vdmVBcnJheUl0ZW1zID0gcmVxdWlyZSgncmVtb3ZlLWFycmF5LWl0ZW1zJyk7XG5cbnZhciBfcmVtb3ZlQXJyYXlJdGVtczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZW1vdmVBcnJheUl0ZW1zKTtcblxudmFyIF9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcyA9IHJlcXVpcmUoJy4vbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMnKTtcblxudmFyIF9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2Rlcyk7XG5cbnZhciBfZWFyY3V0ID0gcmVxdWlyZSgnZWFyY3V0Jyk7XG5cbnZhciBfZWFyY3V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VhcmN1dCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBuZXh0VWlkID0gMDtcbnZhciBzYWlkSGVsbG8gPSBmYWxzZTtcblxuLyoqXG4gKiBHZW5lcmFsaXplZCBjb252ZW5pZW5jZSB1dGlsaXRpZXMgZm9yIFBJWEkuXG4gKiBAZXhhbXBsZVxuICogLy8gRXh0ZW5kIFBJWEkncyBpbnRlcm5hbCBFdmVudCBFbWl0dGVyLlxuICogY2xhc3MgTXlFbWl0dGVyIGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXIge1xuICogICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICAgc3VwZXIoKTtcbiAqICAgICAgY29uc29sZS5sb2coXCJFbWl0dGVyIGNyZWF0ZWQhXCIpO1xuICogICB9XG4gKiB9XG4gKlxuICogLy8gR2V0IGluZm8gb24gY3VycmVudCBkZXZpY2VcbiAqIGNvbnNvbGUubG9nKFBJWEkudXRpbHMuaXNNb2JpbGUpO1xuICpcbiAqIC8vIENvbnZlcnQgaGV4IGNvbG9yIHRvIHN0cmluZ1xuICogY29uc29sZS5sb2coUElYSS51dGlscy5oZXgyc3RyaW5nKDB4ZmYwMGZmKSk7IC8vIHJldHVybnM6IFwiI2ZmMDBmZlwiXG4gKiBAbmFtZXNwYWNlIFBJWEkudXRpbHNcbiAqL1xuZXhwb3J0cy5pc01vYmlsZSA9IGlzTW9iaWxlO1xuZXhwb3J0cy5yZW1vdmVJdGVtcyA9IF9yZW1vdmVBcnJheUl0ZW1zMi5kZWZhdWx0O1xuZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBfZXZlbnRlbWl0dGVyMi5kZWZhdWx0O1xuZXhwb3J0cy5wbHVnaW5UYXJnZXQgPSBfcGx1Z2luVGFyZ2V0Mi5kZWZhdWx0O1xuZXhwb3J0cy5taXhpbnMgPSBtaXhpbnM7XG5leHBvcnRzLmVhcmN1dCA9IF9lYXJjdXQyLmRlZmF1bHQ7XG5cbi8qKlxuICogR2V0cyB0aGUgbmV4dCB1bmlxdWUgaWRlbnRpZmllclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gdWlkXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyIHRvIHVzZS5cbiAqL1xuXG5mdW5jdGlvbiB1aWQoKSB7XG4gICAgcmV0dXJuICsrbmV4dFVpZDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleCBjb2xvciBudW1iZXIgdG8gYW4gW1IsIEcsIEJdIGFycmF5XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgycmdiXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gVGhlIG51bWJlciB0byBjb252ZXJ0XG4gKiBAcGFyYW0gIHtudW1iZXJbXX0gW291dD1bXV0gSWYgc3VwcGxpZWQsIHRoaXMgYXJyYXkgd2lsbCBiZSB1c2VkIHJhdGhlciB0aGFuIHJldHVybmluZyBhIG5ldyBvbmVcbiAqIEByZXR1cm4ge251bWJlcltdfSBBbiBhcnJheSByZXByZXNlbnRpbmcgdGhlIFtSLCBHLCBCXSBvZiB0aGUgY29sb3IuXG4gKi9cbmZ1bmN0aW9uIGhleDJyZ2IoaGV4LCBvdXQpIHtcbiAgICBvdXQgPSBvdXQgfHwgW107XG5cbiAgICBvdXRbMF0gPSAoaGV4ID4+IDE2ICYgMHhGRikgLyAyNTU7XG4gICAgb3V0WzFdID0gKGhleCA+PiA4ICYgMHhGRikgLyAyNTU7XG4gICAgb3V0WzJdID0gKGhleCAmIDB4RkYpIC8gMjU1O1xuXG4gICAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleCBjb2xvciBudW1iZXIgdG8gYSBzdHJpbmcuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgyc3RyaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gTnVtYmVyIGluIGhleFxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgc3RyaW5nIGNvbG9yLlxuICovXG5mdW5jdGlvbiBoZXgyc3RyaW5nKGhleCkge1xuICAgIGhleCA9IGhleC50b1N0cmluZygxNik7XG4gICAgaGV4ID0gJzAwMDAwMCcuc3Vic3RyKDAsIDYgLSBoZXgubGVuZ3RoKSArIGhleDtcblxuICAgIHJldHVybiAnIycgKyBoZXg7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBhcyBhbiBbUiwgRywgQl0gYXJyYXkgdG8gYSBoZXggbnVtYmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiByZ2IyaGV4XG4gKiBAcGFyYW0ge251bWJlcltdfSByZ2IgLSByZ2IgYXJyYXlcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGNvbG9yIG51bWJlclxuICovXG5mdW5jdGlvbiByZ2IyaGV4KHJnYikge1xuICAgIHJldHVybiAocmdiWzBdICogMjU1IDw8IDE2KSArIChyZ2JbMV0gKiAyNTUgPDwgOCkgKyAocmdiWzJdICogMjU1IHwgMCk7XG59XG5cbi8qKlxuICogZ2V0IHRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIGFuIGFzc2V0IGJ5IGxvb2tpbmcgZm9yIHRoZSBwcmVmaXhcbiAqIHVzZWQgYnkgc3ByaXRlc2hlZXRzIGFuZCBpbWFnZSB1cmxzXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBnZXRSZXNvbHV0aW9uT2ZVcmxcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSB0aGUgaW1hZ2UgcGF0aFxuICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWU9MV0gLSB0aGUgZGVmYXVsdFZhbHVlIGlmIG5vIGZpbGVuYW1lIHByZWZpeCBpcyBzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXRcbiAqL1xuZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbk9mVXJsKHVybCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIHJlc29sdXRpb24gPSBfc2V0dGluZ3MyLmRlZmF1bHQuUkVUSU5BX1BSRUZJWC5leGVjKHVybCk7XG5cbiAgICBpZiAocmVzb2x1dGlvbikge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChyZXNvbHV0aW9uWzFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiAxO1xufVxuXG4vKipcbiAqIFR5cGVkZWYgZm9yIGRlY29tcG9zZURhdGFVcmkgcmV0dXJuIG9iamVjdC5cbiAqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBQSVhJLnV0aWxzfkRlY29tcG9zZWREYXRhVXJpXG4gKiBAcHJvcGVydHkge21lZGlhVHlwZX0gTWVkaWEgdHlwZSwgZWcuIGBpbWFnZWBcbiAqIEBwcm9wZXJ0eSB7c3ViVHlwZX0gU3ViIHR5cGUsIGVnLiBgcG5nYFxuICogQHByb3BlcnR5IHtlbmNvZGluZ30gRGF0YSBlbmNvZGluZywgZWcuIGBiYXNlNjRgXG4gKiBAcHJvcGVydHkge2RhdGF9IFRoZSBhY3R1YWwgZGF0YVxuICovXG5cbi8qKlxuICogU3BsaXQgYSBkYXRhIFVSSSBpbnRvIGNvbXBvbmVudHMuIFJldHVybnMgdW5kZWZpbmVkIGlmXG4gKiBwYXJhbWV0ZXIgYGRhdGFVcmlgIGlzIG5vdCBhIHZhbGlkIGRhdGEgVVJJLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaVxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFVcmkgLSB0aGUgZGF0YSBVUkkgdG8gY2hlY2tcbiAqIEByZXR1cm4ge1BJWEkudXRpbHN+RGVjb21wb3NlZERhdGFVcml8dW5kZWZpbmVkfSBUaGUgZGVjb21wb3NlZCBkYXRhIHVyaSBvciB1bmRlZmluZWRcbiAqL1xuZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaShkYXRhVXJpKSB7XG4gICAgdmFyIGRhdGFVcmlNYXRjaCA9IF9jb25zdC5EQVRBX1VSSS5leGVjKGRhdGFVcmkpO1xuXG4gICAgaWYgKGRhdGFVcmlNYXRjaCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVkaWFUeXBlOiBkYXRhVXJpTWF0Y2hbMV0gPyBkYXRhVXJpTWF0Y2hbMV0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN1YlR5cGU6IGRhdGFVcmlNYXRjaFsyXSA/IGRhdGFVcmlNYXRjaFsyXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2hhcnNldDogZGF0YVVyaU1hdGNoWzNdID8gZGF0YVVyaU1hdGNoWzNdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbmNvZGluZzogZGF0YVVyaU1hdGNoWzRdID8gZGF0YVVyaU1hdGNoWzRdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkYXRhOiBkYXRhVXJpTWF0Y2hbNV1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEdldCB0eXBlIG9mIHRoZSBpbWFnZSBieSByZWdleHAgZm9yIGV4dGVuc2lvbi4gUmV0dXJucyB1bmRlZmluZWQgZm9yIHVua25vd24gZXh0ZW5zaW9ucy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGdldFVybEZpbGVFeHRlbnNpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSB0aGUgaW1hZ2UgcGF0aFxuICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gaW1hZ2UgZXh0ZW5zaW9uXG4gKi9cbmZ1bmN0aW9uIGdldFVybEZpbGVFeHRlbnNpb24odXJsKSB7XG4gICAgdmFyIGV4dGVuc2lvbiA9IF9jb25zdC5VUkxfRklMRV9FWFRFTlNJT04uZXhlYyh1cmwpO1xuXG4gICAgaWYgKGV4dGVuc2lvbikge1xuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBUeXBlZGVmIGZvciBTaXplIG9iamVjdC5cbiAqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBQSVhJLnV0aWxzflNpemVcbiAqIEBwcm9wZXJ0eSB7d2lkdGh9IFdpZHRoIGNvbXBvbmVudFxuICogQHByb3BlcnR5IHtoZWlnaHR9IEhlaWdodCBjb21wb25lbnRcbiAqL1xuXG4vKipcbiAqIEdldCBzaXplIGZyb20gYW4gc3ZnIHN0cmluZyB1c2luZyByZWdleHAuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBnZXRTdmdTaXplXG4gKiBAcGFyYW0ge3N0cmluZ30gc3ZnU3RyaW5nIC0gYSBzZXJpYWxpemVkIHN2ZyBlbGVtZW50XG4gKiBAcmV0dXJuIHtQSVhJLnV0aWxzflNpemV8dW5kZWZpbmVkfSBpbWFnZSBleHRlbnNpb25cbiAqL1xuZnVuY3Rpb24gZ2V0U3ZnU2l6ZShzdmdTdHJpbmcpIHtcbiAgICB2YXIgc2l6ZU1hdGNoID0gX2NvbnN0LlNWR19TSVpFLmV4ZWMoc3ZnU3RyaW5nKTtcbiAgICB2YXIgc2l6ZSA9IHt9O1xuXG4gICAgaWYgKHNpemVNYXRjaCkge1xuICAgICAgICBzaXplW3NpemVNYXRjaFsxXV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzNdKSk7XG4gICAgICAgIHNpemVbc2l6ZU1hdGNoWzVdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbN10pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2l6ZTtcbn1cblxuLyoqXG4gKiBTa2lwcyB0aGUgaGVsbG8gbWVzc2FnZSBvZiByZW5kZXJlcnMgdGhhdCBhcmUgY3JlYXRlZCBhZnRlciB0aGlzIGlzIHJ1bi5cbiAqXG4gKiBAZnVuY3Rpb24gc2tpcEhlbGxvXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICovXG5mdW5jdGlvbiBza2lwSGVsbG8oKSB7XG4gICAgc2FpZEhlbGxvID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBMb2dzIG91dCB0aGUgdmVyc2lvbiBhbmQgcmVuZGVyZXIgaW5mb3JtYXRpb24gZm9yIHRoaXMgcnVubmluZyBpbnN0YW5jZSBvZiBQSVhJLlxuICogSWYgeW91IGRvbid0IHdhbnQgdG8gc2VlIHRoaXMgbWVzc2FnZSB5b3UgY2FuIHJ1biBgUElYSS51dGlscy5za2lwSGVsbG8oKWAgYmVmb3JlXG4gKiBjcmVhdGluZyB5b3VyIHJlbmRlcmVyLiBLZWVwIGluIG1pbmQgdGhhdCBkb2luZyB0aGF0IHdpbGwgZm9yZXZlciBtYWtlcyB5b3UgYSBqZXJrIGZhY2UuXG4gKlxuICogQHN0YXRpY1xuICogQGZ1bmN0aW9uIHNheUhlbGxvXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgc3RyaW5nIHJlbmRlcmVyIHR5cGUgdG8gbG9nLlxuICovXG5mdW5jdGlvbiBzYXlIZWxsbyh0eXBlKSB7XG4gICAgaWYgKHNhaWRIZWxsbykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKSB7XG4gICAgICAgIHZhciBhcmdzID0gWydcXG4gJWMgJWMgJWMgUGl4aUpTICcgKyBfY29uc3QuVkVSU0lPTiArICcgLSBcXHUyNzMwICcgKyB0eXBlICsgJyBcXHUyNzMwICAlYyAgJWMgIGh0dHA6Ly93d3cucGl4aWpzLmNvbS8gICVjICVjIFxcdTI2NjUlY1xcdTI2NjUlY1xcdTI2NjUgXFxuXFxuJywgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JywgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JywgJ2NvbG9yOiAjZmY2NmE1OyBiYWNrZ3JvdW5kOiAjMDMwMzA3OyBwYWRkaW5nOjVweCAwOycsICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsICdiYWNrZ3JvdW5kOiAjZmZjM2RjOyBwYWRkaW5nOjVweCAwOycsICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnLCAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JywgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOyddO1xuXG4gICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnUGl4aUpTICcgKyBfY29uc3QuVkVSU0lPTiArICcgLSAnICsgdHlwZSArICcgLSBodHRwOi8vd3d3LnBpeGlqcy5jb20vJyk7XG4gICAgfVxuXG4gICAgc2FpZEhlbGxvID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZm9yIGNoZWNraW5nIGZvciB3ZWJnbCBzdXBwb3J0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpcyB3ZWJnbCBzdXBwb3J0ZWRcbiAqL1xuZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZCgpIHtcbiAgICB2YXIgY29udGV4dE9wdGlvbnMgPSB7IHN0ZW5jaWw6IHRydWUsIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6IHRydWUgfTtcblxuICAgIHRyeSB7XG4gICAgICAgIGlmICghd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB2YXIgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBjb250ZXh0T3B0aW9ucykgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGNvbnRleHRPcHRpb25zKTtcblxuICAgICAgICB2YXIgc3VjY2VzcyA9ICEhKGdsICYmIGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCkuc3RlbmNpbCk7XG5cbiAgICAgICAgaWYgKGdsKSB7XG4gICAgICAgICAgICB2YXIgbG9zZUNvbnRleHQgPSBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpO1xuXG4gICAgICAgICAgICBpZiAobG9zZUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBsb3NlQ29udGV4dC5sb3NlQ29udGV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZ2wgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHNpZ24gb2YgbnVtYmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBzaWduXG4gKiBAcGFyYW0ge251bWJlcn0gbiAtIHRoZSBudW1iZXIgdG8gY2hlY2sgdGhlIHNpZ24gb2ZcbiAqIEByZXR1cm5zIHtudW1iZXJ9IDAgaWYgYG5gIGlzIDAsIC0xIGlmIGBuYCBpcyBuZWdhdGl2ZSwgMSBpZiBgbmAgaXMgcG9zaXRpdmVcbiAqL1xuZnVuY3Rpb24gc2lnbihuKSB7XG4gICAgaWYgKG4gPT09IDApIHJldHVybiAwO1xuXG4gICAgcmV0dXJuIG4gPCAwID8gLTEgOiAxO1xufVxuXG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBUZXh0dXJlQ2FjaGUgPSBleHBvcnRzLlRleHR1cmVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHByaXZhdGVcbiAqL1xudmFyIEJhc2VUZXh0dXJlQ2FjaGUgPSBleHBvcnRzLkJhc2VUZXh0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4vKipcbiAqIERlc3Ryb3lzIGFsbCB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZVxuICovXG5mdW5jdGlvbiBkZXN0cm95VGV4dHVyZUNhY2hlKCkge1xuICAgIHZhciBrZXkgPSB2b2lkIDA7XG5cbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBCYXNlVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIEJhc2VUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIHRleHR1cmVzIGZyb20gY2FjaGUsIGJ1dCBkb2VzIG5vdCBkZXN0cm95IHRoZW1cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNsZWFyVGV4dHVyZUNhY2hlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyVGV4dHVyZUNhY2hlKCkge1xuICAgIHZhciBrZXkgPSB2b2lkIDA7XG5cbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVtrZXldO1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBCYXNlVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxufVxuXG4vKipcbiAqIG1hcHMgcHJlbXVsdGlwbHkgZmxhZyBhbmQgYmxlbmRNb2RlIHRvIGFkanVzdGVkIGJsZW5kTW9kZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBjb25zdCBwcmVtdWx0aXBseUJsZW5kTW9kZVxuICogQHR5cGUge0FycmF5PG51bWJlcltdPn1cbiAqL1xudmFyIHByZW11bHRpcGx5QmxlbmRNb2RlID0gZXhwb3J0cy5wcmVtdWx0aXBseUJsZW5kTW9kZSA9ICgwLCBfbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMyLmRlZmF1bHQpKCk7XG5cbi8qKlxuICogY2hhbmdlcyBibGVuZE1vZGUgYWNjb3JkaW5nIHRvIHRleHR1cmUgZm9ybWF0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlXG4gKiBAcGFyYW0ge251bWJlcn0gYmxlbmRNb2RlIHN1cHBvc2VkIGJsZW5kIG1vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJlbXVsdGlwbGllZCAgd2hldGhlciBzb3VyY2UgaXMgcHJlbXVsdGlwbGllZFxuICogQHJldHVybnMge251bWJlcn0gdHJ1ZSBibGVuZCBtb2RlIGZvciB0aGlzIHRleHR1cmVcbiAqL1xuZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZShibGVuZE1vZGUsIHByZW11bHRpcGxpZWQpIHtcbiAgICByZXR1cm4gcHJlbXVsdGlwbHlCbGVuZE1vZGVbcHJlbXVsdGlwbGllZCA/IDEgOiAwXVtibGVuZE1vZGVdO1xufVxuXG4vKipcbiAqIHByZW11bHRpcGxpZXMgdGludFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdGludCBpbnRlZ2V0IFJHQlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIGZsb2F0aW5nIHBvaW50IGFscGhhICgwLjAtMS4wKVxuICogQHJldHVybnMge251bWJlcn0gdGludCBtdWx0aXBsaWVkIGJ5IGFscGhhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5VGludCh0aW50LCBhbHBoYSkge1xuICAgIGlmIChhbHBoYSA9PT0gMS4wKSB7XG4gICAgICAgIHJldHVybiAoYWxwaGEgKiAyNTUgPDwgMjQpICsgdGludDtcbiAgICB9XG4gICAgaWYgKGFscGhhID09PSAwLjApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHZhciBSID0gdGludCA+PiAxNiAmIDB4RkY7XG4gICAgdmFyIEcgPSB0aW50ID4+IDggJiAweEZGO1xuICAgIHZhciBCID0gdGludCAmIDB4RkY7XG5cbiAgICBSID0gUiAqIGFscGhhICsgMC41IHwgMDtcbiAgICBHID0gRyAqIGFscGhhICsgMC41IHwgMDtcbiAgICBCID0gQiAqIGFscGhhICsgMC41IHwgMDtcblxuICAgIHJldHVybiAoYWxwaGEgKiAyNTUgPDwgMjQpICsgKFIgPDwgMTYpICsgKEcgPDwgOCkgKyBCO1xufVxuXG4vKipcbiAqIGNvbWJpbmVzIHJnYiBhbmQgYWxwaGEgdG8gb3V0IGFycmF5XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSByZ2IgaW5wdXQgcmdiXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlSZ2JhKHJnYiwgYWxwaGEsIG91dCwgcHJlbXVsdGlwbHkpIHtcbiAgICBvdXQgPSBvdXQgfHwgbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICBpZiAocHJlbXVsdGlwbHkgfHwgcHJlbXVsdGlwbHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF0gKiBhbHBoYTtcbiAgICAgICAgb3V0WzFdID0gcmdiWzFdICogYWxwaGE7XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXSAqIGFscGhhO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG91dFswXSA9IHJnYlswXTtcbiAgICAgICAgb3V0WzFdID0gcmdiWzFdO1xuICAgICAgICBvdXRbMl0gPSByZ2JbMl07XG4gICAgfVxuICAgIG91dFszXSA9IGFscGhhO1xuXG4gICAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBjb252ZXJ0cyBpbnRlZ2VyIHRpbnQgYW5kIGZsb2F0IGFscGhhIHRvIHZlYzQgZm9ybSwgcHJlbXVsdGlwbGllcyBieSBkZWZhdWx0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IGlucHV0IHRpbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSBhbHBoYSBwYXJhbVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXRdIG91dHB1dFxuICogQHBhcmFtIHtib29sZWFufSBbcHJlbXVsdGlwbHk9dHJ1ZV0gZG8gcHJlbXVsdGlwbHkgaXRcbiAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IHZlYzQgcmdiYVxuICovXG5mdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRUb1JnYmEodGludCwgYWxwaGEsIG91dCwgcHJlbXVsdGlwbHkpIHtcbiAgICBvdXQgPSBvdXQgfHwgbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICBvdXRbMF0gPSAodGludCA+PiAxNiAmIDB4RkYpIC8gMjU1LjA7XG4gICAgb3V0WzFdID0gKHRpbnQgPj4gOCAmIDB4RkYpIC8gMjU1LjA7XG4gICAgb3V0WzJdID0gKHRpbnQgJiAweEZGKSAvIDI1NS4wO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG91dFswXSAqPSBhbHBoYTtcbiAgICAgICAgb3V0WzFdICo9IGFscGhhO1xuICAgICAgICBvdXRbMl0gKj0gYWxwaGE7XG4gICAgfVxuICAgIG91dFszXSA9IGFscGhhO1xuXG4gICAgcmV0dXJuIG91dDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9tYXhSZWNvbW1lbmRlZFRleHR1cmVzID0gcmVxdWlyZSgnLi91dGlscy9tYXhSZWNvbW1lbmRlZFRleHR1cmVzJyk7XG5cbnZhciBfbWF4UmVjb21tZW5kZWRUZXh0dXJlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXhSZWNvbW1lbmRlZFRleHR1cmVzKTtcblxudmFyIF9jYW5VcGxvYWRTYW1lQnVmZmVyID0gcmVxdWlyZSgnLi91dGlscy9jYW5VcGxvYWRTYW1lQnVmZmVyJyk7XG5cbnZhciBfY2FuVXBsb2FkU2FtZUJ1ZmZlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYW5VcGxvYWRTYW1lQnVmZmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBVc2VyJ3MgY3VzdG9taXphYmxlIGdsb2JhbHMgZm9yIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgUElYSSBzZXR0aW5ncywgc3VjaFxuICogYXMgYSByZW5kZXJlcidzIGRlZmF1bHQgcmVzb2x1dGlvbiwgZnJhbWVyYXRlLCBmbG9hdCBwZXJjaXNpb24sIGV0Yy5cbiAqIEBleGFtcGxlXG4gKiAvLyBVc2UgdGhlIG5hdGl2ZSB3aW5kb3cgcmVzb2x1dGlvbiBhcyB0aGUgZGVmYXVsdCByZXNvbHV0aW9uXG4gKiAvLyB3aWxsIHN1cHBvcnQgaGlnaC1kZW5zaXR5IGRpc3BsYXlzIHdoZW4gcmVuZGVyaW5nXG4gKiBQSVhJLnNldHRpbmdzLlJFU09MVVRJT04gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpby5cbiAqXG4gKiAvLyBEaXNhYmxlIGludGVycG9sYXRpb24gd2hlbiBzY2FsaW5nLCB3aWxsIG1ha2UgdGV4dHVyZSBiZSBwaXhlbGF0ZWRcbiAqIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERSA9IFBJWEkuU0NBTEVfTU9ERVMuTkVBUkVTVDtcbiAqIEBuYW1lc3BhY2UgUElYSS5zZXR0aW5nc1xuICovXG5leHBvcnRzLmRlZmF1bHQgPSB7XG5cbiAgLyoqXG4gICAqIFRhcmdldCBmcmFtZXMgcGVyIG1pbGxpc2Vjb25kLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDAuMDZcbiAgICovXG4gIFRBUkdFVF9GUE1TOiAwLjA2LFxuXG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gdHJ1ZSBXZWJHTCB3aWxsIGF0dGVtcHQgbWFrZSB0ZXh0dXJlcyBtaW1wYXBlZCBieSBkZWZhdWx0LlxuICAgKiBNaXBtYXBwaW5nIHdpbGwgb25seSBzdWNjZWVkIGlmIHRoZSBiYXNlIHRleHR1cmUgdXBsb2FkZWQgaGFzIHBvd2VyIG9mIHR3byBkaW1lbnNpb25zLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBNSVBNQVBfVEVYVFVSRVM6IHRydWUsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMVxuICAgKi9cbiAgUkVTT0xVVElPTjogMSxcblxuICAvKipcbiAgICogRGVmYXVsdCBmaWx0ZXIgcmVzb2x1dGlvbi5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAxXG4gICAqL1xuICBGSUxURVJfUkVTT0xVVElPTjogMSxcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gdGV4dHVyZXMgdGhhdCB0aGlzIGRldmljZSBzdXBwb3J0cy5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAzMlxuICAgKi9cbiAgU1BSSVRFX01BWF9URVhUVVJFUzogKDAsIF9tYXhSZWNvbW1lbmRlZFRleHR1cmVzMi5kZWZhdWx0KSgzMiksXG5cbiAgLy8gVE9ETzogbWF5YmUgY2hhbmdlIHRvIFNQUklURS5CQVRDSF9TSVpFOiAyMDAwXG4gIC8vIFRPRE86IG1heWJlIGFkZCBQQVJUSUNMRS5CQVRDSF9TSVpFOiAxNTAwMFxuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBzcHJpdGUgYmF0Y2ggc2l6ZS5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgYWltcyB0byBiYWxhbmNlIGRlc2t0b3AgYW5kIG1vYmlsZSBkZXZpY2VzLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDQwOTZcbiAgICovXG4gIFNQUklURV9CQVRDSF9TSVpFOiA0MDk2LFxuXG4gIC8qKlxuICAgKiBUaGUgcHJlZml4IHRoYXQgZGVub3RlcyBhIFVSTCBpcyBmb3IgYSByZXRpbmEgYXNzZXQuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge1JlZ0V4cH1cbiAgICogQGV4YW1wbGUgYEAyeGBcbiAgICogQGRlZmF1bHQgL0AoWzAtOVxcLl0rKXgvXG4gICAqL1xuICBSRVRJTkFfUFJFRklYOiAvQChbMC05XFwuXSspeC8sXG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zIGlmIG5vbmUgYXJlIHN1cHBsaWVkIHRvIHtAbGluayBQSVhJLldlYkdMUmVuZGVyZXJ9XG4gICAqIG9yIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAY29uc3RhbnRcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge29iamVjdH1cbiAgICogQHByb3BlcnR5IHtIVE1MQ2FudmFzRWxlbWVudH0gdmlldz1udWxsXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZXNvbHV0aW9uPTFcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBhbnRpYWxpYXM9ZmFsc2VcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBmb3JjZUZYQUE9ZmFsc2VcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBhdXRvUmVzaXplPWZhbHNlXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdHJhbnNwYXJlbnQ9ZmFsc2VcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IGJhY2tncm91bmRDb2xvcj0weDAwMDAwMFxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGNsZWFyQmVmb3JlUmVuZGVyPXRydWVcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VcbiAgICogQHByb3BlcnR5IHtib29sZWFufSByb3VuZFBpeGVscz1mYWxzZVxuICAgKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGg9ODAwXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQ9NjAwXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbGVnYWN5PWZhbHNlXG4gICAqL1xuICBSRU5ERVJfT1BUSU9OUzoge1xuICAgIHZpZXc6IG51bGwsXG4gICAgYW50aWFsaWFzOiBmYWxzZSxcbiAgICBmb3JjZUZYQUE6IGZhbHNlLFxuICAgIGF1dG9SZXNpemU6IGZhbHNlLFxuICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IDB4MDAwMDAwLFxuICAgIGNsZWFyQmVmb3JlUmVuZGVyOiB0cnVlLFxuICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogZmFsc2UsXG4gICAgcm91bmRQaXhlbHM6IGZhbHNlLFxuICAgIHdpZHRoOiA4MDAsXG4gICAgaGVpZ2h0OiA2MDAsXG4gICAgbGVnYWN5OiBmYWxzZVxuICB9LFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHRyYW5zZm9ybSB0eXBlLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtQSVhJLlRSQU5TRk9STV9NT0RFfVxuICAgKiBAZGVmYXVsdCBQSVhJLlRSQU5TRk9STV9NT0RFLlNUQVRJQ1xuICAgKi9cbiAgVFJBTlNGT1JNX01PREU6IDAsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge1BJWEkuR0NfTU9ERVN9XG4gICAqIEBkZWZhdWx0IFBJWEkuR0NfTU9ERVMuQVVUT1xuICAgKi9cbiAgR0NfTU9ERTogMCxcblxuICAvKipcbiAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbWF4IGlkbGUuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMzYwMFxuICAgKi9cbiAgR0NfTUFYX0lETEU6IDYwICogNjAsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1heGltdW0gY2hlY2sgY291bnQuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgNjAwXG4gICAqL1xuICBHQ19NQVhfQ0hFQ0tfQ09VTlQ6IDYwICogMTAsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgd3JhcCBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UElYSS5XUkFQX01PREVTfVxuICAgKiBAZGVmYXVsdCBQSVhJLldSQVBfTU9ERVMuQ0xBTVBcbiAgICovXG4gIFdSQVBfTU9ERTogMCxcblxuICAvKipcbiAgICogVGhlIHNjYWxlIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtQSVhJLlNDQUxFX01PREVTfVxuICAgKiBAZGVmYXVsdCBQSVhJLlNDQUxFX01PREVTLkxJTkVBUlxuICAgKi9cbiAgU0NBTEVfTU9ERTogMCxcblxuICAvKipcbiAgICogRGVmYXVsdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiB2ZXJ0ZXggc2hhZGVyLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtQSVhJLlBSRUNJU0lPTn1cbiAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uSElHSFxuICAgKi9cbiAgUFJFQ0lTSU9OX1ZFUlRFWDogJ2hpZ2hwJyxcblxuICAvKipcbiAgICogRGVmYXVsdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBmcmFnbWVudCBzaGFkZXIuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge1BJWEkuUFJFQ0lTSU9OfVxuICAgKiBAZGVmYXVsdCBQSVhJLlBSRUNJU0lPTi5NRURJVU1cbiAgICovXG4gIFBSRUNJU0lPTl9GUkFHTUVOVDogJ21lZGl1bXAnLFxuXG4gIC8qKlxuICAgKiBDYW4gd2UgdXBsb2FkIHRoZSBzYW1lIGJ1ZmZlciBpbiBhIHNpbmdsZSBmcmFtZT9cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAY29uc3RhbnRcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBDQU5fVVBMT0FEX1NBTUVfQlVGRkVSOiAoMCwgX2NhblVwbG9hZFNhbWVCdWZmZXIyLmRlZmF1bHQpKCksXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgTWVzaCBgY2FudmFzUGFkZGluZ2AuXG4gICAqXG4gICAqIEBzZWUgUElYSS5tZXNoLk1lc2gjY2FudmFzUGFkZGluZ1xuICAgKiBAc3RhdGljXG4gICAqIEBjb25zdGFudFxuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgTUVTSF9DQU5WQVNfUEFERElORzogMFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldHRpbmdzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9Qb2ludCA9IHJlcXVpcmUoJy4vUG9pbnQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdQb2ludCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvaW50KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9PYnNlcnZhYmxlUG9pbnQgPSByZXF1aXJlKCcuL09ic2VydmFibGVQb2ludCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ09ic2VydmFibGVQb2ludCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09ic2VydmFibGVQb2ludCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfTWF0cml4ID0gcmVxdWlyZSgnLi9NYXRyaXgnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdNYXRyaXgnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NYXRyaXgpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0dyb3VwRCA9IHJlcXVpcmUoJy4vR3JvdXBEOCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0dyb3VwRDgnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Hcm91cEQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NpcmNsZSA9IHJlcXVpcmUoJy4vc2hhcGVzL0NpcmNsZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NpcmNsZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NpcmNsZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfRWxsaXBzZSA9IHJlcXVpcmUoJy4vc2hhcGVzL0VsbGlwc2UnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdFbGxpcHNlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRWxsaXBzZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUG9seWdvbiA9IHJlcXVpcmUoJy4vc2hhcGVzL1BvbHlnb24nKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdQb2x5Z29uJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9seWdvbikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUmVjdGFuZ2xlID0gcmVxdWlyZSgnLi9zaGFwZXMvUmVjdGFuZ2xlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUmVjdGFuZ2xlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVjdGFuZ2xlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Sb3VuZGVkUmVjdGFuZ2xlID0gcmVxdWlyZSgnLi9zaGFwZXMvUm91bmRlZFJlY3RhbmdsZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1JvdW5kZWRSZWN0YW5nbGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Sb3VuZGVkUmVjdGFuZ2xlKS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsInZhciBnbCA9IHtcbiAgICBjcmVhdGVDb250ZXh0OiAgICAgICAgICByZXF1aXJlKCcuL2NyZWF0ZUNvbnRleHQnKSxcbiAgICBzZXRWZXJ0ZXhBdHRyaWJBcnJheXM6ICByZXF1aXJlKCcuL3NldFZlcnRleEF0dHJpYkFycmF5cycpLFxuICAgIEdMQnVmZmVyOiAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vR0xCdWZmZXInKSxcbiAgICBHTEZyYW1lYnVmZmVyOiAgICAgICAgICByZXF1aXJlKCcuL0dMRnJhbWVidWZmZXInKSxcbiAgICBHTFNoYWRlcjogICAgICAgICAgICAgICByZXF1aXJlKCcuL0dMU2hhZGVyJyksXG4gICAgR0xUZXh0dXJlOiAgICAgICAgICAgICAgcmVxdWlyZSgnLi9HTFRleHR1cmUnKSxcbiAgICBWZXJ0ZXhBcnJheU9iamVjdDogICAgICByZXF1aXJlKCcuL1ZlcnRleEFycmF5T2JqZWN0JyksXG4gICAgc2hhZGVyOiAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9zaGFkZXInKVxufTtcblxuLy8gRXhwb3J0IGZvciBOb2RlLWNvbXBhdGlibGUgZW52aXJvbm1lbnRzXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpXG57XG4gICAgLy8gRXhwb3J0IHRoZSBtb2R1bGVcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGdsO1xufVxuXG4vLyBBZGQgdG8gdGhlIGJyb3dzZXIgd2luZG93IHBpeGkuZ2xcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylcbntcbiAgICAvLyBhZGQgdGhlIHdpbmRvdyBvYmplY3RcbiAgICB3aW5kb3cuUElYSSA9IHdpbmRvdy5QSVhJIHx8IHt9O1xuICAgIHdpbmRvdy5QSVhJLmdsQ29yZSA9IGdsO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgX2hhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmV4cG9ydHMuaGFzID0gZnVuY3Rpb24gKG9iaiwgcHJvcCkge1xuICAgIHJldHVybiBfaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufTtcbi8qKlxuICogRGVmYXVsdCBmdW5jdGlvbiB0byBjb21wYXJlIGVsZW1lbnQgb3JkZXIuXG4gKiBAZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gZGVmYXVsdENvbXBhcmUoYSwgYikge1xuICAgIGlmIChhIDwgYikge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGVsc2UgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHRDb21wYXJlID0gZGVmYXVsdENvbXBhcmU7XG4vKipcbiAqIERlZmF1bHQgZnVuY3Rpb24gdG8gdGVzdCBlcXVhbGl0eS5cbiAqIEBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBkZWZhdWx0RXF1YWxzKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbn1cbmV4cG9ydHMuZGVmYXVsdEVxdWFscyA9IGRlZmF1bHRFcXVhbHM7XG4vKipcbiAqIERlZmF1bHQgZnVuY3Rpb24gdG8gY29udmVydCBhbiBvYmplY3QgdG8gYSBzdHJpbmcuXG4gKiBAZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gZGVmYXVsdFRvU3RyaW5nKGl0ZW0pIHtcbiAgICBpZiAoaXRlbSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJ0NPTExFQ1RJT05fTlVMTCc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzVW5kZWZpbmVkKGl0ZW0pKSB7XG4gICAgICAgIHJldHVybiAnQ09MTEVDVElPTl9VTkRFRklORUQnO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1N0cmluZyhpdGVtKSkge1xuICAgICAgICByZXR1cm4gJyRzJyArIGl0ZW07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gJyRvJyArIGl0ZW0udG9TdHJpbmcoKTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHRUb1N0cmluZyA9IGRlZmF1bHRUb1N0cmluZztcbi8qKlxuKiBKb2lucyBhbGwgdGhlIHByb3BlcmllcyBvZiB0aGUgb2JqZWN0IHVzaW5nIHRoZSBwcm92aWRlZCBqb2luIHN0cmluZ1xuKi9cbmZ1bmN0aW9uIG1ha2VTdHJpbmcoaXRlbSwgam9pbikge1xuICAgIGlmIChqb2luID09PSB2b2lkIDApIHsgam9pbiA9ICcsJzsgfVxuICAgIGlmIChpdGVtID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnQ09MTEVDVElPTl9OVUxMJztcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNVbmRlZmluZWQoaXRlbSkpIHtcbiAgICAgICAgcmV0dXJuICdDT0xMRUNUSU9OX1VOREVGSU5FRCc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzU3RyaW5nKGl0ZW0pKSB7XG4gICAgICAgIHJldHVybiBpdGVtLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgdG9yZXQgPSAneyc7XG4gICAgICAgIHZhciBmaXJzdCA9IHRydWU7XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gaXRlbSkge1xuICAgICAgICAgICAgaWYgKGV4cG9ydHMuaGFzKGl0ZW0sIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b3JldCA9IHRvcmV0ICsgam9pbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9yZXQgPSB0b3JldCArIHByb3AgKyAnOicgKyBpdGVtW3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3JldCArICd9JztcbiAgICB9XG59XG5leHBvcnRzLm1ha2VTdHJpbmcgPSBtYWtlU3RyaW5nO1xuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50IGlzIGEgZnVuY3Rpb24uXG4gKiBAZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbihmdW5jKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgZnVuYykgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50IGlzIHVuZGVmaW5lZC5cbiAqIEBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChvYmopIHtcbiAgICByZXR1cm4gKHR5cGVvZiBvYmopID09PSAndW5kZWZpbmVkJztcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudCBpcyBhIHN0cmluZy5cbiAqIEBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBpc1N0cmluZyhvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuLyoqXG4gKiBSZXZlcnNlcyBhIGNvbXBhcmUgZnVuY3Rpb24uXG4gKiBAZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gcmV2ZXJzZUNvbXBhcmVGdW5jdGlvbihjb21wYXJlRnVuY3Rpb24pIHtcbiAgICBpZiAoaXNVbmRlZmluZWQoY29tcGFyZUZ1bmN0aW9uKSB8fCAhaXNGdW5jdGlvbihjb21wYXJlRnVuY3Rpb24pKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgaWYgKGEgPCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhID09PSBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGQsIHYpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wYXJlRnVuY3Rpb24oZCwgdikgKiAtMTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLnJldmVyc2VDb21wYXJlRnVuY3Rpb24gPSByZXZlcnNlQ29tcGFyZUZ1bmN0aW9uO1xuLyoqXG4gKiBSZXR1cm5zIGFuIGVxdWFsIGZ1bmN0aW9uIGdpdmVuIGEgY29tcGFyZSBmdW5jdGlvbi5cbiAqIEBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBjb21wYXJlVG9FcXVhbHMoY29tcGFyZUZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBjb21wYXJlRnVuY3Rpb24oYSwgYikgPT09IDA7XG4gICAgfTtcbn1cbmV4cG9ydHMuY29tcGFyZVRvRXF1YWxzID0gY29tcGFyZVRvRXF1YWxzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gcmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIGFycmF5IHdpdGggZGlyZWN0b3J5IG5hbWVzIHRoZXJlXG4vLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XFwpIGluIHRoZSBhcnJheVxuLy8gKHNvIGFsc28gbm8gbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2hlcyAtIGl0IGRvZXMgbm90IGRpc3Rpbmd1aXNoXG4vLyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgcGF0aHMpXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGxhc3QgPSBwYXJ0c1tpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG4vLyBTcGxpdCBhIGZpbGVuYW1lIGludG8gW3Jvb3QsIGRpciwgYmFzZW5hbWUsIGV4dF0sIHVuaXggdmVyc2lvblxuLy8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy5cbnZhciBzcGxpdFBhdGhSZSA9XG4gICAgL14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC87XG52YXIgc3BsaXRQYXRoID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aFJlLmV4ZWMoZmlsZW5hbWUpLnNsaWNlKDEpO1xufTtcblxuLy8gcGF0aC5yZXNvbHZlKFtmcm9tIC4uLl0sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZXNvbHZlID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNvbHZlZFBhdGggPSAnJyxcbiAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcblxuICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgIHZhciBwYXRoID0gKGkgPj0gMCkgPyBhcmd1bWVudHNbaV0gOiBwcm9jZXNzLmN3ZCgpO1xuXG4gICAgLy8gU2tpcCBlbXB0eSBhbmQgaW52YWxpZCBlbnRyaWVzXG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9IGVsc2UgaWYgKCFwYXRoKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXNvbHZlZFBhdGggPSBwYXRoICsgJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuICB9XG5cbiAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgcmV0dXJuICgocmVzb2x2ZWRBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHJlc29sdmVkUGF0aCkgfHwgJy4nO1xufTtcblxuLy8gcGF0aC5ub3JtYWxpemUocGF0aClcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMubm9ybWFsaXplID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgaXNBYnNvbHV0ZSA9IGV4cG9ydHMuaXNBYnNvbHV0ZShwYXRoKSxcbiAgICAgIHRyYWlsaW5nU2xhc2ggPSBzdWJzdHIocGF0aCwgLTEpID09PSAnLyc7XG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFpc0Fic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgaWYgKCFwYXRoICYmICFpc0Fic29sdXRlKSB7XG4gICAgcGF0aCA9ICcuJztcbiAgfVxuICBpZiAocGF0aCAmJiB0cmFpbGluZ1NsYXNoKSB7XG4gICAgcGF0aCArPSAnLyc7XG4gIH1cblxuICByZXR1cm4gKGlzQWJzb2x1dGUgPyAnLycgOiAnJykgKyBwYXRoO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5pc0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuam9pbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGF0aHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICByZXR1cm4gZXhwb3J0cy5ub3JtYWxpemUoZmlsdGVyKHBhdGhzLCBmdW5jdGlvbihwLCBpbmRleCkge1xuICAgIGlmICh0eXBlb2YgcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9KS5qb2luKCcvJykpO1xufTtcblxuXG4vLyBwYXRoLnJlbGF0aXZlKGZyb20sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZWxhdGl2ZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gIGZyb20gPSBleHBvcnRzLnJlc29sdmUoZnJvbSkuc3Vic3RyKDEpO1xuICB0byA9IGV4cG9ydHMucmVzb2x2ZSh0bykuc3Vic3RyKDEpO1xuXG4gIGZ1bmN0aW9uIHRyaW0oYXJyKSB7XG4gICAgdmFyIHN0YXJ0ID0gMDtcbiAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgICBpZiAoYXJyW3N0YXJ0XSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7XG4gICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTtcbiAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpO1xuICB9XG5cbiAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oZnJvbS5zcGxpdCgnLycpKTtcbiAgdmFyIHRvUGFydHMgPSB0cmltKHRvLnNwbGl0KCcvJykpO1xuXG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7XG4gIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7XG4gICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIG91dHB1dFBhcnRzID0gW107XG4gIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xuICB9XG5cbiAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcblxuICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xufTtcblxuZXhwb3J0cy5zZXAgPSAnLyc7XG5leHBvcnRzLmRlbGltaXRlciA9ICc6JztcblxuZXhwb3J0cy5kaXJuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpLFxuICAgICAgcm9vdCA9IHJlc3VsdFswXSxcbiAgICAgIGRpciA9IHJlc3VsdFsxXTtcblxuICBpZiAoIXJvb3QgJiYgIWRpcikge1xuICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlclxuICAgIHJldHVybiAnLic7XG4gIH1cblxuICBpZiAoZGlyKSB7XG4gICAgLy8gSXQgaGFzIGEgZGlybmFtZSwgc3RyaXAgdHJhaWxpbmcgc2xhc2hcbiAgICBkaXIgPSBkaXIuc3Vic3RyKDAsIGRpci5sZW5ndGggLSAxKTtcbiAgfVxuXG4gIHJldHVybiByb290ICsgZGlyO1xufTtcblxuXG5leHBvcnRzLmJhc2VuYW1lID0gZnVuY3Rpb24ocGF0aCwgZXh0KSB7XG4gIHZhciBmID0gc3BsaXRQYXRoKHBhdGgpWzJdO1xuICAvLyBUT0RPOiBtYWtlIHRoaXMgY29tcGFyaXNvbiBjYXNlLWluc2Vuc2l0aXZlIG9uIHdpbmRvd3M/XG4gIGlmIChleHQgJiYgZi5zdWJzdHIoLTEgKiBleHQubGVuZ3RoKSA9PT0gZXh0KSB7XG4gICAgZiA9IGYuc3Vic3RyKDAsIGYubGVuZ3RoIC0gZXh0Lmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGY7XG59O1xuXG5cbmV4cG9ydHMuZXh0bmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aChwYXRoKVszXTtcbn07XG5cbmZ1bmN0aW9uIGZpbHRlciAoeHMsIGYpIHtcbiAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpO1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgLSBuZWdhdGl2ZSBpbmRleCBkb24ndCB3b3JrIGluIElFOFxudmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InXG4gICAgPyBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7IHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pIH1cbiAgICA6IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHtcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7XG4gICAgICAgIHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pO1xuICAgIH1cbjtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMubG9hZGVyID0gZXhwb3J0cy5wcmVwYXJlID0gZXhwb3J0cy5wYXJ0aWNsZXMgPSBleHBvcnRzLm1lc2ggPSBleHBvcnRzLmxvYWRlcnMgPSBleHBvcnRzLmludGVyYWN0aW9uID0gZXhwb3J0cy5maWx0ZXJzID0gZXhwb3J0cy5leHRyYXMgPSBleHBvcnRzLmV4dHJhY3QgPSBleHBvcnRzLmFjY2Vzc2liaWxpdHkgPSB1bmRlZmluZWQ7XG5cbnZhciBfcG9seWZpbGwgPSByZXF1aXJlKCcuL3BvbHlmaWxsJyk7XG5cbk9iamVjdC5rZXlzKF9wb2x5ZmlsbCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3BvbHlmaWxsW2tleV07XG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuL2NvcmUnKTtcblxuT2JqZWN0LmtleXMoX2NvcmUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jb3JlW2tleV07XG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuXG52YXIgX2RlcHJlY2F0aW9uID0gcmVxdWlyZSgnLi9kZXByZWNhdGlvbicpO1xuXG52YXIgX2RlcHJlY2F0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlcHJlY2F0aW9uKTtcblxudmFyIF9hY2Nlc3NpYmlsaXR5ID0gcmVxdWlyZSgnLi9hY2Nlc3NpYmlsaXR5Jyk7XG5cbnZhciBhY2Nlc3NpYmlsaXR5ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2FjY2Vzc2liaWxpdHkpO1xuXG52YXIgX2V4dHJhY3QgPSByZXF1aXJlKCcuL2V4dHJhY3QnKTtcblxudmFyIGV4dHJhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZXh0cmFjdCk7XG5cbnZhciBfZXh0cmFzID0gcmVxdWlyZSgnLi9leHRyYXMnKTtcblxudmFyIGV4dHJhcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9leHRyYXMpO1xuXG52YXIgX2ZpbHRlcnMgPSByZXF1aXJlKCcuL2ZpbHRlcnMnKTtcblxudmFyIGZpbHRlcnMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZmlsdGVycyk7XG5cbnZhciBfaW50ZXJhY3Rpb24gPSByZXF1aXJlKCcuL2ludGVyYWN0aW9uJyk7XG5cbnZhciBpbnRlcmFjdGlvbiA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9pbnRlcmFjdGlvbik7XG5cbnZhciBfbG9hZGVycyA9IHJlcXVpcmUoJy4vbG9hZGVycycpO1xuXG52YXIgbG9hZGVycyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9sb2FkZXJzKTtcblxudmFyIF9tZXNoID0gcmVxdWlyZSgnLi9tZXNoJyk7XG5cbnZhciBtZXNoID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX21lc2gpO1xuXG52YXIgX3BhcnRpY2xlcyA9IHJlcXVpcmUoJy4vcGFydGljbGVzJyk7XG5cbnZhciBwYXJ0aWNsZXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfcGFydGljbGVzKTtcblxudmFyIF9wcmVwYXJlID0gcmVxdWlyZSgnLi9wcmVwYXJlJyk7XG5cbnZhciBwcmVwYXJlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3ByZXBhcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBleHBvcnQgY29yZVxuX2NvcmUudXRpbHMubWl4aW5zLnBlcmZvcm1NaXhpbnMoKTtcblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIFBJWEkubG9hZGVycy5zaGFyZWR9LlxuICogQG5hbWUgbG9hZGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge1BJWEkubG9hZGVyLkxvYWRlcn1cbiAqL1xuXG5cbi8vIGhhbmRsZSBtaXhpbnMgbm93LCBhZnRlciBhbGwgY29kZSBoYXMgYmVlbiBhZGRlZCwgaW5jbHVkaW5nIGRlcHJlY2F0aW9uXG5cblxuLy8gZXhwb3J0IGxpYnNcbi8vIGltcG9ydCBwb2x5ZmlsbHMuIERvbmUgYXMgYW4gZXhwb3J0IHRvIG1ha2Ugc3VyZSBwb2x5ZmlsbHMgYXJlIGltcG9ydGVkIGZpcnN0XG52YXIgbG9hZGVyID0gbG9hZGVycy5zaGFyZWQgfHwgbnVsbDtcblxuZXhwb3J0cy5hY2Nlc3NpYmlsaXR5ID0gYWNjZXNzaWJpbGl0eTtcbmV4cG9ydHMuZXh0cmFjdCA9IGV4dHJhY3Q7XG5leHBvcnRzLmV4dHJhcyA9IGV4dHJhcztcbmV4cG9ydHMuZmlsdGVycyA9IGZpbHRlcnM7XG5leHBvcnRzLmludGVyYWN0aW9uID0gaW50ZXJhY3Rpb247XG5leHBvcnRzLmxvYWRlcnMgPSBsb2FkZXJzO1xuZXhwb3J0cy5tZXNoID0gbWVzaDtcbmV4cG9ydHMucGFydGljbGVzID0gcGFydGljbGVzO1xuZXhwb3J0cy5wcmVwYXJlID0gcHJlcGFyZTtcbmV4cG9ydHMubG9hZGVyID0gbG9hZGVyO1xuXG4vLyBBcHBseSB0aGUgZGVwcmVjYXRpb25zXG5cbmlmICh0eXBlb2YgX2RlcHJlY2F0aW9uMi5kZWZhdWx0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgKDAsIF9kZXByZWNhdGlvbjIuZGVmYXVsdCkoZXhwb3J0cyk7XG59XG5cbi8vIEFsd2F5cyBleHBvcnQgUGl4aUpTIGdsb2JhbGx5LlxuZ2xvYmFsLlBJWEkgPSBleHBvcnRzOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfQmFzZVRleHR1cmUgPSByZXF1aXJlKCcuL0Jhc2VUZXh0dXJlJyk7XG5cbnZhciBfQmFzZVRleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUpO1xuXG52YXIgX1ZpZGVvQmFzZVRleHR1cmUgPSByZXF1aXJlKCcuL1ZpZGVvQmFzZVRleHR1cmUnKTtcblxudmFyIF9WaWRlb0Jhc2VUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZpZGVvQmFzZVRleHR1cmUpO1xuXG52YXIgX1RleHR1cmVVdnMgPSByZXF1aXJlKCcuL1RleHR1cmVVdnMnKTtcblxudmFyIF9UZXh0dXJlVXZzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmVVdnMpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSB0ZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlIG9yIHBhcnQgb2YgYW4gaW1hZ2UuIEl0IGNhbm5vdCBiZSBhZGRlZFxuICogdG8gdGhlIGRpc3BsYXkgbGlzdCBkaXJlY3RseS4gSW5zdGVhZCB1c2UgaXQgYXMgdGhlIHRleHR1cmUgZm9yIGEgU3ByaXRlLiBJZiBubyBmcmFtZSBpcyBwcm92aWRlZFxuICogdGhlbiB0aGUgd2hvbGUgaW1hZ2UgaXMgdXNlZC5cbiAqXG4gKiBZb3UgY2FuIGRpcmVjdGx5IGNyZWF0ZSBhIHRleHR1cmUgZnJvbSBhbiBpbWFnZSBhbmQgdGhlbiByZXVzZSBpdCBtdWx0aXBsZSB0aW1lcyBsaWtlIHRoaXMgOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoJ2Fzc2V0cy9pbWFnZS5wbmcnKTtcbiAqIGxldCBzcHJpdGUxID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogbGV0IHNwcml0ZTIgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUZXh0dXJlcyBtYWRlIGZyb20gU1ZHcywgbG9hZGVkIG9yIG5vdCwgY2Fubm90IGJlIHVzZWQgYmVmb3JlIHRoZSBmaWxlIGZpbmlzaGVzIHByb2Nlc3NpbmcuXG4gKiBZb3UgY2FuIGNoZWNrIGZvciB0aGlzIGJ5IGNoZWNraW5nIHRoZSBzcHJpdGUncyBfdGV4dHVyZUlEIHByb3BlcnR5LlxuICogYGBganNcbiAqIHZhciB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb21JbWFnZSgnYXNzZXRzL2ltYWdlLnN2ZycpO1xuICogdmFyIHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiAvL3Nwcml0ZTEuX3RleHR1cmVJRCBzaG91bGQgbm90IGJlIHVuZGVmaW5lZCBpZiB0aGUgdGV4dHVyZSBoYXMgZmluaXNoZWQgcHJvY2Vzc2luZyB0aGUgU1ZHIGZpbGVcbiAqIGBgYFxuICogWW91IGNhbiB1c2UgYSB0aWNrZXIgb3IgckFGIHRvIGVuc3VyZSB5b3VyIHNwcml0ZXMgbG9hZCB0aGUgZmluaXNoZWQgdGV4dHVyZXMgYWZ0ZXIgcHJvY2Vzc2luZy4gU2VlIGlzc3VlICMzMDY4LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZSA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gICAgX2luaGVyaXRzKFRleHR1cmUsIF9FdmVudEVtaXR0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUgc291cmNlIHRvIGNyZWF0ZSB0aGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2ZyYW1lXSAtIFRoZSByZWN0YW5nbGUgZnJhbWUgb2YgdGhlIHRleHR1cmUgdG8gc2hvd1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtvcmlnXSAtIFRoZSBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbdHJpbV0gLSBUcmltbWVkIHJlY3RhbmdsZSBvZiBvcmlnaW5hbCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGVdIC0gaW5kaWNhdGVzIGhvdyB0aGUgdGV4dHVyZSB3YXMgcm90YXRlZCBieSB0ZXh0dXJlIHBhY2tlci4gU2VlIHtAbGluayBQSVhJLkdyb3VwRDh9XG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbYW5jaG9yXSAtIERlZmF1bHQgYW5jaG9yIHBvaW50IHVzZWQgZm9yIHNwcml0ZSBwbGFjZW1lbnQgLyByb3RhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmUoYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCByb3RhdGUsIGFuY2hvcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhpcyBUZXh0dXJlIGhhdmUgYW55IGZyYW1lIGRhdGEgYXNzaWduZWQgdG8gaXQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRFbWl0dGVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLm5vRnJhbWUgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIWZyYW1lKSB7XG4gICAgICAgICAgICBfdGhpcy5ub0ZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZyYW1lID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiYXNlVGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiB0aGUgQmFzZVRleHR1cmUgaW1hZ2UgdG8gYWN0dWFsbHkgY29weSB0byB0aGUgQ2FudmFzIC8gV2ViR0wgd2hlbiByZW5kZXJpbmcsXG4gICAgICAgICAqIGlycmVzcGVjdGl2ZSBvZiB0aGUgYWN0dWFsIGZyYW1lIHNpemUgb3IgcGxhY2VtZW50ICh3aGljaCBjYW4gYmUgaW5mbHVlbmNlZCBieSB0cmltbWVkIHRleHR1cmUgYXRsYXNlcylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZnJhbWUgPSBmcmFtZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgdHJpbW1lZCBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmUsIGJlZm9yZSBpdCB3YXMgcHV0IGluIGF0bGFzXG4gICAgICAgICAqIFBsZWFzZSBjYWxsIGBfdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYHRyaW1gIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyaW0gPSB0cmltO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgYSByZW5kZXJlciBrbm93IHRoYXQgYSB0ZXh0dXJlIGhhcyBiZWVuIHVwZGF0ZWQgKHVzZWQgbWFpbmx5IGZvciB3ZWJHTCB1diB1cGRhdGVzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVxdWlyZXNVcGRhdGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIFVWIGRhdGEgY2FjaGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZVV2c31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91dnMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmUsIGJlZm9yZSBpdCB3YXMgcHV0IGluIGF0bGFzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZyA9IG9yaWcgfHwgZnJhbWU7IC8vIG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG5cbiAgICAgICAgX3RoaXMuX3JvdGF0ZSA9IE51bWJlcihyb3RhdGUgfHwgMCk7XG5cbiAgICAgICAgaWYgKHJvdGF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBvbGQgdGV4dHVyZXBhY2tlciBsZWdhY3ksIHNvbWUgZ2FtZXMvbGlicmFyaWVzIGFyZSBwYXNzaW5nIFwidHJ1ZVwiIGZvciByb3RhdGVkIHRleHR1cmVzXG4gICAgICAgICAgICBfdGhpcy5fcm90YXRlID0gMjtcbiAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5fcm90YXRlICUgMiAhPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhdHRlbXB0IHRvIHVzZSBkaWFtb25kLXNoYXBlZCBVVnMuIElmIHlvdSBhcmUgc3VyZSwgc2V0IHJvdGF0aW9uIG1hbnVhbGx5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmFzZVRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMubm9GcmFtZSkge1xuICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgwLCAwLCBiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGZyYW1lIHdlIHNob3VsZCBtb25pdG9yIGZvciBhbnkgYmFzZSB0ZXh0dXJlIGNoYW5nZXMuLlxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLm9uKCd1cGRhdGUnLCBfdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLm9uY2UoJ2xvYWRlZCcsIF90aGlzLm9uQmFzZVRleHR1cmVMb2FkZWQsIF90aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbmNob3IgcG9pbnQgdGhhdCBpcyB1c2VkIGFzIGRlZmF1bHQgaWYgc3ByaXRlIGlzIGNyZWF0ZWQgd2l0aCB0aGlzIHRleHR1cmUuXG4gICAgICAgICAqIENoYW5naW5nIHRoZSBgZGVmYXVsdEFuY2hvcmAgYXQgYSBsYXRlciBwb2ludCBvZiB0aW1lIHdpbGwgbm90IHVwZGF0ZSBTcHJpdGUncyBhbmNob3IgcG9pbnQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqIEBkZWZhdWx0IHswLDB9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWZhdWx0QW5jaG9yID0gYW5jaG9yID8gbmV3IF9tYXRoLlBvaW50KGFuY2hvci54LCBhbmNob3IueSkgOiBuZXcgX21hdGguUG9pbnQoMCwgMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIHRleHR1cmUgaXMgdXBkYXRlZC4gVGhpcyBoYXBwZW5zIGlmIHRoZSBmcmFtZSBvciB0aGUgYmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuVGV4dHVyZSN1cGRhdGVcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgdXBkYXRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgX3RoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udGFpbnMgZGF0YSBmb3IgdXZzLiBNYXkgY29udGFpbiBjbGFtcCBzZXR0aW5ncyBhbmQgc29tZSBtYXRyaWNlcy5cbiAgICAgICAgICogSXRzIGEgYml0IGhlYXZ5LCBzbyBieSBkZWZhdWx0IHRoYXQgb2JqZWN0IGlzIG5vdCBjcmVhdGVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpZHMgdW5kZXIgd2hpY2ggdGhpcyBUZXh0dXJlIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSB0ZXh0dXJlIGNhY2hlLiBUaGlzIGlzXG4gICAgICAgICAqIGF1dG9tYXRpY2FsbHkgc2V0IGFzIGxvbmcgYXMgVGV4dHVyZS5hZGRUb0NhY2hlIGlzIHVzZWQsIGJ1dCBtYXkgbm90IGJlIHNldCBpZiBhXG4gICAgICAgICAqIFRleHR1cmUgaXMgYWRkZWQgZGlyZWN0bHkgdG8gdGhlIFRleHR1cmVDYWNoZSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhpcyB0ZXh0dXJlIG9uIHRoZSBncHUuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYmFzZSB0ZXh0dXJlIGlzIGxvYWRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5wcm90b3R5cGUub25CYXNlVGV4dHVyZUxvYWRlZCA9IGZ1bmN0aW9uIG9uQmFzZVRleHR1cmVMb2FkZWQoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcblxuICAgICAgICAvLyBUT0RPIHRoaXMgY29kZSBsb29rcyBjb25mdXNpbmcuLiBib28gdG8gYWJ1c2luZyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIVxuICAgICAgICBpZiAodGhpcy5ub0ZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgwLCAwLCBiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLl9mcmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUub24oJ3VwZGF0ZScsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYmFzZSB0ZXh0dXJlIGlzIHVwZGF0ZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIFRleHR1cmUucHJvdG90eXBlLm9uQmFzZVRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gb25CYXNlVGV4dHVyZVVwZGF0ZWQoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcblxuICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95QmFzZT1mYWxzZV0gV2hldGhlciB0byBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgYXMgd2VsbFxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShkZXN0cm95QmFzZSkge1xuICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgaWYgKGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIHRoZSB0ZXh0dXJlIGlmIGl0IGV4aXN0cyBpbiB0aGUgdGV4dHVyZSBjYWNoZS4uXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBvbmx5IG5lZWRzIHRvIGJlIHJlbW92ZWQgaWYgdGhlIGJhc2UgdGV4dHVyZSBpcyBhY3R1YWxseSBkZXN0cm95ZWQgdG9vLi5cbiAgICAgICAgICAgICAgICBpZiAoX3V0aWxzLlRleHR1cmVDYWNoZVt0aGlzLmJhc2VUZXh0dXJlLmltYWdlVXJsXSkge1xuICAgICAgICAgICAgICAgICAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLmJhc2VUZXh0dXJlLmltYWdlVXJsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vZmYoJ2xvYWRlZCcsIHRoaXMub25CYXNlVGV4dHVyZUxvYWRlZCwgdGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZnJhbWUgPSBudWxsO1xuICAgICAgICB0aGlzLl91dnMgPSBudWxsO1xuICAgICAgICB0aGlzLnRyaW0gPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWcgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZTtcblxuICAgICAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRleHR1cmUgb2JqZWN0IHRoYXQgYWN0cyB0aGUgc2FtZSBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ldyB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZSh0aGlzLmJhc2VUZXh0dXJlLCB0aGlzLmZyYW1lLCB0aGlzLm9yaWcsIHRoaXMudHJpbSwgdGhpcy5yb3RhdGUsIHRoaXMuZGVmYXVsdEFuY2hvcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGludGVybmFsIFdlYkdMIFVWIGNhY2hlLiBVc2UgaXQgYWZ0ZXIgeW91IGNoYW5nZSBgZnJhbWVgIG9yIGB0cmltYCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuX3VwZGF0ZVV2cyA9IGZ1bmN0aW9uIF91cGRhdGVVdnMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fdXZzKSB7XG4gICAgICAgICAgICB0aGlzLl91dnMgPSBuZXcgX1RleHR1cmVVdnMyLmRlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3V2cy5zZXQodGhpcy5fZnJhbWUsIHRoaXMuYmFzZVRleHR1cmUsIHRoaXMucm90YXRlKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgVGV4dHVyZSBvYmplY3QgZnJvbSB0aGUgZ2l2ZW4gaW1hZ2UgdXJsLlxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSAgY3JlYXRlZCBhbmQgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZVVybCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcm9zc29yaWdpbl0gLSBXaGV0aGVyIHJlcXVlc3RzIHNob3VsZCBiZSB0cmVhdGVkIGFzIGNyb3Nzb3JpZ2luXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc291cmNlU2NhbGU9KGF1dG8pXSAtIFNjYWxlIGZvciB0aGUgb3JpZ2luYWwgaW1hZ2UsIHVzZWQgd2l0aCBTVkcgaW1hZ2VzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb21JbWFnZSA9IGZ1bmN0aW9uIGZyb21JbWFnZShpbWFnZVVybCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSwgc291cmNlU2NhbGUpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBfdXRpbHMuVGV4dHVyZUNhY2hlW2ltYWdlVXJsXTtcblxuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmUgPSBuZXcgVGV4dHVyZShfQmFzZVRleHR1cmUyLmRlZmF1bHQuZnJvbUltYWdlKGltYWdlVXJsLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzb3VyY2VTY2FsZSkpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgc3ByaXRlIHRoYXQgd2lsbCBjb250YWluIGEgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlQ2FjaGUgYmFzZWQgb24gdGhlIGZyYW1lSWRcbiAgICAgKiBUaGUgZnJhbWUgaWRzIGFyZSBjcmVhdGVkIHdoZW4gYSBUZXh0dXJlIHBhY2tlciBmaWxlIGhhcyBiZWVuIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFtZUlkIC0gVGhlIGZyYW1lIElkIG9mIHRoZSB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb21GcmFtZSA9IGZ1bmN0aW9uIGZyb21GcmFtZShmcmFtZUlkKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gX3V0aWxzLlRleHR1cmVDYWNoZVtmcmFtZUlkXTtcblxuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGZyYW1lSWQgXCInICsgZnJhbWVJZCArICdcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGUgdGV4dHVyZSBjYWNoZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgZ2l2ZW4gY2FudmFzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gVGhlIGNhbnZhcyBlbGVtZW50IHNvdXJjZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29yaWdpbj0nY2FudmFzJ10gLSBBIHN0cmluZyBvcmlnaW4gb2Ygd2hvIGNyZWF0ZWQgdGhlIGJhc2UgdGV4dHVyZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb21DYW52YXMgPSBmdW5jdGlvbiBmcm9tQ2FudmFzKGNhbnZhcywgc2NhbGVNb2RlKSB7XG4gICAgICAgIHZhciBvcmlnaW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdjYW52YXMnO1xuXG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShfQmFzZVRleHR1cmUyLmRlZmF1bHQuZnJvbUNhbnZhcyhjYW52YXMsIHNjYWxlTW9kZSwgb3JpZ2luKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgZ2l2ZW4gdmlkZW8gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxWaWRlb0VsZW1lbnR8c3RyaW5nfSB2aWRlbyAtIFRoZSBVUkwgb3IgYWN0dWFsIGVsZW1lbnQgb2YgdGhlIHZpZGVvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Nyb3Nzb3JpZ2luPShhdXRvKV0gLSBTaG91bGQgdXNlIGFub255bW91cyBDT1JTPyBEZWZhdWx0cyB0byB0cnVlIGlmIHRoZSBVUkwgaXMgbm90IGEgZGF0YS1VUkkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1BsYXk9dHJ1ZV0gLSBTdGFydCBwbGF5aW5nIHZpZGVvIGFzIHNvb24gYXMgaXQgaXMgbG9hZGVkXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuZnJvbVZpZGVvID0gZnVuY3Rpb24gZnJvbVZpZGVvKHZpZGVvLCBzY2FsZU1vZGUsIGNyb3Nzb3JpZ2luLCBhdXRvUGxheSkge1xuICAgICAgICBpZiAodHlwZW9mIHZpZGVvID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIFRleHR1cmUuZnJvbVZpZGVvVXJsKHZpZGVvLCBzY2FsZU1vZGUsIGNyb3Nzb3JpZ2luLCBhdXRvUGxheSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoX1ZpZGVvQmFzZVRleHR1cmUyLmRlZmF1bHQuZnJvbVZpZGVvKHZpZGVvLCBzY2FsZU1vZGUsIGF1dG9QbGF5KSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgdmlkZW8gdXJsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2aWRlb1VybCAtIFVSTCBvZiB0aGUgdmlkZW9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3Jvc3NvcmlnaW49KGF1dG8pXSAtIFNob3VsZCB1c2UgYW5vbnltb3VzIENPUlM/IERlZmF1bHRzIHRvIHRydWUgaWYgdGhlIFVSTCBpcyBub3QgYSBkYXRhLVVSSS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvUGxheT10cnVlXSAtIFN0YXJ0IHBsYXlpbmcgdmlkZW8gYXMgc29vbiBhcyBpdCBpcyBsb2FkZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tVmlkZW9VcmwgPSBmdW5jdGlvbiBmcm9tVmlkZW9VcmwodmlkZW9VcmwsIHNjYWxlTW9kZSwgY3Jvc3NvcmlnaW4sIGF1dG9QbGF5KSB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShfVmlkZW9CYXNlVGV4dHVyZTIuZGVmYXVsdC5mcm9tVXJsKHZpZGVvVXJsLCBzY2FsZU1vZGUsIGNyb3Nzb3JpZ2luLCBhdXRvUGxheSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IFRleHR1cmUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiAgICAgICAgc291cmNlIC0gU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gZnJvbShzb3VyY2UpIHtcbiAgICAgICAgLy8gVE9ETyBhdXRvIGRldGVjdCBjcm9zcyBvcmlnaW4uLlxuICAgICAgICAvLyBUT0RPIHBhc3MgaW4gc2NhbGUgbW9kZT9cbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IF91dGlscy5UZXh0dXJlQ2FjaGVbc291cmNlXTtcblxuICAgICAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgaXRzIGEgdmlkZW8uLlxuICAgICAgICAgICAgICAgIHZhciBpc1ZpZGVvID0gc291cmNlLm1hdGNoKC9cXC4obXA0fHdlYm18b2dnfGgyNjR8YXZpfG1vdikkLykgIT09IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNWaWRlbykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tVmlkZW9Vcmwoc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tSW1hZ2Uoc291cmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5mcm9tKHNvdXJjZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tQ2FudmFzKHNvdXJjZSwgX3NldHRpbmdzMi5kZWZhdWx0LlNDQUxFX01PREUsICdIVE1MQ2FudmFzRWxlbWVudCcpO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0dXJlLmZyb21WaWRlbyhzb3VyY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIF9CYXNlVGV4dHVyZTIuZGVmYXVsdCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKHNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXRzIGFzc3VtZSBpdHMgYSB0ZXh0dXJlIVxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0ZXh0dXJlIGZyb20gYSBzb3VyY2UgYW5kIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSBUaGUgaW5wdXQgc291cmNlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpbWFnZVVybCAtIEZpbGUgbmFtZSBvZiB0ZXh0dXJlLCBmb3IgY2FjaGUgYW5kIHJlc29sdmluZyByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZV0gLSBIdW1hbiByZWFkaWJsZSBuYW1lIGZvciB0aGUgdGV4dHVyZSBjYWNoZS4gSWYgbm8gbmFtZSBpc1xuICAgICAqICAgICAgICBzcGVjaWZpZWQsIG9ubHkgYGltYWdlVXJsYCB3aWxsIGJlIHVzZWQgYXMgdGhlIGNhY2hlIElELlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gT3V0cHV0IHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tTG9hZGVyID0gZnVuY3Rpb24gZnJvbUxvYWRlcihzb3VyY2UsIGltYWdlVXJsLCBuYW1lKSB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IG5ldyBfQmFzZVRleHR1cmUyLmRlZmF1bHQoc291cmNlLCB1bmRlZmluZWQsICgwLCBfdXRpbHMuZ2V0UmVzb2x1dGlvbk9mVXJsKShpbWFnZVVybCkpO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICBiYXNlVGV4dHVyZS5pbWFnZVVybCA9IGltYWdlVXJsO1xuXG4gICAgICAgIC8vIE5vIG5hbWUsIHVzZSBpbWFnZVVybCBpbnN0ZWFkXG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IGltYWdlVXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0cyBhbHNvIGFkZCB0aGUgZnJhbWUgdG8gcGl4aSdzIGdsb2JhbCBjYWNoZSBmb3IgZnJvbUZyYW1lIGFuZCBmcm9tSW1hZ2UgZnVjbnRpb25zXG4gICAgICAgIF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIG5hbWUpO1xuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgbmFtZSk7XG5cbiAgICAgICAgLy8gYWxzbyBhZGQgcmVmZXJlbmNlcyBieSB1cmwgaWYgdGhleSBhcmUgZGlmZmVyZW50LlxuICAgICAgICBpZiAobmFtZSAhPT0gaW1hZ2VVcmwpIHtcbiAgICAgICAgICAgIF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIFRleHR1cmUgdG8gdGhlIGdsb2JhbCBUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBUZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuYWRkVG9DYWNoZSA9IGZ1bmN0aW9uIGFkZFRvQ2FjaGUodGV4dHVyZSwgaWQpIHtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBpZiAodGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEBpZiBERUJVR1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgaWYgKF91dGlscy5UZXh0dXJlQ2FjaGVbaWRdKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFsnICsgaWQgKyAnXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIC8vIEBlbmRpZlxuXG4gICAgICAgICAgICBfdXRpbHMuVGV4dHVyZUNhY2hlW2lkXSA9IHRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIGlkIG9mIGEgVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIFRleHR1cmUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfG51bGx9IFRoZSBUZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiByZW1vdmVGcm9tQ2FjaGUodGV4dHVyZSkge1xuICAgICAgICBpZiAodHlwZW9mIHRleHR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUZyb21DYWNoZSA9IF91dGlscy5UZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlRnJvbUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZih0ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsZXRlIF91dGlscy5UZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0dXJlICYmIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0ZXh0dXJlIG1hdGNoZXMgdGhlIG9uZSBiZWluZyBwYXNzZWQgaW4gYmVmb3JlIGRlbGV0aW5nIGl0IGZyb20gdGhlIGNhY2hlLlxuICAgICAgICAgICAgICAgIGlmIChfdXRpbHMuVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgX3V0aWxzLlRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWUgc3BlY2lmaWVzIHRoZSByZWdpb24gb2YgdGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAqIFBsZWFzZSBjYWxsIGBfdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYGZyYW1lYCBtYW51YWxseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoVGV4dHVyZSwgW3tcbiAgICAgICAga2V5OiAnZnJhbWUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZnJhbWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZSA9IGZyYW1lO1xuXG4gICAgICAgICAgICB0aGlzLm5vRnJhbWUgPSBmYWxzZTtcblxuICAgICAgICAgICAgdmFyIHggPSBmcmFtZS54LFxuICAgICAgICAgICAgICAgIHkgPSBmcmFtZS55LFxuICAgICAgICAgICAgICAgIHdpZHRoID0gZnJhbWUud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgICAgICB2YXIgeE5vdEZpdCA9IHggKyB3aWR0aCA+IHRoaXMuYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICB2YXIgeU5vdEZpdCA9IHkgKyBoZWlnaHQgPiB0aGlzLmJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICAgICAgaWYgKHhOb3RGaXQgfHwgeU5vdEZpdCkge1xuICAgICAgICAgICAgICAgIHZhciByZWxhdGlvbnNoaXAgPSB4Tm90Rml0ICYmIHlOb3RGaXQgPyAnYW5kJyA6ICdvcic7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yWCA9ICdYOiAnICsgeCArICcgKyAnICsgd2lkdGggKyAnID0gJyArICh4ICsgd2lkdGgpICsgJyA+ICcgKyB0aGlzLmJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvclkgPSAnWTogJyArIHkgKyAnICsgJyArIGhlaWdodCArICcgPSAnICsgKHkgKyBoZWlnaHQpICsgJyA+ICcgKyB0aGlzLmJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGV4dHVyZSBFcnJvcjogZnJhbWUgZG9lcyBub3QgZml0IGluc2lkZSB0aGUgYmFzZSBUZXh0dXJlIGRpbWVuc2lvbnM6ICcgKyAoZXJyb3JYICsgJyAnICsgcmVsYXRpb25zaGlwICsgJyAnICsgZXJyb3JZKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRoaXMudmFsaWQgPSB3aWR0aCAmJiBoZWlnaHQgJiYgdGhpcy5iYXNlVGV4dHVyZS5zb3VyY2UgJiYgdGhpcy5iYXNlVGV4dHVyZS5oYXNMb2FkZWQ7XG4gICAgICAgICAgICB0aGlzLnZhbGlkID0gd2lkdGggJiYgaGVpZ2h0ICYmIHRoaXMuYmFzZVRleHR1cmUuaGFzTG9hZGVkO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMudHJpbSAmJiAhdGhpcy5yb3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWcgPSBmcmFtZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVVdnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdGV4dHVyZSBpcyByb3RhdGVkIGluc2lkZSB0aGUgYXRsYXNcbiAgICAgICAgICogc2V0IHRvIDIgdG8gY29tcGVuc2F0ZSBmb3IgdGV4dHVyZSBwYWNrZXIgcm90YXRpb25cbiAgICAgICAgICogc2V0IHRvIDYgdG8gY29tcGVuc2F0ZSBmb3Igc3BpbmUgcGFja2VyIHJvdGF0aW9uXG4gICAgICAgICAqIGNhbiBiZSB1c2VkIHRvIHJvdGF0ZSBvciBtaXJyb3Igc3ByaXRlc1xuICAgICAgICAgKiBTZWUge0BsaW5rIFBJWEkuR3JvdXBEOH0gZm9yIGV4cGxhbmF0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JvdGF0ZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQocm90YXRlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcm90YXRlID0gcm90YXRlO1xuICAgICAgICAgICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVVdnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd3aWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZy53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0dXJlIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcmlnLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUZXh0dXJlO1xufShfZXZlbnRlbWl0dGVyMi5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dHVyZTtcblxuXG5mdW5jdGlvbiBjcmVhdGVXaGl0ZVRleHR1cmUoKSB7XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgY2FudmFzLndpZHRoID0gMTA7XG4gICAgY2FudmFzLmhlaWdodCA9IDEwO1xuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIDEwLCAxMCk7XG5cbiAgICByZXR1cm4gbmV3IFRleHR1cmUobmV3IF9CYXNlVGV4dHVyZTIuZGVmYXVsdChjYW52YXMpKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQWxsSGFuZGxlcnModGV4KSB7XG4gICAgdGV4LmRlc3Ryb3kgPSBmdW5jdGlvbiBfZW1wdHlEZXN0cm95KCkgey8qIGVtcHR5ICovfTtcbiAgICB0ZXgub24gPSBmdW5jdGlvbiBfZW1wdHlPbigpIHsvKiBlbXB0eSAqL307XG4gICAgdGV4Lm9uY2UgPSBmdW5jdGlvbiBfZW1wdHlPbmNlKCkgey8qIGVtcHR5ICovfTtcbiAgICB0ZXguZW1pdCA9IGZ1bmN0aW9uIF9lbXB0eUVtaXQoKSB7LyogZW1wdHkgKi99O1xufVxuXG4vKipcbiAqIEFuIGVtcHR5IHRleHR1cmUsIHVzZWQgb2Z0ZW4gdG8gbm90IGhhdmUgdG8gY3JlYXRlIG11bHRpcGxlIGVtcHR5IHRleHR1cmVzLlxuICogQ2FuIG5vdCBiZSBkZXN0cm95ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKi9cblRleHR1cmUuRU1QVFkgPSBuZXcgVGV4dHVyZShuZXcgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0KCkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZLmJhc2VUZXh0dXJlKTtcblxuLyoqXG4gKiBBIHdoaXRlIHRleHR1cmUgb2YgMTB4MTAgc2l6ZSwgdXNlZCBmb3IgZ3JhcGhpY3MgYW5kIG90aGVyIHRoaW5nc1xuICogQ2FuIG5vdCBiZSBkZXN0cm95ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKi9cblRleHR1cmUuV0hJVEUgPSBjcmVhdGVXaGl0ZVRleHR1cmUoKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5XSElURS5iYXNlVGV4dHVyZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7TWl4ZWR9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtCb29sZWFufSBleGlzdHMgT25seSBjaGVjayBpZiB0aGVyZSBhcmUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0FycmF5fEJvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCwgZXhpc3RzKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBhdmFpbGFibGUgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoZXhpc3RzKSByZXR1cm4gISFhdmFpbGFibGU7XG4gIGlmICghYXZhaWxhYmxlKSByZXR1cm4gW107XG4gIGlmIChhdmFpbGFibGUuZm4pIHJldHVybiBbYXZhaWxhYmxlLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGF2YWlsYWJsZS5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBhdmFpbGFibGVbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7TWl4ZWR9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IHRoaXMpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHRoaXMuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIHRoaXMuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XS5mbikgdGhpcy5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgdGhpcy5fZXZlbnRzW2V2dF0gPSBbdGhpcy5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7TWl4ZWR9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCB0aGlzLCB0cnVlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCB0aGlzLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghdGhpcy5fZXZlbnRzW2V2dF0uZm4pIHRoaXMuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIHRoaXMuX2V2ZW50c1tldnRdID0gW3RoaXMuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgZWxzZSBkZWxldGUgdGhpcy5fZXZlbnRzW2V2dF07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm5cbiAgICAgICYmICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSlcbiAgICAgICYmICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmblxuICAgICAgICB8fCAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpXG4gICAgICAgIHx8IChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSB7XG4gICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgICAgZWxzZSBkZWxldGUgdGhpcy5fZXZlbnRzW2V2dF07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gVGhpcyBmdW5jdGlvbiBkb2Vzbid0IGFwcGx5IGFueW1vcmUuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsIi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2RlYnVnJyk7XG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZVxuICAgICAgICAgICAgICAgJiYgJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZS5zdG9yYWdlXG4gICAgICAgICAgICAgICAgICA/IGNocm9tZS5zdG9yYWdlLmxvY2FsXG4gICAgICAgICAgICAgICAgICA6IGxvY2Fsc3RvcmFnZSgpO1xuXG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFtcbiAgJ2xpZ2h0c2VhZ3JlZW4nLFxuICAnZm9yZXN0Z3JlZW4nLFxuICAnZ29sZGVucm9kJyxcbiAgJ2RvZGdlcmJsdWUnLFxuICAnZGFya29yY2hpZCcsXG4gICdjcmltc29uJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG4gIC8vIE5COiBJbiBhbiBFbGVjdHJvbiBwcmVsb2FkIHNjcmlwdCwgZG9jdW1lbnQgd2lsbCBiZSBkZWZpbmVkIGJ1dCBub3QgZnVsbHlcbiAgLy8gaW5pdGlhbGl6ZWQuIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gQ2hyb21lLCB3ZSdsbCBqdXN0IGRldGVjdCB0aGlzIGNhc2VcbiAgLy8gZXhwbGljaXRseVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3MgJiYgd2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gaXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcbiAgLy8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcbiAgcmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UpIHx8XG4gICAgLy8gaXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuICAgICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCAod2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSkpIHx8XG4gICAgLy8gaXMgZmlyZWZveCA+PSB2MzE/XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzXG4gICAgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEpIHx8XG4gICAgLy8gZG91YmxlIGNoZWNrIHdlYmtpdCBpbiB1c2VyQWdlbnQganVzdCBpbiBjYXNlIHdlIGFyZSBpbiBhIHdvcmtlclxuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKSk7XG59XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmV4cG9ydHMuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24odikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVyci5tZXNzYWdlO1xuICB9XG59O1xuXG5cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG4gIHZhciB1c2VDb2xvcnMgPSB0aGlzLnVzZUNvbG9ycztcblxuICBhcmdzWzBdID0gKHVzZUNvbG9ycyA/ICclYycgOiAnJylcbiAgICArIHRoaXMubmFtZXNwYWNlXG4gICAgKyAodXNlQ29sb3JzID8gJyAlYycgOiAnICcpXG4gICAgKyBhcmdzWzBdXG4gICAgKyAodXNlQ29sb3JzID8gJyVjICcgOiAnICcpXG4gICAgKyAnKycgKyBleHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cbiAgaWYgKCF1c2VDb2xvcnMpIHJldHVybjtcblxuICB2YXIgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG4gIGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpXG5cbiAgLy8gdGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcbiAgLy8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuICAvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxhc3RDID0gMDtcbiAgYXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgaWYgKCclJScgPT09IG1hdGNoKSByZXR1cm47XG4gICAgaW5kZXgrKztcbiAgICBpZiAoJyVjJyA9PT0gbWF0Y2gpIHtcbiAgICAgIC8vIHdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuICAgICAgLy8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcbiAgICAgIGxhc3RDID0gaW5kZXg7XG4gICAgfVxuICB9KTtcblxuICBhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5sb2coKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmxvZ2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbG9nKCkge1xuICAvLyB0aGlzIGhhY2tlcnkgaXMgcmVxdWlyZWQgZm9yIElFOC85LCB3aGVyZVxuICAvLyB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgJ2FwcGx5J1xuICByZXR1cm4gJ29iamVjdCcgPT09IHR5cGVvZiBjb25zb2xlXG4gICAgJiYgY29uc29sZS5sb2dcbiAgICAmJiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZywgY29uc29sZSwgYXJndW1lbnRzKTtcbn1cblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG4gIHRyeSB7XG4gICAgaWYgKG51bGwgPT0gbmFtZXNwYWNlcykge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZyA9IG5hbWVzcGFjZXM7XG4gICAgfVxuICB9IGNhdGNoKGUpIHt9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9hZCgpIHtcbiAgdmFyIHI7XG4gIHRyeSB7XG4gICAgciA9IGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZztcbiAgfSBjYXRjaChlKSB7fVxuXG4gIC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcbiAgaWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG4gICAgciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuICB9XG5cbiAgcmV0dXJuIHI7XG59XG5cbi8qKlxuICogRW5hYmxlIG5hbWVzcGFjZXMgbGlzdGVkIGluIGBsb2NhbFN0b3JhZ2UuZGVidWdgIGluaXRpYWxseS5cbiAqL1xuXG5leHBvcnRzLmVuYWJsZShsb2FkKCkpO1xuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgfSBjYXRjaCAoZSkge31cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9ldmVudGVtaXR0ZXIgPSByZXF1aXJlKCdldmVudGVtaXR0ZXIzJyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50ZW1pdHRlcik7XG5cbnZhciBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4gPSByZXF1aXJlKCcuLi91dGlscy9kZXRlcm1pbmVDcm9zc09yaWdpbicpO1xuXG52YXIgX2RldGVybWluZUNyb3NzT3JpZ2luMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RldGVybWluZUNyb3NzT3JpZ2luKTtcblxudmFyIF9iaXRUd2lkZGxlID0gcmVxdWlyZSgnYml0LXR3aWRkbGUnKTtcblxudmFyIF9iaXRUd2lkZGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpdFR3aWRkbGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSB0ZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlLiBBbGwgdGV4dHVyZXMgaGF2ZSBhIGJhc2UgdGV4dHVyZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhc2VUZXh0dXJlID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQmFzZVRleHR1cmUsIF9FdmVudEVtaXR0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBbc291cmNlXSAtIHRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VUZXh0dXJlKHNvdXJjZSwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50RW1pdHRlci5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy51aWQgPSAoMCwgX3V0aWxzLnVpZCkoKTtcblxuICAgICAgICBfdGhpcy50b3VjaGVkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVTT0xVVElPTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndpZHRoID0gMTAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhlaWdodCA9IDEwMDtcblxuICAgICAgICAvLyBUT0RPIGRvY3NcbiAgICAgICAgLy8gdXNlZCB0byBzdG9yZSB0aGUgYWN0dWFsIGRpbWVuc2lvbnMgb2YgdGhlIHNvdXJjZVxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBzdG9yZSB0aGUgYWN0dWFsIHdpZHRoIG9mIHRoZSBzb3VyY2Ugb2YgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZWFsV2lkdGggPSAxMDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIHN0b3JlIHRoZSBhY3R1YWwgaGVpZ2h0IG9mIHRoZSBzb3VyY2Ugb2YgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZWFsSGVpZ2h0ID0gMTAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgbW9kZSB0byBhcHBseSB3aGVuIHNjYWxpbmcgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXG4gICAgICAgICAqIEBzZWUgUElYSS5TQ0FMRV9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgPyBzY2FsZU1vZGUgOiBfc2V0dGluZ3MyLmRlZmF1bHQuU0NBTEVfTU9ERTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRvIHRydWUgb25jZSB0aGUgYmFzZSB0ZXh0dXJlIGhhcyBzdWNjZXNzZnVsbHkgbG9hZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIG5ldmVyIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGZhaWxzIHRvIGxvYWQgb3IgaGFzIG5vIHRleHR1cmUgZGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oYXNMb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRvIHRydWUgaWYgdGhlIHNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogSWYgYW4gSW1hZ2Ugc291cmNlIGlzIGxvYWRpbmcgdGhlICdsb2FkZWQnIG9yICdlcnJvcicgZXZlbnQgd2lsbCBiZVxuICAgICAgICAgKiBkaXNwYXRjaGVkIHdoZW4gdGhlIG9wZXJhdGlvbiBlbmRzLiBBbiB1bmRlcnlsaW5nIHNvdXJjZSB0aGF0IGlzXG4gICAgICAgICAqIGltbWVkaWF0ZWx5LWF2YWlsYWJsZSBieXBhc3NlcyBsb2FkaW5nIGVudGlyZWx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW1hZ2Ugc291cmNlIHRoYXQgaXMgdXNlZCB0byBjcmVhdGUgdGhlIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRPRE86IE1ha2UgdGhpcyBhIHNldHRlciB0aGF0IGNhbGxzIGxvYWRTb3VyY2UoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBudWxsOyAvLyBzZXQgaW4gbG9hZFNvdXJjZSwgaWYgYXQgYWxsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbWFnZSBzb3VyY2UgdGhhdCBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgdGV4dHVyZS4gVGhpcyBpcyB1c2VkIHRvXG4gICAgICAgICAqIHN0b3JlIHRoZSBvcmlnaW5hbCBTdmcgc291cmNlIHdoZW4gaXQgaXMgcmVwbGFjZWQgd2l0aCBhIGNhbnZhcyBlbGVtZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUT0RPOiBDdXJyZW50bHkgbm90IGluIHVzZSBidXQgY291bGQgYmUgdXNlZCB3aGVuIHJlLXNjYWxpbmcgc3ZnLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7SW1hZ2V9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcmlnU291cmNlID0gbnVsbDsgLy8gc2V0IGluIGxvYWRTdmcsIGlmIGF0IGFsbFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIG9mIGltYWdlIGRlZmluZWQgaW4gc291cmNlLCBlZy4gYHBuZ2Agb3IgYHN2Z2BcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlVHlwZSA9IG51bGw7IC8vIHNldCBpbiB1cGRhdGVJbWFnZVR5cGVcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGUgZm9yIHNvdXJjZSBpbWFnZS4gVXNlZCB3aXRoIFN2ZyBpbWFnZXMgdG8gc2NhbGUgdGhlbSBiZWZvcmUgcmFzdGVyaXphdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvdXJjZVNjYWxlID0gMS4wO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb250cm9scyBpZiBSR0IgY2hhbm5lbHMgc2hvdWxkIGJlIHByZS1tdWx0aXBsaWVkIGJ5IEFscGhhICAoV2ViR0wgb25seSlcbiAgICAgICAgICogQWxsIGJsZW5kIG1vZGVzLCBhbmQgc2hhZGVycyB3cml0dGVuIGZvciBkZWZhdWx0IHZhbHVlLiBDaGFuZ2UgaXQgb24geW91ciBvd24gcmlzay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucHJlbXVsdGlwbGllZEFscGhhID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGltYWdlIHVybCBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZVVybCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSB0ZXh0dXJlIGlzIGEgcG93ZXIgb2YgdHdvLCB0cnkgdG8gdXNlIHBvd2VyIG9mIHR3byB0ZXh0dXJlcyBhcyBtdWNoXG4gICAgICAgICAqIGFzIHlvdSBjYW5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmlzUG93ZXJPZlR3byA9IGZhbHNlO1xuXG4gICAgICAgIC8vIHVzZWQgZm9yIHdlYkdMXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldCB0aGlzIHRvIHRydWUgaWYgYSBtaXBtYXAgb2YgdGhpcyB0ZXh0dXJlIG5lZWRzIHRvIGJlIGdlbmVyYXRlZC4gVGhpcyB2YWx1ZSBuZWVkc1xuICAgICAgICAgKiB0byBiZSBzZXQgYmVmb3JlIHRoZSB0ZXh0dXJlIGlzIHVzZWRcbiAgICAgICAgICogQWxzbyB0aGUgdGV4dHVyZSBtdXN0IGJlIGEgcG93ZXIgb2YgdHdvIHNpemUgdG8gd29ya1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAc2VlIFBJWEkuTUlQTUFQX1RFWFRVUkVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5taXBtYXAgPSBfc2V0dGluZ3MyLmRlZmF1bHQuTUlQTUFQX1RFWFRVUkVTO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBXZWJHTCBUZXh0dXJlIHdyYXAgbW9kZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5XUkFQX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53cmFwTW9kZSA9IF9zZXR0aW5nczIuZGVmYXVsdC5XUkFQX01PREU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCB0ZXh0dXJlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBXZWJHTFRleHR1cmU+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2dsVGV4dHVyZXMgPSB7fTtcblxuICAgICAgICBfdGhpcy5fZW5hYmxlZCA9IDA7XG4gICAgICAgIF90aGlzLl92aXJ0YWxCb3VuZElkID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkIHZpYSBkZXN0cm95KCkuIElmIHRydWUsIGl0IHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpZHMgdW5kZXIgd2hpY2ggdGhpcyBCYXNlVGV4dHVyZSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgYmFzZSB0ZXh0dXJlIGNhY2hlLiBUaGlzIGlzXG4gICAgICAgICAqIGF1dG9tYXRpY2FsbHkgc2V0IGFzIGxvbmcgYXMgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSBpcyB1c2VkLCBidXQgbWF5IG5vdCBiZSBzZXQgaWYgYVxuICAgICAgICAgKiBCYXNlVGV4dHVyZSBpcyBhZGRlZCBkaXJlY3RseSB0byB0aGUgQmFzZVRleHR1cmVDYWNoZSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcblxuICAgICAgICAvLyBpZiBubyBzb3VyY2UgcGFzc2VkIGRvbid0IHRyeSB0byBsb2FkXG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvYWRTb3VyY2Uoc291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgbm90LWltbWVkaWF0ZWx5LWF2YWlsYWJsZSBzb3VyY2UgZmluaXNoZXMgbG9hZGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNsb2FkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGxvYWRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlIHNvdXJjZSBmYWlscyB0byBsb2FkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Vycm9yXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBlcnJvcmVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI3VwZGF0ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyB1cGRhdGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyBkZXN0cm95ZWQuXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdGV4dHVyZSBvbiBhbGwgdGhlIHdlYmdsIHJlbmRlcmVycywgdGhpcyBhbHNvIGFzc3VtZXMgdGhlIHNyYyBoYXMgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEBmaXJlcyBQSVhJLkJhc2VUZXh0dXJlI3VwZGF0ZVxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICAvLyBTdmcgc2l6ZSBpcyBoYW5kbGVkIGR1cmluZyBsb2FkXG4gICAgICAgIGlmICh0aGlzLmltYWdlVHlwZSAhPT0gJ3N2ZycpIHtcbiAgICAgICAgICAgIHRoaXMucmVhbFdpZHRoID0gdGhpcy5zb3VyY2UubmF0dXJhbFdpZHRoIHx8IHRoaXMuc291cmNlLnZpZGVvV2lkdGggfHwgdGhpcy5zb3VyY2Uud2lkdGg7XG4gICAgICAgICAgICB0aGlzLnJlYWxIZWlnaHQgPSB0aGlzLnNvdXJjZS5uYXR1cmFsSGVpZ2h0IHx8IHRoaXMuc291cmNlLnZpZGVvSGVpZ2h0IHx8IHRoaXMuc291cmNlLmhlaWdodDtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRGltZW5zaW9ucygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGRpbWVuc2lvbnMgZnJvbSByZWFsIHZhbHVlc1xuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX3VwZGF0ZURpbWVuc2lvbnMgPSBmdW5jdGlvbiBfdXBkYXRlRGltZW5zaW9ucygpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMucmVhbFdpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMucmVhbEhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLmlzUG93ZXJPZlR3byA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0LmlzUG93Mih0aGlzLnJlYWxXaWR0aCkgJiYgX2JpdFR3aWRkbGUyLmRlZmF1bHQuaXNQb3cyKHRoaXMucmVhbEhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWQgYSBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgc291cmNlIGlzIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUsIHN1Y2ggYXMgYW4gaW1hZ2UgdGhhdCBuZWVkcyB0byBiZVxuICAgICAqIGRvd25sb2FkZWQsIHRoZW4gdGhlICdsb2FkZWQnIG9yICdlcnJvcicgZXZlbnQgd2lsbCBiZSBkaXNwYXRjaGVkIGluIHRoZSBmdXR1cmVcbiAgICAgKiBhbmQgYGhhc0xvYWRlZGAgd2lsbCByZW1haW4gZmFsc2UgYWZ0ZXIgdGhpcyBjYWxsLlxuICAgICAqXG4gICAgICogVGhlIGxvZ2ljIHN0YXRlIGFmdGVyIGNhbGxpbmcgYGxvYWRTb3VyY2VgIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgKGVnLiBgZnJvbUltYWdlYCwgYG5ldyBCYXNlVGV4dHVyZWApIGlzOlxuICAgICAqXG4gICAgICogICAgIGlmICh0ZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAqICAgICAgICAvLyB0ZXh0dXJlIHJlYWR5IGZvciB1c2VcbiAgICAgKiAgICAgfSBlbHNlIGlmICh0ZXh0dXJlLmlzTG9hZGluZykge1xuICAgICAqICAgICAgICAvLyBsaXN0ZW4gdG8gJ2xvYWRlZCcgYW5kL29yICdlcnJvcicgZXZlbnRzIG9uIHRleHR1cmVcbiAgICAgKiAgICAgfSBlbHNlIHtcbiAgICAgKiAgICAgICAgLy8gbm90IGxvYWRpbmcsIG5vdCBnb2luZyB0byBsb2FkIFVOTEVTUyB0aGUgc291cmNlIGlzIHJlbG9hZGVkXG4gICAgICogICAgICAgIC8vIChpdCBtYXkgc3RpbGwgbWFrZSBzZW5zZSB0byBsaXN0ZW4gdG8gdGhlIGV2ZW50cylcbiAgICAgKiAgICAgfVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gdGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5sb2FkU291cmNlID0gZnVuY3Rpb24gbG9hZFNvdXJjZShzb3VyY2UpIHtcbiAgICAgICAgdmFyIHdhc0xvYWRpbmcgPSB0aGlzLmlzTG9hZGluZztcblxuICAgICAgICB0aGlzLmhhc0xvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh3YXNMb2FkaW5nICYmIHRoaXMuc291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZmlyc3RTb3VyY2VMb2FkZWQgPSAhdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG5cbiAgICAgICAgLy8gQXBwbHkgc291cmNlIGlmIGxvYWRlZC4gT3RoZXJ3aXNlIHNldHVwIGFwcHJvcHJpYXRlIGxvYWRpbmcgbW9uaXRvcnMuXG4gICAgICAgIGlmICgoc291cmNlLnNyYyAmJiBzb3VyY2UuY29tcGxldGUgfHwgc291cmNlLmdldENvbnRleHQpICYmIHNvdXJjZS53aWR0aCAmJiBzb3VyY2UuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVJbWFnZVR5cGUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaW1hZ2VUeXBlID09PSAnc3ZnJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTdmdTb3VyY2UoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc291cmNlTG9hZGVkKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmaXJzdFNvdXJjZUxvYWRlZCkge1xuICAgICAgICAgICAgICAgIC8vIHNlbmQgbG9hZGVkIGV2ZW50IGlmIHByZXZpb3VzIHNvdXJjZSB3YXMgbnVsbCBhbmQgd2UgaGF2ZSBiZWVuIHBhc3NlZCBhIHByZS1sb2FkZWQgSU1HIGVsZW1lbnRcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFzb3VyY2UuZ2V0Q29udGV4dCkge1xuICAgICAgICAgICAgLy8gSW1hZ2UgZmFpbCAvIG5vdCByZWFkeVxuICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICB2YXIgc2NvcGUgPSB0aGlzO1xuXG4gICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLl91cGRhdGVJbWFnZVR5cGUoKTtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNjb3BlLmlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2NvcGUuX3NvdXJjZUxvYWRlZCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmltYWdlVHlwZSA9PT0gJ3N2ZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuX2xvYWRTdmdTb3VyY2UoKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUuZW1pdCgnbG9hZGVkJywgc2NvcGUpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzY29wZS5pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNjb3BlLmVtaXQoJ2Vycm9yJywgc2NvcGUpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gUGVyIGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI3RoZS1pbWctZWxlbWVudFxuICAgICAgICAgICAgLy8gICBcIlRoZSB2YWx1ZSBvZiBgY29tcGxldGVgIGNhbiB0aHVzIGNoYW5nZSB3aGlsZSBhIHNjcmlwdCBpcyBleGVjdXRpbmcuXCJcbiAgICAgICAgICAgIC8vIFNvIGNvbXBsZXRlIG5lZWRzIHRvIGJlIHJlLWNoZWNrZWQgYWZ0ZXIgdGhlIGNhbGxiYWNrcyBoYXZlIGJlZW4gYWRkZWQuLlxuICAgICAgICAgICAgLy8gTk9URTogY29tcGxldGUgd2lsbCBiZSB0cnVlIGlmIHRoZSBpbWFnZSBoYXMgbm8gc3JjIHNvIGJlc3QgdG8gY2hlY2sgaWYgdGhlIHNyYyBpcyBzZXQuXG4gICAgICAgICAgICBpZiAoc291cmNlLmNvbXBsZXRlICYmIHNvdXJjZS5zcmMpIHtcbiAgICAgICAgICAgICAgICAvLyAuLmFuZCBpZiB3ZSdyZSBjb21wbGV0ZSBub3csIG5vIG5lZWQgZm9yIGNhbGxiYWNrc1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5pbWFnZVR5cGUgPT09ICdzdmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLl9sb2FkU3ZnU291cmNlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoc291cmNlLndpZHRoICYmIHNvdXJjZS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc291cmNlTG9hZGVkKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgYW55IHByZXZpb3VzIHN1YnNjcmliZXJzIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICAgIGlmICh3YXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIGFueSBwcmV2aW91cyBzdWJzY3JpYmVycyBwb3NzaWJsZVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHdhc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdHlwZSBvZiB0aGUgc291cmNlIGltYWdlLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX3VwZGF0ZUltYWdlVHlwZSA9IGZ1bmN0aW9uIF91cGRhdGVJbWFnZVR5cGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbWFnZVVybCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGFVcmkgPSAoMCwgX3V0aWxzLmRlY29tcG9zZURhdGFVcmkpKHRoaXMuaW1hZ2VVcmwpO1xuICAgICAgICB2YXIgaW1hZ2VUeXBlID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChkYXRhVXJpICYmIGRhdGFVcmkubWVkaWFUeXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3Igc3ViVHlwZSB2YWxpZGl0eVxuICAgICAgICAgICAgdmFyIGZpcnN0U3ViVHlwZSA9IGRhdGFVcmkuc3ViVHlwZS5zcGxpdCgnKycpWzBdO1xuXG4gICAgICAgICAgICBpbWFnZVR5cGUgPSAoMCwgX3V0aWxzLmdldFVybEZpbGVFeHRlbnNpb24pKCcuJyArIGZpcnN0U3ViVHlwZSk7XG5cbiAgICAgICAgICAgIGlmICghaW1hZ2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGltYWdlIHR5cGUgaW4gZGF0YSBVUkkuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbWFnZVR5cGUgPSAoMCwgX3V0aWxzLmdldFVybEZpbGVFeHRlbnNpb24pKHRoaXMuaW1hZ2VVcmwpO1xuXG4gICAgICAgICAgICBpZiAoIWltYWdlVHlwZSkge1xuICAgICAgICAgICAgICAgIGltYWdlVHlwZSA9ICdwbmcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbWFnZVR5cGUgPSBpbWFnZVR5cGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc291cmNlYCBpcyBhbiBTVkcgaW1hZ2UgYW5kIHdoZXRoZXIgaXQncyBsb2FkZWQgdmlhIGEgVVJMIG9yIGEgZGF0YSBVUkkuIFRoZW4gY2FsbHNcbiAgICAgKiBgX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmlgIG9yIGBfbG9hZFN2Z1NvdXJjZVVzaW5nWGhyYC5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl9sb2FkU3ZnU291cmNlID0gZnVuY3Rpb24gX2xvYWRTdmdTb3VyY2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmltYWdlVHlwZSAhPT0gJ3N2ZycpIHtcbiAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgc291cmNlIGlzIG5vdCBzdmdcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhVXJpID0gKDAsIF91dGlscy5kZWNvbXBvc2VEYXRhVXJpKSh0aGlzLmltYWdlVXJsKTtcblxuICAgICAgICBpZiAoZGF0YVVyaSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZFN2Z1NvdXJjZVVzaW5nRGF0YVVyaShkYXRhVXJpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdlIGdvdCBhbiBVUkwsIHNvIHdlIG5lZWQgdG8gZG8gYW4gWEhSIHRvIGNoZWNrIHRoZSBzdmcgc2l6ZVxuICAgICAgICAgICAgdGhpcy5fbG9hZFN2Z1NvdXJjZVVzaW5nWGhyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVhZHMgYW4gU1ZHIHN0cmluZyBmcm9tIGRhdGEgVVJJIGFuZCB0aGVuIGNhbGxzIGBfbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhVXJpIC0gVGhlIGRhdGEgdXJpIHRvIGxvYWQgZnJvbS5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl9sb2FkU3ZnU291cmNlVXNpbmdEYXRhVXJpID0gZnVuY3Rpb24gX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmkoZGF0YVVyaSkge1xuICAgICAgICB2YXIgc3ZnU3RyaW5nID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChkYXRhVXJpLmVuY29kaW5nID09PSAnYmFzZTY0Jykge1xuICAgICAgICAgICAgaWYgKCFhdG9iKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3VyIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgYmFzZTY0IGNvbnZlcnNpb25zLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3ZnU3RyaW5nID0gYXRvYihkYXRhVXJpLmRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3ZnU3RyaW5nID0gZGF0YVVyaS5kYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nKHN2Z1N0cmluZyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIGFuIFNWRyBzdHJpbmcgZnJvbSBgaW1hZ2VVcmxgIHVzaW5nIFhIUiBhbmQgdGhlbiBjYWxscyBgX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZ2AuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fbG9hZFN2Z1NvdXJjZVVzaW5nWGhyID0gZnVuY3Rpb24gX2xvYWRTdmdTb3VyY2VVc2luZ1hocigpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHN2Z1hociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgIC8vIFRoaXMgdGhyb3dzIGVycm9yIG9uIElFLCBzbyBTVkcgRG9jdW1lbnQgY2FuJ3QgYmUgdXNlZFxuICAgICAgICAvLyBzdmdYaHIucmVzcG9uc2VUeXBlID0gJ2RvY3VtZW50JztcblxuICAgICAgICAvLyBUaGlzIGlzIG5vdCBuZWVkZWQgc2luY2Ugd2UgbG9hZCB0aGUgc3ZnIGFzIHN0cmluZyAoYnJlYWtzIElFIHRvbylcbiAgICAgICAgLy8gYnV0IG92ZXJyaWRlTWltZVR5cGUoKSBjYW4gYmUgdXNlZCB0byBmb3JjZSB0aGUgcmVzcG9uc2UgdG8gYmUgcGFyc2VkIGFzIFhNTFxuICAgICAgICAvLyBzdmdYaHIub3ZlcnJpZGVNaW1lVHlwZSgnaW1hZ2Uvc3ZnK3htbCcpO1xuXG4gICAgICAgIHN2Z1hoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoc3ZnWGhyLnJlYWR5U3RhdGUgIT09IHN2Z1hoci5ET05FIHx8IHN2Z1hoci5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgU1ZHIHVzaW5nIFhIUi4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMyLl9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmcoc3ZnWGhyLnJlc3BvbnNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzdmdYaHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuZW1pdCgnZXJyb3InLCBfdGhpczIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHN2Z1hoci5vcGVuKCdHRVQnLCB0aGlzLmltYWdlVXJsLCB0cnVlKTtcbiAgICAgICAgc3ZnWGhyLnNlbmQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGV4dHVyZSB1c2luZyBhbiBTVkcgc3RyaW5nLiBUaGUgb3JpZ2luYWwgU1ZHIEltYWdlIGlzIHN0b3JlZCBhcyBgb3JpZ1NvdXJjZWAgYW5kIHRoZVxuICAgICAqIGNyZWF0ZWQgY2FudmFzIGlzIHRoZSBuZXcgYHNvdXJjZWAuIFRoZSBTVkcgaXMgc2NhbGVkIHVzaW5nIGBzb3VyY2VTY2FsZWAuIENhbGxlZCBieVxuICAgICAqIGBfbG9hZFN2Z1NvdXJjZVVzaW5nWGhyYCBvciBgX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmlgLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBzdmdTdHJpbmcgU1ZHIHNvdXJjZSBhcyBzdHJpbmdcbiAgICAgKlxuICAgICAqIEBmaXJlcyBQSVhJLkJhc2VUZXh0dXJlI2xvYWRlZFxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZyA9IGZ1bmN0aW9uIF9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmcoc3ZnU3RyaW5nKSB7XG4gICAgICAgIHZhciBzdmdTaXplID0gKDAsIF91dGlscy5nZXRTdmdTaXplKShzdmdTdHJpbmcpO1xuXG4gICAgICAgIHZhciBzdmdXaWR0aCA9IHN2Z1NpemUud2lkdGg7XG4gICAgICAgIHZhciBzdmdIZWlnaHQgPSBzdmdTaXplLmhlaWdodDtcblxuICAgICAgICBpZiAoIXN2Z1dpZHRoIHx8ICFzdmdIZWlnaHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFNWRyBpbWFnZSBtdXN0IGhhdmUgd2lkdGggYW5kIGhlaWdodCBkZWZpbmVkIChpbiBwaXhlbHMpLCBjYW52YXMgQVBJIG5lZWRzIHRoZW0uJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTY2FsZSByZWFsV2lkdGggYW5kIHJlYWxIZWlnaHRcbiAgICAgICAgdGhpcy5yZWFsV2lkdGggPSBNYXRoLnJvdW5kKHN2Z1dpZHRoICogdGhpcy5zb3VyY2VTY2FsZSk7XG4gICAgICAgIHRoaXMucmVhbEhlaWdodCA9IE1hdGgucm91bmQoc3ZnSGVpZ2h0ICogdGhpcy5zb3VyY2VTY2FsZSk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlRGltZW5zaW9ucygpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBhIGNhbnZhcyBlbGVtZW50XG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICBjYW52YXMud2lkdGggPSB0aGlzLnJlYWxXaWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHRoaXMucmVhbEhlaWdodDtcbiAgICAgICAgY2FudmFzLl9waXhpSWQgPSAnY2FudmFzXycgKyAoMCwgX3V0aWxzLnVpZCkoKTtcblxuICAgICAgICAvLyBEcmF3IHRoZSBTdmcgdG8gdGhlIGNhbnZhc1xuICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2UodGhpcy5zb3VyY2UsIDAsIDAsIHN2Z1dpZHRoLCBzdmdIZWlnaHQsIDAsIDAsIHRoaXMucmVhbFdpZHRoLCB0aGlzLnJlYWxIZWlnaHQpO1xuXG4gICAgICAgIC8vIFJlcGxhY2UgdGhlIG9yaWdpbmFsIHNvdXJjZSBpbWFnZSB3aXRoIHRoZSBjYW52YXNcbiAgICAgICAgdGhpcy5vcmlnU291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHRoaXMuc291cmNlID0gY2FudmFzO1xuXG4gICAgICAgIC8vIEFkZCBhbHNvIHRoZSBjYW52YXMgaW4gY2FjaGUgKGRlc3Ryb3kgY2xlYXJzIGJ5IGBpbWFnZVVybGAgYW5kIGBzb3VyY2UuX3BpeGlJZGApXG4gICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGhpcywgY2FudmFzLl9waXhpSWQpO1xuXG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NvdXJjZUxvYWRlZCgpO1xuICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGludGVybmFsbHkgdG8gdXBkYXRlIHRoZSB3aWR0aCwgaGVpZ2h0LCBhbmQgc29tZSBvdGhlciB0cmFja2luZyB2YXJzIG9uY2VcbiAgICAgKiBhIHNvdXJjZSBoYXMgc3VjY2Vzc2Z1bGx5IGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fc291cmNlTG9hZGVkID0gZnVuY3Rpb24gX3NvdXJjZUxvYWRlZCgpIHtcbiAgICAgICAgdGhpcy5oYXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VVcmwpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBfdXRpbHMuVGV4dHVyZUNhY2hlW3RoaXMuaW1hZ2VVcmxdO1xuXG4gICAgICAgICAgICB0aGlzLmltYWdlVXJsID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKCFuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlLnNyYyA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuXG4gICAgICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZyZWVzIHRoZSB0ZXh0dXJlIGZyb20gV2ViR0wgbWVtb3J5IHdpdGhvdXQgZGVzdHJveWluZyB0aGlzIHRleHR1cmUgb2JqZWN0LlxuICAgICAqIFRoaXMgbWVhbnMgeW91IGNhbiBzdGlsbCB1c2UgdGhlIHRleHR1cmUgbGF0ZXIgd2hpY2ggd2lsbCB1cGxvYWQgaXQgdG8gR1BVXG4gICAgICogbWVtb3J5IGFnYWluLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZGlzcG9zZScsIHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBzb3VyY2UgaW1hZ2Ugb2YgdGhlIHRleHR1cmUuXG4gICAgICogVGhlIG9yaWdpbmFsIHNvdXJjZSBtdXN0IGJlIGFuIEltYWdlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3U3JjIC0gdGhlIHBhdGggb2YgdGhlIGltYWdlXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS51cGRhdGVTb3VyY2VJbWFnZSA9IGZ1bmN0aW9uIHVwZGF0ZVNvdXJjZUltYWdlKG5ld1NyYykge1xuICAgICAgICB0aGlzLnNvdXJjZS5zcmMgPSBuZXdTcmM7XG5cbiAgICAgICAgdGhpcy5sb2FkU291cmNlKHRoaXMuc291cmNlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJhc2UgdGV4dHVyZSBmcm9tIHRoZSBnaXZlbiBpbWFnZSB1cmwuXG4gICAgICogSWYgdGhlIGltYWdlIGlzIG5vdCBpbiB0aGUgYmFzZSB0ZXh0dXJlIGNhY2hlIGl0IHdpbGwgYmUgY3JlYXRlZCBhbmQgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZVVybCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcm9zc29yaWdpbj0oYXV0byldIC0gU2hvdWxkIHVzZSBhbm9ueW1vdXMgQ09SUz8gRGVmYXVsdHMgdG8gdHJ1ZSBpZiB0aGUgVVJMIGlzIG5vdCBhIGRhdGEtVVJJLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NvdXJjZVNjYWxlPShhdXRvKV0gLSBTY2FsZSBmb3IgdGhlIG9yaWdpbmFsIGltYWdlLCB1c2VkIHdpdGggU3ZnIGltYWdlcy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgbmV3IGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlKGltYWdlVXJsLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzb3VyY2VTY2FsZSkge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtpbWFnZVVybF07XG5cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgLy8gbmV3IEltYWdlKCkgYnJlYWtzIHRleCBsb2FkaW5nIGluIHNvbWUgdmVyc2lvbnMgb2YgQ2hyb21lLlxuICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yMzgwNzFcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpOyAvLyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcblxuICAgICAgICAgICAgaWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQgJiYgaW1hZ2VVcmwuaW5kZXhPZignZGF0YTonKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGltYWdlLmNyb3NzT3JpZ2luID0gKDAsIF9kZXRlcm1pbmVDcm9zc09yaWdpbjIuZGVmYXVsdCkoaW1hZ2VVcmwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjcm9zc29yaWdpbikge1xuICAgICAgICAgICAgICAgIGltYWdlLmNyb3NzT3JpZ2luID0gdHlwZW9mIGNyb3Nzb3JpZ2luID09PSAnc3RyaW5nJyA/IGNyb3Nzb3JpZ2luIDogJ2Fub255bW91cyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKGltYWdlLCBzY2FsZU1vZGUpO1xuICAgICAgICAgICAgYmFzZVRleHR1cmUuaW1hZ2VVcmwgPSBpbWFnZVVybDtcblxuICAgICAgICAgICAgaWYgKHNvdXJjZVNjYWxlKSB7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuc291cmNlU2NhbGUgPSBzb3VyY2VTY2FsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW4gQDJ4IGF0IHRoZSBlbmQgb2YgdGhlIHVybCB3ZSBhcmUgZ29pbmcgdG8gYXNzdW1lIGl0cyBhIGhpZ2hyZXMgaW1hZ2VcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnJlc29sdXRpb24gPSAoMCwgX3V0aWxzLmdldFJlc29sdXRpb25PZlVybCkoaW1hZ2VVcmwpO1xuXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBpbWFnZVVybDsgLy8gU2V0dGluZyB0aGlzIHRyaWdnZXJzIGxvYWRcblxuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYmFzZSB0ZXh0dXJlIGZyb20gdGhlIGdpdmVuIGNhbnZhcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIFRoZSBjYW52YXMgZWxlbWVudCBzb3VyY2Ugb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVNb2RlIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcmlnaW49J2NhbnZhcyddIC0gQSBzdHJpbmcgb3JpZ2luIG9mIHdobyBjcmVhdGVkIHRoZSBiYXNlIHRleHR1cmVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgbmV3IGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUuZnJvbUNhbnZhcyA9IGZ1bmN0aW9uIGZyb21DYW52YXMoY2FudmFzLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgdmFyIG9yaWdpbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2NhbnZhcyc7XG5cbiAgICAgICAgaWYgKCFjYW52YXMuX3BpeGlJZCkge1xuICAgICAgICAgICAgY2FudmFzLl9waXhpSWQgPSBvcmlnaW4gKyAnXycgKyAoMCwgX3V0aWxzLnVpZCkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2NhbnZhcy5fcGl4aUlkXTtcblxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShjYW52YXMsIHNjYWxlTW9kZSk7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBjYW52YXMuX3BpeGlJZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBiYXNlIHRleHR1cmUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGltYWdlIHVybCwgaW1hZ2UgZWxlbWVudCwgY2FudmFzIGVsZW1lbnQuIElmIHRoZVxuICAgICAqIHNvdXJjZSBpcyBhbiBpbWFnZSB1cmwgb3IgYW4gaW1hZ2UgZWxlbWVudCBhbmQgbm90IGluIHRoZSBiYXNlIHRleHR1cmVcbiAgICAgKiBjYWNoZSwgaXQgd2lsbCBiZSBjcmVhdGVkIGFuZCBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gVGhlIHNvdXJjZSB0byBjcmVhdGUgYmFzZSB0ZXh0dXJlIGZyb20uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc291cmNlU2NhbGU9KGF1dG8pXSAtIFNjYWxlIGZvciB0aGUgb3JpZ2luYWwgaW1hZ2UsIHVzZWQgd2l0aCBTdmcgaW1hZ2VzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV9IFRoZSBuZXcgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gZnJvbShzb3VyY2UsIHNjYWxlTW9kZSwgc291cmNlU2NhbGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gQmFzZVRleHR1cmUuZnJvbUltYWdlKHNvdXJjZSwgdW5kZWZpbmVkLCBzY2FsZU1vZGUsIHNvdXJjZVNjYWxlKTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VVcmwgPSBzb3VyY2Uuc3JjO1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbaW1hZ2VVcmxdO1xuXG4gICAgICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoc291cmNlLCBzY2FsZU1vZGUpO1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmltYWdlVXJsID0gaW1hZ2VVcmw7XG5cbiAgICAgICAgICAgICAgICBpZiAoc291cmNlU2NhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuc291cmNlU2NhbGUgPSBzb3VyY2VTY2FsZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiBAMnggYXQgdGhlIGVuZCBvZiB0aGUgdXJsIHdlIGFyZSBnb2luZyB0byBhc3N1bWUgaXRzIGEgaGlnaHJlcyBpbWFnZVxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnJlc29sdXRpb24gPSAoMCwgX3V0aWxzLmdldFJlc29sdXRpb25PZlVybCkoaW1hZ2VVcmwpO1xuXG4gICAgICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBCYXNlVGV4dHVyZS5mcm9tQ2FudmFzKHNvdXJjZSwgc2NhbGVNb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYXNzdW1lIGl0cyBhIGJhc2UgdGV4dHVyZSFcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIEJhc2VUZXh0dXJlIHRvIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIEJhc2VUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIEJhc2VUZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiBhZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBpZCkge1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBAaWYgREVCVUdcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGlmIChfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtpZF0pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Jhc2VUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFsnICsgaWQgKyAnXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIC8vIEBlbmRpZlxuXG4gICAgICAgICAgICBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtpZF0gPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBCYXNlVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIGlkIG9mIGEgQmFzZVRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBCYXNlVGV4dHVyZSBpbnN0YW5jZSBpdHNlbGYuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZXxudWxsfSBUaGUgQmFzZVRleHR1cmUgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlID0gZnVuY3Rpb24gcmVtb3ZlRnJvbUNhY2hlKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYmFzZVRleHR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmVGcm9tQ2FjaGUgPSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG5cbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZUZyb21DYWNoZSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmVGcm9tQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYmFzZVRleHR1cmUgJiYgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBCYXNlVGV4dHVyZTtcbn0oX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJhc2VUZXh0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZVRleHR1cmUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG52YXIgRGljdGlvbmFyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGVtcHR5IGRpY3Rpb25hcnkuXG4gICAgICogQGNsYXNzIDxwPkRpY3Rpb25hcmllcyBtYXAga2V5cyB0byB2YWx1ZXM7IGVhY2gga2V5IGNhbiBtYXAgdG8gYXQgbW9zdCBvbmUgdmFsdWUuXG4gICAgICogVGhpcyBpbXBsZW1lbnRhdGlvbiBhY2NlcHRzIGFueSBraW5kIG9mIG9iamVjdHMgYXMga2V5cy48L3A+XG4gICAgICpcbiAgICAgKiA8cD5JZiB0aGUga2V5cyBhcmUgY3VzdG9tIG9iamVjdHMgYSBmdW5jdGlvbiB3aGljaCBjb252ZXJ0cyBrZXlzIHRvIHVuaXF1ZVxuICAgICAqIHN0cmluZ3MgbXVzdCBiZSBwcm92aWRlZC4gRXhhbXBsZTo8L3A+XG4gICAgICogPHByZT5cbiAgICAgKiBmdW5jdGlvbiBwZXRUb1N0cmluZyhwZXQpIHtcbiAgICAgKiAgcmV0dXJuIHBldC5uYW1lO1xuICAgICAqIH1cbiAgICAgKiA8L3ByZT5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKE9iamVjdCk6c3RyaW5nPX0gdG9TdHJGdW5jdGlvbiBvcHRpb25hbCBmdW5jdGlvbiB1c2VkXG4gICAgICogdG8gY29udmVydCBrZXlzIHRvIHN0cmluZ3MuIElmIHRoZSBrZXlzIGFyZW4ndCBzdHJpbmdzIG9yIGlmIHRvU3RyaW5nKClcbiAgICAgKiBpcyBub3QgYXBwcm9wcmlhdGUsIGEgY3VzdG9tIGZ1bmN0aW9uIHdoaWNoIHJlY2VpdmVzIGEga2V5IGFuZCByZXR1cm5zIGFcbiAgICAgKiB1bmlxdWUgc3RyaW5nIG11c3QgYmUgcHJvdmlkZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRGljdGlvbmFyeSh0b1N0ckZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMudGFibGUgPSB7fTtcbiAgICAgICAgdGhpcy5uRWxlbWVudHMgPSAwO1xuICAgICAgICB0aGlzLnRvU3RyID0gdG9TdHJGdW5jdGlvbiB8fCB1dGlsLmRlZmF1bHRUb1N0cmluZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgdG8gd2hpY2ggdGhpcyBkaWN0aW9uYXJ5IG1hcHMgdGhlIHNwZWNpZmllZCBrZXkuXG4gICAgICogUmV0dXJucyB1bmRlZmluZWQgaWYgdGhpcyBkaWN0aW9uYXJ5IGNvbnRhaW5zIG5vIG1hcHBpbmcgZm9yIHRoaXMga2V5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBrZXkga2V5IHdob3NlIGFzc29jaWF0ZWQgdmFsdWUgaXMgdG8gYmUgcmV0dXJuZWQuXG4gICAgICogQHJldHVybiB7Kn0gdGhlIHZhbHVlIHRvIHdoaWNoIHRoaXMgZGljdGlvbmFyeSBtYXBzIHRoZSBzcGVjaWZpZWQga2V5IG9yXG4gICAgICogdW5kZWZpbmVkIGlmIHRoZSBtYXAgY29udGFpbnMgbm8gbWFwcGluZyBmb3IgdGhpcyBrZXkuXG4gICAgICovXG4gICAgRGljdGlvbmFyeS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBwYWlyID0gdGhpcy50YWJsZVsnJCcgKyB0aGlzLnRvU3RyKGtleSldO1xuICAgICAgICBpZiAodXRpbC5pc1VuZGVmaW5lZChwYWlyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFpci52YWx1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFzc29jaWF0ZXMgdGhlIHNwZWNpZmllZCB2YWx1ZSB3aXRoIHRoZSBzcGVjaWZpZWQga2V5IGluIHRoaXMgZGljdGlvbmFyeS5cbiAgICAgKiBJZiB0aGUgZGljdGlvbmFyeSBwcmV2aW91c2x5IGNvbnRhaW5lZCBhIG1hcHBpbmcgZm9yIHRoaXMga2V5LCB0aGUgb2xkXG4gICAgICogdmFsdWUgaXMgcmVwbGFjZWQgYnkgdGhlIHNwZWNpZmllZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0ga2V5IGtleSB3aXRoIHdoaWNoIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgdG8gYmVcbiAgICAgKiBhc3NvY2lhdGVkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSB2YWx1ZSB0byBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIHNwZWNpZmllZCBrZXkuXG4gICAgICogQHJldHVybiB7Kn0gcHJldmlvdXMgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQga2V5LCBvciB1bmRlZmluZWQgaWZcbiAgICAgKiB0aGVyZSB3YXMgbm8gbWFwcGluZyBmb3IgdGhlIGtleSBvciBpZiB0aGUga2V5L3ZhbHVlIGFyZSB1bmRlZmluZWQuXG4gICAgICovXG4gICAgRGljdGlvbmFyeS5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodXRpbC5pc1VuZGVmaW5lZChrZXkpIHx8IHV0aWwuaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXQ7XG4gICAgICAgIHZhciBrID0gJyQnICsgdGhpcy50b1N0cihrZXkpO1xuICAgICAgICB2YXIgcHJldmlvdXNFbGVtZW50ID0gdGhpcy50YWJsZVtrXTtcbiAgICAgICAgaWYgKHV0aWwuaXNVbmRlZmluZWQocHJldmlvdXNFbGVtZW50KSkge1xuICAgICAgICAgICAgdGhpcy5uRWxlbWVudHMrKztcbiAgICAgICAgICAgIHJldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldCA9IHByZXZpb3VzRWxlbWVudC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRhYmxlW2tdID0ge1xuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIG1hcHBpbmcgZm9yIHRoaXMga2V5IGZyb20gdGhpcyBkaWN0aW9uYXJ5IGlmIGl0IGlzIHByZXNlbnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGtleSBrZXkgd2hvc2UgbWFwcGluZyBpcyB0byBiZSByZW1vdmVkIGZyb20gdGhlXG4gICAgICogZGljdGlvbmFyeS5cbiAgICAgKiBAcmV0dXJuIHsqfSBwcmV2aW91cyB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggc3BlY2lmaWVkIGtleSwgb3IgdW5kZWZpbmVkIGlmXG4gICAgICogdGhlcmUgd2FzIG5vIG1hcHBpbmcgZm9yIGtleS5cbiAgICAgKi9cbiAgICBEaWN0aW9uYXJ5LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBrID0gJyQnICsgdGhpcy50b1N0cihrZXkpO1xuICAgICAgICB2YXIgcHJldmlvdXNFbGVtZW50ID0gdGhpcy50YWJsZVtrXTtcbiAgICAgICAgaWYgKCF1dGlsLmlzVW5kZWZpbmVkKHByZXZpb3VzRWxlbWVudCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRhYmxlW2tdO1xuICAgICAgICAgICAgdGhpcy5uRWxlbWVudHMtLTtcbiAgICAgICAgICAgIHJldHVybiBwcmV2aW91c0VsZW1lbnQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyBhbGwgb2YgdGhlIGtleXMgaW4gdGhpcyBkaWN0aW9uYXJ5LlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGUga2V5cyBpbiB0aGlzIGRpY3Rpb25hcnkuXG4gICAgICovXG4gICAgRGljdGlvbmFyeS5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICAgIGZvciAodmFyIG5hbWVfMSBpbiB0aGlzLnRhYmxlKSB7XG4gICAgICAgICAgICBpZiAodXRpbC5oYXModGhpcy50YWJsZSwgbmFtZV8xKSkge1xuICAgICAgICAgICAgICAgIHZhciBwYWlyID0gdGhpcy50YWJsZVtuYW1lXzFdO1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2gocGFpci5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyBhbGwgb2YgdGhlIHZhbHVlcyBpbiB0aGlzIGRpY3Rpb25hcnkuXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIG9mIHRoZSB2YWx1ZXMgaW4gdGhpcyBkaWN0aW9uYXJ5LlxuICAgICAqL1xuICAgIERpY3Rpb25hcnkucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICAgIGZvciAodmFyIG5hbWVfMiBpbiB0aGlzLnRhYmxlKSB7XG4gICAgICAgICAgICBpZiAodXRpbC5oYXModGhpcy50YWJsZSwgbmFtZV8yKSkge1xuICAgICAgICAgICAgICAgIHZhciBwYWlyID0gdGhpcy50YWJsZVtuYW1lXzJdO1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2gocGFpci52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH07XG4gICAgLyoqXG4gICAgKiBFeGVjdXRlcyB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gb25jZSBmb3IgZWFjaCBrZXktdmFsdWUgcGFpclxuICAgICogcHJlc2VudCBpbiB0aGlzIGRpY3Rpb25hcnkuXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9uKE9iamVjdCxPYmplY3QpOip9IGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGV4ZWN1dGUsIGl0IGlzXG4gICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czoga2V5IGFuZCB2YWx1ZS4gVG8gYnJlYWsgdGhlIGl0ZXJhdGlvbiB5b3UgY2FuXG4gICAgKiBvcHRpb25hbGx5IHJldHVybiBmYWxzZS5cbiAgICAqL1xuICAgIERpY3Rpb25hcnkucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZV8zIGluIHRoaXMudGFibGUpIHtcbiAgICAgICAgICAgIGlmICh1dGlsLmhhcyh0aGlzLnRhYmxlLCBuYW1lXzMpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhaXIgPSB0aGlzLnRhYmxlW25hbWVfM107XG4gICAgICAgICAgICAgICAgdmFyIHJldCA9IGNhbGxiYWNrKHBhaXIua2V5LCBwYWlyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBkaWN0aW9uYXJ5IGNvbnRhaW5zIGEgbWFwcGluZyBmb3IgdGhlIHNwZWNpZmllZCBrZXkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGtleSBrZXkgd2hvc2UgcHJlc2VuY2UgaW4gdGhpcyBkaWN0aW9uYXJ5IGlzIHRvIGJlXG4gICAgICogdGVzdGVkLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhpcyBkaWN0aW9uYXJ5IGNvbnRhaW5zIGEgbWFwcGluZyBmb3IgdGhlXG4gICAgICogc3BlY2lmaWVkIGtleS5cbiAgICAgKi9cbiAgICBEaWN0aW9uYXJ5LnByb3RvdHlwZS5jb250YWluc0tleSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuICF1dGlsLmlzVW5kZWZpbmVkKHRoaXMuZ2V0VmFsdWUoa2V5KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAqIFJlbW92ZXMgYWxsIG1hcHBpbmdzIGZyb20gdGhpcyBkaWN0aW9uYXJ5LlxuICAgICogQHRoaXMge2NvbGxlY3Rpb25zLkRpY3Rpb25hcnl9XG4gICAgKi9cbiAgICBEaWN0aW9uYXJ5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50YWJsZSA9IHt9O1xuICAgICAgICB0aGlzLm5FbGVtZW50cyA9IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2Yga2V5cyBpbiB0aGlzIGRpY3Rpb25hcnkuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSB0aGUgbnVtYmVyIG9mIGtleS12YWx1ZSBtYXBwaW5ncyBpbiB0aGlzIGRpY3Rpb25hcnkuXG4gICAgICovXG4gICAgRGljdGlvbmFyeS5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubkVsZW1lbnRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgZGljdGlvbmFyeSBjb250YWlucyBubyBtYXBwaW5ncy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoaXMgZGljdGlvbmFyeSBjb250YWlucyBubyBtYXBwaW5ncy5cbiAgICAgKi9cbiAgICBEaWN0aW9uYXJ5LnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uRWxlbWVudHMgPD0gMDtcbiAgICB9O1xuICAgIERpY3Rpb25hcnkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG9yZXQgPSAneyc7XG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoaywgdikge1xuICAgICAgICAgICAgdG9yZXQgKz0gXCJcXG5cXHRcIiArIGsgKyBcIiA6IFwiICsgdjtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0b3JldCArICdcXG59JztcbiAgICB9O1xuICAgIHJldHVybiBEaWN0aW9uYXJ5O1xufSgpKTsgLy8gRW5kIG9mIGRpY3Rpb25hcnlcbmV4cG9ydHMuZGVmYXVsdCA9IERpY3Rpb25hcnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EaWN0aW9uYXJ5LmpzLm1hcCIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZ1bGxOYW1lIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcmVhZG9ubHkgdHlwZTogc3RyaW5nLFxuICAgIHJlYWRvbmx5IG5hbWU6IHN0cmluZyxcbiAgICByZWFkb25seSBmdWxsTmFtZTogc3RyaW5nID0gYCR7dHlwZX06JHtuYW1lfWBcbiAgKSB7fVxuXG4gIHN0YXRpYyBwYXJzZShmdWxsTmFtZTogc3RyaW5nKTogRnVsbE5hbWUge1xuICAgIGNvbnN0IGxhc3RTcGxpdHRlciA9IGZ1bGxOYW1lLmxhc3RJbmRleE9mKCc6JylcblxuICAgIGlmIChsYXN0U3BsaXR0ZXIgPT0gLTEpIHtcbiAgICAgIHJldHVybiB0aGlzLnNpbmdsZXRvbihmdWxsTmFtZSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBGdWxsTmFtZShcbiAgICAgICAgZnVsbE5hbWUuc3Vic3RyaW5nKDAsIGxhc3RTcGxpdHRlciksXG4gICAgICAgIGZ1bGxOYW1lLnN1YnN0cmluZyhsYXN0U3BsaXR0ZXIgKyAxKSxcbiAgICAgICAgZnVsbE5hbWVcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgc2luZ2xldG9uKGZ1bGxOYW1lOiBzdHJpbmcpOiBGdWxsTmFtZSB7XG4gICAgcmV0dXJuIG5ldyBGdWxsTmFtZShmdWxsTmFtZSwgZnVsbE5hbWUsIGZ1bGxOYW1lKVxuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5mdWxsTmFtZVxuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX0Rpc3BsYXlPYmplY3QyID0gcmVxdWlyZSgnLi9EaXNwbGF5T2JqZWN0Jyk7XG5cbnZhciBfRGlzcGxheU9iamVjdDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaXNwbGF5T2JqZWN0Mik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBBIENvbnRhaW5lciByZXByZXNlbnRzIGEgY29sbGVjdGlvbiBvZiBkaXNwbGF5IG9iamVjdHMuXG4gKiBJdCBpcyB0aGUgYmFzZSBjbGFzcyBvZiBhbGwgZGlzcGxheSBvYmplY3RzIHRoYXQgYWN0IGFzIGEgY29udGFpbmVyIGZvciBvdGhlciBvYmplY3RzLlxuICpcbiAqYGBganNcbiAqIGxldCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkRpc3BsYXlPYmplY3RcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDb250YWluZXIgPSBmdW5jdGlvbiAoX0Rpc3BsYXlPYmplY3QpIHtcbiAgICBfaW5oZXJpdHMoQ29udGFpbmVyLCBfRGlzcGxheU9iamVjdCk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbnRhaW5lcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRhaW5lcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0W119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0Rpc3BsYXlPYmplY3QuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIG1ldGhvZCB0aGF0IGNhbiBiZSB1c2VkIGJ5IENvbnRhaW5lciBzdWJjbGFzc2VzIHdoZW5ldmVyIHRoZSBjaGlsZHJlbiBhcnJheSBpcyBtb2RpZmllZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gb25DaGlsZHJlbkNoYW5nZSgpIHt9XG4gICAgLyogZW1wdHkgKi9cblxuXG4gICAgLyoqXG4gICAgICogQWRkcyBvbmUgb3IgbW9yZSBjaGlsZHJlbiB0byB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogTXVsdGlwbGUgaXRlbXMgY2FuIGJlIGFkZGVkIGxpa2Ugc286IGBteUNvbnRhaW5lci5hZGRDaGlsZCh0aGluZ09uZSwgdGhpbmdUd28sIHRoaW5nVGhyZWUpYFxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi5QSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QocykgdG8gYWRkIHRvIHRoZSBjb250YWluZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBmaXJzdCBjaGlsZCB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24gYWRkQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgYXJndW1lbnQgd2UgY2FuIGJ5cGFzcyBsb29waW5nIHRocm91Z2ggdGhlIHRoZW1cbiAgICAgICAgaWYgKGFyZ3VtZW50c0xlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYXJndW1lbnRzIHByb3BlcnR5IGFuZCBhZGQgYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyB1c2UgaXQgdGhlIHJpZ2h0IHdheSAoLmxlbmd0aCBhbmQgW2ldKSBzbyB0aGF0IHRoaXMgZnVuY3Rpb24gY2FuIHN0aWxsIGJlIG9wdGltaXNlZCBieSBKUyBydW50aW1lc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBjaGlsZCBoYXMgYSBwYXJlbnQgdGhlbiBsZXRzIHJlbW92ZSBpdCBhcyBQaXhpSlMgb2JqZWN0cyBjYW4gb25seSBleGlzdCBpbiBvbmUgcGxhY2VcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5wYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UodGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGNoaWxkLmVtaXQoJ2FkZGVkJywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjaGlsZCB0byB0aGUgY29udGFpbmVyIGF0IGEgc3BlY2lmaWVkIGluZGV4LiBJZiB0aGUgaW5kZXggaXMgb3V0IG9mIGJvdW5kcyBhbiBlcnJvciB3aWxsIGJlIHRocm93blxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIHRvIGFkZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBpbmRleCB0byBwbGFjZSB0aGUgY2hpbGQgaW5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5hZGRDaGlsZEF0ID0gZnVuY3Rpb24gYWRkQ2hpbGRBdChjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoY2hpbGQgKyAnYWRkQ2hpbGRBdDogVGhlIGluZGV4ICcgKyBpbmRleCArICcgc3VwcGxpZWQgaXMgb3V0IG9mIGJvdW5kcyAnICsgdGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN3YXBzIHRoZSBwb3NpdGlvbiBvZiAyIERpc3BsYXkgT2JqZWN0cyB3aXRoaW4gdGhpcyBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBGaXJzdCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkMiAtIFNlY29uZCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuc3dhcENoaWxkcmVuID0gZnVuY3Rpb24gc3dhcENoaWxkcmVuKGNoaWxkLCBjaGlsZDIpIHtcbiAgICAgICAgaWYgKGNoaWxkID09PSBjaGlsZDIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmRleDEgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICB2YXIgaW5kZXgyID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkMik7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDFdID0gY2hpbGQyO1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4Ml0gPSBjaGlsZDtcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4MSA8IGluZGV4MiA/IGluZGV4MSA6IGluZGV4Mik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IHBvc2l0aW9uIG9mIGEgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2UgdG8gaWRlbnRpZnlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBwb3NpdGlvbiBvZiB0aGUgY2hpbGQgZGlzcGxheSBvYmplY3QgdG8gaWRlbnRpZnlcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEluZGV4ID0gZnVuY3Rpb24gZ2V0Q2hpbGRJbmRleChjaGlsZCkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHN1cHBsaWVkIERpc3BsYXlPYmplY3QgbXVzdCBiZSBhIGNoaWxkIG9mIHRoZSBjYWxsZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgcG9zaXRpb24gb2YgYW4gZXhpc3RpbmcgY2hpbGQgaW4gdGhlIGRpc3BsYXkgb2JqZWN0IGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIERpc3BsYXlPYmplY3QgaW5zdGFuY2UgZm9yIHdoaWNoIHlvdSB3YW50IHRvIGNoYW5nZSB0aGUgaW5kZXggbnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIHJlc3VsdGluZyBpbmRleCBudW1iZXIgZm9yIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnNldENoaWxkSW5kZXggPSBmdW5jdGlvbiBzZXRDaGlsZEluZGV4KGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBpbmRleCAnICsgaW5kZXggKyAnIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgJyArIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuXG4gICAgICAgICgwLCBfdXRpbHMucmVtb3ZlSXRlbXMpKHRoaXMuY2hpbGRyZW4sIGN1cnJlbnRJbmRleCwgMSk7IC8vIHJlbW92ZSBmcm9tIG9sZCBwb3NpdGlvblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpOyAvLyBhZGQgYXQgbmV3IHBvc2l0aW9uXG5cbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2hpbGQgYXQgdGhlIHNwZWNpZmllZCBpbmRleFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgYXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCBhdCB0aGUgZ2l2ZW4gaW5kZXgsIGlmIGFueS5cbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEF0ID0gZnVuY3Rpb24gZ2V0Q2hpbGRBdChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldENoaWxkQXQ6IEluZGV4ICgnICsgaW5kZXggKyAnKSBkb2VzIG5vdCBleGlzdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2luZGV4XTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBvbmUgb3IgbW9yZSBjaGlsZHJlbiBmcm9tIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byByZW1vdmVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBmaXJzdCBjaGlsZCB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgYXJndW1lbnQgd2UgY2FuIGJ5cGFzcyBsb29waW5nIHRocm91Z2ggdGhlIHRoZW1cbiAgICAgICAgaWYgKGFyZ3VtZW50c0xlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYXJndW1lbnRzIHByb3BlcnR5IGFuZCBhZGQgYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyB1c2UgaXQgdGhlIHJpZ2h0IHdheSAoLmxlbmd0aCBhbmQgW2ldKSBzbyB0aGF0IHRoaXMgZnVuY3Rpb24gY2FuIHN0aWxsIGJlIG9wdGltaXNlZCBieSBKUyBydW50aW1lc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgKDAsIF91dGlscy5yZW1vdmVJdGVtcykodGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgZnJvbSB0aGUgc3BlY2lmaWVkIGluZGV4IHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGRBdCA9IGZ1bmN0aW9uIHJlbW92ZUNoaWxkQXQoaW5kZXgpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5nZXRDaGlsZEF0KGluZGV4KTtcblxuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkLi5cbiAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAoMCwgX3V0aWxzLnJlbW92ZUl0ZW1zKSh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgY2hpbGRyZW4gZnJvbSB0aGlzIGNvbnRhaW5lciB0aGF0IGFyZSB3aXRoaW4gdGhlIGJlZ2luIGFuZCBlbmQgaW5kZXhlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmVnaW5JbmRleD0wXSAtIFRoZSBiZWdpbm5pbmcgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmRJbmRleD10aGlzLmNoaWxkcmVuLmxlbmd0aF0gLSBUaGUgZW5kaW5nIHBvc2l0aW9uLiBEZWZhdWx0IHZhbHVlIGlzIHNpemUgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJucyB7RGlzcGxheU9iamVjdFtdfSBMaXN0IG9mIHJlbW92ZWQgY2hpbGRyZW5cbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZHJlbiA9IGZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuKCkge1xuICAgICAgICB2YXIgYmVnaW5JbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIGVuZEluZGV4ID0gYXJndW1lbnRzWzFdO1xuXG4gICAgICAgIHZhciBiZWdpbiA9IGJlZ2luSW5kZXg7XG4gICAgICAgIHZhciBlbmQgPSB0eXBlb2YgZW5kSW5kZXggPT09ICdudW1iZXInID8gZW5kSW5kZXggOiB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgdmFyIHJhbmdlID0gZW5kIC0gYmVnaW47XG4gICAgICAgIHZhciByZW1vdmVkID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChyYW5nZSA+IDAgJiYgcmFuZ2UgPD0gZW5kKSB7XG4gICAgICAgICAgICByZW1vdmVkID0gdGhpcy5jaGlsZHJlbi5zcGxpY2UoYmVnaW4sIHJhbmdlKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkW2ldLnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShiZWdpbkluZGV4KTtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHJlbW92ZWQubGVuZ3RoOyArK19pKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtfaV0uZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICAgICAgfSBlbHNlIGlmIChyYW5nZSA9PT0gMCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlbW92ZUNoaWxkcmVuOiBudW1lcmljIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgYWNjZXB0YWJsZSByYW5nZS4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9uIGFsbCBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lciBmb3IgcmVuZGVyaW5nXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuXG4gICAgICAgIC8vIFRPRE86IGNoZWNrIHJlbmRlciBmbGFncywgaG93IHRvIHByb2Nlc3Mgc3R1ZmYgaGVyZVxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBjYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcygpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKCFjaGlsZC52aXNpYmxlIHx8ICFjaGlsZC5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLmNhbGN1bGF0ZUJvdW5kcygpO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBmaWx0ZXIrbWFzaywgbmVlZCB0byBtYXNrIGJvdGggc29tZWhvd1xuICAgICAgICAgICAgaWYgKGNoaWxkLl9tYXNrKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX21hc2suY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kc01hc2soY2hpbGQuX2JvdW5kcywgY2hpbGQuX21hc2suX2JvdW5kcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkLmZpbHRlckFyZWEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzQXJlYShjaGlsZC5fYm91bmRzLCBjaGlsZC5maWx0ZXJBcmVhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kcyhjaGlsZC5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xhc3RCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0LiBPdmVycmlkZSB0aGlzIHRvXG4gICAgICogY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhlIHNwZWNpZmljIG9iamVjdCAobm90IGluY2x1ZGluZyBjaGlsZHJlbikuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcygpIHt9XG4gICAgLy8gRklMTCBJTi8vXG5cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIDtcblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICAvLyBpZiB0aGUgb2JqZWN0IGlzIG5vdCB2aXNpYmxlIG9yIHRoZSBhbHBoYSBpcyAwIHRoZW4gbm8gbmVlZCB0byByZW5kZXIgdGhpcyBlbGVtZW50XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvIGEgcXVpY2sgY2hlY2sgdG8gc2VlIGlmIHRoaXMgZWxlbWVudCBoYXMgYSBtYXNrIG9yIGEgZmlsdGVyLlxuICAgICAgICBpZiAodGhpcy5fbWFzayB8fCB0aGlzLl9maWx0ZXJzKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckFkdmFuY2VkV2ViR0wocmVuZGVyZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyV2ViR0wocmVuZGVyZXIpO1xuXG4gICAgICAgICAgICAvLyBzaW1wbGUgcmVuZGVyIGNoaWxkcmVuIVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVuZGVyV2ViR0wocmVuZGVyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlciBhbmQgYWR2YW5jZWQgZmVhdHVyZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbmRlckFkdmFuY2VkV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJBZHZhbmNlZFdlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIHJlbmRlcmVyLmZsdXNoKCk7XG5cbiAgICAgICAgdmFyIGZpbHRlcnMgPSB0aGlzLl9maWx0ZXJzO1xuICAgICAgICB2YXIgbWFzayA9IHRoaXMuX21hc2s7XG5cbiAgICAgICAgLy8gcHVzaCBmaWx0ZXIgZmlyc3QgYXMgd2UgbmVlZCB0byBlbnN1cmUgdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIGNvcnJlY3QgZm9yIGFueSBtYXNraW5nXG4gICAgICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWRGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbaV0uZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5wdXNoKGZpbHRlcnNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmZpbHRlck1hbmFnZXIucHVzaEZpbHRlcih0aGlzLCB0aGlzLl9lbmFibGVkRmlsdGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFza01hbmFnZXIucHVzaE1hc2sodGhpcywgdGhpcy5fbWFzayk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdGhpcyBvYmplY3QgdG8gdGhlIGJhdGNoLCBvbmx5IHJlbmRlcmVkIGlmIGl0IGhhcyBhIHRleHR1cmUuXG4gICAgICAgIHRoaXMuX3JlbmRlcldlYkdMKHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBub3cgbG9vcCB0aHJvdWdoIHRoZSBjaGlsZHJlbiBhbmQgbWFrZSBzdXJlIHRoZXkgZ2V0IHJlbmRlcmVkXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgX2kyIDwgajsgX2kyKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5bX2kyXS5yZW5kZXJXZWJHTChyZW5kZXJlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5mbHVzaCgpO1xuXG4gICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrTWFuYWdlci5wb3BNYXNrKHRoaXMsIHRoaXMuX21hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLnBvcEZpbHRlcigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTChyZW5kZXJlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHt9XG4gICAgLy8gdGhpcyBpcyB3aGVyZSBjb250ZW50IGl0c2VsZiBnZXRzIHJlbmRlcmVkLi4uXG5cblxuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICA7XG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge31cbiAgICAvLyB0aGlzIGlzIHdoZXJlIGNvbnRlbnQgaXRzZWxmIGdldHMgcmVuZGVyZWQuLi5cblxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICA7XG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIHJlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICAvLyBpZiBub3QgdmlzaWJsZSBvciB0aGUgYWxwaGEgaXMgMCB0aGVuIG5vIG5lZWQgdG8gcmVuZGVyIHRoaXNcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnB1c2hNYXNrKHRoaXMuX21hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyQ2FudmFzKHJlbmRlcmVyKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXJDYW52YXMocmVuZGVyZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnBvcE1hc2socmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGludGVybmFsIHJlZmVyZW5jZXMgYW5kIGxpc3RlbmVycyBhcyB3ZWxsIGFzIHJlbW92ZXMgY2hpbGRyZW4gZnJvbSB0aGUgZGlzcGxheSBsaXN0LlxuICAgICAqIERvIG5vdCB1c2UgYSBDb250YWluZXIgYWZ0ZXIgY2FsbGluZyBgZGVzdHJveWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgX0Rpc3BsYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICB2YXIgZGVzdHJveUNoaWxkcmVuID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuY2hpbGRyZW47XG5cbiAgICAgICAgdmFyIG9sZENoaWxkcmVuID0gdGhpcy5yZW1vdmVDaGlsZHJlbigwLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKGRlc3Ryb3lDaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRDaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIG9sZENoaWxkcmVuW2ldLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBDb250YWluZXIsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhDb250YWluZXIsIFt7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS54ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS53aWR0aDtcblxuICAgICAgICAgICAgaWYgKHdpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gdmFsdWUgLyB3aWR0aDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBDb250YWluZXIsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUueSAqIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmIChoZWlnaHQgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSB2YWx1ZSAvIGhlaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ29udGFpbmVyO1xufShfRGlzcGxheU9iamVjdDMuZGVmYXVsdCk7XG5cbi8vIHBlcmZvcm1hbmNlIGluY3JlYXNlIHRvIGF2b2lkIHVzaW5nIGNhbGwuLiAoMTB4IGZhc3RlcilcblxuXG5leHBvcnRzLmRlZmF1bHQgPSBDb250YWluZXI7XG5Db250YWluZXIucHJvdG90eXBlLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSA9IENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udGFpbmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9TeXN0ZW1SZW5kZXJlcjIgPSByZXF1aXJlKCcuLi9TeXN0ZW1SZW5kZXJlcicpO1xuXG52YXIgX1N5c3RlbVJlbmRlcmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N5c3RlbVJlbmRlcmVyMik7XG5cbnZhciBfQ2FudmFzTWFza01hbmFnZXIgPSByZXF1aXJlKCcuL3V0aWxzL0NhbnZhc01hc2tNYW5hZ2VyJyk7XG5cbnZhciBfQ2FudmFzTWFza01hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzTWFza01hbmFnZXIpO1xuXG52YXIgX0NhbnZhc1JlbmRlclRhcmdldCA9IHJlcXVpcmUoJy4vdXRpbHMvQ2FudmFzUmVuZGVyVGFyZ2V0Jyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyVGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlclRhcmdldCk7XG5cbnZhciBfbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aSA9IHJlcXVpcmUoJy4vdXRpbHMvbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aScpO1xuXG52YXIgX21hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIENhbnZhc1JlbmRlcmVyIGRyYXdzIHRoZSBzY2VuZSBhbmQgYWxsIGl0cyBjb250ZW50IG9udG8gYSAyZCBjYW52YXMuIFRoaXMgcmVuZGVyZXIgc2hvdWxkXG4gKiBiZSB1c2VkIGZvciBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IFdlYkdMLiBEb24ndCBmb3JnZXQgdG8gYWRkIHRoZSBDYW52YXNSZW5kZXJlci52aWV3IHRvXG4gKiB5b3VyIERPTSBvciB5b3Ugd2lsbCBub3Qgc2VlIGFueXRoaW5nIDopXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1SZW5kZXJlclxuICovXG52YXIgQ2FudmFzUmVuZGVyZXIgPSBmdW5jdGlvbiAoX1N5c3RlbVJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKENhbnZhc1JlbmRlcmVyLCBfU3lzdGVtUmVuZGVyZXIpO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZhbGlkLWpzZG9jXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUmVzaXplPWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyBhdXRvbWF0aWNhbGx5IHJlc2l6ZWQsIGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhcyAob25seSBhcHBsaWNhYmxlIGluIGNocm9tZSBhdCB0aGUgbW9tZW50KVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLiBUaGVcbiAgICAgKiAgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICAgICAqICAgICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yb3VuZFBpeGVscz1mYWxzZV0gLSBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLFxuICAgICAqICBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1JlbmRlcmVyKG9wdGlvbnMsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc1JlbmRlcmVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfU3lzdGVtUmVuZGVyZXIuY2FsbCh0aGlzLCAnQ2FudmFzJywgb3B0aW9ucywgYXJnMiwgYXJnMykpO1xuXG4gICAgICAgIF90aGlzLnR5cGUgPSBfY29uc3QuUkVOREVSRVJfVFlQRS5DQU5WQVM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb290IGNhbnZhcyAyZCBjb250ZXh0IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB3aXRoLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yb290Q29udGV4dCA9IF90aGlzLnZpZXcuZ2V0Q29udGV4dCgnMmQnLCB7IGFscGhhOiBfdGhpcy50cmFuc3BhcmVudCB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgY2FudmFzIDJkIGNvbnRleHQgKGNvdWxkIGNoYW5nZSB3aXRoIHJlbmRlclRleHR1cmVzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0ID0gX3RoaXMucm9vdENvbnRleHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvb2xlYW4gZmxhZyBjb250cm9sbGluZyBjYW52YXMgcmVmcmVzaC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlZnJlc2ggPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnN0YW5jZSBvZiBhIENhbnZhc01hc2tNYW5hZ2VyLCBoYW5kbGVzIG1hc2tpbmcgd2hlbiB1c2luZyB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNhbnZhc01hc2tNYW5hZ2VyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza01hbmFnZXIgPSBuZXcgX0NhbnZhc01hc2tNYW5hZ2VyMi5kZWZhdWx0KF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyBwcm9wZXJ0eSB1c2VkIHRvIHNldCB0aGUgY2FudmFzIHNtb290aGluZyBwcm9wZXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc21vb3RoUHJvcGVydHkgPSAnaW1hZ2VTbW9vdGhpbmdFbmFibGVkJztcblxuICAgICAgICBpZiAoIV90aGlzLnJvb3RDb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnJvb3RDb250ZXh0LndlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNtb290aFByb3BlcnR5ID0gJ3dlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLnJvb3RDb250ZXh0Lm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNtb290aFByb3BlcnR5ID0gJ21vekltYWdlU21vb3RoaW5nRW5hYmxlZCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLnJvb3RDb250ZXh0Lm9JbWFnZVNtb290aGluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zbW9vdGhQcm9wZXJ0eSA9ICdvSW1hZ2VTbW9vdGhpbmdFbmFibGVkJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMucm9vdENvbnRleHQubXNJbWFnZVNtb290aGluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zbW9vdGhQcm9wZXJ0eSA9ICdtc0ltYWdlU21vb3RoaW5nRW5hYmxlZCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5pbml0UGx1Z2lucygpO1xuXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZXMgPSAoMCwgX21hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkyLmRlZmF1bHQpKCk7XG4gICAgICAgIF90aGlzLl9hY3RpdmVCbGVuZE1vZGUgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnJlbmRlcmluZ1RvU2NyZWVuID0gZmFsc2U7XG5cbiAgICAgICAgX3RoaXMucmVzaXplKF90aGlzLm9wdGlvbnMud2lkdGgsIF90aGlzLm9wdGlvbnMuaGVpZ2h0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYWZ0ZXIgcmVuZGVyaW5nIGZpbmlzaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5DYW52YXNSZW5kZXJlciNwb3N0cmVuZGVyXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBiZWZvcmUgcmVuZGVyaW5nIHN0YXJ0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQ2FudmFzUmVuZGVyZXIjcHJlcmVuZGVyXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHRvIHRoaXMgY2FudmFzIHZpZXdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIG9iamVjdCB0byBiZSByZW5kZXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBbcmVuZGVyVGV4dHVyZV0gLSBBIHJlbmRlciB0ZXh0dXJlIHRvIGJlIHJlbmRlcmVkIHRvLlxuICAgICAqICBJZiB1bnNldCwgaXQgd2lsbCByZW5kZXIgdG8gdGhlIHJvb3QgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjbGVhcj1mYWxzZV0gLSBXaGV0aGVyIHRvIGNsZWFyIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmdcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbdHJhbnNmb3JtXSAtIEEgdHJhbnNmb3JtYXRpb24gdG8gYmUgYXBwbGllZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGVUcmFuc2Zvcm09ZmFsc2VdIC0gV2hldGhlciB0byBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgY2xlYXIsIHRyYW5zZm9ybSwgc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICBpZiAoIXRoaXMudmlldykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FuIGJlIGhhbmR5IHRvIGtub3chXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSAhcmVuZGVyVGV4dHVyZTtcblxuICAgICAgICB0aGlzLmVtaXQoJ3ByZXJlbmRlcicpO1xuXG4gICAgICAgIHZhciByb290UmVzb2x1dGlvbiA9IHRoaXMucmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUgfHwgcmVuZGVyVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQgPSBuZXcgX0NhbnZhc1JlbmRlclRhcmdldDIuZGVmYXVsdChyZW5kZXJUZXh0dXJlLndpZHRoLCByZW5kZXJUZXh0dXJlLmhlaWdodCwgcmVuZGVyVGV4dHVyZS5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlLnNvdXJjZSA9IHJlbmRlclRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5jYW52YXM7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IHJlbmRlclRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5jb250ZXh0O1xuICAgICAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LnJlc29sdXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLnJvb3RDb250ZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHNjZW5lIGdyYXBoXG4gICAgICAgICAgICB2YXIgY2FjaGVQYXJlbnQgPSBkaXNwbGF5T2JqZWN0LnBhcmVudDtcbiAgICAgICAgICAgIHZhciB0ZW1wV3QgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0uY29weSh0ZW1wV3QpO1xuXG4gICAgICAgICAgICAgICAgLy8gbGV0cyBub3QgZm9yZ2V0IHRvIGZsYWcgdGhlIHBhcmVudCB0cmFuc2Zvcm0gYXMgZGlydHkuLi5cbiAgICAgICAgICAgICAgICB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm0uX3dvcmxkSUQgPSAtMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGVtcFd0LmlkZW50aXR5KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnBhcmVudCA9IGNhY2hlUGFyZW50O1xuICAgICAgICAgICAgLy8gZGlzcGxheU9iamVjdC5oaXRBcmVhID0gLy9UT0RPIGFkZCBhIHRlbXAgaGl0IGFyZWFcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IDE7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUJsZW5kTW9kZSA9IF9jb25zdC5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5ibGVuZE1vZGVzW19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdO1xuXG4gICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUyAmJiB0aGlzLnZpZXcuc2NyZWVuY2FudmFzKSB7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2xlYXIgIT09IHVuZGVmaW5lZCA/IGNsZWFyIDogdGhpcy5jbGVhckJlZm9yZVJlbmRlcikge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyaW5nVG9TY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc3BhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgYmFja2dyb3VuZCBmb3IgQ2FudmFzUmVuZGVyVGFyZ2V0IG9yIFJlbmRlclRleHR1cmU/XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIFJFTkRFUiBUQVJHRVQgU1RVRkYgSEVSRS4uXG4gICAgICAgIHZhciB0ZW1wQ29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlckNhbnZhcyh0aGlzKTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGVtcENvbnRleHQ7XG5cbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcm9vdFJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb3N0cmVuZGVyJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBjYW52YXMgb2YgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NsZWFyQ29sb3JdIC0gQ2xlYXIgdGhlIGNhbnZhcyB3aXRoIHRoaXMgY29sb3IsIGV4Y2VwdCB0aGUgY2FudmFzIGlzIHRyYW5zcGFyZW50LlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcihjbGVhckNvbG9yKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICAgIGNsZWFyQ29sb3IgPSBjbGVhckNvbG9yIHx8IHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZztcblxuICAgICAgICBpZiAoIXRoaXMudHJhbnNwYXJlbnQgJiYgY2xlYXJDb2xvcikge1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBjbGVhckNvbG9yO1xuICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmxlbmQgbW9kZSBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmxlbmRNb2RlIC0gU2VlIHtAbGluayBQSVhJLkJMRU5EX01PREVTfSBmb3IgdmFsaWQgdmFsdWVzLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuc2V0QmxlbmRNb2RlID0gZnVuY3Rpb24gc2V0QmxlbmRNb2RlKGJsZW5kTW9kZSkge1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlQmxlbmRNb2RlID09PSBibGVuZE1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjdGl2ZUJsZW5kTW9kZSA9IGJsZW5kTW9kZTtcbiAgICAgICAgdGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IHRoaXMuYmxlbmRNb2Rlc1tibGVuZE1vZGVdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgYW5kIG9wdGlvbmFsbHkgcmVtb3ZlcyB0aGUgQ2FudmFzIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShyZW1vdmVWaWV3KSB7XG4gICAgICAgIHRoaXMuZGVzdHJveVBsdWdpbnMoKTtcblxuICAgICAgICAvLyBjYWxsIHRoZSBiYXNlIGRlc3Ryb3lcbiAgICAgICAgX1N5c3RlbVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgcmVtb3ZlVmlldyk7XG5cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLnJlZnJlc2ggPSB0cnVlO1xuXG4gICAgICAgIHRoaXMubWFza01hbmFnZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLm1hc2tNYW5hZ2VyID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNtb290aFByb3BlcnR5ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgY2FudmFzIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQGV4dGVuZHMgUElYSS5TeXN0ZW1SZW5kZXJlciNyZXNpemVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIHRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkge1xuICAgICAgICBfU3lzdGVtUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZS5jYWxsKHRoaXMsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpO1xuXG4gICAgICAgIC8vIHJlc2V0IHRoZSBzY2FsZSBtb2RlLi4gb2RkbHkgdGhpcyBzZWVtcyB0byBiZSByZXNldCB3aGVuIHRoZSBjYW52YXMgaXMgcmVzaXplZC5cbiAgICAgICAgLy8gc3VyZWx5IGEgYnJvd3NlciBidWc/PyBMZXQgUGl4aUpTIGZpeCB0aGF0IGZvciB5b3UuLlxuICAgICAgICBpZiAodGhpcy5zbW9vdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5yb290Q29udGV4dFt0aGlzLnNtb290aFByb3BlcnR5XSA9IF9zZXR0aW5nczIuZGVmYXVsdC5TQ0FMRV9NT0RFID09PSBfY29uc3QuU0NBTEVfTU9ERVMuTElORUFSO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBibGVuZCBtb2RlIGhhcyBjaGFuZ2VkLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuaW52YWxpZGF0ZUJsZW5kTW9kZSA9IGZ1bmN0aW9uIGludmFsaWRhdGVCbGVuZE1vZGUoKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUJsZW5kTW9kZSA9IHRoaXMuYmxlbmRNb2Rlcy5pbmRleE9mKHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24pO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzUmVuZGVyZXI7XG59KF9TeXN0ZW1SZW5kZXJlcjMuZGVmYXVsdCk7XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcGx1Z2lucy4gVGhlc2UgYXJlIGluY2x1ZGVkIGJ5IGRlZmF1bHQgaW4gUElYSSwgYnV0IGNhbiBiZSBleGNsdWRlZFxuICogYnkgY3JlYXRpbmcgYSBjdXN0b20gYnVpbGQuIENvbnN1bHQgdGhlIFJFQURNRSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBjcmVhdGluZyBjdXN0b21cbiAqIGJ1aWxkcyBhbmQgZXhjbHVkaW5nIHBsdWdpbnMuXG4gKiBAbmFtZSBQSVhJLkNhbnZhc1JlbmRlcmVyI3BsdWdpbnNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcmVhZG9ubHlcbiAqIEBwcm9wZXJ0eSB7UElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyfSBhY2Nlc3NpYmlsaXR5IFN1cHBvcnQgdGFiYmluZyBpbnRlcmFjdGl2ZSBlbGVtZW50cy5cbiAqIEBwcm9wZXJ0eSB7UElYSS5leHRyYWN0LkNhbnZhc0V4dHJhY3R9IGV4dHJhY3QgRXh0cmFjdCBpbWFnZSBkYXRhIGZyb20gcmVuZGVyZXIuXG4gKiBAcHJvcGVydHkge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSBpbnRlcmFjdGlvbiBIYW5kbGVzIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuXG4gKiBAcHJvcGVydHkge1BJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlfSBwcmVwYXJlIFByZS1yZW5kZXIgZGlzcGxheSBvYmplY3RzLlxuICovXG5cbi8qKlxuICogQWRkcyBhIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIuXG4gKlxuICogQG1ldGhvZCBQSVhJLkNhbnZhc1JlbmRlcmVyI3JlZ2lzdGVyUGx1Z2luXG4gKiBAcGFyYW0ge3N0cmluZ30gcGx1Z2luTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdG9yIC0gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9yIGNsYXNzIGZvciB0aGUgcGx1Z2luLlxuICovXG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc1JlbmRlcmVyO1xuX3V0aWxzLnBsdWdpblRhcmdldC5taXhpbihDYW52YXNSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgV2ViR0xNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAqL1xuICBmdW5jdGlvbiBXZWJHTE1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xNYW5hZ2VyKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5XZWJHTFJlbmRlcmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgIHRoaXMucmVuZGVyZXIub24oJ2NvbnRleHQnLCB0aGlzLm9uQ29udGV4dENoYW5nZSwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJpYyBtZXRob2QgY2FsbGVkIHdoZW4gdGhlcmUgaXMgYSBXZWJHTCBjb250ZXh0IGNoYW5nZS5cbiAgICpcbiAgICovXG5cblxuICBXZWJHTE1hbmFnZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHt9XG4gIC8vIGRvIHNvbWUgY29kZXMgaW5pdCFcblxuXG4gIC8qKlxuICAgKiBHZW5lcmljIGRlc3Ryb3kgbWV0aG9kcyB0byBiZSBvdmVycmlkZGVuIGJ5IHRoZSBzdWJjbGFzc1xuICAgKlxuICAgKi9cbiAgO1xuXG4gIFdlYkdMTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlci5vZmYoJ2NvbnRleHQnLCB0aGlzLm9uQ29udGV4dENoYW5nZSwgdGhpcyk7XG5cbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gV2ViR0xNYW5hZ2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHTE1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTE1hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gY2hlY2tQcmVjaXNpb24oc3JjLCBkZWYpIHtcbiAgICBpZiAoc3JjIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgaWYgKHNyY1swXS5zdWJzdHJpbmcoMCwgOSkgIT09ICdwcmVjaXNpb24nKSB7XG4gICAgICAgICAgICB2YXIgY29weSA9IHNyYy5zbGljZSgwKTtcblxuICAgICAgICAgICAgY29weS51bnNoaWZ0KCdwcmVjaXNpb24gJyArIGRlZiArICcgZmxvYXQ7Jyk7XG5cbiAgICAgICAgICAgIHJldHVybiBjb3B5O1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChzcmMudHJpbSgpLnN1YnN0cmluZygwLCA5KSAhPT0gJ3ByZWNpc2lvbicpIHtcbiAgICAgICAgcmV0dXJuICdwcmVjaXNpb24gJyArIGRlZiArICcgZmxvYXQ7XFxuJyArIHNyYztcbiAgICB9XG5cbiAgICByZXR1cm4gc3JjO1xufVxuXG4vKipcbiAqIFdyYXBwZXIgY2xhc3MsIHdlYkdMIFNoYWRlciBmb3IgUGl4aS5cbiAqIEFkZHMgcHJlY2lzaW9uIHN0cmluZyBpZiB2ZXJ0ZXhTcmMgb3IgZnJhZ21lbnRTcmMgaGF2ZSBubyBtZW50aW9uIG9mIGl0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgR0xTaGFkZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIFNoYWRlciA9IGZ1bmN0aW9uIChfR0xTaGFkZXIpIHtcbiAgICBfaW5oZXJpdHMoU2hhZGVyLCBfR0xTaGFkZXIpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSB2ZXJ0ZXhTcmMgLSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gZnJhZ21lbnRTcmMgLSBUaGUgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbYXR0cmlidXRlTG9jYXRpb25zXSAtIEEga2V5IHZhbHVlIHBhaXIgc2hvd2luZyB3aGljaCBsb2NhdGlvbiBlYWN0IGF0dHJpYnV0ZSBzaG91bGQgc2l0LlxuICAgICAgICAgICAgICAgICAgICAgICBlLmcuIHtwb3NpdGlvbjowLCB1dnM6MX0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwcmVjaXNpb25dIC0gVGhlIGZsb2F0IHByZWNpc2lvbiBvZiB0aGUgc2hhZGVyLiBPcHRpb25zIGFyZSAnbG93cCcsICdtZWRpdW1wJyBvciAnaGlnaHAnLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNoYWRlcihnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYywgYXR0cmlidXRlTG9jYXRpb25zLCBwcmVjaXNpb24pIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNoYWRlcik7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9HTFNoYWRlci5jYWxsKHRoaXMsIGdsLCBjaGVja1ByZWNpc2lvbih2ZXJ0ZXhTcmMsIHByZWNpc2lvbiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUFJFQ0lTSU9OX1ZFUlRFWCksIGNoZWNrUHJlY2lzaW9uKGZyYWdtZW50U3JjLCBwcmVjaXNpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlBSRUNJU0lPTl9GUkFHTUVOVCksIHVuZGVmaW5lZCwgYXR0cmlidXRlTG9jYXRpb25zKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFNoYWRlcjtcbn0oX3BpeGlHbENvcmUuR0xTaGFkZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTaGFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaGFkZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBpbXBvcnQgTG9hZGVyIGZyb20gJy4vTG9hZGVyJztcbi8vIGltcG9ydCBSZXNvdXJjZSBmcm9tICcuL1Jlc291cmNlJztcbi8vIGltcG9ydCAqIGFzIGFzeW5jIGZyb20gJy4vYXN5bmMnO1xuLy8gaW1wb3J0ICogYXMgYjY0IGZyb20gJy4vYjY0JztcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cblxudmFyIExvYWRlciA9IHJlcXVpcmUoJy4vTG9hZGVyJykuTG9hZGVyO1xudmFyIFJlc291cmNlID0gcmVxdWlyZSgnLi9SZXNvdXJjZScpLlJlc291cmNlO1xudmFyIGFzeW5jID0gcmVxdWlyZSgnLi9hc3luYycpO1xudmFyIGI2NCA9IHJlcXVpcmUoJy4vYjY0Jyk7XG5cbi8qKlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBMb2FkZXJcbiAqIEBtZW1iZXIge0NsYXNzPFJlc291cmNlPn1cbiAqL1xuTG9hZGVyLlJlc291cmNlID0gUmVzb3VyY2U7XG5cbi8qKlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBMb2FkZXJcbiAqIEBtZW1iZXIge0NsYXNzPGFzeW5jPn1cbiAqL1xuTG9hZGVyLmFzeW5jID0gYXN5bmM7XG5cbi8qKlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBMb2FkZXJcbiAqIEBtZW1iZXIge0NsYXNzPGVuY29kZUJpbmFyeT59XG4gKi9cbkxvYWRlci5lbmNvZGVCaW5hcnkgPSBiNjQ7XG5cbi8qKlxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBAc2VlIExvYWRlci5lbmNvZGVCaW5hcnlcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgTG9hZGVyXG4gKiBAbWVtYmVyIHtDbGFzczxlbmNvZGVCaW5hcnk+fVxuICovXG5Mb2FkZXIuYmFzZTY0ID0gYjY0O1xuXG4vLyBleHBvcnQgbWFudWFsbHksIGFuZCBhbHNvIGFzIGRlZmF1bHRcbm1vZHVsZS5leHBvcnRzID0gTG9hZGVyO1xuXG4vLyBkZWZhdWx0ICYgbmFtZWQgZXhwb3J0XG5tb2R1bGUuZXhwb3J0cy5Mb2FkZXIgPSBMb2FkZXI7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gTG9hZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuLi9jb3JlL3RleHR1cmVzL1RleHR1cmUnKTtcblxudmFyIF9UZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgY29yZS5Qb2ludCgpO1xudmFyIHRlbXBQb2x5Z29uID0gbmV3IGNvcmUuUG9seWdvbigpO1xuXG4vKipcbiAqIEJhc2UgbWVzaCBjbGFzc1xuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWEkubWVzaFxuICovXG5cbnZhciBNZXNoID0gZnVuY3Rpb24gKF9jb3JlJENvbnRhaW5lcikge1xuICAgIF9pbmhlcml0cyhNZXNoLCBfY29yZSRDb250YWluZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2VcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW3ZlcnRpY2VzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFt1dnNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgdXZzXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheX0gW2luZGljZXNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgaW5kaWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZHJhd01vZGVdIC0gdGhlIGRyYXdNb2RlLCBjYW4gYmUgYW55IG9mIHRoZSBNZXNoLkRSQVdfTU9ERVMgY29uc3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaCh0ZXh0dXJlLCB2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzLCBkcmF3TW9kZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVzaCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIG9mIHRoZSBNZXNoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UZXh0dXJlLkVNUFRZXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRDb250YWluZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMuX3RleHR1cmUgPSB0ZXh0dXJlIHx8IF9UZXh0dXJlMi5kZWZhdWx0LkVNUFRZO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgVXZzIG9mIHRoZSBNZXNoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2cyA9IHV2cyB8fCBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAxLCAwLCAxLCAxLCAwLCAxXSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRpY2VzID0gdmVydGljZXMgfHwgbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgLy8gIFRPRE8gYXV0byBnZW5lcmF0ZSB0aGlzIGJhc2VkIG9uIGRyYXcgbW9kZSFcbiAgICAgICAgX3RoaXMuaW5kaWNlcyA9IGluZGljZXMgfHwgbmV3IFVpbnQxNkFycmF5KFswLCAxLCAzLCAyXSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZlcnNpb24gb2YgbWVzaCB1dnMgYXJlIGRpcnR5IG9yIG5vdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZlcnNpb24gb2YgbWVzaCBpbmRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmluZGV4RGlydHkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWZXJzaW9uIG9mIG1lc2ggdmVydGljaWVzIGFycmF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleERpcnR5ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHRoZSBkZWZhdWx0IGlzIHRvIHJlLXVwbG9hZCB2ZXJ0aWNpZXMgZWFjaCByZW5kZXIgY2FsbC5cbiAgICAgICAgICogU2V0IHRoaXMgdG8gYGZhbHNlYCBhbmQgaW5jcmVhc2UgYHZlcnRleERpcnR5YCB0byBtYW51YWxseSByZS11cGxvYWQgdGhlIGJ1ZmZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFNldCB0byBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlbW92ZVxuICAgICAgICAgKiBhbnkgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IGNvcmUuQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmlhbmdsZXMgaW4gY2FudmFzIG1vZGUgYXJlIGF1dG9tYXRpY2FsbHkgYW50aWFsaWFzZWQsIHVzZSB0aGlzIHZhbHVlIHRvIGZvcmNlIHRyaWFuZ2xlc1xuICAgICAgICAgKiB0byBvdmVybGFwIGEgYml0IHdpdGggZWFjaCBvdGhlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FudmFzUGFkZGluZyA9IGNvcmUuc2V0dGluZ3MuTUVTSF9DQU5WQVNfUEFERElORztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdheSB0aGUgTWVzaCBzaG91bGQgYmUgZHJhd24sIGNhbiBiZSBhbnkgb2YgdGhlIHtAbGluayBQSVhJLm1lc2guTWVzaC5EUkFXX01PREVTfSBjb25zdHNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkubWVzaC5NZXNoLkRSQVdfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRyYXdNb2RlID0gZHJhd01vZGUgfHwgTWVzaC5EUkFXX01PREVTLlRSSUFOR0xFX01FU0g7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHNoYWRlciB0aGF0IGlzIHVzZWQgaWYgYSBtZXNoIGRvZXNuJ3QgaGF2ZSBhIG1vcmUgc3BlY2lmaWMgb25lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIG1lc2guIFRoaXMgaXMgYSBbcixnLGJdIHZhbHVlLiBBIHZhbHVlIG9mIFsxLDEsMV0gd2lsbCByZW1vdmUgYW55XG4gICAgICAgICAqIHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aW50UmdiID0gbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMV0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgcmVuZGVyIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgb2JqZWN0Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9nbERhdGFzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRyYW5zZm9ybSB0aGF0IGlzIGFwcGxpZWQgdG8gVVYgdG8gZ2V0IHRoZSB0ZXh0dXJlIGNvb3Jkc1xuICAgICAgICAgKiBpdHMgdXBkYXRlZCBpbmRlcGVuZGVudGx5IGZyb20gdGV4dHVyZSB1dlRyYW5zZm9ybVxuICAgICAgICAgKiB1cGRhdGVzIG9mIHV2cyBhcmUgdGllZCB0byB0aGF0IHRoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91dlRyYW5zZm9ybSA9IG5ldyBjb3JlLlRleHR1cmVNYXRyaXgoX3RoaXMuX3RleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB3aGV0aGVyIG9yIG5vdCB1cGxvYWQgdXZUcmFuc2Zvcm0gdG8gc2hhZGVyXG4gICAgICAgICAqIGlmIGl0cyBmYWxzZSwgdGhlbiB1dnMgc2hvdWxkIGJlIHByZS1tdWx0aXBsaWVkXG4gICAgICAgICAqIGlmIHlvdSBjaGFuZ2UgaXQgZm9yIGdlbmVyYXRlZCBtZXNoLCBwbGVhc2UgY2FsbCAncmVmcmVzaCh0cnVlKSdcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVwbG9hZFV2VHJhbnNmb3JtID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXJXZWJHTCcgJiAnX3JlbmRlckNhbnZhcycgbWV0aG9kcy5cbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbWVzaCdcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBsdWdpbk5hbWUgPSAnbWVzaCc7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIGEgcmVmZXJlbmNlIHRvIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyV2ViR0wgPSBmdW5jdGlvbiBfcmVuZGVyV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIHJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAqL1xuXG5cbiAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgdGV4dHVyZSBpcyB1cGRhdGVkLCB0aGlzIGV2ZW50IHdpbGwgZmlyZSB0byB1cGRhdGUgdGhlIHNjYWxlIGFuZCBmcmFtZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgTWVzaC5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uIF9vblRleHR1cmVVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuX3V2VHJhbnNmb3JtLnRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogbXVsdGlwbGllcyB1dnMgb25seSBpZiB1cGxvYWRVdlRyYW5zZm9ybSBpcyBmYWxzZVxuICAgICAqIGNhbGwgaXQgYWZ0ZXIgeW91IGNoYW5nZSB1dnMgbWFudWFsbHlcbiAgICAgKiBtYWtlIHN1cmUgdGhhdCB0ZXh0dXJlIGlzIHZhbGlkXG4gICAgICovXG5cblxuICAgIE1lc2gucHJvdG90eXBlLm11bHRpcGx5VXZzID0gZnVuY3Rpb24gbXVsdGlwbHlVdnMoKSB7XG4gICAgICAgIGlmICghdGhpcy51cGxvYWRVdlRyYW5zZm9ybSkge1xuICAgICAgICAgICAgdGhpcy5fdXZUcmFuc2Zvcm0ubXVsdGlwbHlVdnModGhpcy51dnMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyB1dnMgZm9yIGdlbmVyYXRlZCBtZXNoZXMgKHJvcGUsIHBsYW5lKVxuICAgICAqIHNvbWV0aW1lcyByZWZyZXNoZXMgdmVydGljZXMgdG9vXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVVwZGF0ZT1mYWxzZV0gaWYgdHJ1ZSwgbWF0cmljZXMgd2lsbCBiZSB1cGRhdGVkIGFueSBjYXNlXG4gICAgICovXG5cblxuICAgIE1lc2gucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiByZWZyZXNoKGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMudmVydGV4RGlydHkrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdXZUcmFuc2Zvcm0udXBkYXRlKGZvcmNlVXBkYXRlKSkge1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHJlLWNhbGN1bGF0ZXMgbWVzaCBjb29yZHNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG5cblxuICAgIE1lc2gucHJvdG90eXBlLl9yZWZyZXNoID0gZnVuY3Rpb24gX3JlZnJlc2goKSB7fVxuICAgIC8qIGVtcHR5ICovXG5cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGJvdW5kcyBvZiB0aGUgbWVzaCBhcyBhIHJlY3RhbmdsZS4gVGhlIGJvdW5kcyBjYWxjdWxhdGlvbiB0YWtlcyB0aGUgd29ybGRUcmFuc2Zvcm0gaW50byBhY2NvdW50LlxuICAgICAqXG4gICAgICovXG4gICAgO1xuXG4gICAgTWVzaC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIC8vIFRPRE8gLSB3ZSBjYW4gY2FjaGUgbG9jYWwgYm91bmRzIGFuZCB1c2UgdGhlbSBpZiB0aGV5IGFyZSBkaXJ0eSAobGlrZSBncmFwaGljcylcbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZFZlcnRpY2VzKHRoaXMudHJhbnNmb3JtLCB0aGlzLnZlcnRpY2VzLCAwLCB0aGlzLnZlcnRpY2VzLmxlbmd0aCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgbWVzaC4gV29ya3Mgb25seSBmb3IgVFJJQU5HTEVfTUVTSFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuXG5cbiAgICBNZXNoLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICBpZiAoIXRoaXMuZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnQueCwgcG9pbnQueSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgICAgIHZhciBwb2ludHMgPSB0ZW1wUG9seWdvbi5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gdGhpcy5pbmRpY2VzO1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgdmFyIHN0ZXAgPSB0aGlzLmRyYXdNb2RlID09PSBNZXNoLkRSQVdfTU9ERVMuVFJJQU5HTEVTID8gMyA6IDE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgKyAyIDwgbGVuOyBpICs9IHN0ZXApIHtcbiAgICAgICAgICAgIHZhciBpbmQwID0gaW5kaWNlc1tpXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kMSA9IGluZGljZXNbaSArIDFdICogMjtcbiAgICAgICAgICAgIHZhciBpbmQyID0gaW5kaWNlc1tpICsgMl0gKiAyO1xuXG4gICAgICAgICAgICBwb2ludHNbMF0gPSB2ZXJ0aWNlc1tpbmQwXTtcbiAgICAgICAgICAgIHBvaW50c1sxXSA9IHZlcnRpY2VzW2luZDAgKyAxXTtcbiAgICAgICAgICAgIHBvaW50c1syXSA9IHZlcnRpY2VzW2luZDFdO1xuICAgICAgICAgICAgcG9pbnRzWzNdID0gdmVydGljZXNbaW5kMSArIDFdO1xuICAgICAgICAgICAgcG9pbnRzWzRdID0gdmVydGljZXNbaW5kMl07XG4gICAgICAgICAgICBwb2ludHNbNV0gPSB2ZXJ0aWNlc1tpbmQyICsgMV07XG5cbiAgICAgICAgICAgIGlmICh0ZW1wUG9seWdvbi5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIG1lc2ggdXNlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIE1lc2ggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShvcHRpb25zKSB7XG4gICAgICAgIC8vIGZvciBlYWNoIHdlYmdsIGRhdGEgZW50cnksIGRlc3Ryb3kgdGhlIFdlYkdMR3JhcGhpY3NEYXRhXG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMuX2dsRGF0YXMpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZ2xEYXRhc1tpZF07XG5cbiAgICAgICAgICAgIGlmIChkYXRhLmRlc3Ryb3kpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudmVydGV4QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudmVydGV4QnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS52ZXJ0ZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmluZGV4QnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnV2QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudXZCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnV2QnVmZmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudmFvKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudmFvLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS52YW8gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2dsRGF0YXMgPSBudWxsO1xuXG4gICAgICAgIF9jb3JlJENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoTWVzaCwgW3tcbiAgICAgICAga2V5OiAndGV4dHVyZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWU7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIHRoZSB0ZXh0dXJlIHRvIGxvYWRcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLm9uY2UoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIG1lc2guIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0aW50JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29yZS51dGlscy5yZ2IyaGV4KHRoaXMudGludFJnYik7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50aW50UmdiID0gY29yZS51dGlscy5oZXgycmdiKHZhbHVlLCB0aGlzLnRpbnRSZ2IpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIE1lc2g7XG59KGNvcmUuQ29udGFpbmVyKTtcblxuLyoqXG4gKiBEaWZmZXJlbnQgZHJhd2luZyBidWZmZXIgbW9kZXMgc3VwcG9ydGVkXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX01FU0hcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRVNcbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IE1lc2g7XG5NZXNoLkRSQVdfTU9ERVMgPSB7XG4gICAgVFJJQU5HTEVfTUVTSDogMCxcbiAgICBUUklBTkdMRVM6IDFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZXNoLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHV0aWwgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiB0aGUgc3BlY2lmaWVkIGl0ZW1cbiAqIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGFycmF5LjRcbiAqIEBwYXJhbSB7Kn0gYXJyYXkgdGhlIGFycmF5IGluIHdoaWNoIHRvIHNlYXJjaCB0aGUgZWxlbWVudC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIHRoZSBlbGVtZW50IHRvIHNlYXJjaC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oT2JqZWN0LE9iamVjdCk6Ym9vbGVhbj19IGVxdWFsc0Z1bmN0aW9uIG9wdGlvbmFsIGZ1bmN0aW9uIHVzZWQgdG9cbiAqIGNoZWNrIGVxdWFsaXR5IGJldHdlZW4gMiBlbGVtZW50cy5cbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIHRoZSBzcGVjaWZpZWQgZWxlbWVudFxuICogd2l0aGluIHRoZSBzcGVjaWZpZWQgYXJyYXksIG9yIC0xIGlmIG5vdCBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgaXRlbSwgZXF1YWxzRnVuY3Rpb24pIHtcbiAgICB2YXIgZXF1YWxzID0gZXF1YWxzRnVuY3Rpb24gfHwgdXRpbC5kZWZhdWx0RXF1YWxzO1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZXF1YWxzKGFycmF5W2ldLCBpdGVtKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuZXhwb3J0cy5pbmRleE9mID0gaW5kZXhPZjtcbi8qKlxuICogUmV0dXJucyB0aGUgcG9zaXRpb24gb2YgdGhlIGxhc3Qgb2NjdXJyZW5jZSBvZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnRcbiAqIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGFycmF5LlxuICogQHBhcmFtIHsqfSBhcnJheSB0aGUgYXJyYXkgaW4gd2hpY2ggdG8gc2VhcmNoIHRoZSBlbGVtZW50LlxuICogQHBhcmFtIHtPYmplY3R9IGl0ZW0gdGhlIGVsZW1lbnQgdG8gc2VhcmNoLlxuICogQHBhcmFtIHtmdW5jdGlvbihPYmplY3QsT2JqZWN0KTpib29sZWFuPX0gZXF1YWxzRnVuY3Rpb24gb3B0aW9uYWwgZnVuY3Rpb24gdXNlZCB0b1xuICogY2hlY2sgZXF1YWxpdHkgYmV0d2VlbiAyIGVsZW1lbnRzLlxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgcG9zaXRpb24gb2YgdGhlIGxhc3Qgb2NjdXJyZW5jZSBvZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnRcbiAqIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGFycmF5IG9yIC0xIGlmIG5vdCBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gbGFzdEluZGV4T2YoYXJyYXksIGl0ZW0sIGVxdWFsc0Z1bmN0aW9uKSB7XG4gICAgdmFyIGVxdWFscyA9IGVxdWFsc0Z1bmN0aW9uIHx8IHV0aWwuZGVmYXVsdEVxdWFscztcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSBsZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAoZXF1YWxzKGFycmF5W2ldLCBpdGVtKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuZXhwb3J0cy5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNwZWNpZmllZCBhcnJheSBjb250YWlucyB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gKiBAcGFyYW0geyp9IGFycmF5IHRoZSBhcnJheSBpbiB3aGljaCB0byBzZWFyY2ggdGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge09iamVjdH0gaXRlbSB0aGUgZWxlbWVudCB0byBzZWFyY2guXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKE9iamVjdCxPYmplY3QpOmJvb2xlYW49fSBlcXVhbHNGdW5jdGlvbiBvcHRpb25hbCBmdW5jdGlvbiB0b1xuICogY2hlY2sgZXF1YWxpdHkgYmV0d2VlbiAyIGVsZW1lbnRzLlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIGFycmF5IGNvbnRhaW5zIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gY29udGFpbnMoYXJyYXksIGl0ZW0sIGVxdWFsc0Z1bmN0aW9uKSB7XG4gICAgcmV0dXJuIGluZGV4T2YoYXJyYXksIGl0ZW0sIGVxdWFsc0Z1bmN0aW9uKSA+PSAwO1xufVxuZXhwb3J0cy5jb250YWlucyA9IGNvbnRhaW5zO1xuLyoqXG4gKiBSZW1vdmVzIHRoZSBmaXJzdCBvY3VycmVuY2Ugb2YgdGhlIHNwZWNpZmllZCBlbGVtZW50IGZyb20gdGhlIHNwZWNpZmllZCBhcnJheS5cbiAqIEBwYXJhbSB7Kn0gYXJyYXkgdGhlIGFycmF5IGluIHdoaWNoIHRvIHNlYXJjaCBlbGVtZW50LlxuICogQHBhcmFtIHtPYmplY3R9IGl0ZW0gdGhlIGVsZW1lbnQgdG8gc2VhcmNoLlxuICogQHBhcmFtIHtmdW5jdGlvbihPYmplY3QsT2JqZWN0KTpib29sZWFuPX0gZXF1YWxzRnVuY3Rpb24gb3B0aW9uYWwgZnVuY3Rpb24gdG9cbiAqIGNoZWNrIGVxdWFsaXR5IGJldHdlZW4gMiBlbGVtZW50cy5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIGFycmF5IGNoYW5nZWQgYWZ0ZXIgdGhpcyBjYWxsLlxuICovXG5mdW5jdGlvbiByZW1vdmUoYXJyYXksIGl0ZW0sIGVxdWFsc0Z1bmN0aW9uKSB7XG4gICAgdmFyIGluZGV4ID0gaW5kZXhPZihhcnJheSwgaXRlbSwgZXF1YWxzRnVuY3Rpb24pO1xuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0cy5yZW1vdmUgPSByZW1vdmU7XG4vKipcbiAqIFJldHVybnMgdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgc3BlY2lmaWVkIGFycmF5IGVxdWFsXG4gKiB0byB0aGUgc3BlY2lmaWVkIG9iamVjdC5cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IHRoZSBhcnJheSBpbiB3aGljaCB0byBkZXRlcm1pbmUgdGhlIGZyZXF1ZW5jeSBvZiB0aGUgZWxlbWVudC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIHRoZSBlbGVtZW50IHdob3NlIGZyZXF1ZW5jeSBpcyB0byBiZSBkZXRlcm1pbmVkLlxuICogQHBhcmFtIHtmdW5jdGlvbihPYmplY3QsT2JqZWN0KTpib29sZWFuPX0gZXF1YWxzRnVuY3Rpb24gb3B0aW9uYWwgZnVuY3Rpb24gdXNlZCB0b1xuICogY2hlY2sgZXF1YWxpdHkgYmV0d2VlbiAyIGVsZW1lbnRzLlxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBzcGVjaWZpZWQgYXJyYXlcbiAqIGVxdWFsIHRvIHRoZSBzcGVjaWZpZWQgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBmcmVxdWVuY3koYXJyYXksIGl0ZW0sIGVxdWFsc0Z1bmN0aW9uKSB7XG4gICAgdmFyIGVxdWFscyA9IGVxdWFsc0Z1bmN0aW9uIHx8IHV0aWwuZGVmYXVsdEVxdWFscztcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgIHZhciBmcmVxID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlcXVhbHMoYXJyYXlbaV0sIGl0ZW0pKSB7XG4gICAgICAgICAgICBmcmVxKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZyZXE7XG59XG5leHBvcnRzLmZyZXF1ZW5jeSA9IGZyZXF1ZW5jeTtcbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSB0d28gc3BlY2lmaWVkIGFycmF5cyBhcmUgZXF1YWwgdG8gb25lIGFub3RoZXIuXG4gKiBUd28gYXJyYXlzIGFyZSBjb25zaWRlcmVkIGVxdWFsIGlmIGJvdGggYXJyYXlzIGNvbnRhaW4gdGhlIHNhbWUgbnVtYmVyXG4gKiBvZiBlbGVtZW50cywgYW5kIGFsbCBjb3JyZXNwb25kaW5nIHBhaXJzIG9mIGVsZW1lbnRzIGluIHRoZSB0d29cbiAqIGFycmF5cyBhcmUgZXF1YWwgYW5kIGFyZSBpbiB0aGUgc2FtZSBvcmRlci5cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MSBvbmUgYXJyYXkgdG8gYmUgdGVzdGVkIGZvciBlcXVhbGl0eS5cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MiB0aGUgb3RoZXIgYXJyYXkgdG8gYmUgdGVzdGVkIGZvciBlcXVhbGl0eS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oT2JqZWN0LE9iamVjdCk6Ym9vbGVhbj19IGVxdWFsc0Z1bmN0aW9uIG9wdGlvbmFsIGZ1bmN0aW9uIHVzZWQgdG9cbiAqIGNoZWNrIGVxdWFsaXR5IGJldHdlZW4gZWxlbWVtZW50cyBpbiB0aGUgYXJyYXlzLlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgdHdvIGFycmF5cyBhcmUgZXF1YWxcbiAqL1xuZnVuY3Rpb24gZXF1YWxzKGFycmF5MSwgYXJyYXkyLCBlcXVhbHNGdW5jdGlvbikge1xuICAgIHZhciBlcXVhbHMgPSBlcXVhbHNGdW5jdGlvbiB8fCB1dGlsLmRlZmF1bHRFcXVhbHM7XG4gICAgaWYgKGFycmF5MS5sZW5ndGggIT09IGFycmF5Mi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkxLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghZXF1YWxzKGFycmF5MVtpXSwgYXJyYXkyW2ldKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0cy5lcXVhbHMgPSBlcXVhbHM7XG4vKipcbiAqIFJldHVybnMgc2hhbGxvdyBhIGNvcHkgb2YgdGhlIHNwZWNpZmllZCBhcnJheS5cbiAqIEBwYXJhbSB7Kn0gYXJyYXkgdGhlIGFycmF5IHRvIGNvcHkuXG4gKiBAcmV0dXJuIHtBcnJheX0gYSBjb3B5IG9mIHRoZSBzcGVjaWZpZWQgYXJyYXlcbiAqL1xuZnVuY3Rpb24gY29weShhcnJheSkge1xuICAgIHJldHVybiBhcnJheS5jb25jYXQoKTtcbn1cbmV4cG9ydHMuY29weSA9IGNvcHk7XG4vKipcbiAqIFN3YXBzIHRoZSBlbGVtZW50cyBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9ucyBpbiB0aGUgc3BlY2lmaWVkIGFycmF5LlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IGluIHdoaWNoIHRvIHN3YXAgZWxlbWVudHMuXG4gKiBAcGFyYW0ge251bWJlcn0gaSB0aGUgaW5kZXggb2Ygb25lIGVsZW1lbnQgdG8gYmUgc3dhcHBlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBqIHRoZSBpbmRleCBvZiB0aGUgb3RoZXIgZWxlbWVudCB0byBiZSBzd2FwcGVkLlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgYXJyYXkgaXMgZGVmaW5lZCBhbmQgdGhlIGluZGV4ZXMgYXJlIHZhbGlkLlxuICovXG5mdW5jdGlvbiBzd2FwKGFycmF5LCBpLCBqKSB7XG4gICAgaWYgKGkgPCAwIHx8IGkgPj0gYXJyYXkubGVuZ3RoIHx8IGogPCAwIHx8IGogPj0gYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHRlbXAgPSBhcnJheVtpXTtcbiAgICBhcnJheVtpXSA9IGFycmF5W2pdO1xuICAgIGFycmF5W2pdID0gdGVtcDtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydHMuc3dhcCA9IHN3YXA7XG5mdW5jdGlvbiB0b1N0cmluZyhhcnJheSkge1xuICAgIHJldHVybiAnWycgKyBhcnJheS50b1N0cmluZygpICsgJ10nO1xufVxuZXhwb3J0cy50b1N0cmluZyA9IHRvU3RyaW5nO1xuLyoqXG4gKiBFeGVjdXRlcyB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gb25jZSBmb3IgZWFjaCBlbGVtZW50IHByZXNlbnQgaW4gdGhpcyBhcnJheVxuICogc3RhcnRpbmcgZnJvbSBpbmRleCAwIHRvIGxlbmd0aCAtIDEuXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgaW4gd2hpY2ggdG8gaXRlcmF0ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oT2JqZWN0KToqfSBjYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlLCBpdCBpc1xuICogaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogdGhlIGVsZW1lbnQgdmFsdWUsIHRvIGJyZWFrIHRoZSBpdGVyYXRpb24geW91IGNhblxuICogb3B0aW9uYWxseSByZXR1cm4gZmFsc2UuXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2goYXJyYXksIGNhbGxiYWNrKSB7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBhcnJheV8xID0gYXJyYXk7IF9pIDwgYXJyYXlfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGVsZSA9IGFycmF5XzFbX2ldO1xuICAgICAgICBpZiAoY2FsbGJhY2soZWxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuZm9yRWFjaCA9IGZvckVhY2g7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcnJheXMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMTWFuYWdlcjIgPSByZXF1aXJlKCcuLi9tYW5hZ2Vycy9XZWJHTE1hbmFnZXInKTtcblxudmFyIF9XZWJHTE1hbmFnZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xNYW5hZ2VyMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBCYXNlIGZvciBhIGNvbW1vbiBvYmplY3QgcmVuZGVyZXIgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHN5c3RlbSByZW5kZXJlciBwbHVnaW4uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLldlYkdMTWFuYWdlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gKF9XZWJHTE1hbmFnZXIpIHtcbiAgX2luaGVyaXRzKE9iamVjdFJlbmRlcmVyLCBfV2ViR0xNYW5hZ2VyKTtcblxuICBmdW5jdGlvbiBPYmplY3RSZW5kZXJlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9XZWJHTE1hbmFnZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSByZW5kZXJlciBhbmQgc2V0cyB0aGUgc2hhZGVyXG4gICAqXG4gICAqL1xuICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCgpIHt9XG4gIC8vIHNldCB0aGUgc2hhZGVyLi5cblxuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgcmVuZGVyZXJcbiAgICpcbiAgICovXG4gIDtcblxuICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgdGhpcy5mbHVzaCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdHViIG1ldGhvZCBmb3IgcmVuZGVyaW5nIGNvbnRlbnQgYW5kIGVtcHR5aW5nIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgKlxuICAgKi9cblxuXG4gIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoKCkge31cbiAgLy8gZmx1c2ghXG5cblxuICAvKipcbiAgICogUmVuZGVycyBhbiBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICAgKi9cbiAgO1xuXG4gIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIob2JqZWN0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHtcbiAgICAvLyByZW5kZXIgdGhlIG9iamVjdFxuICB9O1xuXG4gIHJldHVybiBPYmplY3RSZW5kZXJlcjtcbn0oX1dlYkdMTWFuYWdlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE9iamVjdFJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0UmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1N5c3RlbVJlbmRlcmVyMiA9IHJlcXVpcmUoJy4uL1N5c3RlbVJlbmRlcmVyJyk7XG5cbnZhciBfU3lzdGVtUmVuZGVyZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3lzdGVtUmVuZGVyZXIyKTtcblxudmFyIF9NYXNrTWFuYWdlciA9IHJlcXVpcmUoJy4vbWFuYWdlcnMvTWFza01hbmFnZXInKTtcblxudmFyIF9NYXNrTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NYXNrTWFuYWdlcik7XG5cbnZhciBfU3RlbmNpbE1hbmFnZXIgPSByZXF1aXJlKCcuL21hbmFnZXJzL1N0ZW5jaWxNYW5hZ2VyJyk7XG5cbnZhciBfU3RlbmNpbE1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3RlbmNpbE1hbmFnZXIpO1xuXG52YXIgX0ZpbHRlck1hbmFnZXIgPSByZXF1aXJlKCcuL21hbmFnZXJzL0ZpbHRlck1hbmFnZXInKTtcblxudmFyIF9GaWx0ZXJNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZpbHRlck1hbmFnZXIpO1xuXG52YXIgX1JlbmRlclRhcmdldCA9IHJlcXVpcmUoJy4vdXRpbHMvUmVuZGVyVGFyZ2V0Jyk7XG5cbnZhciBfUmVuZGVyVGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRhcmdldCk7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIgPSByZXF1aXJlKCcuL3V0aWxzL09iamVjdFJlbmRlcmVyJyk7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JqZWN0UmVuZGVyZXIpO1xuXG52YXIgX1RleHR1cmVNYW5hZ2VyID0gcmVxdWlyZSgnLi9UZXh0dXJlTWFuYWdlcicpO1xuXG52YXIgX1RleHR1cmVNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmVNYW5hZ2VyKTtcblxudmFyIF9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4uLy4uL3RleHR1cmVzL0Jhc2VUZXh0dXJlJyk7XG5cbnZhciBfQmFzZVRleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUpO1xuXG52YXIgX1RleHR1cmVHYXJiYWdlQ29sbGVjdG9yID0gcmVxdWlyZSgnLi9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvcicpO1xuXG52YXIgX1RleHR1cmVHYXJiYWdlQ29sbGVjdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmVHYXJiYWdlQ29sbGVjdG9yKTtcblxudmFyIF9XZWJHTFN0YXRlID0gcmVxdWlyZSgnLi9XZWJHTFN0YXRlJyk7XG5cbnZhciBfV2ViR0xTdGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTFN0YXRlKTtcblxudmFyIF9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aSA9IHJlcXVpcmUoJy4vdXRpbHMvbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGknKTtcblxudmFyIF9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aSk7XG5cbnZhciBfdmFsaWRhdGVDb250ZXh0ID0gcmVxdWlyZSgnLi91dGlscy92YWxpZGF0ZUNvbnRleHQnKTtcblxudmFyIF92YWxpZGF0ZUNvbnRleHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmFsaWRhdGVDb250ZXh0KTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3BpeGlHbENvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBDT05URVhUX1VJRCA9IDA7XG5cbi8qKlxuICogVGhlIFdlYkdMUmVuZGVyZXIgZHJhd3MgdGhlIHNjZW5lIGFuZCBhbGwgaXRzIGNvbnRlbnQgb250byBhIHdlYkdMIGVuYWJsZWQgY2FudmFzLiBUaGlzIHJlbmRlcmVyXG4gKiBzaG91bGQgYmUgdXNlZCBmb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IHdlYkdMLiBUaGlzIFJlbmRlciB3b3JrcyBieSBhdXRvbWF0aWNhbGx5IG1hbmFnaW5nIHdlYkdMQmF0Y2hzLlxuICogU28gbm8gbmVlZCBmb3IgU3ByaXRlIEJhdGNoZXMgb3IgU3ByaXRlIENsb3Vkcy5cbiAqIERvbid0IGZvcmdldCB0byBhZGQgdGhlIHZpZXcgdG8geW91ciBET00gb3IgeW91IHdpbGwgbm90IHNlZSBhbnl0aGluZyA6KVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtUmVuZGVyZXJcbiAqL1xuXG52YXIgV2ViR0xSZW5kZXJlciA9IGZ1bmN0aW9uIChfU3lzdGVtUmVuZGVyZXIpIHtcbiAgICBfaW5oZXJpdHMoV2ViR0xSZW5kZXJlciwgX1N5c3RlbVJlbmRlcmVyKTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUmVzaXplPWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyBhdXRvbWF0aWNhbGx5IHJlc2l6ZWQsIGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhcy4gSWYgbm90IGF2YWlsYWJsZSBuYXRpdmVseSB0aGVuIEZYQUFcbiAgICAgKiAgYW50aWFsaWFzaW5nIGlzIHVzZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlRlhBQT1mYWxzZV0gLSBmb3JjZXMgRlhBQSBhbnRpYWxpYXNpbmcgdG8gYmUgdXNlZCBvdmVyIG5hdGl2ZS5cbiAgICAgKiAgRlhBQSBpcyBmYXN0ZXIsIGJ1dCBtYXkgbm90IGFsd2F5cyBsb29rIGFzIGdyZWF0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICogIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJlciByZXRpbmEgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyXG4gICAgICogIHRoZSBjYW52YXMgb3Igbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLiBJZiB5b3Ugd2lzaCB0byBzZXQgdGhpcyB0byBmYWxzZSwgeW91ICptdXN0KiBzZXRcbiAgICAgKiAgcHJlc2VydmVEcmF3aW5nQnVmZmVyIHRvIGB0cnVlYC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbixcbiAgICAgKiAgZW5hYmxlIHRoaXMgaWYgeW91IG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIHdlYmdsIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yb3VuZFBpeGVscz1mYWxzZV0gLSBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW5cbiAgICAgKiAgcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWdhY3k9ZmFsc2VdIC0gSWYgdHJ1ZSBQaXhpSlMgd2lsbCBhaW0gdG8gZW5zdXJlIGNvbXBhdGliaWxpdHlcbiAgICAgKiAgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy4gSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyB0cnkgc2V0dGluZyB0aGlzIHRvIHRydWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICAgICAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdlYkdMUmVuZGVyZXIob3B0aW9ucywgYXJnMiwgYXJnMykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xSZW5kZXJlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1N5c3RlbVJlbmRlcmVyLmNhbGwodGhpcywgJ1dlYkdMJywgb3B0aW9ucywgYXJnMiwgYXJnMykpO1xuXG4gICAgICAgIF90aGlzLmxlZ2FjeSA9IF90aGlzLm9wdGlvbnMubGVnYWN5O1xuXG4gICAgICAgIGlmIChfdGhpcy5sZWdhY3kpIHtcbiAgICAgICAgICAgIF9waXhpR2xDb3JlMi5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0LkZPUkNFX05BVElWRSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhpcyByZW5kZXJlciBhcyBhIHN0YW5kYXJkaXNlZCBjb25zdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5SRU5ERVJFUl9UWVBFXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50eXBlID0gX2NvbnN0LlJFTkRFUkVSX1RZUEUuV0VCR0w7XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlQ29udGV4dExvc3QgPSBfdGhpcy5oYW5kbGVDb250ZXh0TG9zdC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gX3RoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIF90aGlzLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIF90aGlzLmhhbmRsZUNvbnRleHRMb3N0LCBmYWxzZSk7XG4gICAgICAgIF90aGlzLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCBfdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQsIGZhbHNlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wdGlvbnMgcGFzc2VkIGluIHRvIGNyZWF0ZSBhIG5ldyB3ZWJnbCBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY29udGV4dE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBhbHBoYTogX3RoaXMudHJhbnNwYXJlbnQsXG4gICAgICAgICAgICBhbnRpYWxpYXM6IF90aGlzLm9wdGlvbnMuYW50aWFsaWFzLFxuICAgICAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiBfdGhpcy50cmFuc3BhcmVudCAmJiBfdGhpcy50cmFuc3BhcmVudCAhPT0gJ25vdE11bHRpcGxpZWQnLFxuICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogX3RoaXMub3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsXG4gICAgICAgICAgICBwb3dlclByZWZlcmVuY2U6IF90aGlzLm9wdGlvbnMucG93ZXJQcmVmZXJlbmNlXG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuX2JhY2tncm91bmRDb2xvclJnYmFbM10gPSBfdGhpcy50cmFuc3BhcmVudCA/IDAgOiAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYW5hZ2VzIHRoZSBtYXNrcyB1c2luZyB0aGUgc3RlbmNpbCBidWZmZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWFza01hbmFnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXNrTWFuYWdlciA9IG5ldyBfTWFza01hbmFnZXIyLmRlZmF1bHQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYW5hZ2VzIHRoZSBzdGVuY2lsIGJ1ZmZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGVuY2lsTWFuYWdlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0ZW5jaWxNYW5hZ2VyID0gbmV3IF9TdGVuY2lsTWFuYWdlcjIuZGVmYXVsdChfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGVtcHR5IHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9iamVjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZW1wdHlSZW5kZXJlciA9IG5ldyBfT2JqZWN0UmVuZGVyZXIyLmRlZmF1bHQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBPYmplY3RSZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRSZW5kZXJlciA9IF90aGlzLmVtcHR5UmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWFuYWdlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVNYW5hZ2VyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgZmlsdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJNYW5hZ2VyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyTWFuYWdlciA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuaW5pdFBsdWdpbnMoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHQsIGl0IGlzIGNyZWF0ZWQgaGVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICAvLyBpbml0aWFsaXplIHRoZSBjb250ZXh0IHNvIGl0IGlzIHJlYWR5IGZvciB0aGUgbWFuYWdlcnMuXG4gICAgICAgIGlmIChfdGhpcy5vcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrcyB0byBzZWUgaWYgYSBjb250ZXh0IGlzIHZhbGlkLi5cbiAgICAgICAgICAgICgwLCBfdmFsaWRhdGVDb250ZXh0Mi5kZWZhdWx0KShfdGhpcy5vcHRpb25zLmNvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuZ2wgPSBfdGhpcy5vcHRpb25zLmNvbnRleHQgfHwgX3BpeGlHbENvcmUyLmRlZmF1bHQuY3JlYXRlQ29udGV4dChfdGhpcy52aWV3LCBfdGhpcy5fY29udGV4dE9wdGlvbnMpO1xuXG4gICAgICAgIF90aGlzLkNPTlRFWFRfVUlEID0gQ09OVEVYVF9VSUQrKztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgT2JqZWN0UmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuV2ViR0xTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gbmV3IF9XZWJHTFN0YXRlMi5kZWZhdWx0KF90aGlzLmdsKTtcblxuICAgICAgICBfdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRleHR1cmVzIGJvdW5kIHRvIHRoZSBHUFUuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJvdW5kVGV4dHVyZXMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgY3VycmVudCBzaGFkZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYWN0aXZlU2hhZGVyID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5fYWN0aXZlVmFvID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG9sZHMgdGhlIGN1cnJlbnQgcmVuZGVyIHRhcmdldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlclRhcmdldH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLl9pbml0Q29udGV4dCgpO1xuXG4gICAgICAgIC8vIG1hcCBzb21lIHdlYkdMIGJsZW5kIGFuZCBkcmF3bW9kZXMuLlxuICAgICAgICBfdGhpcy5kcmF3TW9kZXMgPSAoMCwgX21hcFdlYkdMRHJhd01vZGVzVG9QaXhpMi5kZWZhdWx0KShfdGhpcy5nbCk7XG5cbiAgICAgICAgX3RoaXMuX25leHRUZXh0dXJlTG9jYXRpb24gPSAwO1xuXG4gICAgICAgIF90aGlzLnNldEJsZW5kTW9kZSgwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYWZ0ZXIgcmVuZGVyaW5nIGZpbmlzaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5XZWJHTFJlbmRlcmVyI3Bvc3RyZW5kZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGJlZm9yZSByZW5kZXJpbmcgc3RhcnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5XZWJHTFJlbmRlcmVyI3ByZXJlbmRlclxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgV2ViR0wgY29udGV4dCBpcyBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLldlYkdMUmVuZGVyZXIjY29udGV4dFxuICAgICAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBXZWJHTCBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLl9pbml0Q29udGV4dCA9IGZ1bmN0aW9uIF9pbml0Q29udGV4dCgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICAvLyByZXN0b3JlIGEgY29udGV4dCBpZiBpdCB3YXMgcHJldmlvdXNseSBsb3N0XG4gICAgICAgIGlmIChnbC5pc0NvbnRleHRMb3N0KCkgJiYgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKSkge1xuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKS5yZXN0b3JlQ29udGV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1heFRleHR1cmVzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKTtcblxuICAgICAgICB0aGlzLl9hY3RpdmVTaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuXG4gICAgICAgIHRoaXMuYm91bmRUZXh0dXJlcyA9IG5ldyBBcnJheShtYXhUZXh0dXJlcyk7XG4gICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlcyA9IG5ldyBBcnJheShtYXhUZXh0dXJlcyk7XG5cbiAgICAgICAgLy8gY3JlYXRlIGEgdGV4dHVyZSBtYW5hZ2VyLi4uXG4gICAgICAgIHRoaXMudGV4dHVyZU1hbmFnZXIgPSBuZXcgX1RleHR1cmVNYW5hZ2VyMi5kZWZhdWx0KHRoaXMpO1xuICAgICAgICB0aGlzLmZpbHRlck1hbmFnZXIgPSBuZXcgX0ZpbHRlck1hbmFnZXIyLmRlZmF1bHQodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUdDID0gbmV3IF9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvcjIuZGVmYXVsdCh0aGlzKTtcblxuICAgICAgICB0aGlzLnN0YXRlLnJlc2V0VG9EZWZhdWx0KCk7XG5cbiAgICAgICAgdGhpcy5yb290UmVuZGVyVGFyZ2V0ID0gbmV3IF9SZW5kZXJUYXJnZXQyLmRlZmF1bHQoZ2wsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCBudWxsLCB0aGlzLnJlc29sdXRpb24sIHRydWUpO1xuICAgICAgICB0aGlzLnJvb3RSZW5kZXJUYXJnZXQuY2xlYXJDb2xvciA9IHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmE7XG5cbiAgICAgICAgdGhpcy5iaW5kUmVuZGVyVGFyZ2V0KHRoaXMucm9vdFJlbmRlclRhcmdldCk7XG5cbiAgICAgICAgLy8gbm93IGxldHMgZmlsbCB1cCB0aGUgdGV4dHVyZXMgd2l0aCBlbXB0eSBvbmVzIVxuICAgICAgICB2YXIgZW1wdHlHTFRleHR1cmUgPSBuZXcgX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xUZXh0dXJlLmZyb21EYXRhKGdsLCBudWxsLCAxLCAxKTtcblxuICAgICAgICB2YXIgdGVtcE9iaiA9IHsgX2dsVGV4dHVyZXM6IHt9IH07XG5cbiAgICAgICAgdGVtcE9iai5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICAgICAgdmFyIGVtcHR5ID0gbmV3IF9CYXNlVGV4dHVyZTIuZGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBlbXB0eS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSA9IGVtcHR5R0xUZXh0dXJlO1xuXG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSB0ZW1wT2JqO1xuICAgICAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzW2ldID0gZW1wdHk7XG4gICAgICAgICAgICB0aGlzLmJpbmRUZXh0dXJlKG51bGwsIGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCdjb250ZXh0JywgZ2wpO1xuXG4gICAgICAgIC8vIHNldHVwIHRoZSB3aWR0aC9oZWlnaHQgcHJvcGVydGllcyBhbmQgZ2wgdmlld3BvcnRcbiAgICAgICAgdGhpcy5yZXNpemUodGhpcy5zY3JlZW4ud2lkdGgsIHRoaXMuc2NyZWVuLmhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB0byBpdHMgd2ViR0wgdmlld1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSB0aGUgb2JqZWN0IHRvIGJlIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyIHRleHR1cmUgdG8gcmVuZGVyIHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NsZWFyXSAtIFNob3VsZCB0aGUgY2FudmFzIGJlIGNsZWFyZWQgYmVmb3JlIHRoZSBuZXcgcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gW3RyYW5zZm9ybV0gLSBBIHRyYW5zZm9ybSB0byBhcHBseSB0byB0aGUgcmVuZGVyIHRleHR1cmUgYmVmb3JlIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlVHJhbnNmb3JtXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtIHBhc3M/XG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBjbGVhciwgdHJhbnNmb3JtLCBza2lwVXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICAgIC8vIGNhbiBiZSBoYW5keSB0byBrbm93IVxuICAgICAgICB0aGlzLnJlbmRlcmluZ1RvU2NyZWVuID0gIXJlbmRlclRleHR1cmU7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwcmVyZW5kZXInKTtcblxuICAgICAgICAvLyBubyBwb2ludCByZW5kZXJpbmcgaWYgb3VyIGNvbnRleHQgaGFzIGJlZW4gYmxvd24gdXAhXG4gICAgICAgIGlmICghdGhpcy5nbCB8fCB0aGlzLmdsLmlzQ29udGV4dExvc3QoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbmV4dFRleHR1cmVMb2NhdGlvbiA9IDA7XG5cbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHNjZW5lIGdyYXBoXG4gICAgICAgICAgICB2YXIgY2FjaGVQYXJlbnQgPSBkaXNwbGF5T2JqZWN0LnBhcmVudDtcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnBhcmVudCA9IGNhY2hlUGFyZW50O1xuICAgICAgICAgICAgLy8gZGlzcGxheU9iamVjdC5oaXRBcmVhID0gLy9UT0RPIGFkZCBhIHRlbXAgaGl0IGFyZWFcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmluZFJlbmRlclRleHR1cmUocmVuZGVyVGV4dHVyZSwgdHJhbnNmb3JtKTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuXG4gICAgICAgIGlmIChjbGVhciAhPT0gdW5kZWZpbmVkID8gY2xlYXIgOiB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQuY2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVyV2ViR0wodGhpcyk7XG5cbiAgICAgICAgLy8gYXBwbHkgdHJhbnNmb3JtLi5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTtcblxuICAgICAgICAvLyB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy50ZXh0dXJlR0MudXBkYXRlKCk7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb3N0cmVuZGVyJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgcmVuZGVyZXIgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5PYmplY3RSZW5kZXJlcn0gb2JqZWN0UmVuZGVyZXIgLSBUaGUgb2JqZWN0IHJlbmRlcmVyIHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc2V0T2JqZWN0UmVuZGVyZXIgPSBmdW5jdGlvbiBzZXRPYmplY3RSZW5kZXJlcihvYmplY3RSZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UmVuZGVyZXIgPT09IG9iamVjdFJlbmRlcmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gb2JqZWN0UmVuZGVyZXI7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBpZiB5b3Ugd2lzaCB0byBkbyBzb21lIGN1c3RvbSByZW5kZXJpbmdcbiAgICAgKiBJdCB3aWxsIGJhc2ljYWxseSByZW5kZXIgYW55dGhpbmcgdGhhdCBtYXkgYmUgYmF0Y2hlZCB1cCBzdWNoIGFzIHNwcml0ZXNcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIHdlYkdMIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgLy8gIGlmKHdpZHRoICogdGhpcy5yZXNvbHV0aW9uID09PSB0aGlzLndpZHRoICYmIGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbiA9PT0gdGhpcy5oZWlnaHQpcmV0dXJuO1xuXG4gICAgICAgIF9TeXN0ZW1SZW5kZXJlcjMuZGVmYXVsdC5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcywgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5yb290UmVuZGVyVGFyZ2V0LnJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcblxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0ID09PSB0aGlzLnJvb3RSZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdFJlbmRlclRhcmdldC5hY3RpdmF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZlU2hhZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXggPSB0aGlzLnJvb3RSZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeC50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIHdlYkdMIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJsZW5kTW9kZSAtIHRoZSBkZXNpcmVkIGJsZW5kIG1vZGVcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc2V0QmxlbmRNb2RlID0gZnVuY3Rpb24gc2V0QmxlbmRNb2RlKGJsZW5kTW9kZSkge1xuICAgICAgICB0aGlzLnN0YXRlLnNldEJsZW5kTW9kZShibGVuZE1vZGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFcmFzZXMgdGhlIGFjdGl2ZSByZW5kZXIgdGFyZ2V0IGFuZCBmaWxscyB0aGUgZHJhd2luZyBhcmVhIHdpdGggYSBjb2xvdXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY2xlYXJDb2xvcl0gLSBUaGUgY29sb3VyXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoY2xlYXJDb2xvcikge1xuICAgICAgICB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQuY2xlYXIoY2xlYXJDb2xvcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRyYW5zZm9ybSBvZiB0aGUgYWN0aXZlIHJlbmRlciB0YXJnZXQgdG8gdGhlIGdpdmVuIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0obWF0cml4KSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldC50cmFuc2Zvcm0gPSBtYXRyaXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVyYXNlcyB0aGUgcmVuZGVyIHRleHR1cmUgYW5kIGZpbGxzIHRoZSBkcmF3aW5nIGFyZWEgd2l0aCBhIGNvbG91clxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyIHRleHR1cmUgdG8gY2xlYXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NsZWFyQ29sb3JdIC0gVGhlIGNvbG91clxuICAgICAqIEByZXR1cm4ge1BJWEkuV2ViR0xSZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyUmVuZGVyVGV4dHVyZSA9IGZ1bmN0aW9uIGNsZWFyUmVuZGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlLCBjbGVhckNvbG9yKSB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBiYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmIChyZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldC5jbGVhcihjbGVhckNvbG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBhIHJlbmRlciB0ZXh0dXJlIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IHRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gdG8gYmUgYXBwbGllZCB0byB0aGUgcmVuZGVyIHRleHR1cmVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5iaW5kUmVuZGVyVGV4dHVyZSA9IGZ1bmN0aW9uIGJpbmRSZW5kZXJUZXh0dXJlKHJlbmRlclRleHR1cmUsIHRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAoIWJhc2VUZXh0dXJlLl9nbFJlbmRlclRhcmdldHNbdGhpcy5DT05URVhUX1VJRF0pIHtcbiAgICAgICAgICAgICAgICAvLyBiaW5kIHRoZSBjdXJyZW50IHRleHR1cmVcbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVNYW5hZ2VyLnVwZGF0ZVRleHR1cmUoYmFzZVRleHR1cmUsIDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVuYmluZFRleHR1cmUoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgICAgICByZW5kZXJUYXJnZXQgPSBiYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0LnNldEZyYW1lKHJlbmRlclRleHR1cmUuZnJhbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0ID0gdGhpcy5yb290UmVuZGVyVGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgdGhpcy5iaW5kUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgcmVuZGVyIHRhcmdldCB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gcmVuZGVyVGFyZ2V0IC0gdGhlIG5ldyByZW5kZXIgdGFyZ2V0XG4gICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYmluZFJlbmRlclRhcmdldCA9IGZ1bmN0aW9uIGJpbmRSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgIGlmIChyZW5kZXJUYXJnZXQgIT09IHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldCkge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0ID0gcmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0LmFjdGl2YXRlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmVTaGFkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVTaGFkZXIudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IHJlbmRlclRhcmdldC5wcm9qZWN0aW9uTWF0cml4LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3RlbmNpbE1hbmFnZXIuc2V0TWFza1N0YWNrKHJlbmRlclRhcmdldC5zdGVuY2lsTWFza1N0YWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHNoYWRlciB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gdGhlIG5ldyBzaGFkZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvUHJvamVjdD10cnVlXSAtIFdoZXRoZXIgYXV0b21hdGljYWxseSBzZXQgdGhlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYmluZFNoYWRlciA9IGZ1bmN0aW9uIGJpbmRTaGFkZXIoc2hhZGVyLCBhdXRvUHJvamVjdCkge1xuICAgICAgICAvLyBUT0RPIGNhY2hlXG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVTaGFkZXIgIT09IHNoYWRlcikge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyID0gc2hhZGVyO1xuICAgICAgICAgICAgc2hhZGVyLmJpbmQoKTtcblxuICAgICAgICAgICAgLy8gYGF1dG9Qcm9qZWN0YCBub3JtYWxseSB3b3VsZCBiZSBhIGRlZmF1bHQgcGFyYW1ldGVyIHNldCB0byB0cnVlXG4gICAgICAgICAgICAvLyBidXQgYmVjYXVzZSBvZiBob3cgQmFiZWwgdHJhbnNwaWxlcyBkZWZhdWx0IHBhcmFtZXRlcnNcbiAgICAgICAgICAgIC8vIGl0IGhpbmRlcnMgdGhlIHBlcmZvcm1hbmNlIG9mIHRoaXMgbWV0aG9kLlxuICAgICAgICAgICAgaWYgKGF1dG9Qcm9qZWN0ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIC8vIGF1dG9tYXRpY2FsbHkgc2V0IHRoZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4ID0gdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LnByb2plY3Rpb25NYXRyaXgudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyB0aGUgdGV4dHVyZS4gVGhpcyB3aWxsIHJldHVybiB0aGUgbG9jYXRpb24gb2YgdGhlIGJvdW5kIHRleHR1cmUuXG4gICAgICogSXQgbWF5IG5vdCBiZSB0aGUgc2FtZSBhcyB0aGUgb25lIHlvdSBwYXNzIGluLiBUaGlzIGlzIGR1ZSB0byBvcHRpbWlzYXRpb24gdGhhdCBwcmV2ZW50c1xuICAgICAqIG5lZWRsZXNzIGJpbmRpbmcgb2YgdGV4dHVyZXMuIEZvciBleGFtcGxlIGlmIHRoZSB0ZXh0dXJlIGlzIGFscmVhZHkgYm91bmQgaXQgd2lsbCByZXR1cm4gdGhlXG4gICAgICogY3VycmVudCBsb2NhdGlvbiBvZiB0aGUgdGV4dHVyZSBpbnN0ZWFkIG9mIHRoZSBvbmUgcHJvdmlkZWQuIFRvIGJ5cGFzcyB0aGlzIHVzZSBmb3JjZSBsb2NhdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgbmV3IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG9jYXRpb24gLSB0aGUgc3VnZ2VzdGVkIHRleHR1cmUgbG9jYXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZvcmNlTG9jYXRpb24gLSBmb3JjZSB0aGUgbG9jYXRpb25cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGJvdW5kIHRleHR1cmUgbG9jYXRpb25cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYmluZFRleHR1cmUgPSBmdW5jdGlvbiBiaW5kVGV4dHVyZSh0ZXh0dXJlLCBsb2NhdGlvbiwgZm9yY2VMb2NhdGlvbikge1xuICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZSB8fCB0aGlzLmVtcHR5VGV4dHVyZXNbbG9jYXRpb25dO1xuICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZSB8fCB0ZXh0dXJlO1xuICAgICAgICB0ZXh0dXJlLnRvdWNoZWQgPSB0aGlzLnRleHR1cmVHQy5jb3VudDtcblxuICAgICAgICBpZiAoIWZvcmNlTG9jYXRpb24pIHtcbiAgICAgICAgICAgIC8vIFRPRE8gLSBtYXliZSBsb29rIGludG8gYWRkaW5nIGJvdW5kSWRzLi4gc2F2ZSB1cyB0aGUgbG9vcD9cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsb2NhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmV4dFRleHR1cmVMb2NhdGlvbisrO1xuICAgICAgICAgICAgICAgIHRoaXMuX25leHRUZXh0dXJlTG9jYXRpb24gJT0gdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGggLSB0aGlzLl9uZXh0VGV4dHVyZUxvY2F0aW9uIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvY2F0aW9uID0gbG9jYXRpb24gfHwgMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghZ2xUZXh0dXJlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIHdpbGwgYWxzbyBiaW5kIHRoZSB0ZXh0dXJlLi5cbiAgICAgICAgICAgIHRoaXMudGV4dHVyZU1hbmFnZXIudXBkYXRlVGV4dHVyZSh0ZXh0dXJlLCBsb2NhdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBjdXJyZW50IHRleHR1cmVcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tsb2NhdGlvbl0gPSB0ZXh0dXJlO1xuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGdsVGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsb2NhdGlvbjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgKiB1bmJpbmRzIHRoZSB0ZXh0dXJlIC4uLlxuICAgICpcbiAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gdW5iaW5kXG4gICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnVuYmluZFRleHR1cmUgPSBmdW5jdGlvbiB1bmJpbmRUZXh0dXJlKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZSB8fCB0ZXh0dXJlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZFRleHR1cmVzW2ldID09PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gdGhpcy5lbXB0eVRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuZW1wdHlUZXh0dXJlc1tpXS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFZBTyBmcm9tIHRoaXMgcmVuZGVyZXIncyBjb250ZXh0IGFuZCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZlcnRleEFycmF5T2JqZWN0fSBUaGUgbmV3IFZBTy5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlVmFvID0gZnVuY3Rpb24gY3JlYXRlVmFvKCkge1xuICAgICAgICByZXR1cm4gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KHRoaXMuZ2wsIHRoaXMuc3RhdGUuYXR0cmliU3RhdGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IFZhbyB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlZlcnRleEFycmF5T2JqZWN0fSB2YW8gLSB0aGUgbmV3IFZhb1xuICAgICAqIEByZXR1cm4ge1BJWEkuV2ViR0xSZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJpbmRWYW8gPSBmdW5jdGlvbiBiaW5kVmFvKHZhbykge1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlVmFvID09PSB2YW8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbykge1xuICAgICAgICAgICAgdmFvLmJpbmQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9hY3RpdmVWYW8pIHtcbiAgICAgICAgICAgIC8vIFRPRE8gdGhpcyBzaG91bGQgYWx3YXlzIGJlIHRydWUgaSB0aGluaz9cbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVZhby51bmJpbmQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IHZhbztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBXZWJHTCBzdGF0ZSBzbyB5b3UgY2FuIHJlbmRlciB0aGluZ3MgaG93ZXZlciB5b3UgZmFuY3khXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5iaW5kVmFvKG51bGwpO1xuICAgICAgICB0aGlzLl9hY3RpdmVTaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQgPSB0aGlzLnJvb3RSZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMuZW1wdHlUZXh0dXJlc1tpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJpbmQgdGhlIG1haW4gZnJhbWUgYnVmZmVyICh0aGUgc2NyZWVuKTtcbiAgICAgICAgdGhpcy5yb290UmVuZGVyVGFyZ2V0LmFjdGl2YXRlKCk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZS5yZXNldFRvRGVmYXVsdCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgbG9zdCB3ZWJnbCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7V2ViR0xDb250ZXh0RXZlbnR9IGV2ZW50IC0gVGhlIGNvbnRleHQgbG9zdCBldmVudC5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuaGFuZGxlQ29udGV4dExvc3QgPSBmdW5jdGlvbiBoYW5kbGVDb250ZXh0TG9zdChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgcmVzdG9yZWQgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gZnVuY3Rpb24gaGFuZGxlQ29udGV4dFJlc3RvcmVkKCkge1xuICAgICAgICB0aGlzLnRleHR1cmVNYW5hZ2VyLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLmZpbHRlck1hbmFnZXIuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgdGhpcy5faW5pdENvbnRleHQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIChldmVudCBsaXN0ZW5lcnMsIHNwcml0ZWJhdGNoLCBldGMuLi4pXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSAtIFJlbW92ZXMgdGhlIENhbnZhcyBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgKiAgU2VlOiBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzIyMzNcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kocmVtb3ZlVmlldykge1xuICAgICAgICB0aGlzLmRlc3Ryb3lQbHVnaW5zKCk7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgICB0aGlzLnZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMuaGFuZGxlQ29udGV4dExvc3QpO1xuICAgICAgICB0aGlzLnZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCk7XG5cbiAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlci5kZXN0cm95KCk7XG5cbiAgICAgICAgLy8gY2FsbCBiYXNlIGRlc3Ryb3lcbiAgICAgICAgX1N5c3RlbVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgcmVtb3ZlVmlldyk7XG5cbiAgICAgICAgdGhpcy51aWQgPSAwO1xuXG4gICAgICAgIC8vIGRlc3Ryb3kgdGhlIG1hbmFnZXJzXG4gICAgICAgIHRoaXMubWFza01hbmFnZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnN0ZW5jaWxNYW5hZ2VyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5maWx0ZXJNYW5hZ2VyLmRlc3Ryb3koKTtcblxuICAgICAgICB0aGlzLm1hc2tNYW5hZ2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWx0ZXJNYW5hZ2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlciA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLmhhbmRsZUNvbnRleHRMb3N0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2NvbnRleHRPcHRpb25zID0gbnVsbDtcbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKG51bGwpO1xuXG4gICAgICAgIGlmICh0aGlzLmdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykpIHtcbiAgICAgICAgICAgIHRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKS5sb3NlQ29udGV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG5cbiAgICAgICAgLy8gdGhpcyA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBXZWJHTFJlbmRlcmVyO1xufShfU3lzdGVtUmVuZGVyZXIzLmRlZmF1bHQpO1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHBsdWdpbnMuIFRoZXNlIGFyZSBpbmNsdWRlZCBieSBkZWZhdWx0IGluIFBJWEksIGJ1dCBjYW4gYmUgZXhjbHVkZWRcbiAqIGJ5IGNyZWF0aW5nIGEgY3VzdG9tIGJ1aWxkLiBDb25zdWx0IHRoZSBSRUFETUUgZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgY3JlYXRpbmcgY3VzdG9tXG4gKiBidWlsZHMgYW5kIGV4Y2x1ZGluZyBwbHVnaW5zLlxuICogQG5hbWUgUElYSS5XZWJHTFJlbmRlcmVyI3BsdWdpbnNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcmVhZG9ubHlcbiAqIEBwcm9wZXJ0eSB7UElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyfSBhY2Nlc3NpYmlsaXR5IFN1cHBvcnQgdGFiYmluZyBpbnRlcmFjdGl2ZSBlbGVtZW50cy5cbiAqIEBwcm9wZXJ0eSB7UElYSS5leHRyYWN0LldlYkdMRXh0cmFjdH0gZXh0cmFjdCBFeHRyYWN0IGltYWdlIGRhdGEgZnJvbSByZW5kZXJlci5cbiAqIEBwcm9wZXJ0eSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IGludGVyYWN0aW9uIEhhbmRsZXMgbW91c2UsIHRvdWNoIGFuZCBwb2ludGVyIGV2ZW50cy5cbiAqIEBwcm9wZXJ0eSB7UElYSS5wcmVwYXJlLldlYkdMUHJlcGFyZX0gcHJlcGFyZSBQcmUtcmVuZGVyIGRpc3BsYXkgb2JqZWN0cy5cbiAqL1xuXG4vKipcbiAqIEFkZHMgYSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyLlxuICpcbiAqIEBtZXRob2QgUElYSS5XZWJHTFJlbmRlcmVyI3JlZ2lzdGVyUGx1Z2luXG4gKiBAcGFyYW0ge3N0cmluZ30gcGx1Z2luTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdG9yIC0gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9yIGNsYXNzIGZvciB0aGUgcGx1Z2luLlxuICovXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMUmVuZGVyZXI7XG5fdXRpbHMucGx1Z2luVGFyZ2V0Lm1peGluKFdlYkdMUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2ViR0xSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uLy4uL21hdGgnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSB0aGUgaG9yaXpvbnRhbCByYW5nZSBvZiB0aGUgZmlsdGVyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gdGhlIHZlcnRpY2FsIHJhbmdlIG9mIHRoZSBmaWx0ZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgY3VycmVudCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Jvb3Q9ZmFsc2VdIC0gV2hldGhlciB0aGlzIG9iamVjdCBpcyB0aGUgcm9vdCBlbGVtZW50IG9yIG5vdFxuICAgKi9cbiAgZnVuY3Rpb24gUmVuZGVyVGFyZ2V0KGdsLCB3aWR0aCwgaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24sIHJvb3QpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVuZGVyVGFyZ2V0KTtcblxuICAgIC8vIFRPRE8gUmVzb2x1dGlvbiBjb3VsZCBnbyBoZXJlICggZWcgbG93IHJlcyBibHVycyApXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG4gICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgLy8gbmV4dCB0aW1lIHRvIGNyZWF0ZSBhIGZyYW1lIGJ1ZmZlciBhbmQgdGV4dHVyZVxuXG4gICAgLyoqXG4gICAgICogQSBmcmFtZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuZ2xDb3JlLkdMRnJhbWVidWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5mcmFtZUJ1ZmZlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5nbENvcmUuR0xUZXh0dXJlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvdXIgb2YgdGhpcyByZW5kZXIgdGFyZ2V0LCBhcyBhbiBhcnJheSBvZiBbcixnLGIsYV0gdmFsdWVzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKi9cbiAgICB0aGlzLmNsZWFyQ29sb3IgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgb2JqZWN0IGFzIGEgcmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICB0aGlzLnNpemUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpb1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLnByb2plY3Rpb25NYXRyaXggPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0J3MgdHJhbnNmb3JtXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdGVuY2lsIGJ1ZmZlciBzdG9yZXMgbWFza2luZyBkYXRhIGZvciB0aGUgcmVuZGVyIHRhcmdldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2xDb3JlLkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGVmYXVsdEZyYW1lID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG51bGw7XG4gICAgdGhpcy5zb3VyY2VGcmFtZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RlbmNpbCBidWZmZXIgc3RvcmVzIG1hc2tpbmcgZGF0YSBmb3IgdGhlIHJlbmRlciB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2dsQ29yZS5HTEJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLnN0ZW5jaWxCdWZmZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgc3RlbmNpbCBtYXNrc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc1tdfVxuICAgICAqL1xuICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjayA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogU3RvcmVzIGZpbHRlciBkYXRhIGZvciB0aGUgcmVuZGVyIHRhcmdldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICovXG4gICAgdGhpcy5maWx0ZXJEYXRhID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBrZXkgZm9yIHBvb2xlZCB0ZXh0dXJlIG9mIEZpbHRlclN5c3RlbVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuZmlsdGVyUG9vbEtleSA9ICcnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjYWxlIG1vZGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXG4gICAgICogQHNlZSBQSVhJLlNDQUxFX01PREVTXG4gICAgICovXG4gICAgdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCA/IHNjYWxlTW9kZSA6IF9zZXR0aW5nczIuZGVmYXVsdC5TQ0FMRV9NT0RFO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIG9iamVjdCBpcyB0aGUgcm9vdCBlbGVtZW50IG9yIG5vdFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHRoaXMucm9vdCA9IHJvb3QgfHwgZmFsc2U7XG5cbiAgICBpZiAoIXRoaXMucm9vdCkge1xuICAgICAgdGhpcy5mcmFtZUJ1ZmZlciA9IF9waXhpR2xDb3JlLkdMRnJhbWVidWZmZXIuY3JlYXRlUkdCQShnbCwgMTAwLCAxMDApO1xuXG4gICAgICBpZiAodGhpcy5zY2FsZU1vZGUgPT09IF9jb25zdC5TQ0FMRV9NT0RFUy5ORUFSRVNUKSB7XG4gICAgICAgIHRoaXMuZnJhbWVCdWZmZXIudGV4dHVyZS5lbmFibGVOZWFyZXN0U2NhbGluZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlci50ZXh0dXJlLmVuYWJsZUxpbmVhclNjYWxpbmcoKTtcbiAgICAgIH1cbiAgICAgIC8qXG4gICAgICAgICAgQSBmcmFtZSBidWZmZXIgbmVlZHMgYSB0YXJnZXQgdG8gcmVuZGVyIHRvLi5cbiAgICAgICAgICBjcmVhdGUgYSB0ZXh0dXJlIGFuZCBiaW5kIGl0IGF0dGFjaCBpdCB0byB0aGUgZnJhbWVidWZmZXIuLlxuICAgICAgICovXG5cbiAgICAgIC8vIHRoaXMgaXMgdXNlZCBieSB0aGUgYmFzZSB0ZXh0dXJlXG4gICAgICB0aGlzLnRleHR1cmUgPSB0aGlzLmZyYW1lQnVmZmVyLnRleHR1cmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG1ha2UgaXQgYSBudWxsIGZyYW1lYnVmZmVyLi5cbiAgICAgIHRoaXMuZnJhbWVCdWZmZXIgPSBuZXcgX3BpeGlHbENvcmUuR0xGcmFtZWJ1ZmZlcihnbCwgMTAwLCAxMDApO1xuICAgICAgdGhpcy5mcmFtZUJ1ZmZlci5mcmFtZWJ1ZmZlciA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRGcmFtZSgpO1xuXG4gICAgdGhpcy5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIHRoZSBmaWx0ZXIgdGV4dHVyZS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gW2NsZWFyQ29sb3I9dGhpcy5jbGVhckNvbG9yXSAtIEFycmF5IG9mIFtyLGcsYixhXSB0byBjbGVhciB0aGUgZnJhbWVidWZmZXJcbiAgICovXG5cblxuICBSZW5kZXJUYXJnZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoY2xlYXJDb2xvcikge1xuICAgIHZhciBjYyA9IGNsZWFyQ29sb3IgfHwgdGhpcy5jbGVhckNvbG9yO1xuXG4gICAgdGhpcy5mcmFtZUJ1ZmZlci5jbGVhcihjY1swXSwgY2NbMV0sIGNjWzJdLCBjY1szXSk7IC8vIHIsZyxiLGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyB0aGUgc3RlbmNpbCBidWZmZXIuXG4gICAqXG4gICAqL1xuXG5cbiAgUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5hdHRhY2hTdGVuY2lsQnVmZmVyID0gZnVuY3Rpb24gYXR0YWNoU3RlbmNpbEJ1ZmZlcigpIHtcbiAgICAvLyBUT0RPIGNoZWNrIGlmIHN0ZW5jaWwgaXMgZG9uZT9cbiAgICAvKipcbiAgICAgKiBUaGUgc3RlbmNpbCBidWZmZXIgaXMgdXNlZCBmb3IgbWFza2luZyBpbiBwaXhpXG4gICAgICogbGV0cyBjcmVhdGUgb25lIGFuZCB0aGVuIGFkZCBhdHRhY2ggaXQgdG8gdGhlIGZyYW1lYnVmZmVyLi5cbiAgICAgKi9cbiAgICBpZiAoIXRoaXMucm9vdCkge1xuICAgICAgdGhpcy5mcmFtZUJ1ZmZlci5lbmFibGVTdGVuY2lsKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBmcmFtZSBvZiB0aGUgcmVuZGVyIHRhcmdldC5cbiAgICpcbiAgICogQHBhcmFtIHtSZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSBUaGUgZGVzdGluYXRpb24gZnJhbWUuXG4gICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBzb3VyY2VGcmFtZSAtIFRoZSBzb3VyY2UgZnJhbWUuXG4gICAqL1xuXG5cbiAgUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5zZXRGcmFtZSA9IGZ1bmN0aW9uIHNldEZyYW1lKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lKSB7XG4gICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgfHwgdGhpcy5kZWZhdWx0RnJhbWU7XG4gICAgdGhpcy5zb3VyY2VGcmFtZSA9IHNvdXJjZUZyYW1lIHx8IHRoaXMuc291cmNlRnJhbWUgfHwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyB0aGUgYnVmZmVycyBhbmQgaW5pdGlhbGlzZXMgdGhlIHZpZXdwb3J0LlxuICAgKlxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAvLyBUT0RPIHJlZmFjdG9yIHVzYWdlIG9mIGZyYW1lLi5cbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgLy8gbWFrZSBzdXJlIHRoZSB0ZXh0dXJlIGlzIHVuYm91bmQhXG4gICAgdGhpcy5mcmFtZUJ1ZmZlci5iaW5kKCk7XG5cbiAgICB0aGlzLmNhbGN1bGF0ZVByb2plY3Rpb24odGhpcy5kZXN0aW5hdGlvbkZyYW1lLCB0aGlzLnNvdXJjZUZyYW1lKTtcblxuICAgIGlmICh0aGlzLnRyYW5zZm9ybSkge1xuICAgICAgdGhpcy5wcm9qZWN0aW9uTWF0cml4LmFwcGVuZCh0aGlzLnRyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgLy8gVE9ETyBhZGQgYSBjaGVjayBhcyB0aGVtIG1heSBiZSB0aGUgc2FtZSFcbiAgICBpZiAodGhpcy5kZXN0aW5hdGlvbkZyYW1lICE9PSB0aGlzLnNvdXJjZUZyYW1lKSB7XG4gICAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgIGdsLnNjaXNzb3IodGhpcy5kZXN0aW5hdGlvbkZyYW1lLnggfCAwLCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUueSB8IDAsIHRoaXMuZGVzdGluYXRpb25GcmFtZS53aWR0aCAqIHRoaXMucmVzb2x1dGlvbiB8IDAsIHRoaXMuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgKiB0aGlzLnJlc29sdXRpb24gfCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgIH1cblxuICAgIC8vIFRPRE8gLSBkb2VzIG5vdCBuZWVkIHRvIGJlIHVwZGF0ZWQgYWxsIHRoZSB0aW1lPz9cbiAgICBnbC52aWV3cG9ydCh0aGlzLmRlc3RpbmF0aW9uRnJhbWUueCB8IDAsIHRoaXMuZGVzdGluYXRpb25GcmFtZS55IHwgMCwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLndpZHRoICogdGhpcy5yZXNvbHV0aW9uIHwgMCwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbiB8IDApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCBiYXNlZCBvbiBhIHByb2plY3Rpb24gZnJhbWUgKHdoaWNoIGlzIGEgcmVjdGFuZ2xlKVxuICAgKlxuICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZS5cbiAgICogQHBhcmFtIHtSZWN0YW5nbGV9IHNvdXJjZUZyYW1lIC0gVGhlIHNvdXJjZSBmcmFtZS5cbiAgICovXG5cblxuICBSZW5kZXJUYXJnZXQucHJvdG90eXBlLmNhbGN1bGF0ZVByb2plY3Rpb24gPSBmdW5jdGlvbiBjYWxjdWxhdGVQcm9qZWN0aW9uKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lKSB7XG4gICAgdmFyIHBtID0gdGhpcy5wcm9qZWN0aW9uTWF0cml4O1xuXG4gICAgc291cmNlRnJhbWUgPSBzb3VyY2VGcmFtZSB8fCBkZXN0aW5hdGlvbkZyYW1lO1xuXG4gICAgcG0uaWRlbnRpdHkoKTtcblxuICAgIC8vIFRPRE86IG1ha2UgZGVzdCBzY2FsZSBzb3VyY2VcbiAgICBpZiAoIXRoaXMucm9vdCkge1xuICAgICAgcG0uYSA9IDEgLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogMjtcbiAgICAgIHBtLmQgPSAxIC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgKiAyO1xuXG4gICAgICBwbS50eCA9IC0xIC0gc291cmNlRnJhbWUueCAqIHBtLmE7XG4gICAgICBwbS50eSA9IC0xIC0gc291cmNlRnJhbWUueSAqIHBtLmQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBtLmEgPSAxIC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCAqIDI7XG4gICAgICBwbS5kID0gLTEgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIDI7XG5cbiAgICAgIHBtLnR4ID0gLTEgLSBzb3VyY2VGcmFtZS54ICogcG0uYTtcbiAgICAgIHBtLnR5ID0gMSAtIHNvdXJjZUZyYW1lLnkgKiBwbS5kO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVzaXplcyB0aGUgdGV4dHVyZSB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHRcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgdGV4dHVyZVxuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAgICovXG5cblxuICBSZW5kZXJUYXJnZXQucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgd2lkdGggPSB3aWR0aCB8IDA7XG4gICAgaGVpZ2h0ID0gaGVpZ2h0IHwgMDtcblxuICAgIGlmICh0aGlzLnNpemUud2lkdGggPT09IHdpZHRoICYmIHRoaXMuc2l6ZS5oZWlnaHQgPT09IGhlaWdodCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2l6ZS53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuc2l6ZS5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICB0aGlzLmRlZmF1bHRGcmFtZS53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuZGVmYXVsdEZyYW1lLmhlaWdodCA9IGhlaWdodDtcblxuICAgIHRoaXMuZnJhbWVCdWZmZXIucmVzaXplKHdpZHRoICogdGhpcy5yZXNvbHV0aW9uLCBoZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pO1xuXG4gICAgdmFyIHByb2plY3Rpb25GcmFtZSA9IHRoaXMuZnJhbWUgfHwgdGhpcy5zaXplO1xuXG4gICAgdGhpcy5jYWxjdWxhdGVQcm9qZWN0aW9uKHByb2plY3Rpb25GcmFtZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoZSByZW5kZXIgdGFyZ2V0LlxuICAgKlxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5mcmFtZUJ1ZmZlci5kZXN0cm95KCk7XG5cbiAgICB0aGlzLmZyYW1lQnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLnRleHR1cmUgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBSZW5kZXJUYXJnZXQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJlbmRlclRhcmdldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbmRlclRhcmdldC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpIHtcbiAgICBpZiAoZ3JhcGhpY3NEYXRhLm5hdGl2ZUxpbmVzKSB7XG4gICAgICAgIGJ1aWxkTmF0aXZlTGluZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBidWlsZExpbmUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEpO1xuICAgIH1cbn07XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uLy4uL21hdGgnKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3IHVzaW5nIHRoZSBwb2xpZ29uIG1ldGhvZC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqL1xuZnVuY3Rpb24gYnVpbGRMaW5lKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhKSB7XG4gICAgLy8gVE9ETyBPUFRJTUlTRSFcbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gaWYgdGhlIGxpbmUgd2lkdGggaXMgYW4gb2RkIG51bWJlciBhZGQgMC41IHRvIGFsaWduIHRvIGEgd2hvbGUgcGl4ZWxcbiAgICAvLyBjb21tZW50aW5nIHRoaXMgb3V0IGZpeGVzICM3MTEgYW5kICMxNjIwXG4gICAgLy8gaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGglMilcbiAgICAvLyB7XG4gICAgLy8gICAgIGZvciAoaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspXG4gICAgLy8gICAgIHtcbiAgICAvLyAgICAgICAgIHBvaW50c1tpXSArPSAwLjU7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyBnZXQgZmlyc3QgYW5kIGxhc3QgcG9pbnQuLiBmaWd1cmUgb3V0IHRoZSBtaWRkbGUhXG4gICAgdmFyIGZpcnN0UG9pbnQgPSBuZXcgX21hdGguUG9pbnQocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICAgIHZhciBsYXN0UG9pbnQgPSBuZXcgX21hdGguUG9pbnQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG5cbiAgICAvLyBpZiB0aGUgZmlyc3QgcG9pbnQgaXMgdGhlIGxhc3QgcG9pbnQgLSBnb25uYSBoYXZlIGlzc3VlcyA6KVxuICAgIGlmIChmaXJzdFBvaW50LnggPT09IGxhc3RQb2ludC54ICYmIGZpcnN0UG9pbnQueSA9PT0gbGFzdFBvaW50LnkpIHtcbiAgICAgICAgLy8gbmVlZCB0byBjbG9uZSBhcyB3ZSBhcmUgZ29pbmcgdG8gc2xpZ2h0bHkgbW9kaWZ5IHRoZSBzaGFwZS4uXG4gICAgICAgIHBvaW50cyA9IHBvaW50cy5zbGljZSgpO1xuXG4gICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgcG9pbnRzLnBvcCgpO1xuXG4gICAgICAgIGxhc3RQb2ludCA9IG5ldyBfbWF0aC5Qb2ludChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdLCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdKTtcblxuICAgICAgICB2YXIgbWlkUG9pbnRYID0gbGFzdFBvaW50LnggKyAoZmlyc3RQb2ludC54IC0gbGFzdFBvaW50LngpICogMC41O1xuICAgICAgICB2YXIgbWlkUG9pbnRZID0gbGFzdFBvaW50LnkgKyAoZmlyc3RQb2ludC55IC0gbGFzdFBvaW50LnkpICogMC41O1xuXG4gICAgICAgIHBvaW50cy51bnNoaWZ0KG1pZFBvaW50WCwgbWlkUG9pbnRZKTtcbiAgICAgICAgcG9pbnRzLnB1c2gobWlkUG9pbnRYLCBtaWRQb2ludFkpO1xuICAgIH1cblxuICAgIHZhciB2ZXJ0cyA9IHdlYkdMRGF0YS5wb2ludHM7XG4gICAgdmFyIGluZGljZXMgPSB3ZWJHTERhdGEuaW5kaWNlcztcbiAgICB2YXIgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG4gICAgdmFyIGluZGV4Q291bnQgPSBwb2ludHMubGVuZ3RoO1xuICAgIHZhciBpbmRleFN0YXJ0ID0gdmVydHMubGVuZ3RoIC8gNjtcblxuICAgIC8vIERSQVcgdGhlIExpbmVcbiAgICB2YXIgd2lkdGggPSBncmFwaGljc0RhdGEubGluZVdpZHRoIC8gMjtcblxuICAgIC8vIHNvcnQgY29sb3JcbiAgICB2YXIgY29sb3IgPSAoMCwgX3V0aWxzLmhleDJyZ2IpKGdyYXBoaWNzRGF0YS5saW5lQ29sb3IpO1xuICAgIHZhciBhbHBoYSA9IGdyYXBoaWNzRGF0YS5saW5lQWxwaGE7XG4gICAgdmFyIHIgPSBjb2xvclswXSAqIGFscGhhO1xuICAgIHZhciBnID0gY29sb3JbMV0gKiBhbHBoYTtcbiAgICB2YXIgYiA9IGNvbG9yWzJdICogYWxwaGE7XG5cbiAgICB2YXIgcDF4ID0gcG9pbnRzWzBdO1xuICAgIHZhciBwMXkgPSBwb2ludHNbMV07XG4gICAgdmFyIHAyeCA9IHBvaW50c1syXTtcbiAgICB2YXIgcDJ5ID0gcG9pbnRzWzNdO1xuICAgIHZhciBwM3ggPSAwO1xuICAgIHZhciBwM3kgPSAwO1xuXG4gICAgdmFyIHBlcnB4ID0gLShwMXkgLSBwMnkpO1xuICAgIHZhciBwZXJweSA9IHAxeCAtIHAyeDtcbiAgICB2YXIgcGVycDJ4ID0gMDtcbiAgICB2YXIgcGVycDJ5ID0gMDtcbiAgICB2YXIgcGVycDN4ID0gMDtcbiAgICB2YXIgcGVycDN5ID0gMDtcblxuICAgIHZhciBkaXN0ID0gTWF0aC5zcXJ0KHBlcnB4ICogcGVycHggKyBwZXJweSAqIHBlcnB5KTtcblxuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgIHZhciByYXRpbyA9IGdyYXBoaWNzRGF0YS5saW5lQWxpZ25tZW50OyAvLyAwLjU7XG4gICAgdmFyIHIxID0gKDEgLSByYXRpbykgKiAyO1xuICAgIHZhciByMiA9IHJhdGlvICogMjtcblxuICAgIC8vIHN0YXJ0XG4gICAgdmVydHMucHVzaChwMXggLSBwZXJweCAqIHIxLCBwMXkgLSBwZXJweSAqIHIxLCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICB2ZXJ0cy5wdXNoKHAxeCArIHBlcnB4ICogcjIsIHAxeSArIHBlcnB5ICogcjIsIHIsIGcsIGIsIGFscGhhKTtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgIHAxeCA9IHBvaW50c1soaSAtIDEpICogMl07XG4gICAgICAgIHAxeSA9IHBvaW50c1soaSAtIDEpICogMiArIDFdO1xuXG4gICAgICAgIHAyeCA9IHBvaW50c1tpICogMl07XG4gICAgICAgIHAyeSA9IHBvaW50c1tpICogMiArIDFdO1xuXG4gICAgICAgIHAzeCA9IHBvaW50c1soaSArIDEpICogMl07XG4gICAgICAgIHAzeSA9IHBvaW50c1soaSArIDEpICogMiArIDFdO1xuXG4gICAgICAgIHBlcnB4ID0gLShwMXkgLSBwMnkpO1xuICAgICAgICBwZXJweSA9IHAxeCAtIHAyeDtcblxuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KHBlcnB4ICogcGVycHggKyBwZXJweSAqIHBlcnB5KTtcbiAgICAgICAgcGVycHggLz0gZGlzdDtcbiAgICAgICAgcGVycHkgLz0gZGlzdDtcbiAgICAgICAgcGVycHggKj0gd2lkdGg7XG4gICAgICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgICAgIHBlcnAyeCA9IC0ocDJ5IC0gcDN5KTtcbiAgICAgICAgcGVycDJ5ID0gcDJ4IC0gcDN4O1xuXG4gICAgICAgIGRpc3QgPSBNYXRoLnNxcnQocGVycDJ4ICogcGVycDJ4ICsgcGVycDJ5ICogcGVycDJ5KTtcbiAgICAgICAgcGVycDJ4IC89IGRpc3Q7XG4gICAgICAgIHBlcnAyeSAvPSBkaXN0O1xuICAgICAgICBwZXJwMnggKj0gd2lkdGg7XG4gICAgICAgIHBlcnAyeSAqPSB3aWR0aDtcblxuICAgICAgICB2YXIgYTEgPSAtcGVycHkgKyBwMXkgLSAoLXBlcnB5ICsgcDJ5KTtcbiAgICAgICAgdmFyIGIxID0gLXBlcnB4ICsgcDJ4IC0gKC1wZXJweCArIHAxeCk7XG4gICAgICAgIHZhciBjMSA9ICgtcGVycHggKyBwMXgpICogKC1wZXJweSArIHAyeSkgLSAoLXBlcnB4ICsgcDJ4KSAqICgtcGVycHkgKyBwMXkpO1xuICAgICAgICB2YXIgYTIgPSAtcGVycDJ5ICsgcDN5IC0gKC1wZXJwMnkgKyBwMnkpO1xuICAgICAgICB2YXIgYjIgPSAtcGVycDJ4ICsgcDJ4IC0gKC1wZXJwMnggKyBwM3gpO1xuICAgICAgICB2YXIgYzIgPSAoLXBlcnAyeCArIHAzeCkgKiAoLXBlcnAyeSArIHAyeSkgLSAoLXBlcnAyeCArIHAyeCkgKiAoLXBlcnAyeSArIHAzeSk7XG5cbiAgICAgICAgdmFyIGRlbm9tID0gYTEgKiBiMiAtIGEyICogYjE7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKGRlbm9tKSA8IDAuMSkge1xuICAgICAgICAgICAgZGVub20gKz0gMTAuMTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gcGVycHggKiByMSwgcDJ5IC0gcGVycHkgKiByMSwgciwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCArIHBlcnB4ICogcjIsIHAyeSArIHBlcnB5ICogcjIsIHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHggPSAoYjEgKiBjMiAtIGIyICogYzEpIC8gZGVub207XG4gICAgICAgIHZhciBweSA9IChhMiAqIGMxIC0gYTEgKiBjMikgLyBkZW5vbTtcbiAgICAgICAgdmFyIHBkaXN0ID0gKHB4IC0gcDJ4KSAqIChweCAtIHAyeCkgKyAocHkgLSBwMnkpICogKHB5IC0gcDJ5KTtcblxuICAgICAgICBpZiAocGRpc3QgPiAxOTYgKiB3aWR0aCAqIHdpZHRoKSB7XG4gICAgICAgICAgICBwZXJwM3ggPSBwZXJweCAtIHBlcnAyeDtcbiAgICAgICAgICAgIHBlcnAzeSA9IHBlcnB5IC0gcGVycDJ5O1xuXG4gICAgICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KHBlcnAzeCAqIHBlcnAzeCArIHBlcnAzeSAqIHBlcnAzeSk7XG4gICAgICAgICAgICBwZXJwM3ggLz0gZGlzdDtcbiAgICAgICAgICAgIHBlcnAzeSAvPSBkaXN0O1xuICAgICAgICAgICAgcGVycDN4ICo9IHdpZHRoO1xuICAgICAgICAgICAgcGVycDN5ICo9IHdpZHRoO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtIHBlcnAzeCAqIHIxLCBwMnkgLSBwZXJwM3kgKiByMSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggKyBwZXJwM3ggKiByMiwgcDJ5ICsgcGVycDN5ICogcjIpO1xuICAgICAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gcGVycDN4ICogcjIgKiByMSwgcDJ5IC0gcGVycDN5ICogcjEpO1xuICAgICAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIGluZGV4Q291bnQrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4ICsgKHB4IC0gcDJ4KSAqIHIxLCBwMnkgKyAocHkgLSBwMnkpICogcjEpO1xuICAgICAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gKHB4IC0gcDJ4KSAqIHIyLCBwMnkgLSAocHkgLSBwMnkpICogcjIpO1xuICAgICAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwMXggPSBwb2ludHNbKGxlbmd0aCAtIDIpICogMl07XG4gICAgcDF5ID0gcG9pbnRzWyhsZW5ndGggLSAyKSAqIDIgKyAxXTtcblxuICAgIHAyeCA9IHBvaW50c1sobGVuZ3RoIC0gMSkgKiAyXTtcbiAgICBwMnkgPSBwb2ludHNbKGxlbmd0aCAtIDEpICogMiArIDFdO1xuXG4gICAgcGVycHggPSAtKHAxeSAtIHAyeSk7XG4gICAgcGVycHkgPSBwMXggLSBwMng7XG5cbiAgICBkaXN0ID0gTWF0aC5zcXJ0KHBlcnB4ICogcGVycHggKyBwZXJweSAqIHBlcnB5KTtcbiAgICBwZXJweCAvPSBkaXN0O1xuICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgcGVycHggKj0gd2lkdGg7XG4gICAgcGVycHkgKj0gd2lkdGg7XG5cbiAgICB2ZXJ0cy5wdXNoKHAyeCAtIHBlcnB4ICogcjEsIHAyeSAtIHBlcnB5ICogcjEpO1xuICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgdmVydHMucHVzaChwMnggKyBwZXJweCAqIHIyLCBwMnkgKyBwZXJweSAqIHIyKTtcbiAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgIGluZGljZXMucHVzaChpbmRleFN0YXJ0KTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBpbmRleENvdW50OyArK19pKSB7XG4gICAgICAgIGluZGljZXMucHVzaChpbmRleFN0YXJ0KyspO1xuICAgIH1cblxuICAgIGluZGljZXMucHVzaChpbmRleFN0YXJ0IC0gMSk7XG59XG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3IHVzaW5nIHRoZSBnbC5kcmF3QXJyYXlzKGdsLkxJTkVTKSBtZXRob2RcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqL1xuXG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5mdW5jdGlvbiBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICB2YXIgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICAvLyBzb3J0IGNvbG9yXG4gICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEubGluZUNvbG9yKTtcbiAgICB2YXIgYWxwaGEgPSBncmFwaGljc0RhdGEubGluZUFscGhhO1xuICAgIHZhciByID0gY29sb3JbMF0gKiBhbHBoYTtcbiAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgZm9yIChpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwMXggPSBwb2ludHNbKGkgLSAxKSAqIDJdO1xuICAgICAgICB2YXIgcDF5ID0gcG9pbnRzWyhpIC0gMSkgKiAyICsgMV07XG5cbiAgICAgICAgdmFyIHAyeCA9IHBvaW50c1tpICogMl07XG4gICAgICAgIHZhciBwMnkgPSBwb2ludHNbaSAqIDIgKyAxXTtcblxuICAgICAgICB2ZXJ0cy5wdXNoKHAxeCwgcDF5KTtcbiAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgdmVydHMucHVzaChwMngsIHAyeSk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkTGluZS5qcy5tYXAiLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgKi9cbiAgZnVuY3Rpb24gUG9pbnQoKSB7XG4gICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9pbnQpO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnggPSB4O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnkgPSB5O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvaW50XG4gICAqXG4gICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IGEgY29weSBvZiB0aGUgcG9pbnRcbiAgICovXG5cblxuICBQb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTtcbiAgfTtcblxuICAvKipcbiAgICogQ29waWVzIHggYW5kIHkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnRcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkuXG4gICAqL1xuXG5cbiAgUG9pbnQucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApIHtcbiAgICB0aGlzLnNldChwLngsIHAueSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIHBvaW50IGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICovXG5cblxuICBQb2ludC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKHApIHtcbiAgICByZXR1cm4gcC54ID09PSB0aGlzLnggJiYgcC55ID09PSB0aGlzLnk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gICAqIElmIHkgaXMgb21pdHRlZCwgYm90aCB4IGFuZCB5IHdpbGwgYmUgc2V0IHRvIHguXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAqL1xuXG5cbiAgUG9pbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCh4LCB5KSB7XG4gICAgdGhpcy54ID0geCB8fCAwO1xuICAgIHRoaXMueSA9IHkgfHwgKHkgIT09IDAgPyB0aGlzLnggOiAwKTtcbiAgfTtcblxuICByZXR1cm4gUG9pbnQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBvaW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9pbnQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX1BvaW50ID0gcmVxdWlyZSgnLi9Qb2ludCcpO1xuXG52YXIgX1BvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvaW50KTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIFBpeGlKUyBNYXRyaXggY2xhc3MgYXMgYW4gb2JqZWN0LCB3aGljaCBtYWtlcyBpdCBhIGxvdCBmYXN0ZXIsXG4gKiBoZXJlIGlzIGEgcmVwcmVzZW50YXRpb24gb2YgaXQgOlxuICogfCBhIHwgYyB8IHR4fFxuICogfCBiIHwgZCB8IHR5fFxuICogfCAwIHwgMCB8IDEgfFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1hdHJpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2E9MV0gLSB4IHNjYWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiPTBdIC0geCBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjPTBdIC0geSBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkPTFdIC0geSBzY2FsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHg9MF0gLSB4IHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0eT0wXSAtIHkgdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXRyaXgoKSB7XG4gICAgICAgIHZhciBhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxO1xuICAgICAgICB2YXIgYiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciBkID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAxO1xuICAgICAgICB2YXIgdHggPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDA7XG4gICAgICAgIHZhciB0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWF0cml4KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmEgPSBhO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYiA9IGI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jID0gYztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmQgPSBkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHggPSB0eDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG5cbiAgICAgICAgdGhpcy5hcnJheSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIE1hdHJpeCBvYmplY3QgYmFzZWQgb24gdGhlIGdpdmVuIGFycmF5LiBUaGUgRWxlbWVudCB0byBNYXRyaXggbWFwcGluZyBvcmRlciBpcyBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogYSA9IGFycmF5WzBdXG4gICAgICogYiA9IGFycmF5WzFdXG4gICAgICogYyA9IGFycmF5WzNdXG4gICAgICogZCA9IGFycmF5WzRdXG4gICAgICogdHggPSBhcnJheVsyXVxuICAgICAqIHR5ID0gYXJyYXlbNV1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIGFycmF5IHRoYXQgdGhlIG1hdHJpeCB3aWxsIGJlIHBvcHVsYXRlZCBmcm9tLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmZyb21BcnJheSA9IGZ1bmN0aW9uIGZyb21BcnJheShhcnJheSkge1xuICAgICAgICB0aGlzLmEgPSBhcnJheVswXTtcbiAgICAgICAgdGhpcy5iID0gYXJyYXlbMV07XG4gICAgICAgIHRoaXMuYyA9IGFycmF5WzNdO1xuICAgICAgICB0aGlzLmQgPSBhcnJheVs0XTtcbiAgICAgICAgdGhpcy50eCA9IGFycmF5WzJdO1xuICAgICAgICB0aGlzLnR5ID0gYXJyYXlbNV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHNldHMgdGhlIG1hdHJpeCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYSAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYiAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYyAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZCAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHggLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5IC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0KGEsIGIsIGMsIGQsIHR4LCB0eSkge1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG4gICAgICAgIHRoaXMudHkgPSB0eTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBmcm9tIHRoZSBjdXJyZW50IE1hdHJpeCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRyYW5zcG9zZSAtIFdoZXRoZXIgd2UgbmVlZCB0byB0cmFuc3Bvc2UgdGhlIG1hdHJpeCBvciBub3RcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD1uZXcgRmxvYXQzMkFycmF5KDkpXSAtIElmIHByb3ZpZGVkIHRoZSBhcnJheSB3aWxsIGJlIGFzc2lnbmVkIHRvIG91dFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSB0aGUgbmV3bHkgY3JlYXRlZCBhcnJheSB3aGljaCBjb250YWlucyB0aGUgbWF0cml4XG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uIHRvQXJyYXkodHJhbnNwb3NlLCBvdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLmFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSg5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhcnJheSA9IG91dCB8fCB0aGlzLmFycmF5O1xuXG4gICAgICAgIGlmICh0cmFuc3Bvc2UpIHtcbiAgICAgICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmI7XG4gICAgICAgICAgICBhcnJheVsyXSA9IDA7XG4gICAgICAgICAgICBhcnJheVszXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICAgICAgYXJyYXlbNV0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbNl0gPSB0aGlzLnR4O1xuICAgICAgICAgICAgYXJyYXlbN10gPSB0aGlzLnR5O1xuICAgICAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgICAgICBhcnJheVsxXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzJdID0gdGhpcy50eDtcbiAgICAgICAgICAgIGFycmF5WzNdID0gdGhpcy5iO1xuICAgICAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgICAgICBhcnJheVs1XSA9IHRoaXMudHk7XG4gICAgICAgICAgICBhcnJheVs2XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs3XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZSB0byB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gcmVuZGVyaW5nKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb3MgLSBUaGUgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbbmV3UG9zXSAtIFRoZSBwb2ludCB0aGF0IHRoZSBuZXcgcG9zaXRpb24gaXMgYXNzaWduZWQgdG8gKGFsbG93ZWQgdG8gYmUgc2FtZSBhcyBpbnB1dClcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgbmV3IHBvaW50LCB0cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShwb3MsIG5ld1Bvcykge1xuICAgICAgICBuZXdQb3MgPSBuZXdQb3MgfHwgbmV3IF9Qb2ludDIuZGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciB4ID0gcG9zLng7XG4gICAgICAgIHZhciB5ID0gcG9zLnk7XG5cbiAgICAgICAgbmV3UG9zLnggPSB0aGlzLmEgKiB4ICsgdGhpcy5jICogeSArIHRoaXMudHg7XG4gICAgICAgIG5ld1Bvcy55ID0gdGhpcy5iICogeCArIHRoaXMuZCAqIHkgKyB0aGlzLnR5O1xuXG4gICAgICAgIHJldHVybiBuZXdQb3M7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBpbnZlcnNlIG9mIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZSB0byBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gaW5wdXQpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvcyAtIFRoZSBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIGludmVyc2UtdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGx5SW52ZXJzZSA9IGZ1bmN0aW9uIGFwcGx5SW52ZXJzZShwb3MsIG5ld1Bvcykge1xuICAgICAgICBuZXdQb3MgPSBuZXdQb3MgfHwgbmV3IF9Qb2ludDIuZGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciBpZCA9IDEgLyAodGhpcy5hICogdGhpcy5kICsgdGhpcy5jICogLXRoaXMuYik7XG5cbiAgICAgICAgdmFyIHggPSBwb3MueDtcbiAgICAgICAgdmFyIHkgPSBwb3MueTtcblxuICAgICAgICBuZXdQb3MueCA9IHRoaXMuZCAqIGlkICogeCArIC10aGlzLmMgKiBpZCAqIHkgKyAodGhpcy50eSAqIHRoaXMuYyAtIHRoaXMudHggKiB0aGlzLmQpICogaWQ7XG4gICAgICAgIG5ld1Bvcy55ID0gdGhpcy5hICogaWQgKiB5ICsgLXRoaXMuYiAqIGlkICogeCArICgtdGhpcy50eSAqIHRoaXMuYSArIHRoaXMudHggKiB0aGlzLmIpICogaWQ7XG5cbiAgICAgICAgcmV0dXJuIG5ld1BvcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgbWF0cml4IG9uIHRoZSB4IGFuZCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggSG93IG11Y2ggdG8gdHJhbnNsYXRlIHggYnlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeSBieVxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIHRyYW5zbGF0ZSh4LCB5KSB7XG4gICAgICAgIHRoaXMudHggKz0geDtcbiAgICAgICAgdGhpcy50eSArPSB5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgc2NhbGUgdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRoZSBhbW91bnQgdG8gc2NhbGUgaG9yaXpvbnRhbGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGhlIGFtb3VudCB0byBzY2FsZSB2ZXJ0aWNhbGx5XG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiBzY2FsZSh4LCB5KSB7XG4gICAgICAgIHRoaXMuYSAqPSB4O1xuICAgICAgICB0aGlzLmQgKj0geTtcbiAgICAgICAgdGhpcy5jICo9IHg7XG4gICAgICAgIHRoaXMuYiAqPSB5O1xuICAgICAgICB0aGlzLnR4ICo9IHg7XG4gICAgICAgIHRoaXMudHkgKj0geTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHJvdGF0aW9uIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgLSBUaGUgYW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5yb3RhdGUgPSBmdW5jdGlvbiByb3RhdGUoYW5nbGUpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgdmFyIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcblxuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG5cbiAgICAgICAgdGhpcy5hID0gYTEgKiBjb3MgLSB0aGlzLmIgKiBzaW47XG4gICAgICAgIHRoaXMuYiA9IGExICogc2luICsgdGhpcy5iICogY29zO1xuICAgICAgICB0aGlzLmMgPSBjMSAqIGNvcyAtIHRoaXMuZCAqIHNpbjtcbiAgICAgICAgdGhpcy5kID0gYzEgKiBzaW4gKyB0aGlzLmQgKiBjb3M7XG4gICAgICAgIHRoaXMudHggPSB0eDEgKiBjb3MgLSB0aGlzLnR5ICogc2luO1xuICAgICAgICB0aGlzLnR5ID0gdHgxICogc2luICsgdGhpcy50eSAqIGNvcztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBhcHBlbmQuXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kKG1hdHJpeCkge1xuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBiMSA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICB2YXIgZDEgPSB0aGlzLmQ7XG5cbiAgICAgICAgdGhpcy5hID0gbWF0cml4LmEgKiBhMSArIG1hdHJpeC5iICogYzE7XG4gICAgICAgIHRoaXMuYiA9IG1hdHJpeC5hICogYjEgKyBtYXRyaXguYiAqIGQxO1xuICAgICAgICB0aGlzLmMgPSBtYXRyaXguYyAqIGExICsgbWF0cml4LmQgKiBjMTtcbiAgICAgICAgdGhpcy5kID0gbWF0cml4LmMgKiBiMSArIG1hdHJpeC5kICogZDE7XG5cbiAgICAgICAgdGhpcy50eCA9IG1hdHJpeC50eCAqIGExICsgbWF0cml4LnR5ICogYzEgKyB0aGlzLnR4O1xuICAgICAgICB0aGlzLnR5ID0gbWF0cml4LnR4ICogYjEgKyBtYXRyaXgudHkgKiBkMSArIHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hdHJpeCBiYXNlZCBvbiBhbGwgdGhlIGF2YWlsYWJsZSBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFBvc2l0aW9uIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFBvc2l0aW9uIG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl2b3RYIC0gUGl2b3Qgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFkgLSBQaXZvdCBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWCAtIFNjYWxlIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVZIC0gU2NhbGUgb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFJvdGF0aW9uIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1ggLSBTa2V3IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1kgLSBTa2V3IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0oeCwgeSwgcGl2b3RYLCBwaXZvdFksIHNjYWxlWCwgc2NhbGVZLCByb3RhdGlvbiwgc2tld1gsIHNrZXdZKSB7XG4gICAgICAgIHRoaXMuYSA9IE1hdGguY29zKHJvdGF0aW9uICsgc2tld1kpICogc2NhbGVYO1xuICAgICAgICB0aGlzLmIgPSBNYXRoLnNpbihyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICAgICAgdGhpcy5jID0gLU1hdGguc2luKHJvdGF0aW9uIC0gc2tld1gpICogc2NhbGVZO1xuICAgICAgICB0aGlzLmQgPSBNYXRoLmNvcyhyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcblxuICAgICAgICB0aGlzLnR4ID0geCAtIChwaXZvdFggKiB0aGlzLmEgKyBwaXZvdFkgKiB0aGlzLmMpO1xuICAgICAgICB0aGlzLnR5ID0geSAtIChwaXZvdFggKiB0aGlzLmIgKyBwaXZvdFkgKiB0aGlzLmQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcmVwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBwcmVwZW5kXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uIHByZXBlbmQobWF0cml4KSB7XG4gICAgICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuXG4gICAgICAgIGlmIChtYXRyaXguYSAhPT0gMSB8fCBtYXRyaXguYiAhPT0gMCB8fCBtYXRyaXguYyAhPT0gMCB8fCBtYXRyaXguZCAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuXG4gICAgICAgICAgICB0aGlzLmEgPSBhMSAqIG1hdHJpeC5hICsgdGhpcy5iICogbWF0cml4LmM7XG4gICAgICAgICAgICB0aGlzLmIgPSBhMSAqIG1hdHJpeC5iICsgdGhpcy5iICogbWF0cml4LmQ7XG4gICAgICAgICAgICB0aGlzLmMgPSBjMSAqIG1hdHJpeC5hICsgdGhpcy5kICogbWF0cml4LmM7XG4gICAgICAgICAgICB0aGlzLmQgPSBjMSAqIG1hdHJpeC5iICsgdGhpcy5kICogbWF0cml4LmQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnR4ID0gdHgxICogbWF0cml4LmEgKyB0aGlzLnR5ICogbWF0cml4LmMgKyBtYXRyaXgudHg7XG4gICAgICAgIHRoaXMudHkgPSB0eDEgKiBtYXRyaXguYiArIHRoaXMudHkgKiBtYXRyaXguZCArIG1hdHJpeC50eTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVjb21wb3NlcyB0aGUgbWF0cml4ICh4LCB5LCBzY2FsZVgsIHNjYWxlWSwgYW5kIHJvdGF0aW9uKSBhbmQgc2V0cyB0aGUgcHJvcGVydGllcyBvbiB0byBhIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm18UElYSS5UcmFuc2Zvcm1TdGF0aWN9IHRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gdG8gYXBwbHkgdGhlIHByb3BlcnRpZXMgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5UcmFuc2Zvcm18UElYSS5UcmFuc2Zvcm1TdGF0aWN9IFRoZSB0cmFuc2Zvcm0gd2l0aCB0aGUgbmV3bHkgYXBwbGllZCBwcm9wZXJ0aWVzXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuZGVjb21wb3NlID0gZnVuY3Rpb24gZGVjb21wb3NlKHRyYW5zZm9ybSkge1xuICAgICAgICAvLyBzb3J0IG91dCByb3RhdGlvbiAvIHNrZXcuLlxuICAgICAgICB2YXIgYSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjID0gdGhpcy5jO1xuICAgICAgICB2YXIgZCA9IHRoaXMuZDtcblxuICAgICAgICB2YXIgc2tld1ggPSAtTWF0aC5hdGFuMigtYywgZCk7XG4gICAgICAgIHZhciBza2V3WSA9IE1hdGguYXRhbjIoYiwgYSk7XG5cbiAgICAgICAgdmFyIGRlbHRhID0gTWF0aC5hYnMoc2tld1ggKyBza2V3WSk7XG5cbiAgICAgICAgaWYgKGRlbHRhIDwgMC4wMDAwMSB8fCBNYXRoLmFicyhfY29uc3QuUElfMiAtIGRlbHRhKSA8IDAuMDAwMDEpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IHNrZXdZO1xuXG4gICAgICAgICAgICBpZiAoYSA8IDAgJiYgZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uICs9IHRyYW5zZm9ybS5yb3RhdGlvbiA8PSAwID8gTWF0aC5QSSA6IC1NYXRoLlBJO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gdHJhbnNmb3JtLnNrZXcueSA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSAwO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbmV4dCBzZXQgc2NhbGVcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnggPSBNYXRoLnNxcnQoYSAqIGEgKyBiICogYik7XG4gICAgICAgIHRyYW5zZm9ybS5zY2FsZS55ID0gTWF0aC5zcXJ0KGMgKiBjICsgZCAqIGQpO1xuXG4gICAgICAgIC8vIG5leHQgc2V0IHBvc2l0aW9uXG4gICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdGhpcy50eDtcbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB0aGlzLnR5O1xuXG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEludmVydHMgdGhpcyBtYXRyaXhcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uIGludmVydCgpIHtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQxID0gdGhpcy5kO1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICAgICAgdmFyIG4gPSBhMSAqIGQxIC0gYjEgKiBjMTtcblxuICAgICAgICB0aGlzLmEgPSBkMSAvIG47XG4gICAgICAgIHRoaXMuYiA9IC1iMSAvIG47XG4gICAgICAgIHRoaXMuYyA9IC1jMSAvIG47XG4gICAgICAgIHRoaXMuZCA9IGExIC8gbjtcbiAgICAgICAgdGhpcy50eCA9IChjMSAqIHRoaXMudHkgLSBkMSAqIHR4MSkgLyBuO1xuICAgICAgICB0aGlzLnR5ID0gLShhMSAqIHRoaXMudHkgLSBiMSAqIHR4MSkgLyBuO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhpcyBNYXRpeCB0byBhbiBpZGVudGl0eSAoZGVmYXVsdCkgbWF0cml4LlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuaWRlbnRpdHkgPSBmdW5jdGlvbiBpZGVudGl0eSgpIHtcbiAgICAgICAgdGhpcy5hID0gMTtcbiAgICAgICAgdGhpcy5iID0gMDtcbiAgICAgICAgdGhpcy5jID0gMDtcbiAgICAgICAgdGhpcy5kID0gMTtcbiAgICAgICAgdGhpcy50eCA9IDA7XG4gICAgICAgIHRoaXMudHkgPSAwO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IE1hdHJpeCBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gQSBjb3B5IG9mIHRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIGdpdmVuIG1hdHJpeCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgb25lcyBpbiB0aGlzIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXRyaXggZ2l2ZW4gaW4gcGFyYW1ldGVyIHdpdGggaXRzIHZhbHVlcyB1cGRhdGVkLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KG1hdHJpeCkge1xuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIGRlZmF1bHQgKGlkZW50aXR5KSBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKE1hdHJpeCwgbnVsbCwgW3tcbiAgICAgICAga2V5OiAnSURFTlRJVFknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSB0ZW1wIG1hdHJpeFxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnVEVNUF9NQVRSSVgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTWF0cml4O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBNYXRyaXg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXRyaXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBSZWN0YW5nbGUgb2JqZWN0IGlzIGFuIGFyZWEgZGVmaW5lZCBieSBpdHMgcG9zaXRpb24sIGFzIGluZGljYXRlZCBieSBpdHMgdG9wLWxlZnQgY29ybmVyXG4gKiBwb2ludCAoeCwgeSkgYW5kIGJ5IGl0cyB3aWR0aCBhbmQgaXRzIGhlaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZWN0YW5nbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gVGhlIG92ZXJhbGwgd2lkdGggb2YgdGhpcyByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBvdmVyYWxsIGhlaWdodCBvZiB0aGlzIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlY3RhbmdsZSgpIHtcbiAgICAgICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlY3RhbmdsZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0gTnVtYmVyKHgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IE51bWJlcih5KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gTnVtYmVyKHdpZHRoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IE51bWJlcihoZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJFQ1RcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gX2NvbnN0LlNIQVBFUy5SRUNUO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIGxlZnQgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IGEgY29weSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgYW5vdGhlciByZWN0YW5nbGUgdG8gdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGNvcHkuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHJlY3RhbmdsZSkge1xuICAgICAgICB0aGlzLnggPSByZWN0YW5nbGUueDtcbiAgICAgICAgdGhpcy55ID0gcmVjdGFuZ2xlLnk7XG4gICAgICAgIHRoaXMud2lkdGggPSByZWN0YW5nbGUud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcmVjdGFuZ2xlLmhlaWdodDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgUmVjdGFuZ2xlXG4gICAgICovXG5cblxuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPCB0aGlzLnggKyB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8IHRoaXMueSArIHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBhZHMgdGhlIHJlY3RhbmdsZSBtYWtpbmcgaXQgZ3JvdyBpbiBhbGwgZGlyZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYWRkaW5nWCAtIFRoZSBob3Jpem9udGFsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1ldIC0gVGhlIHZlcnRpY2FsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqL1xuXG5cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLnBhZCA9IGZ1bmN0aW9uIHBhZChwYWRkaW5nWCwgcGFkZGluZ1kpIHtcbiAgICAgICAgcGFkZGluZ1ggPSBwYWRkaW5nWCB8fCAwO1xuICAgICAgICBwYWRkaW5nWSA9IHBhZGRpbmdZIHx8IChwYWRkaW5nWSAhPT0gMCA/IHBhZGRpbmdYIDogMCk7XG5cbiAgICAgICAgdGhpcy54IC09IHBhZGRpbmdYO1xuICAgICAgICB0aGlzLnkgLT0gcGFkZGluZ1k7XG5cbiAgICAgICAgdGhpcy53aWR0aCArPSBwYWRkaW5nWCAqIDI7XG4gICAgICAgIHRoaXMuaGVpZ2h0ICs9IHBhZGRpbmdZICogMjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRml0cyB0aGlzIHJlY3RhbmdsZSBhcm91bmQgdGhlIHBhc3NlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGZpdC5cbiAgICAgKi9cblxuXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5maXQgPSBmdW5jdGlvbiBmaXQocmVjdGFuZ2xlKSB7XG4gICAgICAgIGlmICh0aGlzLnggPCByZWN0YW5nbGUueCkge1xuICAgICAgICAgICAgdGhpcy53aWR0aCArPSB0aGlzLng7XG4gICAgICAgICAgICBpZiAodGhpcy53aWR0aCA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy54ID0gcmVjdGFuZ2xlLng7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy55IDwgcmVjdGFuZ2xlLnkpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ICs9IHRoaXMueTtcbiAgICAgICAgICAgIGlmICh0aGlzLmhlaWdodCA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnkgPSByZWN0YW5nbGUueTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnggKyB0aGlzLndpZHRoID4gcmVjdGFuZ2xlLnggKyByZWN0YW5nbGUud2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSByZWN0YW5nbGUud2lkdGggLSB0aGlzLng7XG4gICAgICAgICAgICBpZiAodGhpcy53aWR0aCA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnkgKyB0aGlzLmhlaWdodCA+IHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSByZWN0YW5nbGUuaGVpZ2h0IC0gdGhpcy55O1xuICAgICAgICAgICAgaWYgKHRoaXMuaGVpZ2h0IDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmxhcmdlcyB0aGlzIHJlY3RhbmdsZSB0byBpbmNsdWRlIHRoZSBwYXNzZWQgcmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBpbmNsdWRlLlxuICAgICAqL1xuXG5cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmVubGFyZ2UgPSBmdW5jdGlvbiBlbmxhcmdlKHJlY3RhbmdsZSkge1xuICAgICAgICB2YXIgeDEgPSBNYXRoLm1pbih0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICAgICAgdmFyIHgyID0gTWF0aC5tYXgodGhpcy54ICsgdGhpcy53aWR0aCwgcmVjdGFuZ2xlLnggKyByZWN0YW5nbGUud2lkdGgpO1xuICAgICAgICB2YXIgeTEgPSBNYXRoLm1pbih0aGlzLnksIHJlY3RhbmdsZS55KTtcbiAgICAgICAgdmFyIHkyID0gTWF0aC5tYXgodGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy54ID0geDE7XG4gICAgICAgIHRoaXMud2lkdGggPSB4MiAtIHgxO1xuICAgICAgICB0aGlzLnkgPSB5MTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB5MiAtIHkxO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoUmVjdGFuZ2xlLCBbe1xuICAgICAgICBrZXk6ICdsZWZ0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgdGhlIHJpZ2h0IGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueCArIHRoaXMud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgdG9wIGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0b3AnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgYm90dG9tIGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdib3R0b20nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnkgKyB0aGlzLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvbnN0YW50IGVtcHR5IHJlY3RhbmdsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICovXG5cbiAgICB9XSwgW3tcbiAgICAgICAga2V5OiAnRU1QVFknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFJlY3RhbmdsZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUmVjdGFuZ2xlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVjdGFuZ2xlLmpzLm1hcCIsIlxuXG52YXIgbWFwVHlwZSA9IGZ1bmN0aW9uKGdsLCB0eXBlKSBcbntcbiAgICBpZighR0xfVEFCTEUpIFxuICAgIHtcbiAgICAgICAgdmFyIHR5cGVOYW1lcyA9IE9iamVjdC5rZXlzKEdMX1RPX0dMU0xfVFlQRVMpO1xuXG4gICAgICAgIEdMX1RBQkxFID0ge307XG5cbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHR5cGVOYW1lcy5sZW5ndGg7ICsraSkgXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0biA9IHR5cGVOYW1lc1tpXTtcbiAgICAgICAgICAgIEdMX1RBQkxFWyBnbFt0bl0gXSA9IEdMX1RPX0dMU0xfVFlQRVNbdG5dO1xuICAgICAgICB9XG4gICAgfVxuXG4gIHJldHVybiBHTF9UQUJMRVt0eXBlXTtcbn07XG5cbnZhciBHTF9UQUJMRSA9IG51bGw7XG5cbnZhciBHTF9UT19HTFNMX1RZUEVTID0ge1xuICAnRkxPQVQnOiAgICAgICAnZmxvYXQnLFxuICAnRkxPQVRfVkVDMic6ICAndmVjMicsXG4gICdGTE9BVF9WRUMzJzogICd2ZWMzJyxcbiAgJ0ZMT0FUX1ZFQzQnOiAgJ3ZlYzQnLFxuXG4gICdJTlQnOiAgICAgICAgICdpbnQnLFxuICAnSU5UX1ZFQzInOiAgICAnaXZlYzInLFxuICAnSU5UX1ZFQzMnOiAgICAnaXZlYzMnLFxuICAnSU5UX1ZFQzQnOiAgICAnaXZlYzQnLFxuICBcbiAgJ0JPT0wnOiAgICAgICAgJ2Jvb2wnLFxuICAnQk9PTF9WRUMyJzogICAnYnZlYzInLFxuICAnQk9PTF9WRUMzJzogICAnYnZlYzMnLFxuICAnQk9PTF9WRUM0JzogICAnYnZlYzQnLFxuICBcbiAgJ0ZMT0FUX01BVDInOiAgJ21hdDInLFxuICAnRkxPQVRfTUFUMyc6ICAnbWF0MycsXG4gICdGTE9BVF9NQVQ0JzogICdtYXQ0JyxcbiAgXG4gICdTQU1QTEVSXzJEJzogICdzYW1wbGVyMkQnICBcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwVHlwZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqICdCdWlsZGVyJyBwYXR0ZXJuIGZvciBib3VuZHMgcmVjdGFuZ2xlc1xuICogQXhpcy1BbGlnbmVkIEJvdW5kaW5nIEJveFxuICogSXQgaXMgbm90IGEgc2hhcGUhIEl0cyBtdXRhYmxlIHRoaW5nLCBubyAnRU1QVFknIG9yIHRoYXQga2luZCBvZiBwcm9ibGVtc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJvdW5kcygpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvdW5kcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcblxuICAgICAgICB0aGlzLnJlY3QgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBib3VuZHMgYXJlIGVtcHR5LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBlbXB0eS5cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgYm91bmRzIGFuZCByZXNldHMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUlEKys7XG5cbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FuIHJldHVybiBSZWN0YW5nbGUuRU1QVFkgY29uc3RhbnQsIGVpdGhlciBjb25zdHJ1Y3QgbmV3IHJlY3RhbmdsZSwgZWl0aGVyIHVzZSB5b3VyIHJlY3RhbmdsZVxuICAgICAqIEl0IGlzIG5vdCBndWFyYW50ZWVkIHRoYXQgaXQgd2lsbCByZXR1cm4gdGVtcFJlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSB0ZW1wb3Jhcnkgb2JqZWN0IHdpbGwgYmUgdXNlZCBpZiBBQUJCIGlzIG5vdCBlbXB0eVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlJlY3RhbmdsZX0gQSByZWN0YW5nbGUgb2YgdGhlIGJvdW5kc1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmdldFJlY3RhbmdsZSA9IGZ1bmN0aW9uIGdldFJlY3RhbmdsZShyZWN0KSB7XG4gICAgICAgIGlmICh0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZKSB7XG4gICAgICAgICAgICByZXR1cm4gX21hdGguUmVjdGFuZ2xlLkVNUFRZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjdCA9IHJlY3QgfHwgbmV3IF9tYXRoLlJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcblxuICAgICAgICByZWN0LnggPSB0aGlzLm1pblg7XG4gICAgICAgIHJlY3QueSA9IHRoaXMubWluWTtcbiAgICAgICAgcmVjdC53aWR0aCA9IHRoaXMubWF4WCAtIHRoaXMubWluWDtcbiAgICAgICAgcmVjdC5oZWlnaHQgPSB0aGlzLm1heFkgLSB0aGlzLm1pblk7XG5cbiAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGlubGluZWQgd2hlbiBpdHMgcG9zc2libGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gVGhlIHBvaW50IHRvIGFkZC5cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRQb2ludCA9IGZ1bmN0aW9uIGFkZFBvaW50KHBvaW50KSB7XG4gICAgICAgIHRoaXMubWluWCA9IE1hdGgubWluKHRoaXMubWluWCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgcG9pbnQueSk7XG4gICAgICAgIHRoaXMubWF4WSA9IE1hdGgubWF4KHRoaXMubWF4WSwgcG9pbnQueSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBxdWFkLCBub3QgdHJhbnNmb3JtZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIFRoZSB2ZXJ0cyB0byBhZGQuXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkUXVhZCA9IGZ1bmN0aW9uIGFkZFF1YWQodmVydGljZXMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdmFyIHggPSB2ZXJ0aWNlc1swXTtcbiAgICAgICAgdmFyIHkgPSB2ZXJ0aWNlc1sxXTtcblxuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gdmVydGljZXNbMl07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1szXTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IHZlcnRpY2VzWzRdO1xuICAgICAgICB5ID0gdmVydGljZXNbNV07XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSB2ZXJ0aWNlc1s2XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzddO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHNwcml0ZSBmcmFtZSwgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtQmFzZX0gdHJhbnNmb3JtIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTAgLSBUT0RPXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIFRPRE9cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRGcmFtZSA9IGZ1bmN0aW9uIGFkZEZyYW1lKHRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICAgICAgdmFyIGIgPSBtYXRyaXguYjtcbiAgICAgICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICAgICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICAgICAgdmFyIHR4ID0gbWF0cml4LnR4O1xuICAgICAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG5cbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdmFyIHggPSBhICogeDAgKyBjICogeTAgKyB0eDtcbiAgICAgICAgdmFyIHkgPSBiICogeDAgKyBkICogeTAgKyB0eTtcblxuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gYSAqIHgxICsgYyAqIHkwICsgdHg7XG4gICAgICAgIHkgPSBiICogeDEgKyBkICogeTAgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IGEgKiB4MCArIGMgKiB5MSArIHR4O1xuICAgICAgICB5ID0gYiAqIHgwICsgZCAqIHkxICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSBhICogeDEgKyBjICogeTEgKyB0eDtcbiAgICAgICAgeSA9IGIgKiB4MSArIGQgKiB5MSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYXJyYXkgb2YgdmVydGljZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm1CYXNlfSB0cmFuc2Zvcm0gLSBUT0RPXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kT2Zmc2V0IC0gVE9ET1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFZlcnRpY2VzID0gZnVuY3Rpb24gYWRkVmVydGljZXModHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCkge1xuICAgICAgICB2YXIgbWF0cml4ID0gdHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IG1hdHJpeC5hO1xuICAgICAgICB2YXIgYiA9IG1hdHJpeC5iO1xuICAgICAgICB2YXIgYyA9IG1hdHJpeC5jO1xuICAgICAgICB2YXIgZCA9IG1hdHJpeC5kO1xuICAgICAgICB2YXIgdHggPSBtYXRyaXgudHg7XG4gICAgICAgIHZhciB0eSA9IG1hdHJpeC50eTtcblxuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICBmb3IgKHZhciBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHJhd1ggPSB2ZXJ0aWNlc1tpXTtcbiAgICAgICAgICAgIHZhciByYXdZID0gdmVydGljZXNbaSArIDFdO1xuICAgICAgICAgICAgdmFyIHggPSBhICogcmF3WCArIGMgKiByYXdZICsgdHg7XG4gICAgICAgICAgICB2YXIgeSA9IGQgKiByYXdZICsgYiAqIHJhd1ggKyB0eTtcblxuICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kcyA9IGZ1bmN0aW9uIGFkZEJvdW5kcyhib3VuZHMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdGhpcy5taW5YID0gYm91bmRzLm1pblggPCBtaW5YID8gYm91bmRzLm1pblggOiBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBib3VuZHMubWluWSA8IG1pblkgPyBib3VuZHMubWluWSA6IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IGJvdW5kcy5tYXhYID4gbWF4WCA/IGJvdW5kcy5tYXhYIDogbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gYm91bmRzLm1heFkgPiBtYXhZID8gYm91bmRzLm1heFkgOiBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggQm91bmRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gbWFzayAtIFRPRE9cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNNYXNrID0gZnVuY3Rpb24gYWRkQm91bmRzTWFzayhib3VuZHMsIG1hc2spIHtcbiAgICAgICAgdmFyIF9taW5YID0gYm91bmRzLm1pblggPiBtYXNrLm1pblggPyBib3VuZHMubWluWCA6IG1hc2subWluWDtcbiAgICAgICAgdmFyIF9taW5ZID0gYm91bmRzLm1pblkgPiBtYXNrLm1pblkgPyBib3VuZHMubWluWSA6IG1hc2subWluWTtcbiAgICAgICAgdmFyIF9tYXhYID0gYm91bmRzLm1heFggPCBtYXNrLm1heFggPyBib3VuZHMubWF4WCA6IG1hc2subWF4WDtcbiAgICAgICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBtYXNrLm1heFkgPyBib3VuZHMubWF4WSA6IG1hc2subWF4WTtcblxuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpIHtcbiAgICAgICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgICAgICB0aGlzLm1pblggPSBfbWluWCA8IG1pblggPyBfbWluWCA6IG1pblg7XG4gICAgICAgICAgICB0aGlzLm1pblkgPSBfbWluWSA8IG1pblkgPyBfbWluWSA6IG1pblk7XG4gICAgICAgICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICAgICAgICB0aGlzLm1heFkgPSBfbWF4WSA+IG1heFkgPyBfbWF4WSA6IG1heFk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMsIG1hc2tlZCB3aXRoIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGFyZWEgLSBUT0RPXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzQXJlYSA9IGZ1bmN0aW9uIGFkZEJvdW5kc0FyZWEoYm91bmRzLCBhcmVhKSB7XG4gICAgICAgIHZhciBfbWluWCA9IGJvdW5kcy5taW5YID4gYXJlYS54ID8gYm91bmRzLm1pblggOiBhcmVhLng7XG4gICAgICAgIHZhciBfbWluWSA9IGJvdW5kcy5taW5ZID4gYXJlYS55ID8gYm91bmRzLm1pblkgOiBhcmVhLnk7XG4gICAgICAgIHZhciBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgYXJlYS54ICsgYXJlYS53aWR0aCA/IGJvdW5kcy5tYXhYIDogYXJlYS54ICsgYXJlYS53aWR0aDtcbiAgICAgICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBhcmVhLnkgKyBhcmVhLmhlaWdodCA/IGJvdW5kcy5tYXhZIDogYXJlYS55ICsgYXJlYS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKSB7XG4gICAgICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBCb3VuZHM7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJvdW5kcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJvdW5kcy5qcy5tYXAiLCIhZnVuY3Rpb24oZSl7dmFyIG49L2lQaG9uZS9pLHQ9L2lQb2QvaSxyPS9pUGFkL2ksYT0vXFxiQW5kcm9pZCg/Oi4rKU1vYmlsZVxcYi9pLHA9L0FuZHJvaWQvaSxsPS9cXGJBbmRyb2lkKD86LispU0Q0OTMwVVJcXGIvaSxiPS9cXGJBbmRyb2lkKD86LispKD86S0ZbQS1aXXsyLDR9KVxcYi9pLGY9L1dpbmRvd3MgUGhvbmUvaSx1PS9cXGJXaW5kb3dzKD86LispQVJNXFxiL2ksYz0vQmxhY2tCZXJyeS9pLHM9L0JCMTAvaSx2PS9PcGVyYSBNaW5pL2ksaD0vXFxiKENyaU9TfENocm9tZSkoPzouKylNb2JpbGUvaSx3PS9cXE1vYmlsZSg/Oi4rKUZpcmVmb3hcXGIvaTtmdW5jdGlvbiBtKGUsaSl7cmV0dXJuIGUudGVzdChpKX1mdW5jdGlvbiBpKGUpe3ZhciBpPWV8fChcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yP25hdmlnYXRvci51c2VyQWdlbnQ6XCJcIiksbz1pLnNwbGl0KFwiW0ZCQU5cIik7dm9pZCAwIT09b1sxXSYmKGk9b1swXSksdm9pZCAwIT09KG89aS5zcGxpdChcIlR3aXR0ZXJcIikpWzFdJiYoaT1vWzBdKTt2YXIgZD17YXBwbGU6e3Bob25lOm0obixpKSYmIW0oZixpKSxpcG9kOm0odCxpKSx0YWJsZXQ6IW0obixpKSYmbShyLGkpJiYhbShmLGkpLGRldmljZToobShuLGkpfHxtKHQsaSl8fG0ocixpKSkmJiFtKGYsaSl9LGFtYXpvbjp7cGhvbmU6bShsLGkpLHRhYmxldDohbShsLGkpJiZtKGIsaSksZGV2aWNlOm0obCxpKXx8bShiLGkpfSxhbmRyb2lkOntwaG9uZTohbShmLGkpJiZtKGwsaSl8fCFtKGYsaSkmJm0oYSxpKSx0YWJsZXQ6IW0oZixpKSYmIW0obCxpKSYmIW0oYSxpKSYmKG0oYixpKXx8bShwLGkpKSxkZXZpY2U6IW0oZixpKSYmKG0obCxpKXx8bShiLGkpfHxtKGEsaSl8fG0ocCxpKSl9LHdpbmRvd3M6e3Bob25lOm0oZixpKSx0YWJsZXQ6bSh1LGkpLGRldmljZTptKGYsaSl8fG0odSxpKX0sb3RoZXI6e2JsYWNrYmVycnk6bShjLGkpLGJsYWNrYmVycnkxMDptKHMsaSksb3BlcmE6bSh2LGkpLGZpcmVmb3g6bSh3LGkpLGNocm9tZTptKGgsaSksZGV2aWNlOm0oYyxpKXx8bShzLGkpfHxtKHYsaSl8fG0odyxpKXx8bShoLGkpfX07cmV0dXJuIGQuYW55PWQuYXBwbGUuZGV2aWNlfHxkLmFuZHJvaWQuZGV2aWNlfHxkLndpbmRvd3MuZGV2aWNlfHxkLm90aGVyLmRldmljZSxkLnBob25lPWQuYXBwbGUucGhvbmV8fGQuYW5kcm9pZC5waG9uZXx8ZC53aW5kb3dzLnBob25lLGQudGFibGV0PWQuYXBwbGUudGFibGV0fHxkLmFuZHJvaWQudGFibGV0fHxkLndpbmRvd3MudGFibGV0LGR9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJlwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/bW9kdWxlLmV4cG9ydHM9aTpcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz9tb2R1bGUuZXhwb3J0cz1pKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlLmlzTW9iaWxlPWkoKSk6ZS5pc01vYmlsZT1pKCl9KHRoaXMpOyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEdlbmVyaWMgY2xhc3MgdG8gZGVhbCB3aXRoIHRyYWRpdGlvbmFsIDJEIG1hdHJpeCB0cmFuc2Zvcm1zXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVHJhbnNmb3JtQmFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBUcmFuc2Zvcm1CYXNlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2Zvcm1CYXNlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBnbG9iYWwgbWF0cml4IHRyYW5zZm9ybS4gSXQgY2FuIGJlIHN3YXBwZWQgdGVtcG9yYXJpbHkgYnkgc29tZSBmdW5jdGlvbnMgbGlrZSBnZXRMb2NhbEJvdW5kcygpXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLndvcmxkVHJhbnNmb3JtID0gbmV3IF9tYXRoLk1hdHJpeCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxvY2FsIG1hdHJpeCB0cmFuc2Zvcm1cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAqL1xuICAgIHRoaXMubG9jYWxUcmFuc2Zvcm0gPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbiAgICB0aGlzLl93b3JsZElEID0gMDtcbiAgICB0aGlzLl9wYXJlbnRJRCA9IDA7XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmb3JtQmFzZSBkb2VzIG5vdCBoYXZlIGRlY29tcG9zaXRpb24sIHNvIHRoaXMgZnVuY3Rpb24gd29udCBkbyBhbnl0aGluZ1xuICAgKi9cblxuXG4gIFRyYW5zZm9ybUJhc2UucHJvdG90eXBlLnVwZGF0ZUxvY2FsVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlTG9jYWxUcmFuc2Zvcm0oKSB7fVxuICAvLyBlbXB0eVxuXG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHZhbHVlcyBvZiB0aGUgb2JqZWN0IGFuZCBhcHBsaWVzIHRoZSBwYXJlbnQncyB0cmFuc2Zvcm0uXG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm1CYXNlfSBwYXJlbnRUcmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIG9mIHRoZSBwYXJlbnQgb2YgdGhpcyBvYmplY3RcbiAgICovXG4gIDtcblxuICBUcmFuc2Zvcm1CYXNlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0ocGFyZW50VHJhbnNmb3JtKSB7XG4gICAgdmFyIHB0ID0gcGFyZW50VHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIHZhciB3dCA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG4gICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcblxuICAgIC8vIGNvbmNhdCB0aGUgcGFyZW50IG1hdHJpeCB3aXRoIHRoZSBvYmplY3RzIHRyYW5zZm9ybS5cbiAgICB3dC5hID0gbHQuYSAqIHB0LmEgKyBsdC5iICogcHQuYztcbiAgICB3dC5iID0gbHQuYSAqIHB0LmIgKyBsdC5iICogcHQuZDtcbiAgICB3dC5jID0gbHQuYyAqIHB0LmEgKyBsdC5kICogcHQuYztcbiAgICB3dC5kID0gbHQuYyAqIHB0LmIgKyBsdC5kICogcHQuZDtcbiAgICB3dC50eCA9IGx0LnR4ICogcHQuYSArIGx0LnR5ICogcHQuYyArIHB0LnR4O1xuICAgIHd0LnR5ID0gbHQudHggKiBwdC5iICsgbHQudHkgKiBwdC5kICsgcHQudHk7XG5cbiAgICB0aGlzLl93b3JsZElEKys7XG4gIH07XG5cbiAgcmV0dXJuIFRyYW5zZm9ybUJhc2U7XG59KCk7XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgdmFsdWVzIG9mIHRoZSBvYmplY3QgYW5kIGFwcGxpZXMgdGhlIHBhcmVudCdzIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSAgcGFyZW50VHJhbnNmb3JtIHtQSVhJLlRyYW5zZm9ybX0gVGhlIHRyYW5zZm9ybSBvZiB0aGUgcGFyZW50IG9mIHRoaXMgb2JqZWN0XG4gKlxuICovXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gVHJhbnNmb3JtQmFzZTtcblRyYW5zZm9ybUJhc2UucHJvdG90eXBlLnVwZGF0ZVdvcmxkVHJhbnNmb3JtID0gVHJhbnNmb3JtQmFzZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuXG5UcmFuc2Zvcm1CYXNlLklERU5USVRZID0gbmV3IFRyYW5zZm9ybUJhc2UoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyYW5zZm9ybUJhc2UuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVhcmN1dDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBlYXJjdXQ7XG5cbmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7XG5cbiAgICBkaW0gPSBkaW0gfHwgMjtcblxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGgsXG4gICAgICAgIG91dGVyTm9kZSA9IGxpbmtlZExpc3QoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSwgdHJ1ZSksXG4gICAgICAgIHRyaWFuZ2xlcyA9IFtdO1xuXG4gICAgaWYgKCFvdXRlck5vZGUgfHwgb3V0ZXJOb2RlLm5leHQgPT09IG91dGVyTm9kZS5wcmV2KSByZXR1cm4gdHJpYW5nbGVzO1xuXG4gICAgdmFyIG1pblgsIG1pblksIG1heFgsIG1heFksIHgsIHksIGludlNpemU7XG5cbiAgICBpZiAoaGFzSG9sZXMpIG91dGVyTm9kZSA9IGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSk7XG5cbiAgICAvLyBpZiB0aGUgc2hhcGUgaXMgbm90IHRvbyBzaW1wbGUsIHdlJ2xsIHVzZSB6LW9yZGVyIGN1cnZlIGhhc2ggbGF0ZXI7IGNhbGN1bGF0ZSBwb2x5Z29uIGJib3hcbiAgICBpZiAoZGF0YS5sZW5ndGggPiA4MCAqIGRpbSkge1xuICAgICAgICBtaW5YID0gbWF4WCA9IGRhdGFbMF07XG4gICAgICAgIG1pblkgPSBtYXhZID0gZGF0YVsxXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gZGltOyBpIDwgb3V0ZXJMZW47IGkgKz0gZGltKSB7XG4gICAgICAgICAgICB4ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIHkgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIGlmICh4IDwgbWluWCkgbWluWCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA8IG1pblkpIG1pblkgPSB5O1xuICAgICAgICAgICAgaWYgKHggPiBtYXhYKSBtYXhYID0geDtcbiAgICAgICAgICAgIGlmICh5ID4gbWF4WSkgbWF4WSA9IHk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtaW5YLCBtaW5ZIGFuZCBpbnZTaXplIGFyZSBsYXRlciB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZHMgaW50byBpbnRlZ2VycyBmb3Igei1vcmRlciBjYWxjdWxhdGlvblxuICAgICAgICBpbnZTaXplID0gTWF0aC5tYXgobWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZKTtcbiAgICAgICAgaW52U2l6ZSA9IGludlNpemUgIT09IDAgPyAxIC8gaW52U2l6ZSA6IDA7XG4gICAgfVxuXG4gICAgZWFyY3V0TGlua2VkKG91dGVyTm9kZSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgcmV0dXJuIHRyaWFuZ2xlcztcbn1cblxuLy8gY3JlYXRlIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0IGZyb20gcG9seWdvbiBwb2ludHMgaW4gdGhlIHNwZWNpZmllZCB3aW5kaW5nIG9yZGVyXG5mdW5jdGlvbiBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgY2xvY2t3aXNlKSB7XG4gICAgdmFyIGksIGxhc3Q7XG5cbiAgICBpZiAoY2xvY2t3aXNlID09PSAoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pID4gMCkpIHtcbiAgICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpID0gZW5kIC0gZGltOyBpID49IHN0YXJ0OyBpIC09IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH1cblxuICAgIGlmIChsYXN0ICYmIGVxdWFscyhsYXN0LCBsYXN0Lm5leHQpKSB7XG4gICAgICAgIHJlbW92ZU5vZGUobGFzdCk7XG4gICAgICAgIGxhc3QgPSBsYXN0Lm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3Q7XG59XG5cbi8vIGVsaW1pbmF0ZSBjb2xpbmVhciBvciBkdXBsaWNhdGUgcG9pbnRzXG5mdW5jdGlvbiBmaWx0ZXJQb2ludHMoc3RhcnQsIGVuZCkge1xuICAgIGlmICghc3RhcnQpIHJldHVybiBzdGFydDtcbiAgICBpZiAoIWVuZCkgZW5kID0gc3RhcnQ7XG5cbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBhZ2FpbjtcbiAgICBkbyB7XG4gICAgICAgIGFnYWluID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFwLnN0ZWluZXIgJiYgKGVxdWFscyhwLCBwLm5leHQpIHx8IGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID09PSAwKSkge1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHAgPSBlbmQgPSBwLnByZXY7XG4gICAgICAgICAgICBpZiAocCA9PT0gcC5uZXh0KSBicmVhaztcbiAgICAgICAgICAgIGFnYWluID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcCA9IHAubmV4dDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKGFnYWluIHx8IHAgIT09IGVuZCk7XG5cbiAgICByZXR1cm4gZW5kO1xufVxuXG4vLyBtYWluIGVhciBzbGljaW5nIGxvb3Agd2hpY2ggdHJpYW5ndWxhdGVzIGEgcG9seWdvbiAoZ2l2ZW4gYXMgYSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCBwYXNzKSB7XG4gICAgaWYgKCFlYXIpIHJldHVybjtcblxuICAgIC8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbiAgICBpZiAoIXBhc3MgJiYgaW52U2l6ZSkgaW5kZXhDdXJ2ZShlYXIsIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHN0b3AgPSBlYXIsXG4gICAgICAgIHByZXYsIG5leHQ7XG5cbiAgICAvLyBpdGVyYXRlIHRocm91Z2ggZWFycywgc2xpY2luZyB0aGVtIG9uZSBieSBvbmVcbiAgICB3aGlsZSAoZWFyLnByZXYgIT09IGVhci5uZXh0KSB7XG4gICAgICAgIHByZXYgPSBlYXIucHJldjtcbiAgICAgICAgbmV4dCA9IGVhci5uZXh0O1xuXG4gICAgICAgIGlmIChpbnZTaXplID8gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSA6IGlzRWFyKGVhcikpIHtcbiAgICAgICAgICAgIC8vIGN1dCBvZmYgdGhlIHRyaWFuZ2xlXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwcmV2LmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goZWFyLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gobmV4dC5pIC8gZGltKTtcblxuICAgICAgICAgICAgcmVtb3ZlTm9kZShlYXIpO1xuXG4gICAgICAgICAgICAvLyBza2lwcGluZyB0aGUgbmV4dCB2ZXJ0ZXggbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXG4gICAgICAgICAgICBlYXIgPSBuZXh0Lm5leHQ7XG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVhciA9IG5leHQ7XG5cbiAgICAgICAgLy8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnNcbiAgICAgICAgaWYgKGVhciA9PT0gc3RvcCkge1xuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cbiAgICAgICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDEpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhlYXIsIHRyaWFuZ2xlcywgZGltKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMik7XG5cbiAgICAgICAgICAgIC8vIGFzIGEgbGFzdCByZXNvcnQsIHRyeSBzcGxpdHRpbmcgdGhlIHJlbWFpbmluZyBwb2x5Z29uIGludG8gdHdvXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBzcGxpdEVhcmN1dChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGNoZWNrIHdoZXRoZXIgYSBwb2x5Z29uIG5vZGUgZm9ybXMgYSB2YWxpZCBlYXIgd2l0aCBhZGphY2VudCBub2Rlc1xuZnVuY3Rpb24gaXNFYXIoZWFyKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gbm93IG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIG90aGVyIHBvaW50cyBpbnNpZGUgdGhlIHBvdGVudGlhbCBlYXJcbiAgICB2YXIgcCA9IGVhci5uZXh0Lm5leHQ7XG5cbiAgICB3aGlsZSAocCAhPT0gZWFyLnByZXYpIHtcbiAgICAgICAgaWYgKHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcbiAgICB2YXIgbWluVFggPSBhLnggPCBiLnggPyAoYS54IDwgYy54ID8gYS54IDogYy54KSA6IChiLnggPCBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtaW5UWSA9IGEueSA8IGIueSA/IChhLnkgPCBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA8IGMueSA/IGIueSA6IGMueSksXG4gICAgICAgIG1heFRYID0gYS54ID4gYi54ID8gKGEueCA+IGMueCA/IGEueCA6IGMueCkgOiAoYi54ID4gYy54ID8gYi54IDogYy54KSxcbiAgICAgICAgbWF4VFkgPSBhLnkgPiBiLnkgPyAoYS55ID4gYy55ID8gYS55IDogYy55KSA6IChiLnkgPiBjLnkgPyBiLnkgOiBjLnkpO1xuXG4gICAgLy8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDtcbiAgICB2YXIgbWluWiA9IHpPcmRlcihtaW5UWCwgbWluVFksIG1pblgsIG1pblksIGludlNpemUpLFxuICAgICAgICBtYXhaID0gek9yZGVyKG1heFRYLCBtYXhUWSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgcCA9IGVhci5wcmV2WixcbiAgICAgICAgbiA9IGVhci5uZXh0WjtcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGluIGJvdGggZGlyZWN0aW9uc1xuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aICYmIG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuXG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGRlY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aKSB7XG4gICAgICAgIGlmIChwICE9PSBlYXIucHJldiAmJiBwICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGluY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gZ28gdGhyb3VnaCBhbGwgcG9seWdvbiBub2RlcyBhbmQgY3VyZSBzbWFsbCBsb2NhbCBzZWxmLWludGVyc2VjdGlvbnNcbmZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMoc3RhcnQsIHRyaWFuZ2xlcywgZGltKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBhID0gcC5wcmV2LFxuICAgICAgICAgICAgYiA9IHAubmV4dC5uZXh0O1xuXG4gICAgICAgIGlmICghZXF1YWxzKGEsIGIpICYmIGludGVyc2VjdHMoYSwgcCwgcC5uZXh0LCBiKSAmJiBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkpIHtcblxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYS5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHAuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChiLmkgLyBkaW0pO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgdHdvIG5vZGVzIGludm9sdmVkXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwLm5leHQpO1xuXG4gICAgICAgICAgICBwID0gc3RhcnQgPSBiO1xuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIHA7XG59XG5cbi8vIHRyeSBzcGxpdHRpbmcgcG9seWdvbiBpbnRvIHR3byBhbmQgdHJpYW5ndWxhdGUgdGhlbSBpbmRlcGVuZGVudGx5XG5mdW5jdGlvbiBzcGxpdEVhcmN1dChzdGFydCwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBsb29rIGZvciBhIHZhbGlkIGRpYWdvbmFsIHRoYXQgZGl2aWRlcyB0aGUgcG9seWdvbiBpbnRvIHR3b1xuICAgIHZhciBhID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICB2YXIgYiA9IGEubmV4dC5uZXh0O1xuICAgICAgICB3aGlsZSAoYiAhPT0gYS5wcmV2KSB7XG4gICAgICAgICAgICBpZiAoYS5pICE9PSBiLmkgJiYgaXNWYWxpZERpYWdvbmFsKGEsIGIpKSB7XG4gICAgICAgICAgICAgICAgLy8gc3BsaXQgdGhlIHBvbHlnb24gaW4gdHdvIGJ5IHRoZSBkaWFnb25hbFxuICAgICAgICAgICAgICAgIHZhciBjID0gc3BsaXRQb2x5Z29uKGEsIGIpO1xuXG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyIGNvbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcbiAgICAgICAgICAgICAgICBhID0gZmlsdGVyUG9pbnRzKGEsIGEubmV4dCk7XG4gICAgICAgICAgICAgICAgYyA9IGZpbHRlclBvaW50cyhjLCBjLm5leHQpO1xuXG4gICAgICAgICAgICAgICAgLy8gcnVuIGVhcmN1dCBvbiBlYWNoIGhhbGZcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChjLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYiA9IGIubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBhID0gYS5uZXh0O1xuICAgIH0gd2hpbGUgKGEgIT09IHN0YXJ0KTtcbn1cblxuLy8gbGluayBldmVyeSBob2xlIGludG8gdGhlIG91dGVyIGxvb3AsIHByb2R1Y2luZyBhIHNpbmdsZS1yaW5nIHBvbHlnb24gd2l0aG91dCBob2xlc1xuZnVuY3Rpb24gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKSB7XG4gICAgdmFyIHF1ZXVlID0gW10sXG4gICAgICAgIGksIGxlbiwgc3RhcnQsIGVuZCwgbGlzdDtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XG4gICAgICAgIGxpc3QgPSBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgZmFsc2UpO1xuICAgICAgICBpZiAobGlzdCA9PT0gbGlzdC5uZXh0KSBsaXN0LnN0ZWluZXIgPSB0cnVlO1xuICAgICAgICBxdWV1ZS5wdXNoKGdldExlZnRtb3N0KGxpc3QpKTtcbiAgICB9XG5cbiAgICBxdWV1ZS5zb3J0KGNvbXBhcmVYKTtcblxuICAgIC8vIHByb2Nlc3MgaG9sZXMgZnJvbSBsZWZ0IHRvIHJpZ2h0XG4gICAgZm9yIChpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsaW1pbmF0ZUhvbGUocXVldWVbaV0sIG91dGVyTm9kZSk7XG4gICAgICAgIG91dGVyTm9kZSA9IGZpbHRlclBvaW50cyhvdXRlck5vZGUsIG91dGVyTm9kZS5uZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0ZXJOb2RlO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlWChhLCBiKSB7XG4gICAgcmV0dXJuIGEueCAtIGIueDtcbn1cblxuLy8gZmluZCBhIGJyaWRnZSBiZXR3ZWVuIHZlcnRpY2VzIHRoYXQgY29ubmVjdHMgaG9sZSB3aXRoIGFuIG91dGVyIHJpbmcgYW5kIGFuZCBsaW5rIGl0XG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIG91dGVyTm9kZSA9IGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSk7XG4gICAgaWYgKG91dGVyTm9kZSkge1xuICAgICAgICB2YXIgYiA9IHNwbGl0UG9seWdvbihvdXRlck5vZGUsIGhvbGUpO1xuICAgICAgICBmaWx0ZXJQb2ludHMoYiwgYi5uZXh0KTtcbiAgICB9XG59XG5cbi8vIERhdmlkIEViZXJseSdzIGFsZ29yaXRobSBmb3IgZmluZGluZyBhIGJyaWRnZSBiZXR3ZWVuIGhvbGUgYW5kIG91dGVyIHBvbHlnb25cbmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIHZhciBwID0gb3V0ZXJOb2RlLFxuICAgICAgICBoeCA9IGhvbGUueCxcbiAgICAgICAgaHkgPSBob2xlLnksXG4gICAgICAgIHF4ID0gLUluZmluaXR5LFxuICAgICAgICBtO1xuXG4gICAgLy8gZmluZCBhIHNlZ21lbnQgaW50ZXJzZWN0ZWQgYnkgYSByYXkgZnJvbSB0aGUgaG9sZSdzIGxlZnRtb3N0IHBvaW50IHRvIHRoZSBsZWZ0O1xuICAgIC8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcbiAgICBkbyB7XG4gICAgICAgIGlmIChoeSA8PSBwLnkgJiYgaHkgPj0gcC5uZXh0LnkgJiYgcC5uZXh0LnkgIT09IHAueSkge1xuICAgICAgICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7XG4gICAgICAgICAgICBpZiAoeCA8PSBoeCAmJiB4ID4gcXgpIHtcbiAgICAgICAgICAgICAgICBxeCA9IHg7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09IGh4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC55KSByZXR1cm4gcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLm5leHQueSkgcmV0dXJuIHAubmV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbSA9IHAueCA8IHAubmV4dC54ID8gcCA6IHAubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IG91dGVyTm9kZSk7XG5cbiAgICBpZiAoIW0pIHJldHVybiBudWxsO1xuXG4gICAgaWYgKGh4ID09PSBxeCkgcmV0dXJuIG0ucHJldjsgLy8gaG9sZSB0b3VjaGVzIG91dGVyIHNlZ21lbnQ7IHBpY2sgbG93ZXIgZW5kcG9pbnRcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIG9mIGhvbGUgcG9pbnQsIHNlZ21lbnQgaW50ZXJzZWN0aW9uIGFuZCBlbmRwb2ludDtcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcbiAgICAvLyBvdGhlcndpc2UgY2hvb3NlIHRoZSBwb2ludCBvZiB0aGUgbWluaW11bSBhbmdsZSB3aXRoIHRoZSByYXkgYXMgY29ubmVjdGlvbiBwb2ludFxuXG4gICAgdmFyIHN0b3AgPSBtLFxuICAgICAgICBteCA9IG0ueCxcbiAgICAgICAgbXkgPSBtLnksXG4gICAgICAgIHRhbk1pbiA9IEluZmluaXR5LFxuICAgICAgICB0YW47XG5cbiAgICBwID0gbS5uZXh0O1xuXG4gICAgd2hpbGUgKHAgIT09IHN0b3ApIHtcbiAgICAgICAgaWYgKGh4ID49IHAueCAmJiBwLnggPj0gbXggJiYgaHggIT09IHAueCAmJlxuICAgICAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShoeSA8IG15ID8gaHggOiBxeCwgaHksIG14LCBteSwgaHkgPCBteSA/IHF4IDogaHgsIGh5LCBwLngsIHAueSkpIHtcblxuICAgICAgICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbFxuXG4gICAgICAgICAgICBpZiAoKHRhbiA8IHRhbk1pbiB8fCAodGFuID09PSB0YW5NaW4gJiYgcC54ID4gbS54KSkgJiYgbG9jYWxseUluc2lkZShwLCBob2xlKSkge1xuICAgICAgICAgICAgICAgIG0gPSBwO1xuICAgICAgICAgICAgICAgIHRhbk1pbiA9IHRhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueiA9PT0gbnVsbCkgcC56ID0gek9yZGVyKHAueCwgcC55LCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgcC5wcmV2WiA9IHAucHJldjtcbiAgICAgICAgcC5uZXh0WiA9IHAubmV4dDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICBwLnByZXZaLm5leHRaID0gbnVsbDtcbiAgICBwLnByZXZaID0gbnVsbDtcblxuICAgIHNvcnRMaW5rZWQocCk7XG59XG5cbi8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXG4vLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbFxuZnVuY3Rpb24gc29ydExpbmtlZChsaXN0KSB7XG4gICAgdmFyIGksIHAsIHEsIGUsIHRhaWwsIG51bU1lcmdlcywgcFNpemUsIHFTaXplLFxuICAgICAgICBpblNpemUgPSAxO1xuXG4gICAgZG8ge1xuICAgICAgICBwID0gbGlzdDtcbiAgICAgICAgbGlzdCA9IG51bGw7XG4gICAgICAgIHRhaWwgPSBudWxsO1xuICAgICAgICBudW1NZXJnZXMgPSAwO1xuXG4gICAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgICAgICBudW1NZXJnZXMrKztcbiAgICAgICAgICAgIHEgPSBwO1xuICAgICAgICAgICAgcFNpemUgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcFNpemUrKztcbiAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICBpZiAoIXEpIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcVNpemUgPSBpblNpemU7XG5cbiAgICAgICAgICAgIHdoaWxlIChwU2l6ZSA+IDAgfHwgKHFTaXplID4gMCAmJiBxKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHBTaXplICE9PSAwICYmIChxU2l6ZSA9PT0gMCB8fCAhcSB8fCBwLnogPD0gcS56KSkge1xuICAgICAgICAgICAgICAgICAgICBlID0gcDtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHBTaXplLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHE7XG4gICAgICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBxU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0YWlsKSB0YWlsLm5leHRaID0gZTtcbiAgICAgICAgICAgICAgICBlbHNlIGxpc3QgPSBlO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2WiA9IHRhaWw7XG4gICAgICAgICAgICAgICAgdGFpbCA9IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHAgPSBxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFpbC5uZXh0WiA9IG51bGw7XG4gICAgICAgIGluU2l6ZSAqPSAyO1xuXG4gICAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7XG5cbiAgICByZXR1cm4gbGlzdDtcbn1cblxuLy8gei1vcmRlciBvZiBhIHBvaW50IGdpdmVuIGNvb3JkcyBhbmQgaW52ZXJzZSBvZiB0aGUgbG9uZ2VyIHNpZGUgb2YgZGF0YSBiYm94XG5mdW5jdGlvbiB6T3JkZXIoeCwgeSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGNvb3JkcyBhcmUgdHJhbnNmb3JtZWQgaW50byBub24tbmVnYXRpdmUgMTUtYml0IGludGVnZXIgcmFuZ2VcbiAgICB4ID0gMzI3NjcgKiAoeCAtIG1pblgpICogaW52U2l6ZTtcbiAgICB5ID0gMzI3NjcgKiAoeSAtIG1pblkpICogaW52U2l6ZTtcblxuICAgIHggPSAoeCB8ICh4IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeCA9ICh4IHwgKHggPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHggPSAoeCB8ICh4IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeSA9ICh5IHwgKHkgPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgcmV0dXJuIHggfCAoeSA8PCAxKTtcbn1cblxuLy8gZmluZCB0aGUgbGVmdG1vc3Qgbm9kZSBvZiBhIHBvbHlnb24gcmluZ1xuZnVuY3Rpb24gZ2V0TGVmdG1vc3Qoc3RhcnQpIHtcbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBsZWZ0bW9zdCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueCA8IGxlZnRtb3N0LngpIGxlZnRtb3N0ID0gcDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gbGVmdG1vc3Q7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpIC0gKGF4IC0gcHgpICogKGN5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGF4IC0gcHgpICogKGJ5IC0gcHkpIC0gKGJ4IC0gcHgpICogKGF5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGJ4IC0gcHgpICogKGN5IC0gcHkpIC0gKGN4IC0gcHgpICogKGJ5IC0gcHkpID49IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJlxuICAgICAgICAgICBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkgJiYgbWlkZGxlSW5zaWRlKGEsIGIpO1xufVxuXG4vLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlXG5mdW5jdGlvbiBhcmVhKHAsIHEsIHIpIHtcbiAgICByZXR1cm4gKHEueSAtIHAueSkgKiAoci54IC0gcS54KSAtIChxLnggLSBwLngpICogKHIueSAtIHEueSk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBwb2ludHMgYXJlIGVxdWFsXG5mdW5jdGlvbiBlcXVhbHMocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdFxuZnVuY3Rpb24gaW50ZXJzZWN0cyhwMSwgcTEsIHAyLCBxMikge1xuICAgIGlmICgoZXF1YWxzKHAxLCBxMSkgJiYgZXF1YWxzKHAyLCBxMikpIHx8XG4gICAgICAgIChlcXVhbHMocDEsIHEyKSAmJiBlcXVhbHMocDIsIHExKSkpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBhcmVhKHAxLCBxMSwgcDIpID4gMCAhPT0gYXJlYShwMSwgcTEsIHEyKSA+IDAgJiZcbiAgICAgICAgICAgYXJlYShwMiwgcTIsIHAxKSA+IDAgIT09IGFyZWEocDIsIHEyLCBxMSkgPiAwO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xuICAgIHZhciBwID0gYTtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcbn1cblxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xuICAgIHZhciBwID0gYSxcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcbiAgICBkbyB7XG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXG4gICAgICAgIGFuID0gYS5uZXh0LFxuICAgICAgICBicCA9IGIucHJldjtcblxuICAgIGEubmV4dCA9IGI7XG4gICAgYi5wcmV2ID0gYTtcblxuICAgIGEyLm5leHQgPSBhbjtcbiAgICBhbi5wcmV2ID0gYTI7XG5cbiAgICBiMi5uZXh0ID0gYTI7XG4gICAgYTIucHJldiA9IGIyO1xuXG4gICAgYnAubmV4dCA9IGIyO1xuICAgIGIyLnByZXYgPSBicDtcblxuICAgIHJldHVybiBiMjtcbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XG5cbiAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgcC5wcmV2ID0gcDtcbiAgICAgICAgcC5uZXh0ID0gcDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xuICAgICAgICBsYXN0Lm5leHQgPSBwO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XG5cbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xufVxuXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcbiAgICAvLyB2ZXJ0ZXggaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXlcbiAgICB0aGlzLmkgPSBpO1xuXG4gICAgLy8gdmVydGV4IGNvb3JkaW5hdGVzXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgdmVydGV4IG5vZGVzIGluIGEgcG9seWdvbiByaW5nXG4gICAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgLy8gei1vcmRlciBjdXJ2ZSB2YWx1ZVxuICAgIHRoaXMueiA9IG51bGw7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCBub2RlcyBpbiB6LW9yZGVyXG4gICAgdGhpcy5wcmV2WiA9IG51bGw7XG4gICAgdGhpcy5uZXh0WiA9IG51bGw7XG5cbiAgICAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGEgc3RlaW5lciBwb2ludFxuICAgIHRoaXMuc3RlaW5lciA9IGZhbHNlO1xufVxuXG4vLyByZXR1cm4gYSBwZXJjZW50YWdlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcG9seWdvbiBhcmVhIGFuZCBpdHMgdHJpYW5ndWxhdGlvbiBhcmVhO1xuLy8gdXNlZCB0byB2ZXJpZnkgY29ycmVjdG5lc3Mgb2YgdHJpYW5ndWxhdGlvblxuZWFyY3V0LmRldmlhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBob2xlSW5kaWNlcywgZGltLCB0cmlhbmdsZXMpIHtcbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGg7XG4gICAgdmFyIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuXG4gICAgdmFyIHBvbHlnb25BcmVhID0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCAwLCBvdXRlckxlbiwgZGltKSk7XG4gICAgaWYgKGhhc0hvbGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgICAgICB2YXIgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHBvbHlnb25BcmVhIC09IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdHJpYW5nbGVzQXJlYSA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICB2YXIgYSA9IHRyaWFuZ2xlc1tpXSAqIGRpbTtcbiAgICAgICAgdmFyIGIgPSB0cmlhbmdsZXNbaSArIDFdICogZGltO1xuICAgICAgICB2YXIgYyA9IHRyaWFuZ2xlc1tpICsgMl0gKiBkaW07XG4gICAgICAgIHRyaWFuZ2xlc0FyZWEgKz0gTWF0aC5hYnMoXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbY10pICogKGRhdGFbYiArIDFdIC0gZGF0YVthICsgMV0pIC1cbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtiXSkgKiAoZGF0YVtjICsgMV0gLSBkYXRhW2EgKyAxXSkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2x5Z29uQXJlYSA9PT0gMCAmJiB0cmlhbmdsZXNBcmVhID09PSAwID8gMCA6XG4gICAgICAgIE1hdGguYWJzKCh0cmlhbmdsZXNBcmVhIC0gcG9seWdvbkFyZWEpIC8gcG9seWdvbkFyZWEpO1xufTtcblxuZnVuY3Rpb24gc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pIHtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQsIGogPSBlbmQgLSBkaW07IGkgPCBlbmQ7IGkgKz0gZGltKSB7XG4gICAgICAgIHN1bSArPSAoZGF0YVtqXSAtIGRhdGFbaV0pICogKGRhdGFbaSArIDFdICsgZGF0YVtqICsgMV0pO1xuICAgICAgICBqID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cblxuLy8gdHVybiBhIHBvbHlnb24gaW4gYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBmb3JtIChlLmcuIGFzIGluIEdlb0pTT04pIGludG8gYSBmb3JtIEVhcmN1dCBhY2NlcHRzXG5lYXJjdXQuZmxhdHRlbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGRpbSA9IGRhdGFbMF1bMF0ubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSB7dmVydGljZXM6IFtdLCBob2xlczogW10sIGRpbWVuc2lvbnM6IGRpbX0sXG4gICAgICAgIGhvbGVJbmRleCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRpbTsgZCsrKSByZXN1bHQudmVydGljZXMucHVzaChkYXRhW2ldW2pdW2RdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGhvbGVJbmRleCArPSBkYXRhW2kgLSAxXS5sZW5ndGg7XG4gICAgICAgICAgICByZXN1bHQuaG9sZXMucHVzaChob2xlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi4vdGV4dHVyZXMvVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSk7XG5cbnZhciBfQ29udGFpbmVyMiA9IHJlcXVpcmUoJy4uL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbnZhciBfQ29udGFpbmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgX21hdGguUG9pbnQoKTtcblxuLyoqXG4gKiBUaGUgU3ByaXRlIG9iamVjdCBpcyB0aGUgYmFzZSBmb3IgYWxsIHRleHR1cmVkIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgdG8gdGhlIHNjcmVlblxuICpcbiAqIEEgc3ByaXRlIGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYW4gaW1hZ2UgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlLmZyb21JbWFnZSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogYGBgXG4gKlxuICogVGhlIG1vcmUgZWZmaWNpZW50IHdheSB0byBjcmVhdGUgc3ByaXRlcyBpcyB1c2luZyBhIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fTpcbiAqXG4gKiBgYGBqc1xuICogUElYSS5sb2FkZXIuYWRkKFwiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIikubG9hZChzZXR1cCk7XG4gKlxuICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gKiAgIGxldCBzaGVldCA9IFBJWEkubG9hZGVyLnJlc291cmNlc1tcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCJdLnNwcml0ZXNoZWV0O1xuICogICBsZXQgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHNoZWV0LnRleHR1cmVzW1wiaW1hZ2UucG5nXCJdKTtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5cbnZhciBTcHJpdGUgPSBmdW5jdGlvbiAoX0NvbnRhaW5lcikge1xuICAgIF9pbmhlcml0cyhTcHJpdGUsIF9Db250YWluZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSBmb3IgdGhpcyBzcHJpdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTcHJpdGUodGV4dHVyZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3ByaXRlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHR1cmUuXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIDAsMCBvciB0YWtlbiBmcm9tIHRoZSB7QGxpbmsgUElYSS5UZXh0dXJlI2RlZmF1bHRBbmNob3J8VGV4dHVyZX1cbiAgICAgICAgICogcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3Rvci4gQSB2YWx1ZSBvZiAwLDAgbWVhbnMgdGhlIHRleHR1cmUncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gMC41LDAuNSBtZWFucyB0aGUgdGV4dHVyZSdzIG9yaWdpbiBpcyBjZW50ZXJlZC5cbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDEsMSB3b3VsZCBtZWFuIHRoZSB0ZXh0dXJlJ3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXIuXG4gICAgICAgICAqIE5vdGU6IFVwZGF0aW5nIHRoZSB7QGxpbmsgUElYSS5UZXh0dXJlI2RlZmF1bHRBbmNob3J9IGFmdGVyIGEgVGV4dHVyZSBpc1xuICAgICAgICAgKiBjcmVhdGVkIGRvZXMgX25vdF8gdXBkYXRlIHRoZSBTcHJpdGUncyBhbmNob3IgdmFsdWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db250YWluZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMuX2FuY2hvciA9IG5ldyBfbWF0aC5PYnNlcnZhYmxlUG9pbnQoX3RoaXMuX29uQW5jaG9yVXBkYXRlLCBfdGhpcywgdGV4dHVyZSA/IHRleHR1cmUuZGVmYXVsdEFuY2hvci54IDogMCwgdGV4dHVyZSA/IHRleHR1cmUuZGVmYXVsdEFuY2hvci55IDogMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIHNwcml0ZSBpcyB1c2luZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlICh0aGlzIGlzIGluaXRpYWxseSBzZXQgYnkgdGhlIHRleHR1cmUpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RpbnQgPSBudWxsO1xuICAgICAgICBfdGhpcy5fdGludFJHQiA9IG51bGw7XG4gICAgICAgIF90aGlzLnRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2hhZGVyIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJlbmRlciB0aGUgc3ByaXRlLiBTZXQgdG8gbnVsbCB0byByZW1vdmUgYSBjdXJyZW50IHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJ8UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBpbnRlcm5hbCBjYWNoZWQgdmFsdWUgb2YgdGhlIHRpbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhY2hlZFRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICAvLyBjYWxsIHRleHR1cmUgc2V0dGVyXG4gICAgICAgIF90aGlzLnRleHR1cmUgPSB0ZXh0dXJlIHx8IF9UZXh0dXJlMi5kZWZhdWx0LkVNUFRZO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHVzZWQgdG8gc3RvcmUgdGhlIHZlcnRleCBkYXRhIG9mIHRoZSBzcHJpdGUgKGJhc2ljYWxseSBhIHF1YWQpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdCBJRiBpdCBpcyBhIHRyaW1tZWQgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgX3RoaXMuX3RleHR1cmVJRCA9IC0xO1xuXG4gICAgICAgIF90aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICAgICAgX3RoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUGx1Z2luIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyB0aGlzIGVsZW1lbnQuXG4gICAgICAgICAqIEFsbG93cyB0byBjdXN0b21pemUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIHdpdGhvdXQgb3ZlcnJpZGluZyAnX3JlbmRlcldlYkdMJyAmICdfcmVuZGVyQ2FudmFzJyBtZXRob2RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdzcHJpdGUnXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5OYW1lID0gJ3Nwcml0ZSc7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSB0ZXh0dXJlIGlzIHVwZGF0ZWQsIHRoaXMgZXZlbnQgd2lsbCBmaXJlIHRvIHVwZGF0ZSB0aGUgc2NhbGUgYW5kIGZyYW1lXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiBfb25UZXh0dXJlVXBkYXRlKCkge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICB0aGlzLmNhY2hlZFRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICAvLyBzbyBpZiBfd2lkdGggaXMgMCB0aGVuIHdpZHRoIHdhcyBub3Qgc2V0Li5cbiAgICAgICAgaWYgKHRoaXMuX3dpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueCkgKiB0aGlzLl93aWR0aCAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9ICgwLCBfdXRpbHMuc2lnbikodGhpcy5zY2FsZS55KSAqIHRoaXMuX2hlaWdodCAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGFuY2hvciBwb3NpdGlvbiB1cGRhdGVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fb25BbmNob3JVcGRhdGUgPSBmdW5jdGlvbiBfb25BbmNob3JVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IC0xO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHdvcmxkVHJhbnNmb3JtICogdmVydGljZXMsIHN0b3JlIGl0IGluIHZlcnRleERhdGFcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jYWxjdWxhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVZlcnRpY2VzKCkge1xuICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEICYmIHRoaXMuX3RleHR1cmVJRCA9PT0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEO1xuXG4gICAgICAgIC8vIHNldCB0aGUgdmVydGV4IGRhdGFcblxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG4gICAgICAgIHZhciB0cmltID0gdGV4dHVyZS50cmltO1xuICAgICAgICB2YXIgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuX2FuY2hvcjtcblxuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuXG4gICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZSBleHRyYVxuICAgICAgICAgICAgLy8gc3BhY2UgYmVmb3JlIHRyYW5zZm9ybWluZyB0aGUgc3ByaXRlIGNvb3Jkcy5cbiAgICAgICAgICAgIHcxID0gdHJpbS54IC0gYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuXG4gICAgICAgICAgICBoMSA9IHRyaW0ueSAtIGFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgICAgIHcwID0gdzEgKyBvcmlnLndpZHRoO1xuXG4gICAgICAgICAgICBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgICAgIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMF0gPSBhICogdzEgKyBjICogaDEgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IGQgKiBoMSArIGIgKiB3MSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMl0gPSBhICogdzAgKyBjICogaDEgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVszXSA9IGQgKiBoMSArIGIgKiB3MCArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNF0gPSBhICogdzAgKyBjICogaDAgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IGQgKiBoMCArIGIgKiB3MCArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNl0gPSBhICogdzEgKyBjICogaDAgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IGQgKiBoMCArIGIgKiB3MSArIHR5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHdvcmxkVHJhbnNmb3JtICogdmVydGljZXMgZm9yIGEgbm9uIHRleHR1cmUgd2l0aCBhIHRyaW0uIHN0b3JlIGl0IGluIHZlcnRleFRyaW1tZWREYXRhXG4gICAgICogVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGF0IHRoZSB0cnVlIHdpZHRoIGFuZCBoZWlnaHQgb2YgYSB0cmltbWVkIHRleHR1cmUgaXMgcmVzcGVjdGVkXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzID0gZnVuY3Rpb24gY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzKCkge1xuICAgICAgICBpZiAoIXRoaXMudmVydGV4VHJpbW1lZERhdGEpIHtcbiAgICAgICAgICAgIHRoaXMudmVydGV4VHJpbW1lZERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQgJiYgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9PT0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgLy8gbGV0cyBkbyBzb21lIHNwZWNpYWwgdHJpbSBjb2RlIVxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG5cbiAgICAgICAgLy8gbGV0cyBjYWxjdWxhdGUgdGhlIG5ldyB1bnRyaW1tZWQgYm91bmRzLi5cbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuXG4gICAgICAgIHZhciB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICB2YXIgdzAgPSB3MSArIG9yaWcud2lkdGg7XG5cbiAgICAgICAgdmFyIGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICB2YXIgaDAgPSBoMSArIG9yaWcuaGVpZ2h0O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMF0gPSBhICogdzEgKyBjICogaDEgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IGQgKiBoMSArIGIgKiB3MSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMl0gPSBhICogdzAgKyBjICogaDEgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVszXSA9IGQgKiBoMSArIGIgKiB3MCArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNF0gPSBhICogdzAgKyBjICogaDAgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IGQgKiBoMCArIGIgKiB3MCArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNl0gPSBhICogdzEgKyBjICogaDAgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IGQgKiBoMCArIGIgKiB3MSArIHR5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAqXG4gICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgKlxuICAgICogQHByaXZhdGVcbiAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlciB0byB1c2UuXG4gICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyV2ViR0wgPSBmdW5jdGlvbiBfcmVuZGVyV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuXG4gICAgICAgIHJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAqXG4gICAgKiBAcHJpdmF0ZVxuICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgICAgICB2YXIgdHJpbSA9IHRoaXMuX3RleHR1cmUudHJpbTtcbiAgICAgICAgdmFyIG9yaWcgPSB0aGlzLl90ZXh0dXJlLm9yaWc7XG5cbiAgICAgICAgLy8gRmlyc3QgbGV0cyBjaGVjayB0byBzZWUgaWYgdGhlIGN1cnJlbnQgdGV4dHVyZSBoYXMgYSB0cmltLi5cbiAgICAgICAgaWYgKCF0cmltIHx8IHRyaW0ud2lkdGggPT09IG9yaWcud2lkdGggJiYgdHJpbS5oZWlnaHQgPT09IG9yaWcuaGVpZ2h0KSB7XG4gICAgICAgICAgICAvLyBubyB0cmltISBsZXRzIHVzZSB0aGUgdXN1YWwgY2FsY3VsYXRpb25zLi5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBsZXRzIGNhbGN1bGF0ZSBhIHNwZWNpYWwgdHJpbW1lZCBib3VuZHMuLi5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleFRyaW1tZWREYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyhyZWN0KSB7XG4gICAgICAgIC8vIHdlIGNhbiBkbyBhIGZhc3QgbG9jYWwgYm91bmRzIGlmIHRoZSBzcHJpdGUgaGFzIG5vIGNoaWxkcmVuIVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5YID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9Db250YWluZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgc3ByaXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgdmFyIHkxID0gMDtcblxuICAgICAgICBpZiAodGVtcFBvaW50LnggPj0geDEgJiYgdGVtcFBvaW50LnggPCB4MSArIHdpZHRoKSB7XG4gICAgICAgICAgICB5MSA9IC1oZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgX0NvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX3RleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2FuY2hvciA9IG51bGw7XG5cbiAgICAgICAgdmFyIGRlc3Ryb3lUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMudGV4dHVyZTtcblxuICAgICAgICBpZiAoZGVzdHJveVRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciBkZXN0cm95QmFzZVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5kZXN0cm95KCEhZGVzdHJveUJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIHNvbWUgaGVscGVyIGZ1bmN0aW9ucy4uXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfFBJWEkuQmFzZVRleHR1cmV8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9IFRoZSBuZXdseSBjcmVhdGVkIHNwcml0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIGZyb20oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3ByaXRlKF9UZXh0dXJlMi5kZWZhdWx0LmZyb20oc291cmNlKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGZyb20gdGhlIFRleHR1cmVDYWNoZSBiYXNlZCBvbiB0aGUgZnJhbWVJZFxuICAgICAqIFRoZSBmcmFtZSBpZHMgYXJlIGNyZWF0ZWQgd2hlbiBhIFRleHR1cmUgcGFja2VyIGZpbGUgaGFzIGJlZW4gbG9hZGVkXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZyYW1lSWQgLSBUaGUgZnJhbWUgSWQgb2YgdGhlIHRleHR1cmUgaW4gdGhlIGNhY2hlXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9IEEgbmV3IFNwcml0ZSB1c2luZyBhIHRleHR1cmUgZnJvbSB0aGUgdGV4dHVyZSBjYWNoZSBtYXRjaGluZyB0aGUgZnJhbWVJZFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUuZnJvbUZyYW1lID0gZnVuY3Rpb24gZnJvbUZyYW1lKGZyYW1lSWQpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBfdXRpbHMuVGV4dHVyZUNhY2hlW2ZyYW1lSWRdO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgZnJhbWVJZCBcIicgKyBmcmFtZUlkICsgJ1wiIGRvZXMgbm90IGV4aXN0IGluIHRoZSB0ZXh0dXJlIGNhY2hlJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHNwcml0ZSB0aGF0IHdpbGwgY29udGFpbiBhIHRleHR1cmUgYmFzZWQgb24gYW4gaW1hZ2UgdXJsXG4gICAgICogSWYgdGhlIGltYWdlIGlzIG5vdCBpbiB0aGUgdGV4dHVyZSBjYWNoZSBpdCB3aWxsIGJlIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZUlkIC0gVGhlIGltYWdlIHVybCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Nyb3Nzb3JpZ2luPShhdXRvKV0gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSBjcm9zcy1vcmlnaW4gcGFyYW1ldGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHNjYWxlIG1vZGUsXG4gICAgICogIHNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBBIG5ldyBTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGltYWdlIGlkXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UoaW1hZ2VJZCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZShfVGV4dHVyZTIuZGVmYXVsdC5mcm9tSW1hZ2UoaW1hZ2VJZCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFNwcml0ZSwgW3tcbiAgICAgICAga2V5OiAnd2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzID0gKDAsIF91dGlscy5zaWduKSh0aGlzLnNjYWxlLngpIHx8IDE7XG5cbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcyA9ICgwLCBfdXRpbHMuc2lnbikodGhpcy5zY2FsZS55KSB8fCAxO1xuXG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHR1cmUuXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIDAsMCBvciB0YWtlbiBmcm9tIHRoZSB7QGxpbmsgUElYSS5UZXh0dXJlfFRleHR1cmV9IHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgICAqIFNldHRpbmcgdGhlIHRleHR1cmUgYXQgYSBsYXRlciBwb2ludCBvZiB0aW1lIGRvZXMgbm90IGNoYW5nZSB0aGUgYW5jaG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiAwLDAgbWVhbnMgdGhlIHRleHR1cmUncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LCAwLjUsMC41IGlzIHRoZSBjZW50ZXIsIDEsMSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhbmNob3InLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHkodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgICAgICogQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RpbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgMHhmZjAwKSArICgodmFsdWUgJiAweGZmKSA8PCAxNik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RleHR1cmUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0dXJlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlIHx8IF9UZXh0dXJlMi5kZWZhdWx0LkVNUFRZO1xuICAgICAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgdGV4dHVyZSB0byBsb2FkXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTcHJpdGU7XG59KF9Db250YWluZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTcHJpdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGUuanMubWFwIiwiLyoqXG4gKiBCaXQgdHdpZGRsaW5nIGhhY2tzIGZvciBKYXZhU2NyaXB0LlxuICpcbiAqIEF1dGhvcjogTWlrb2xhIEx5c2Vua29cbiAqXG4gKiBQb3J0ZWQgZnJvbSBTdGFuZm9yZCBiaXQgdHdpZGRsaW5nIGhhY2sgbGlicmFyeTpcbiAqICAgIGh0dHA6Ly9ncmFwaGljcy5zdGFuZm9yZC5lZHUvfnNlYW5kZXIvYml0aGFja3MuaHRtbFxuICovXG5cblwidXNlIHN0cmljdFwiOyBcInVzZSByZXN0cmljdFwiO1xuXG4vL051bWJlciBvZiBiaXRzIGluIGFuIGludGVnZXJcbnZhciBJTlRfQklUUyA9IDMyO1xuXG4vL0NvbnN0YW50c1xuZXhwb3J0cy5JTlRfQklUUyAgPSBJTlRfQklUUztcbmV4cG9ydHMuSU5UX01BWCAgID0gIDB4N2ZmZmZmZmY7XG5leHBvcnRzLklOVF9NSU4gICA9IC0xPDwoSU5UX0JJVFMtMSk7XG5cbi8vUmV0dXJucyAtMSwgMCwgKzEgZGVwZW5kaW5nIG9uIHNpZ24gb2YgeFxuZXhwb3J0cy5zaWduID0gZnVuY3Rpb24odikge1xuICByZXR1cm4gKHYgPiAwKSAtICh2IDwgMCk7XG59XG5cbi8vQ29tcHV0ZXMgYWJzb2x1dGUgdmFsdWUgb2YgaW50ZWdlclxuZXhwb3J0cy5hYnMgPSBmdW5jdGlvbih2KSB7XG4gIHZhciBtYXNrID0gdiA+PiAoSU5UX0JJVFMtMSk7XG4gIHJldHVybiAodiBeIG1hc2spIC0gbWFzaztcbn1cblxuLy9Db21wdXRlcyBtaW5pbXVtIG9mIGludGVnZXJzIHggYW5kIHlcbmV4cG9ydHMubWluID0gZnVuY3Rpb24oeCwgeSkge1xuICByZXR1cm4geSBeICgoeCBeIHkpICYgLSh4IDwgeSkpO1xufVxuXG4vL0NvbXB1dGVzIG1heGltdW0gb2YgaW50ZWdlcnMgeCBhbmQgeVxuZXhwb3J0cy5tYXggPSBmdW5jdGlvbih4LCB5KSB7XG4gIHJldHVybiB4IF4gKCh4IF4geSkgJiAtKHggPCB5KSk7XG59XG5cbi8vQ2hlY2tzIGlmIGEgbnVtYmVyIGlzIGEgcG93ZXIgb2YgdHdvXG5leHBvcnRzLmlzUG93MiA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuICEodiAmICh2LTEpKSAmJiAoISF2KTtcbn1cblxuLy9Db21wdXRlcyBsb2cgYmFzZSAyIG9mIHZcbmV4cG9ydHMubG9nMiA9IGZ1bmN0aW9uKHYpIHtcbiAgdmFyIHIsIHNoaWZ0O1xuICByID0gICAgICh2ID4gMHhGRkZGKSA8PCA0OyB2ID4+Pj0gcjtcbiAgc2hpZnQgPSAodiA+IDB4RkYgICkgPDwgMzsgdiA+Pj49IHNoaWZ0OyByIHw9IHNoaWZ0O1xuICBzaGlmdCA9ICh2ID4gMHhGICAgKSA8PCAyOyB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gIHNoaWZ0ID0gKHYgPiAweDMgICApIDw8IDE7IHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcbiAgcmV0dXJuIHIgfCAodiA+PiAxKTtcbn1cblxuLy9Db21wdXRlcyBsb2cgYmFzZSAxMCBvZiB2XG5leHBvcnRzLmxvZzEwID0gZnVuY3Rpb24odikge1xuICByZXR1cm4gICh2ID49IDEwMDAwMDAwMDApID8gOSA6ICh2ID49IDEwMDAwMDAwMCkgPyA4IDogKHYgPj0gMTAwMDAwMDApID8gNyA6XG4gICAgICAgICAgKHYgPj0gMTAwMDAwMCkgPyA2IDogKHYgPj0gMTAwMDAwKSA/IDUgOiAodiA+PSAxMDAwMCkgPyA0IDpcbiAgICAgICAgICAodiA+PSAxMDAwKSA/IDMgOiAodiA+PSAxMDApID8gMiA6ICh2ID49IDEwKSA/IDEgOiAwO1xufVxuXG4vL0NvdW50cyBudW1iZXIgb2YgYml0c1xuZXhwb3J0cy5wb3BDb3VudCA9IGZ1bmN0aW9uKHYpIHtcbiAgdiA9IHYgLSAoKHYgPj4+IDEpICYgMHg1NTU1NTU1NSk7XG4gIHYgPSAodiAmIDB4MzMzMzMzMzMpICsgKCh2ID4+PiAyKSAmIDB4MzMzMzMzMzMpO1xuICByZXR1cm4gKCh2ICsgKHYgPj4+IDQpICYgMHhGMEYwRjBGKSAqIDB4MTAxMDEwMSkgPj4+IDI0O1xufVxuXG4vL0NvdW50cyBudW1iZXIgb2YgdHJhaWxpbmcgemVyb3NcbmZ1bmN0aW9uIGNvdW50VHJhaWxpbmdaZXJvcyh2KSB7XG4gIHZhciBjID0gMzI7XG4gIHYgJj0gLXY7XG4gIGlmICh2KSBjLS07XG4gIGlmICh2ICYgMHgwMDAwRkZGRikgYyAtPSAxNjtcbiAgaWYgKHYgJiAweDAwRkYwMEZGKSBjIC09IDg7XG4gIGlmICh2ICYgMHgwRjBGMEYwRikgYyAtPSA0O1xuICBpZiAodiAmIDB4MzMzMzMzMzMpIGMgLT0gMjtcbiAgaWYgKHYgJiAweDU1NTU1NTU1KSBjIC09IDE7XG4gIHJldHVybiBjO1xufVxuZXhwb3J0cy5jb3VudFRyYWlsaW5nWmVyb3MgPSBjb3VudFRyYWlsaW5nWmVyb3M7XG5cbi8vUm91bmRzIHRvIG5leHQgcG93ZXIgb2YgMlxuZXhwb3J0cy5uZXh0UG93MiA9IGZ1bmN0aW9uKHYpIHtcbiAgdiArPSB2ID09PSAwO1xuICAtLXY7XG4gIHYgfD0gdiA+Pj4gMTtcbiAgdiB8PSB2ID4+PiAyO1xuICB2IHw9IHYgPj4+IDQ7XG4gIHYgfD0gdiA+Pj4gODtcbiAgdiB8PSB2ID4+PiAxNjtcbiAgcmV0dXJuIHYgKyAxO1xufVxuXG4vL1JvdW5kcyBkb3duIHRvIHByZXZpb3VzIHBvd2VyIG9mIDJcbmV4cG9ydHMucHJldlBvdzIgPSBmdW5jdGlvbih2KSB7XG4gIHYgfD0gdiA+Pj4gMTtcbiAgdiB8PSB2ID4+PiAyO1xuICB2IHw9IHYgPj4+IDQ7XG4gIHYgfD0gdiA+Pj4gODtcbiAgdiB8PSB2ID4+PiAxNjtcbiAgcmV0dXJuIHYgLSAodj4+PjEpO1xufVxuXG4vL0NvbXB1dGVzIHBhcml0eSBvZiB3b3JkXG5leHBvcnRzLnBhcml0eSA9IGZ1bmN0aW9uKHYpIHtcbiAgdiBePSB2ID4+PiAxNjtcbiAgdiBePSB2ID4+PiA4O1xuICB2IF49IHYgPj4+IDQ7XG4gIHYgJj0gMHhmO1xuICByZXR1cm4gKDB4Njk5NiA+Pj4gdikgJiAxO1xufVxuXG52YXIgUkVWRVJTRV9UQUJMRSA9IG5ldyBBcnJheSgyNTYpO1xuXG4oZnVuY3Rpb24odGFiKSB7XG4gIGZvcih2YXIgaT0wOyBpPDI1NjsgKytpKSB7XG4gICAgdmFyIHYgPSBpLCByID0gaSwgcyA9IDc7XG4gICAgZm9yICh2ID4+Pj0gMTsgdjsgdiA+Pj49IDEpIHtcbiAgICAgIHIgPDw9IDE7XG4gICAgICByIHw9IHYgJiAxO1xuICAgICAgLS1zO1xuICAgIH1cbiAgICB0YWJbaV0gPSAociA8PCBzKSAmIDB4ZmY7XG4gIH1cbn0pKFJFVkVSU0VfVEFCTEUpO1xuXG4vL1JldmVyc2UgYml0cyBpbiBhIDMyIGJpdCB3b3JkXG5leHBvcnRzLnJldmVyc2UgPSBmdW5jdGlvbih2KSB7XG4gIHJldHVybiAgKFJFVkVSU0VfVEFCTEVbIHYgICAgICAgICAmIDB4ZmZdIDw8IDI0KSB8XG4gICAgICAgICAgKFJFVkVSU0VfVEFCTEVbKHYgPj4+IDgpICAmIDB4ZmZdIDw8IDE2KSB8XG4gICAgICAgICAgKFJFVkVSU0VfVEFCTEVbKHYgPj4+IDE2KSAmIDB4ZmZdIDw8IDgpICB8XG4gICAgICAgICAgIFJFVkVSU0VfVEFCTEVbKHYgPj4+IDI0KSAmIDB4ZmZdO1xufVxuXG4vL0ludGVybGVhdmUgYml0cyBvZiAyIGNvb3JkaW5hdGVzIHdpdGggMTYgYml0cy4gIFVzZWZ1bCBmb3IgZmFzdCBxdWFkdHJlZSBjb2Rlc1xuZXhwb3J0cy5pbnRlcmxlYXZlMiA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgeCAmPSAweEZGRkY7XG4gIHggPSAoeCB8ICh4IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gIHggPSAoeCB8ICh4IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gIHggPSAoeCB8ICh4IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gIHggPSAoeCB8ICh4IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgeSAmPSAweEZGRkY7XG4gIHkgPSAoeSB8ICh5IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gIHkgPSAoeSB8ICh5IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gIHkgPSAoeSB8ICh5IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gIHkgPSAoeSB8ICh5IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgcmV0dXJuIHggfCAoeSA8PCAxKTtcbn1cblxuLy9FeHRyYWN0cyB0aGUgbnRoIGludGVybGVhdmVkIGNvbXBvbmVudFxuZXhwb3J0cy5kZWludGVybGVhdmUyID0gZnVuY3Rpb24odiwgbikge1xuICB2ID0gKHYgPj4+IG4pICYgMHg1NTU1NTU1NTtcbiAgdiA9ICh2IHwgKHYgPj4+IDEpKSAgJiAweDMzMzMzMzMzO1xuICB2ID0gKHYgfCAodiA+Pj4gMikpICAmIDB4MEYwRjBGMEY7XG4gIHYgPSAodiB8ICh2ID4+PiA0KSkgICYgMHgwMEZGMDBGRjtcbiAgdiA9ICh2IHwgKHYgPj4+IDE2KSkgJiAweDAwMEZGRkY7XG4gIHJldHVybiAodiA8PCAxNikgPj4gMTY7XG59XG5cblxuLy9JbnRlcmxlYXZlIGJpdHMgb2YgMyBjb29yZGluYXRlcywgZWFjaCB3aXRoIDEwIGJpdHMuICBVc2VmdWwgZm9yIGZhc3Qgb2N0cmVlIGNvZGVzXG5leHBvcnRzLmludGVybGVhdmUzID0gZnVuY3Rpb24oeCwgeSwgeikge1xuICB4ICY9IDB4M0ZGO1xuICB4ICA9ICh4IHwgKHg8PDE2KSkgJiA0Mjc4MTkwMzM1O1xuICB4ICA9ICh4IHwgKHg8PDgpKSAgJiAyNTE3MTk2OTU7XG4gIHggID0gKHggfCAoeDw8NCkpICAmIDMyNzIzNTYwMzU7XG4gIHggID0gKHggfCAoeDw8MikpICAmIDEyMjcxMzM1MTM7XG5cbiAgeSAmPSAweDNGRjtcbiAgeSAgPSAoeSB8ICh5PDwxNikpICYgNDI3ODE5MDMzNTtcbiAgeSAgPSAoeSB8ICh5PDw4KSkgICYgMjUxNzE5Njk1O1xuICB5ICA9ICh5IHwgKHk8PDQpKSAgJiAzMjcyMzU2MDM1O1xuICB5ICA9ICh5IHwgKHk8PDIpKSAgJiAxMjI3MTMzNTEzO1xuICB4IHw9ICh5IDw8IDEpO1xuICBcbiAgeiAmPSAweDNGRjtcbiAgeiAgPSAoeiB8ICh6PDwxNikpICYgNDI3ODE5MDMzNTtcbiAgeiAgPSAoeiB8ICh6PDw4KSkgICYgMjUxNzE5Njk1O1xuICB6ICA9ICh6IHwgKHo8PDQpKSAgJiAzMjcyMzU2MDM1O1xuICB6ICA9ICh6IHwgKHo8PDIpKSAgJiAxMjI3MTMzNTEzO1xuICBcbiAgcmV0dXJuIHggfCAoeiA8PCAyKTtcbn1cblxuLy9FeHRyYWN0cyBudGggaW50ZXJsZWF2ZWQgY29tcG9uZW50IG9mIGEgMy10dXBsZVxuZXhwb3J0cy5kZWludGVybGVhdmUzID0gZnVuY3Rpb24odiwgbikge1xuICB2ID0gKHYgPj4+IG4pICAgICAgICYgMTIyNzEzMzUxMztcbiAgdiA9ICh2IHwgKHY+Pj4yKSkgICAmIDMyNzIzNTYwMzU7XG4gIHYgPSAodiB8ICh2Pj4+NCkpICAgJiAyNTE3MTk2OTU7XG4gIHYgPSAodiB8ICh2Pj4+OCkpICAgJiA0Mjc4MTkwMzM1O1xuICB2ID0gKHYgfCAodj4+PjE2KSkgICYgMHgzRkY7XG4gIHJldHVybiAodjw8MjIpPj4yMjtcbn1cblxuLy9Db21wdXRlcyBuZXh0IGNvbWJpbmF0aW9uIGluIGNvbGV4aWNvZ3JhcGhpYyBvcmRlciAodGhpcyBpcyBtaXN0YWtlbmx5IGNhbGxlZCBuZXh0UGVybXV0YXRpb24gb24gdGhlIGJpdCB0d2lkZGxpbmcgaGFja3MgcGFnZSlcbmV4cG9ydHMubmV4dENvbWJpbmF0aW9uID0gZnVuY3Rpb24odikge1xuICB2YXIgdCA9IHYgfCAodiAtIDEpO1xuICByZXR1cm4gKHQgKyAxKSB8ICgoKH50ICYgLX50KSAtIDEpID4+PiAoY291bnRUcmFpbGluZ1plcm9zKHYpICsgMSkpO1xufVxuXG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLlRpY2tlciA9IGV4cG9ydHMuc2hhcmVkID0gdW5kZWZpbmVkO1xuXG52YXIgX1RpY2tlciA9IHJlcXVpcmUoJy4vVGlja2VyJyk7XG5cbnZhciBfVGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpY2tlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogVGhlIHNoYXJlZCB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGV9LlxuICogYW5kIGJ5IHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn0uXG4gKiBUaGUgcHJvcGVydHkge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNhdXRvU3RhcnR9IGlzIHNldCB0byBgdHJ1ZWBcbiAqIGZvciB0aGlzIGluc3RhbmNlLiBQbGVhc2UgZm9sbG93IHRoZSBleGFtcGxlcyBmb3IgdXNhZ2UsIGluY2x1ZGluZ1xuICogaG93IHRvIG9wdC1vdXQgb2YgYXV0by1zdGFydGluZyB0aGUgc2hhcmVkIHRpY2tlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogbGV0IHRpY2tlciA9IFBJWEkudGlja2VyLnNoYXJlZDtcbiAqIC8vIFNldCB0aGlzIHRvIHByZXZlbnQgc3RhcnRpbmcgdGhpcyB0aWNrZXIgd2hlbiBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICogLy8gQnkgZGVmYXVsdCB0aGlzIGlzIHRydWUgb25seSBmb3IgdGhlIFBJWEkudGlja2VyLnNoYXJlZCBpbnN0YW5jZS5cbiAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAqIC8vIEZZSSwgY2FsbCB0aGlzIHRvIGVuc3VyZSB0aGUgdGlja2VyIGlzIHN0b3BwZWQuIEl0IHNob3VsZCBiZSBzdG9wcGVkXG4gKiAvLyBpZiB5b3UgaGF2ZSBub3QgYXR0ZW1wdGVkIHRvIHJlbmRlciBhbnl0aGluZyB5ZXQuXG4gKiB0aWNrZXIuc3RvcCgpO1xuICogLy8gQ2FsbCB0aGlzIHdoZW4geW91IGFyZSByZWFkeSBmb3IgYSBydW5uaW5nIHNoYXJlZCB0aWNrZXIuXG4gKiB0aWNrZXIuc3RhcnQoKTtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gWW91IG1heSB1c2UgdGhlIHNoYXJlZCB0aWNrZXIgdG8gcmVuZGVyLi4uXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcig4MDAsIDYwMCk7XG4gKiBsZXQgc3RhZ2UgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGxldCBpbnRlcmFjdGlvbk1hbmFnZXIgPSBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcihyZW5kZXJlcik7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlbmRlcmVyLnZpZXcpO1xuICogdGlja2VyLmFkZChmdW5jdGlvbiAodGltZSkge1xuICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gT3IgeW91IGNhbiBqdXN0IHVwZGF0ZSBpdCBtYW51YWxseS5cbiAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAqIHRpY2tlci5zdG9wKCk7XG4gKiBmdW5jdGlvbiBhbmltYXRlKHRpbWUpIHtcbiAqICAgICB0aWNrZXIudXBkYXRlKHRpbWUpO1xuICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gKiAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICogfVxuICogYW5pbWF0ZShwZXJmb3JtYW5jZS5ub3coKSk7XG4gKlxuICogQHR5cGUge1BJWEkudGlja2VyLlRpY2tlcn1cbiAqIEBtZW1iZXJvZiBQSVhJLnRpY2tlclxuICovXG52YXIgc2hhcmVkID0gbmV3IF9UaWNrZXIyLmRlZmF1bHQoKTtcblxuc2hhcmVkLmF1dG9TdGFydCA9IHRydWU7XG5zaGFyZWQuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gcHJvdGVjdCBkZXN0cm95aW5nIHNoYXJlZCB0aWNrZXJcbiAgLy8gdGhpcyBpcyB1c2VkIGJ5IG90aGVyIGludGVybmFsIHN5c3RlbXNcbiAgLy8gbGlrZSBBbmltYXRlZFNwcml0ZSBhbmQgSW50ZXJhY3Rpb25NYW5hZ2VyXG59O1xuXG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIGNvbnRhaW5zIGFuIEFQSSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBQSVhJJ3MgaW50ZXJuYWwgZ2xvYmFsIHVwZGF0ZSBsb29wLlxuICpcbiAqIFRoaXMgdGlja2VyIGlzIHVzZWQgZm9yIHJlbmRlcmluZywge0BsaW5rIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlIEFuaW1hdGVkU3ByaXRlfSxcbiAqIHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciBJbnRlcmFjdGlvbk1hbmFnZXJ9IGFuZCBtYW55IG90aGVyIHRpbWUtYmFzZWQgUElYSSBzeXN0ZW1zLlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHRpY2tlciA9IG5ldyBQSVhJLnRpY2tlci5UaWNrZXIoKTtcbiAqIHRpY2tlci5zdG9wKCk7XG4gKiB0aWNrZXIuYWRkKChkZWx0YVRpbWUpID0+IHtcbiAqICAgLy8gZG8gc29tZXRoaW5nIGV2ZXJ5IGZyYW1lXG4gKiB9KTtcbiAqIHRpY2tlci5zdGFydCgpO1xuICogQG5hbWVzcGFjZSBQSVhJLnRpY2tlclxuICovXG5leHBvcnRzLnNoYXJlZCA9IHNoYXJlZDtcbmV4cG9ydHMuVGlja2VyID0gX1RpY2tlcjIuZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9CYXNlUmVuZGVyVGV4dHVyZSA9IHJlcXVpcmUoJy4vQmFzZVJlbmRlclRleHR1cmUnKTtcblxudmFyIF9CYXNlUmVuZGVyVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlUmVuZGVyVGV4dHVyZSk7XG5cbnZhciBfVGV4dHVyZTIgPSByZXF1aXJlKCcuL1RleHR1cmUnKTtcblxudmFyIF9UZXh0dXJlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmUyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEEgUmVuZGVyVGV4dHVyZSBpcyBhIHNwZWNpYWwgdGV4dHVyZSB0aGF0IGFsbG93cyBhbnkgUGl4aUpTIGRpc3BsYXkgb2JqZWN0IHRvIGJlIHJlbmRlcmVkIHRvIGl0LlxuICpcbiAqIF9fSGludF9fOiBBbGwgRGlzcGxheU9iamVjdHMgKGkuZS4gU3ByaXRlcykgdGhhdCByZW5kZXIgdG8gYSBSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBBIFJlbmRlclRleHR1cmUgdGFrZXMgYSBzbmFwc2hvdCBvZiBhbnkgRGlzcGxheSBPYmplY3QgZ2l2ZW4gdG8gaXRzIHJlbmRlciBtZXRob2QuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigxMDI0LCAxMDI0KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSg4MDAsIDYwMCk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbUltYWdlKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSgxMDAsIDEwMCk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiAoX1RleHR1cmUpIHtcbiAgICBfaW5oZXJpdHMoUmVuZGVyVGV4dHVyZSwgX1RleHR1cmUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VSZW5kZXJUZXh0dXJlfSBiYXNlUmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJlciB1c2VkIGZvciB0aGlzIFJlbmRlclRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93XG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbmRlclRleHR1cmUpO1xuXG4gICAgICAgIC8vIHN1cHBvcnQgZm9yIGxlZ2FjeS4uXG4gICAgICAgIHZhciBfbGVnYWN5UmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIGlmICghKGJhc2VSZW5kZXJUZXh0dXJlIGluc3RhbmNlb2YgX0Jhc2VSZW5kZXJUZXh0dXJlMi5kZWZhdWx0KSkge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1szXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzRdO1xuXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGFuIG9sZCByZW5kZXIgdGV4dHVyZS4uXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BsZWFzZSB1c2UgUmVuZGVyVGV4dHVyZS5jcmVhdGUoJyArIHdpZHRoICsgJywgJyArIGhlaWdodCArICcpIGluc3RlYWQgb2YgdGhlIGN0b3IgZGlyZWN0bHkuJyk7XG4gICAgICAgICAgICBfbGVnYWN5UmVuZGVyZXIgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcywgbm8tY29uc29sZSAqL1xuXG4gICAgICAgICAgICBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBfQmFzZVJlbmRlclRleHR1cmUyLmRlZmF1bHQod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIG9iamVjdCB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Jhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfVGV4dHVyZS5jYWxsKHRoaXMsIGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSkpO1xuXG4gICAgICAgIF90aGlzLmxlZ2FjeVJlbmRlcmVyID0gX2xlZ2FjeVJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gdHJ1ZTtcblxuICAgICAgICBfdGhpcy5fdXBkYXRlVXZzKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBkb05vdFJlc2l6ZUJhc2VUZXh0dXJlIC0gU2hvdWxkIHRoZSBiYXNlVGV4dHVyZS53aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcyBiZSByZXNpemVkIGFzIHdlbGw/XG4gICAgICovXG5cblxuICAgIFJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCBkb05vdFJlc2l6ZUJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICAgICAgLy8gVE9ETyAtIGNvdWxkIGJlIG5vdCByZXF1aXJlZC4uXG4gICAgICAgIHRoaXMudmFsaWQgPSB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMDtcblxuICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IHRoaXMub3JpZy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSB0aGlzLm9yaWcuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIGlmICghZG9Ob3RSZXNpemVCYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVVdnMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0xMDBdIC0gVGhlIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgUmVuZGVyVGV4dHVyZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZShuZXcgX0Jhc2VSZW5kZXJUZXh0dXJlMi5kZWZhdWx0KHdpZHRoLCBoZWlnaHQsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbikpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUmVuZGVyVGV4dHVyZTtcbn0oX1RleHR1cmUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZW5kZXJUZXh0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGV4dHVyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMnKTtcblxudmFyIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIFV0aWxpdHkgbWV0aG9kcyBmb3IgU3ByaXRlL1RleHR1cmUgdGludGluZy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDYW52YXNUaW50ZXIgPSB7XG4gICAgLyoqXG4gICAgICogQmFzaWNhbGx5IHRoaXMgbWV0aG9kIGp1c3QgbmVlZHMgYSBzcHJpdGUgYW5kIGEgY29sb3IgYW5kIHRpbnRzIHRoZSBzcHJpdGUgd2l0aCB0aGUgZ2l2ZW4gY29sb3IuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgc3ByaXRlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IFRoZSB0aW50ZWQgY2FudmFzXG4gICAgICovXG4gICAgZ2V0VGludGVkVGV4dHVyZTogZnVuY3Rpb24gZ2V0VGludGVkVGV4dHVyZShzcHJpdGUsIGNvbG9yKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuXG4gICAgICAgIGNvbG9yID0gQ2FudmFzVGludGVyLnJvdW5kQ29sb3IoY29sb3IpO1xuXG4gICAgICAgIHZhciBzdHJpbmdDb2xvciA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuXG4gICAgICAgIHRleHR1cmUudGludENhY2hlID0gdGV4dHVyZS50aW50Q2FjaGUgfHwge307XG5cbiAgICAgICAgdmFyIGNhY2hlZFRleHR1cmUgPSB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl07XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IHZvaWQgMDtcblxuICAgICAgICBpZiAoY2FjaGVkVGV4dHVyZSkge1xuICAgICAgICAgICAgaWYgKGNhY2hlZFRleHR1cmUudGludElkID09PSB0ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbnZhcyA9IHRleHR1cmUudGludENhY2hlW3N0cmluZ0NvbG9yXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbnZhcyA9IENhbnZhc1RpbnRlci5jYW52YXMgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIH1cblxuICAgICAgICBDYW52YXNUaW50ZXIudGludE1ldGhvZCh0ZXh0dXJlLCBjb2xvciwgY2FudmFzKTtcblxuICAgICAgICBjYW52YXMudGludElkID0gdGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgaWYgKENhbnZhc1RpbnRlci5jb252ZXJ0VGludFRvSW1hZ2UpIHtcbiAgICAgICAgICAgIC8vIGlzIHRoaXMgYmV0dGVyP1xuICAgICAgICAgICAgdmFyIHRpbnRJbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgICAgICB0aW50SW1hZ2Uuc3JjID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl0gPSB0aW50SW1hZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl0gPSBjYW52YXM7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGNvbnZlcnRpbmcgdGhlIHRleHR1cmUgdG8gYW4gaW1hZ2UgdGhlbiB3ZSBuZWVkIHRvIGxvc2UgdGhlIHJlZmVyZW5jZSB0byB0aGUgY2FudmFzXG4gICAgICAgICAgICBDYW52YXNUaW50ZXIuY2FudmFzID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRpbnQgYSB0ZXh0dXJlIHVzaW5nIHRoZSAnbXVsdGlwbHknIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gdGludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xvciAtIHRoZSBjb2xvciB0byB1c2UgdG8gdGludCB0aGUgc3ByaXRlIHdpdGhcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY3VycmVudCBjYW52YXNcbiAgICAgKi9cbiAgICB0aW50V2l0aE11bHRpcGx5OiBmdW5jdGlvbiB0aW50V2l0aE11bHRpcGx5KHRleHR1cmUsIGNvbG9yLCBjYW52YXMpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdmFyIGNyb3AgPSB0ZXh0dXJlLl9mcmFtZS5jbG9uZSgpO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICBjcm9wLnggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC55ICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3Aud2lkdGggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC5oZWlnaHQgKj0gcmVzb2x1dGlvbjtcblxuICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmNlaWwoY3JvcC53aWR0aCk7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuXG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ211bHRpcGx5JztcblxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSwgY3JvcC54LCBjcm9wLnksIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0LCAwLCAwLCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tYXRvcCc7XG5cbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIGNyb3AueCwgY3JvcC55LCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCwgMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGludCBhIHRleHR1cmUgdXNpbmcgdGhlICdvdmVybGF5JyBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGN1cnJlbnQgY2FudmFzXG4gICAgICovXG4gICAgdGludFdpdGhPdmVybGF5OiBmdW5jdGlvbiB0aW50V2l0aE92ZXJsYXkodGV4dHVyZSwgY29sb3IsIGNhbnZhcykge1xuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB2YXIgY3JvcCA9IHRleHR1cmUuX2ZyYW1lLmNsb25lKCk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGNyb3AueCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLnkgKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC53aWR0aCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLmhlaWdodCAqPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguY2VpbChjcm9wLndpZHRoKTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbChjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2NvcHknO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1hdG9wJztcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIGNyb3AueCwgY3JvcC55LCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCwgMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIC8vIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2NvcHknO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBUaW50IGEgdGV4dHVyZSBwaXhlbCBwZXIgcGl4ZWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGN1cnJlbnQgY2FudmFzXG4gICAgICovXG4gICAgdGludFdpdGhQZXJQaXhlbDogZnVuY3Rpb24gdGludFdpdGhQZXJQaXhlbCh0ZXh0dXJlLCBjb2xvciwgY2FudmFzKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHZhciBjcm9wID0gdGV4dHVyZS5fZnJhbWUuY2xvbmUoKTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgY3JvcC54ICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3AueSAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLndpZHRoICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3AuaGVpZ2h0ICo9IHJlc29sdXRpb247XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKGNyb3Aud2lkdGgpO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGNyb3AuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnY29weSc7XG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLCBjcm9wLngsIGNyb3AueSwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQsIDAsIDAsIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAgICAgdmFyIHJnYlZhbHVlcyA9ICgwLCBfdXRpbHMuaGV4MnJnYikoY29sb3IpO1xuICAgICAgICB2YXIgciA9IHJnYlZhbHVlc1swXTtcbiAgICAgICAgdmFyIGcgPSByZ2JWYWx1ZXNbMV07XG4gICAgICAgIHZhciBiID0gcmdiVmFsdWVzWzJdO1xuXG4gICAgICAgIHZhciBwaXhlbERhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgdmFyIHBpeGVscyA9IHBpeGVsRGF0YS5kYXRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGl4ZWxzLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDBdICo9IHI7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDFdICo9IGc7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDJdICo9IGI7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnB1dEltYWdlRGF0YShwaXhlbERhdGEsIDAsIDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3VuZHMgdGhlIHNwZWNpZmllZCBjb2xvciBhY2NvcmRpbmcgdG8gdGhlIENhbnZhc1RpbnRlci5jYWNoZVN0ZXBzUGVyQ29sb3JDaGFubmVsLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbG9yIC0gdGhlIGNvbG9yIHRvIHJvdW5kLCBzaG91bGQgYmUgYSBoZXggY29sb3JcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByb3VuZGVkIGNvbG9yLlxuICAgICAqL1xuICAgIHJvdW5kQ29sb3I6IGZ1bmN0aW9uIHJvdW5kQ29sb3IoY29sb3IpIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBDYW52YXNUaW50ZXIuY2FjaGVTdGVwc1BlckNvbG9yQ2hhbm5lbDtcblxuICAgICAgICB2YXIgcmdiVmFsdWVzID0gKDAsIF91dGlscy5oZXgycmdiKShjb2xvcik7XG5cbiAgICAgICAgcmdiVmFsdWVzWzBdID0gTWF0aC5taW4oMjU1LCByZ2JWYWx1ZXNbMF0gLyBzdGVwICogc3RlcCk7XG4gICAgICAgIHJnYlZhbHVlc1sxXSA9IE1hdGgubWluKDI1NSwgcmdiVmFsdWVzWzFdIC8gc3RlcCAqIHN0ZXApO1xuICAgICAgICByZ2JWYWx1ZXNbMl0gPSBNYXRoLm1pbigyNTUsIHJnYlZhbHVlc1syXSAvIHN0ZXAgKiBzdGVwKTtcblxuICAgICAgICByZXR1cm4gKDAsIF91dGlscy5yZ2IyaGV4KShyZ2JWYWx1ZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2Ygc3RlcHMgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGEgY2FwIHdoZW4gcm91bmRpbmcgY29sb3JzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBjYWNoZVN0ZXBzUGVyQ29sb3JDaGFubmVsOiA4LFxuXG4gICAgLyoqXG4gICAgICogVGludCBjYWNoZSBib29sZWFuIGZsYWcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjb252ZXJ0VGludFRvSW1hZ2U6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdGhlIENhbnZhcyBCbGVuZE1vZGVzIGFyZSBzdXBwb3J0ZWQsIGNvbnNlcXVlbnRseSB0aGUgYWJpbGl0eSB0byB0aW50IHVzaW5nIHRoZSBtdWx0aXBseSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5Vc2VNdWx0aXBseTogKDAsIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMi5kZWZhdWx0KSgpLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnRpbmcgbWV0aG9kIHRoYXQgd2lsbCBiZSB1c2VkLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHR5cGUge3RpbnRNZXRob2RGdW5jdGlvblR5cGV9XG4gICAgICovXG4gICAgdGludE1ldGhvZDogMFxufTtcblxuQ2FudmFzVGludGVyLnRpbnRNZXRob2QgPSBDYW52YXNUaW50ZXIuY2FuVXNlTXVsdGlwbHkgPyBDYW52YXNUaW50ZXIudGludFdpdGhNdWx0aXBseSA6IENhbnZhc1RpbnRlci50aW50V2l0aFBlclBpeGVsO1xuXG4vKipcbiAqIFRoZSB0aW50TWV0aG9kIHR5cGUuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gKiBAY2FsbGJhY2sgdGludE1ldGhvZEZ1bmN0aW9uVHlwZVxuICogQHBhcmFtIHRleHR1cmUge1BJWEkuVGV4dHVyZX0gdGhlIHRleHR1cmUgdG8gdGludFxuICogQHBhcmFtIGNvbG9yIHtudW1iZXJ9IHRoZSBjb2xvciB0byB1c2UgdG8gdGludCB0aGUgc3ByaXRlIHdpdGhcbiAqIEBwYXJhbSBjYW52YXMge0hUTUxDYW52YXNFbGVtZW50fSB0aGUgY3VycmVudCBjYW52YXNcbiAqL1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNUaW50ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNUaW50ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVJbmRpY2VzRm9yUXVhZHM7XG4vKipcbiAqIEdlbmVyaWMgTWFzayBTdGFjayBkYXRhIHN0cnVjdHVyZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgcXVhZHNcbiAqIEByZXR1cm4ge1VpbnQxNkFycmF5fSBpbmRpY2VzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplKSB7XG4gICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBpbmRpY2VzIGluIG91ciBhcnJheSwgdGhlcmUgYXJlIDYgcG9pbnRzIHBlciBxdWFkLlxuXG4gICAgdmFyIHRvdGFsSW5kaWNlcyA9IHNpemUgKiA2O1xuXG4gICAgdmFyIGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkodG90YWxJbmRpY2VzKTtcblxuICAgIC8vIGZpbGwgdGhlIGluZGljZXMgd2l0aCB0aGUgcXVhZHMgdG8gZHJhd1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsSW5kaWNlczsgaSArPSA2LCBqICs9IDQpIHtcbiAgICAgICAgaW5kaWNlc1tpICsgMF0gPSBqICsgMDtcbiAgICAgICAgaW5kaWNlc1tpICsgMV0gPSBqICsgMTtcbiAgICAgICAgaW5kaWNlc1tpICsgMl0gPSBqICsgMjtcbiAgICAgICAgaW5kaWNlc1tpICsgM10gPSBqICsgMDtcbiAgICAgICAgaW5kaWNlc1tpICsgNF0gPSBqICsgMjtcbiAgICAgICAgaW5kaWNlc1tpICsgNV0gPSBqICsgMztcbiAgICB9XG5cbiAgICByZXR1cm4gaW5kaWNlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUluZGljZXNGb3JRdWFkcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLlJlc291cmNlID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3BhcnNlVXJpID0gcmVxdWlyZSgncGFyc2UtdXJpJyk7XG5cbnZhciBfcGFyc2VVcmkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFyc2VVcmkpO1xuXG52YXIgX21pbmlTaWduYWxzID0gcmVxdWlyZSgnbWluaS1zaWduYWxzJyk7XG5cbnZhciBfbWluaVNpZ25hbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWluaVNpZ25hbHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vLyB0ZXN0cyBpZiBDT1JTIGlzIHN1cHBvcnRlZCBpbiBYSFIsIGlmIG5vdCB3ZSBuZWVkIHRvIHVzZSBYRFJcbnZhciB1c2VYZHIgPSAhISh3aW5kb3cuWERvbWFpblJlcXVlc3QgJiYgISgnd2l0aENyZWRlbnRpYWxzJyBpbiBuZXcgWE1MSHR0cFJlcXVlc3QoKSkpO1xudmFyIHRlbXBBbmNob3IgPSBudWxsO1xuXG4vLyBzb21lIHN0YXR1cyBjb25zdGFudHNcbnZhciBTVEFUVVNfTk9ORSA9IDA7XG52YXIgU1RBVFVTX09LID0gMjAwO1xudmFyIFNUQVRVU19FTVBUWSA9IDIwNDtcbnZhciBTVEFUVVNfSUVfQlVHX0VNUFRZID0gMTIyMztcbnZhciBTVEFUVVNfVFlQRV9PSyA9IDI7XG5cbi8vIG5vb3BcbmZ1bmN0aW9uIF9ub29wKCkge30gLyogZW1wdHkgKi9cblxuLyoqXG4gKiBNYW5hZ2VzIHRoZSBzdGF0ZSBhbmQgbG9hZGluZyBvZiBhIHJlc291cmNlIGFuZCBhbGwgY2hpbGQgcmVzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICovXG5cbnZhciBSZXNvdXJjZSA9IGV4cG9ydHMuUmVzb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBsb2FkVHlwZSAtIFRoZSBsb2FkIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgICAqL1xuICAgIFJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uTG9hZFR5cGUoZXh0bmFtZSwgbG9hZFR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKFJlc291cmNlLl9sb2FkVHlwZU1hcCwgZXh0bmFtZSwgbG9hZFR5cGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsb2FkIHR5cGUgdG8gYmUgdXNlZCBmb3IgYSBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0geGhyVHlwZSAtIFRoZSB4aHIgdHlwZSB0byBzZXQgaXQgdG8uXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnNldEV4dGVuc2lvblhoclR5cGUgPSBmdW5jdGlvbiBzZXRFeHRlbnNpb25YaHJUeXBlKGV4dG5hbWUsIHhoclR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKFJlc291cmNlLl94aHJUeXBlTWFwLCBleHRuYW1lLCB4aHJUeXBlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgZm9yIGF1ZGlvL3ZpZGVvIGxvYWRzIHlvdSBjYW4gcGFzc1xuICAgICAqICAgICAgYW4gYXJyYXkgb2Ygc291cmNlcy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IFtvcHRpb25zLmNyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG9cbiAgICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAgICogICAgICBsb25nZXIgdGhhbiB0aGlzIHRpbWUgaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpc1xuICAgICAqICAgICAgc2V0IHRvIGAwYCB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtvcHRpb25zLmxvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAgICogICAgICBiZSBsb2FkZWQ/XG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW29wdGlvbnMueGhyVHlwZT1SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUXSAtIEhvd1xuICAgICAqICAgICAgc2hvdWxkIHRoZSBkYXRhIGJlaW5nIGxvYWRlZCBiZSBpbnRlcnByZXRlZCB3aGVuIHVzaW5nIFhIUj9cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLklNZXRhZGF0YX0gW29wdGlvbnMubWV0YWRhdGFdIC0gRXh0cmEgY29uZmlndXJhdGlvbiBmb3IgbWlkZGxld2FyZSBhbmQgdGhlIFJlc291cmNlIG9iamVjdC5cbiAgICAgKi9cblxuXG4gICAgZnVuY3Rpb24gUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZXNvdXJjZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIG5hbWUgYW5kIHVybCBhcmUgcmVxdWlyZWQgZm9yIGNvbnN0cnVjdGluZyBhIHJlc291cmNlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGF0ZSBmbGFncyBvZiB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mbGFncyA9IDA7XG5cbiAgICAgICAgLy8gc2V0IGRhdGEgdXJsIGZsYWcsIG5lZWRzIHRvIGJlIHNldCBlYXJseSBmb3Igc29tZSBfZGV0ZXJtaW5lWCBjaGVja3MgdG8gd29yay5cbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwsIHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB1cmwgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGV4dGVuc2lvbiB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uID0gdGhpcy5fZ2V0RXh0ZW5zaW9uKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHRoYXQgd2FzIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2FueX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSBvcHRpb25zLmNyb3NzT3JpZ2luID09PSB0cnVlID8gJ2Fub255bW91cycgOiBvcHRpb25zLmNyb3NzT3JpZ2luO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXMgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lXG4gICAgICAgICAqIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXMgc2V0IHRvIGAwYFxuICAgICAgICAgKiB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGltZW91dCA9IG9wdGlvbnMudGltZW91dCB8fCAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWV0aG9kIG9mIGxvYWRpbmcgdG8gdXNlIGZvciB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5MT0FEX1RZUEV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvYWRUeXBlID0gb3B0aW9ucy5sb2FkVHlwZSB8fCB0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSB1c2VkIHRvIGxvYWQgdGhlIHJlc291cmNlIHZpYSBYSFIuIElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueGhyVHlwZSA9IG9wdGlvbnMueGhyVHlwZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXh0cmEgaW5mbyBmb3IgbWlkZGxld2FyZSwgYW5kIGNvbnRyb2xsaW5nIHNwZWNpZmljcyBhYm91dCBob3cgdGhlIHJlc291cmNlIGxvYWRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgLCB0aGUgUmVzb3VyY2UgY2xhc3MgdGFrZXMgb3duZXJzaGlwIG9mIGl0LlxuICAgICAgICAgKiBNZWFuaW5nIGl0IHdpbGwgbW9kaWZ5IGl0IGFzIGl0IHNlZXMgZml0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5JTWV0YWRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gb3B0aW9ucy5tZXRhZGF0YSB8fCB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGVycm9yIHRoYXQgb2NjdXJyZWQgd2hpbGUgbG9hZGluZyAoaWYgYW55KS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge0Vycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBYSFIgb2JqZWN0IHRoYXQgd2FzIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLiBUaGlzIGlzIG9ubHkgc2V0XG4gICAgICAgICAqIHdoZW4gYGxvYWRUeXBlYCBpcyBgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUmAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtYTUxIdHRwUmVxdWVzdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueGhyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNoaWxkIHJlc291cmNlcyB0aGlzIHJlc291cmNlIG93bnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb3VyY2UgdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlLlRZUEV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlVOS05PV047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcm9ncmVzcyBjaHVuayBvd25lZCBieSB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9ncmVzc0NodW5rID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBkZXF1ZXVlYCBtZXRob2QgdGhhdCB3aWxsIGJlIHVzZWQgYSBzdG9yYWdlIHBsYWNlIGZvciB0aGUgYXN5bmMgcXVldWUgZGVxdWV1ZSBtZXRob2RcbiAgICAgICAgICogdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kZXF1ZXVlID0gX25vb3A7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYSBzdG9yYWdlIHBsYWNlIGZvciB0aGUgb24gbG9hZCBiaW5kaW5nIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25Mb2FkQmluZGluZyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW1lciBmb3IgZWxlbWVudCBsb2FkcyB0byBjaGVjayBpZiB0aGV5IHRpbWVvdXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgY29tcGxldGVgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kQ29tcGxldGUgPSB0aGlzLmNvbXBsZXRlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX29uRXJyb3JgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kT25FcnJvciA9IHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfb25Qcm9ncmVzc2AgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRPblByb2dyZXNzID0gdGhpcy5fb25Qcm9ncmVzcy5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9vblRpbWVvdXRgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kT25UaW1lb3V0ID0gdGhpcy5fb25UaW1lb3V0LmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8geGhyIGNhbGxiYWNrc1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uRXJyb3IgPSB0aGlzLl94aHJPbkVycm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0ID0gdGhpcy5feGhyT25UaW1lb3V0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25BYm9ydCA9IHRoaXMuX3hock9uQWJvcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkxvYWQgPSB0aGlzLl94aHJPbkxvYWQuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSByZXNvdXJjZSBiZWluZ3MgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uU3RhcnRTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uU3RhcnQgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgZWFjaCB0aW1lIHByb2dyZXNzIG9mIHRoaXMgcmVzb3VyY2UgbG9hZCB1cGRhdGVzLlxuICAgICAgICAgKiBOb3QgYWxsIHJlc291cmNlcyB0eXBlcyBhbmQgbG9hZGVyIHN5c3RlbXMgY2FuIHN1cHBvcnQgdGhpcyBldmVudFxuICAgICAgICAgKiBzbyBzb21ldGltZXMgaXQgbWF5IG5vdCBiZSBhdmFpbGFibGUuIElmIHRoZSByZXNvdXJjZVxuICAgICAgICAgKiBpcyBiZWluZyBsb2FkZWQgb24gYSBtb2Rlcm4gYnJvd3NlciwgdXNpbmcgWEhSLCBhbmQgdGhlIHJlbW90ZSBzZXJ2ZXJcbiAgICAgICAgICogcHJvcGVybHkgc2V0cyBDb250ZW50LUxlbmd0aCBoZWFkZXJzLCB0aGVuIHRoaXMgd2lsbCBiZSBhdmFpbGFibGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgdGhpcyByZXNvdXJjZSBoYXMgbG9hZGVkLCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IgaXQgd2lsbFxuICAgICAgICAgKiBiZSBpbiB0aGUgYGVycm9yYCBwcm9wZXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgYWZ0ZXIgdGhpcyByZXNvdXJjZSBoYXMgaGFkIGFsbCB0aGUgKmFmdGVyKiBtaWRkbGV3YXJlIHJ1biBvbiBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQWZ0ZXJNaWRkbGV3YXJlID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyB0byBsb2FkLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICogQGNhbGxiYWNrIE9uU3RhcnRTaWduYWxcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHJlc291cmNlIHJlcG9ydHMgbG9hZGluZyBwcm9ncmVzcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgICAqIEBjYWxsYmFjayBPblByb2dyZXNzU2lnbmFsXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBlcmNlbnRhZ2UgLSBUaGUgcHJvZ3Jlc3Mgb2YgdGhlIGxvYWQgaW4gdGhlIHJhbmdlIFswLCAxXS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHJlc291cmNlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICogQHR5cGVkZWYge29iamVjdH0gSU1ldGFkYXRhXG4gICAgICogQHByb3BlcnR5IHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxBdWRpb0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW2xvYWRFbGVtZW50PW51bGxdIC0gVGhlXG4gICAgICogICAgICBlbGVtZW50IHRvIHVzZSBmb3IgbG9hZGluZywgaW5zdGVhZCBvZiBjcmVhdGluZyBvbmUuXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBbc2tpcFNvdXJjZT1mYWxzZV0gLSBTa2lwcyBhZGRpbmcgc291cmNlKHMpIHRvIHRoZSBsb2FkIGVsZW1lbnQuIFRoaXNcbiAgICAgKiAgICAgIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBwYXNzIGluIGEgYGxvYWRFbGVtZW50YCB0aGF0IHlvdSBhbHJlYWR5IGFkZGVkIGxvYWQgc291cmNlcyB0by5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xzdHJpbmdbXX0gW21pbWVUeXBlXSAtIFRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgc291cmNlIGVsZW1lbnRcbiAgICAgKiAgICAgIG9mIGEgdmlkZW8vYXVkaW8gZWxtZW50LiBJZiB0aGUgdXJscyBhcmUgYW4gYXJyYXksIHlvdSBjYW4gcGFzcyB0aGlzIGFzIGFuIGFycmF5IGFzIHdlbGxcbiAgICAgKiAgICAgIHdoZXJlIGVhY2ggaW5kZXggaXMgdGhlIG1pbWUgdHlwZSB0byB1c2UgZm9yIHRoZSBjb3JyZXNwb25kaW5nIHVybCBpbmRleC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFN0b3JlcyB3aGV0aGVyIG9yIG5vdCB0aGlzIHVybCBpcyBhIGRhdGEgdXJsLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogTWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMuX2NsZWFyRXZlbnRzKCk7XG4gICAgICAgIHRoaXMuX2ZpbmlzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBYm9ydHMgdGhlIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZSwgd2l0aCBhbiBvcHRpb25hbCBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byB1c2UgZm9yIHRoZSBlcnJvclxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbiBhYm9ydChtZXNzYWdlKSB7XG4gICAgICAgIC8vIGFib3J0IGNhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIGlnbm9yZSBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RvcmUgZXJyb3JcbiAgICAgICAgdGhpcy5lcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcblxuICAgICAgICAvLyBjbGVhciBldmVudHMgYmVmb3JlIGNhbGxpbmcgYWJvcnRzXG4gICAgICAgIHRoaXMuX2NsZWFyRXZlbnRzKCk7XG5cbiAgICAgICAgLy8gYWJvcnQgdGhlIGFjdHVhbCBsb2FkaW5nXG4gICAgICAgIGlmICh0aGlzLnhocikge1xuICAgICAgICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnhkcikge1xuICAgICAgICAgICAgdGhpcy54ZHIuYWJvcnQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgICAgIC8vIHNpbmdsZSBzb3VyY2VcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuc3JjKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNyYyA9IFJlc291cmNlLkVNUFRZX0dJRjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG11bHRpLXNvdXJjZVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLmRhdGEuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUNoaWxkKHRoaXMuZGF0YS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvbmUgbm93LlxuICAgICAgICB0aGlzLl9maW5pc2goKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogS2lja3Mgb2ZmIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZS4gVGhpcyBtZXRob2QgaXMgYXN5bmNocm9ub3VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2JdIC0gT3B0aW9uYWwgY2FsbGJhY2sgdG8gY2FsbCBvbmNlIHRoZSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLmlzTG9hZGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYihfdGhpcyk7XG4gICAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChjYikge1xuICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlLm9uY2UoY2IpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpO1xuXG4gICAgICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luID09PSBmYWxzZSB8fCB0eXBlb2YgdGhpcy5jcm9zc09yaWdpbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSB0aGlzLl9kZXRlcm1pbmVDcm9zc09yaWdpbih0aGlzLnVybCk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHRoaXMubG9hZFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFOlxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZEVsZW1lbnQoJ2ltYWdlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPOlxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuQVVESU87XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFNvdXJjZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPOlxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVklERU87XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFNvdXJjZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjpcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKHVzZVhkciAmJiB0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRYZHIoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2FkWGhyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gY2hlY2suXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5faGFzRmxhZyA9IGZ1bmN0aW9uIF9oYXNGbGFnKGZsYWcpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIGZsYWcpICE9PSAwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiAoVW4pU2V0cyB0aGUgZmxhZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byAodW4pc2V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBXaGV0aGVyIHRvIHNldCBvciAodW4pc2V0IHRoZSBmbGFnLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX3NldEZsYWcgPSBmdW5jdGlvbiBfc2V0RmxhZyhmbGFnLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9mbGFncyA9IHZhbHVlID8gdGhpcy5fZmxhZ3MgfCBmbGFnIDogdGhpcy5fZmxhZ3MgJiB+ZmxhZztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCB0aGUgZXZlbnRzIGZyb20gdGhlIHVuZGVybHlpbmcgbG9hZGluZyBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2NsZWFyRXZlbnRzID0gZnVuY3Rpb24gX2NsZWFyRXZlbnRzKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fZWxlbWVudFRpbWVyKTtcblxuICAgICAgICBpZiAodGhpcy5kYXRhICYmIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCd0aW1lb3V0JywgdGhpcy5fYm91bmRYaHJPblRpbWVvdXQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9udGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25wcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5hbGl6ZXMgdGhlIGxvYWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2ZpbmlzaCA9IGZ1bmN0aW9uIF9maW5pc2goKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29tcGxldGUgY2FsbGVkIGFnYWluIGZvciBhbiBhbHJlYWR5IGNvbXBsZXRlZCByZXNvdXJjZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFLCB0cnVlKTtcbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBhIHNpbmdsZSBzb3VyY2UsXG4gICAgICogbGlrZSBhbiBIVE1MSW1hZ2VFbGVtZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRFbGVtZW50ID0gZnVuY3Rpb24gX2xvYWRFbGVtZW50KHR5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQ7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2ltYWdlJyAmJiB0eXBlb2Ygd2luZG93LkltYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMubWV0YWRhdGEuc2tpcFNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnNyYyA9IHRoaXMudXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcblxuICAgICAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgbXVsdGlwbGUgc291cmNlcyxcbiAgICAgKiBsaWtlIGFuIEhUTUxBdWRpb0VsZW1lbnQgb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkU291cmNlRWxlbWVudCA9IGZ1bmN0aW9uIF9sb2FkU291cmNlRWxlbWVudCh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhdWRpbycgJiYgdHlwZW9mIHdpbmRvdy5BdWRpbyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBBdWRpbygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoJ1Vuc3VwcG9ydGVkIGVsZW1lbnQ6ICcgKyB0eXBlKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMubWV0YWRhdGEuc2tpcFNvdXJjZSkge1xuICAgICAgICAgICAgLy8gc3VwcG9ydCBmb3IgQ29jb29uSlMgQ2FudmFzKyBydW50aW1lLCBsYWNrcyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKVxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5pc0NvY29vbkpTKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNyYyA9IEFycmF5LmlzQXJyYXkodGhpcy51cmwpID8gdGhpcy51cmxbMF0gOiB0aGlzLnVybDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnVybCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy51cmwubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybFtpXSwgQXJyYXkuaXNBcnJheShtaW1lVHlwZXMpID8gbWltZVR5cGVzW2ldIDogbWltZVR5cGVzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgX21pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlU291cmNlKHR5cGUsIHRoaXMudXJsLCBBcnJheS5pc0FycmF5KF9taW1lVHlwZXMpID8gX21pbWVUeXBlc1swXSA6IF9taW1lVHlwZXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmRhdGEubG9hZCgpO1xuXG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IHNldFRpbWVvdXQodGhpcy5fYm91bmRPblRpbWVvdXQsIHRoaXMudGltZW91dCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWE1MSHR0cFJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRYaHIgPSBmdW5jdGlvbiBfbG9hZFhocigpIHtcbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICAvLyBzZXQgdGhlIHJlcXVlc3QgdHlwZSBhbmQgdXJsXG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG5cbiAgICAgICAgeGhyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQ7XG5cbiAgICAgICAgLy8gbG9hZCBqc29uIGFzIHRleHQgYW5kIHBhcnNlIGl0IG91cnNlbHZlcy4gV2UgZG8gdGhpcyBiZWNhdXNlIHNvbWUgYnJvd3NlcnNcbiAgICAgICAgLy8gKmNvdWdoKiBzYWZhcmkgKmNvdWdoKiBjYW4ndCBkZWFsIHdpdGggaXQuXG4gICAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04gfHwgdGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gdGhpcy54aHJUeXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCd0aW1lb3V0JywgdGhpcy5fYm91bmRYaHJPblRpbWVvdXQsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgdGhpcy5fYm91bmRYaHJPbkFib3J0LCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG5cbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWERvbWFpblJlcXVlc3QuIFRoaXMgaXMgaGVyZSBiZWNhdXNlIHdlIG5lZWQgdG8gc3VwcG9ydCBJRTkgKGdyb3NzKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fbG9hZFhkciA9IGZ1bmN0aW9uIF9sb2FkWGRyKCkge1xuICAgICAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMueGhyVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMueGhyVHlwZSA9IHRoaXMuX2RldGVybWluZVhoclR5cGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB4ZHIgPSB0aGlzLnhociA9IG5ldyBYRG9tYWluUmVxdWVzdCgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbiAgICAgICAgLy8gWERvbWFpblJlcXVlc3QgaGFzIGEgZmV3IHF1aXJrcy4gT2NjYXNpb25hbGx5IGl0IHdpbGwgYWJvcnQgcmVxdWVzdHNcbiAgICAgICAgLy8gQSB3YXkgdG8gYXZvaWQgdGhpcyBpcyB0byBtYWtlIHN1cmUgQUxMIGNhbGxiYWNrcyBhcmUgc2V0IGV2ZW4gaWYgbm90IHVzZWRcbiAgICAgICAgLy8gTW9yZSBpbmZvIGhlcmU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTU3ODY5NjYveGRvbWFpbnJlcXVlc3QtYWJvcnRzLXBvc3Qtb24taWUtOVxuICAgICAgICB4ZHIudGltZW91dCA9IHRoaXMudGltZW91dCB8fCA1MDAwOyAvLyBYRFIgbmVlZHMgYSB0aW1lb3V0IHZhbHVlIG9yIGl0IGJyZWFrcyBpbiBJRTlcblxuICAgICAgICB4ZHIub25lcnJvciA9IHRoaXMuX2JvdW5kWGhyT25FcnJvcjtcbiAgICAgICAgeGRyLm9udGltZW91dCA9IHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0O1xuICAgICAgICB4ZHIub25wcm9ncmVzcyA9IHRoaXMuX2JvdW5kT25Qcm9ncmVzcztcbiAgICAgICAgeGRyLm9ubG9hZCA9IHRoaXMuX2JvdW5kWGhyT25Mb2FkO1xuXG4gICAgICAgIHhkci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG5cbiAgICAgICAgLy8gTm90ZTogVGhlIHhkci5zZW5kKCkgY2FsbCBpcyB3cmFwcGVkIGluIGEgdGltZW91dCB0byBwcmV2ZW50IGFuXG4gICAgICAgIC8vIGlzc3VlIHdpdGggdGhlIGludGVyZmFjZSB3aGVyZSBzb21lIHJlcXVlc3RzIGFyZSBsb3N0IGlmIG11bHRpcGxlXG4gICAgICAgIC8vIFhEb21haW5SZXF1ZXN0cyBhcmUgYmVpbmcgc2VudCBhdCB0aGUgc2FtZSB0aW1lLlxuICAgICAgICAvLyBTb21lIGluZm8gaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL3Bob3RvbnN0b3JtL3BoYXNlci9pc3N1ZXMvMTI0OFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB4ZHIuc2VuZCgpO1xuICAgICAgICB9LCAxKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNvdXJjZSB1c2VkIGluIGxvYWRpbmcgdmlhIGFuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIGVsZW1lbnQgdHlwZSAodmlkZW8gb3IgYXVkaW8pLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgc291cmNlIFVSTCB0byBsb2FkIGZyb20uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFttaW1lXSAtIFRoZSBtaW1lIHR5cGUgb2YgdGhlIHZpZGVvXG4gICAgICogQHJldHVybiB7SFRNTFNvdXJjZUVsZW1lbnR9IFRoZSBzb3VyY2UgZWxlbWVudC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9jcmVhdGVTb3VyY2UgPSBmdW5jdGlvbiBfY3JlYXRlU291cmNlKHR5cGUsIHVybCwgbWltZSkge1xuICAgICAgICBpZiAoIW1pbWUpIHtcbiAgICAgICAgICAgIG1pbWUgPSB0eXBlICsgJy8nICsgdGhpcy5fZ2V0RXh0ZW5zaW9uKHVybCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG5cbiAgICAgICAgc291cmNlLnNyYyA9IHVybDtcbiAgICAgICAgc291cmNlLnR5cGUgPSBtaW1lO1xuXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIGxvYWQgZXJyb3JzIG91dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGVycm9yIGV2ZW50IGZyb20gdGhlIGVsZW1lbnQgdGhhdCBlbWl0cyBpdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX29uRXJyb3IgPSBmdW5jdGlvbiBfb25FcnJvcihldmVudCkge1xuICAgICAgICB0aGlzLmFib3J0KCdGYWlsZWQgdG8gbG9hZCBlbGVtZW50IHVzaW5nOiAnICsgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGEgbG9hZCBwcm9ncmVzcyBldmVudCBmaXJlcyBmb3IgYW4gZWxlbWVudCBvciB4aHIveGRyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0UHJvZ3Jlc3NFdmVudHxFdmVudH0gZXZlbnQgLSBQcm9ncmVzcyBldmVudC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9vblByb2dyZXNzID0gZnVuY3Rpb24gX29uUHJvZ3Jlc3MoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMub25Qcm9ncmVzcy5kaXNwYXRjaCh0aGlzLCBldmVudC5sb2FkZWQgLyBldmVudC50b3RhbCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGEgdGltZW91dCBldmVudCBmaXJlcyBmb3IgYW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fb25UaW1lb3V0ID0gZnVuY3Rpb24gX29uVGltZW91dCgpIHtcbiAgICAgICAgdGhpcy5hYm9ydCgnTG9hZCB0aW1lZCBvdXQuJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5feGhyT25FcnJvciA9IGZ1bmN0aW9uIF94aHJPbkVycm9yKCkge1xuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHI7XG5cbiAgICAgICAgdGhpcy5hYm9ydChyZXFUeXBlKHhocikgKyAnIFJlcXVlc3QgZmFpbGVkLiBTdGF0dXM6ICcgKyB4aHIuc3RhdHVzICsgJywgdGV4dDogXCInICsgeGhyLnN0YXR1c1RleHQgKyAnXCInKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGFuIGVycm9yIGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl94aHJPblRpbWVvdXQgPSBmdW5jdGlvbiBfeGhyT25UaW1lb3V0KCkge1xuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHI7XG5cbiAgICAgICAgdGhpcy5hYm9ydChyZXFUeXBlKHhocikgKyAnIFJlcXVlc3QgdGltZWQgb3V0LicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYW4gYWJvcnQgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX3hock9uQWJvcnQgPSBmdW5jdGlvbiBfeGhyT25BYm9ydCgpIHtcbiAgICAgICAgdmFyIHhociA9IHRoaXMueGhyO1xuXG4gICAgICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgJyBSZXF1ZXN0IHdhcyBhYm9ydGVkIGJ5IHRoZSB1c2VyLicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBkYXRhIHN1Y2Nlc3NmdWxseSBsb2FkcyBmcm9tIGFuIHhoci94ZHIgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdExvYWRFdmVudHxFdmVudH0gZXZlbnQgLSBMb2FkIGV2ZW50XG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5feGhyT25Mb2FkID0gZnVuY3Rpb24gX3hock9uTG9hZCgpIHtcbiAgICAgICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgICAgICB2YXIgdGV4dCA9ICcnO1xuICAgICAgICB2YXIgc3RhdHVzID0gdHlwZW9mIHhoci5zdGF0dXMgPT09ICd1bmRlZmluZWQnID8gU1RBVFVTX09LIDogeGhyLnN0YXR1czsgLy8gWERSIGhhcyBubyBgLnN0YXR1c2AsIGFzc3VtZSAyMDAuXG5cbiAgICAgICAgLy8gcmVzcG9uc2VUZXh0IGlzIGFjY2Vzc2libGUgb25seSBpZiByZXNwb25zZVR5cGUgaXMgJycgb3IgJ3RleHQnIGFuZCBvbiBvbGRlciBicm93c2Vyc1xuICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gJycgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHR5cGVvZiB4aHIucmVzcG9uc2VUeXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGV4dCA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdGF0dXMgY2FuIGJlIDAgd2hlbiB1c2luZyB0aGUgYGZpbGU6Ly9gIHByb3RvY29sIHNvIHdlIGFsc28gY2hlY2sgaWYgYSByZXNwb25zZSBpcyBzZXQuXG4gICAgICAgIC8vIElmIGl0IGhhcyBhIHJlc3BvbnNlLCB3ZSBhc3N1bWUgMjAwOyBvdGhlcndpc2UgYSAwIHN0YXR1cyBjb2RlIHdpdGggbm8gY29udGVudHMgaXMgYW4gYWJvcnRlZCByZXF1ZXN0LlxuICAgICAgICBpZiAoc3RhdHVzID09PSBTVEFUVVNfTk9ORSAmJiAodGV4dC5sZW5ndGggPiAwIHx8IHhoci5yZXNwb25zZVR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUikpIHtcbiAgICAgICAgICAgIHN0YXR1cyA9IFNUQVRVU19PSztcbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgSUU5IGJ1ZzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDA0Njk3Mi9tc2llLXJldHVybnMtc3RhdHVzLWNvZGUtb2YtMTIyMy1mb3ItYWpheC1yZXF1ZXN0XG4gICAgICAgIGVsc2UgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX0lFX0JVR19FTVBUWSkge1xuICAgICAgICAgICAgICAgIHN0YXR1cyA9IFNUQVRVU19FTVBUWTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB2YXIgc3RhdHVzVHlwZSA9IHN0YXR1cyAvIDEwMCB8IDA7XG5cbiAgICAgICAgaWYgKHN0YXR1c1R5cGUgPT09IFNUQVRVU19UWVBFX09LKSB7XG4gICAgICAgICAgICAvLyBpZiB0ZXh0LCBqdXN0IHJldHVybiBpdFxuICAgICAgICAgICAgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5URVhUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYganNvbiwgcGFyc2UgaW50byBqc29uIG9iamVjdFxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5KU09OO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFib3J0KCdFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIGpzb246ICcgKyBlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIHhtbCwgcGFyc2UgaW50byBhbiB4bWwgZG9jdW1lbnQgb3IgZGl2IGVsZW1lbnRcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuRE9NUGFyc2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb21wYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9tcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCAndGV4dC94bWwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IHRleHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGl2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuWE1MO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoJ0Vycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQgeG1sOiAnICsgZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXIgdHlwZXMganVzdCByZXR1cm4gdGhlIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHhoci5yZXNwb25zZSB8fCB0ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hYm9ydCgnWycgKyB4aHIuc3RhdHVzICsgJ10gJyArIHhoci5zdGF0dXNUZXh0ICsgJzogJyArIHhoci5yZXNwb25zZVVSTCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gICAgICogZm9yIHRoaXMgcmVzb3VyY2UgaXMgY3Jvc3Mtb3JpZ2luLiBJZiBjcm9zc09yaWdpbiB3YXMgbWFudWFsbHkgc2V0LCB0aGlzXG4gICAgICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbbG9jPXdpbmRvdy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjcm9zc09yaWdpbiB2YWx1ZSB0byB1c2UgKG9yIGVtcHR5IHN0cmluZyBmb3Igbm9uZSkuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4gPSBmdW5jdGlvbiBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsLCBsb2MpIHtcbiAgICAgICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICAgICAgaWYgKHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBIHNhbmRib3hlZCBpZnJhbWUgd2l0aG91dCB0aGUgJ2FsbG93LXNhbWUtb3JpZ2luJyBhdHRyaWJ1dGUgd2lsbCBoYXZlIGEgc3BlY2lhbFxuICAgICAgICAvLyBvcmlnaW4gZGVzaWduZWQgbm90IHRvIG1hdGNoIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sIGFuZCB3aWxsIGFsd2F5cyByZXF1aXJlXG4gICAgICAgIC8vIGNyb3NzT3JpZ2luIHJlcXVlc3RzIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgbG9jYXRpb24gbWF0Y2hlcy5cbiAgICAgICAgaWYgKHdpbmRvdy5vcmlnaW4gIT09IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pIHtcbiAgICAgICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRlZmF1bHQgaXMgd2luZG93LmxvY2F0aW9uXG4gICAgICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG5cbiAgICAgICAgaWYgKCF0ZW1wQW5jaG9yKSB7XG4gICAgICAgICAgICB0ZW1wQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0IHRoZSBicm93c2VyIGRldGVybWluZSB0aGUgZnVsbCBocmVmIGZvciB0aGUgdXJsIG9mIHRoaXMgcmVzb3VyY2UgYW5kIHRoZW5cbiAgICAgICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuICAgICAgICB0ZW1wQW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgICAgIHVybCA9ICgwLCBfcGFyc2VVcmkyLmRlZmF1bHQpKHRlbXBBbmNob3IuaHJlZiwgeyBzdHJpY3RNb2RlOiB0cnVlIH0pO1xuXG4gICAgICAgIHZhciBzYW1lUG9ydCA9ICF1cmwucG9ydCAmJiBsb2MucG9ydCA9PT0gJycgfHwgdXJsLnBvcnQgPT09IGxvYy5wb3J0O1xuICAgICAgICB2YXIgcHJvdG9jb2wgPSB1cmwucHJvdG9jb2wgPyB1cmwucHJvdG9jb2wgKyAnOicgOiAnJztcblxuICAgICAgICAvLyBpZiBjcm9zcyBvcmlnaW5cbiAgICAgICAgaWYgKHVybC5ob3N0ICE9PSBsb2MuaG9zdG5hbWUgfHwgIXNhbWVQb3J0IHx8IHByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpIHtcbiAgICAgICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnJztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgcmVzcG9uc2VUeXBlIG9mIGFuIFhIUiByZXF1ZXN0IGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gVGhlIHJlc3BvbnNlVHlwZSB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fZGV0ZXJtaW5lWGhyVHlwZSA9IGZ1bmN0aW9uIF9kZXRlcm1pbmVYaHJUeXBlKCkge1xuICAgICAgICByZXR1cm4gUmVzb3VyY2UuX3hoclR5cGVNYXBbdGhpcy5leHRlbnNpb25dIHx8IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIGxvYWRUeXBlIG9mIGEgcmVzb3VyY2UgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1Jlc291cmNlLkxPQURfVFlQRX0gVGhlIGxvYWRUeXBlIHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9kZXRlcm1pbmVMb2FkVHlwZSA9IGZ1bmN0aW9uIF9kZXRlcm1pbmVMb2FkVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFJlc291cmNlLl9sb2FkVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIGV4dGVuc2lvbiAoc2FucyAnLicpIG9mIHRoZSBmaWxlIGJlaW5nIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGV4dGVuc2lvbi5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9nZXRFeHRlbnNpb24gPSBmdW5jdGlvbiBfZ2V0RXh0ZW5zaW9uKCkge1xuICAgICAgICB2YXIgdXJsID0gdGhpcy51cmw7XG4gICAgICAgIHZhciBleHQgPSAnJztcblxuICAgICAgICBpZiAodGhpcy5pc0RhdGFVcmwpIHtcbiAgICAgICAgICAgIHZhciBzbGFzaEluZGV4ID0gdXJsLmluZGV4T2YoJy8nKTtcblxuICAgICAgICAgICAgZXh0ID0gdXJsLnN1YnN0cmluZyhzbGFzaEluZGV4ICsgMSwgdXJsLmluZGV4T2YoJzsnLCBzbGFzaEluZGV4KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcXVlcnlTdGFydCA9IHVybC5pbmRleE9mKCc/Jyk7XG4gICAgICAgICAgICB2YXIgaGFzaFN0YXJ0ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IE1hdGgubWluKHF1ZXJ5U3RhcnQgPiAtMSA/IHF1ZXJ5U3RhcnQgOiB1cmwubGVuZ3RoLCBoYXNoU3RhcnQgPiAtMSA/IGhhc2hTdGFydCA6IHVybC5sZW5ndGgpO1xuXG4gICAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleHQudG9Mb3dlckNhc2UoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgbWltZSB0eXBlIG9mIGFuIFhIUiByZXF1ZXN0IGJhc2VkIG9uIHRoZSByZXNwb25zZVR5cGUgb2ZcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IHR5cGUgLSBUaGUgdHlwZSB0byBnZXQgYSBtaW1lIHR5cGUgZm9yLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG1pbWUgdHlwZSB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fZ2V0TWltZUZyb21YaHJUeXBlID0gZnVuY3Rpb24gX2dldE1pbWVGcm9tWGhyVHlwZSh0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVI6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1iaW5hcnknO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0I6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9ibG9iJztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL3htbCc7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFQ6XG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ6XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAndGV4dC9wbGFpbic7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFJlc291cmNlLCBbe1xuICAgICAgICBrZXk6ICdpc0RhdGFVcmwnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVzY3JpYmVzIGlmIHRoaXMgcmVzb3VyY2UgaGFzIGZpbmlzaGVkIGxvYWRpbmcuIElzIHRydWUgd2hlbiB0aGUgcmVzb3VyY2UgaGFzIGNvbXBsZXRlbHlcbiAgICAgICAgICogbG9hZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2lzQ29tcGxldGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5DT01QTEVURSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVzY3JpYmVzIGlmIHRoaXMgcmVzb3VyY2UgaXMgY3VycmVudGx5IGxvYWRpbmcuIElzIHRydWUgd2hlbiB0aGUgcmVzb3VyY2Ugc3RhcnRzIGxvYWRpbmcsXG4gICAgICAgICAqIGFuZCBpcyBmYWxzZSBhZ2FpbiB3aGVuIGNvbXBsZXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2lzTG9hZGluZycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFJlc291cmNlO1xufSgpO1xuXG4vKipcbiAqIFRoZSB0eXBlcyBvZiByZXNvdXJjZXMgYSByZXNvdXJjZSBjb3VsZCByZXByZXNlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblxuUmVzb3VyY2UuU1RBVFVTX0ZMQUdTID0ge1xuICAgIE5PTkU6IDAsXG4gICAgREFUQV9VUkw6IDEgPDwgMCxcbiAgICBDT01QTEVURTogMSA8PCAxLFxuICAgIExPQURJTkc6IDEgPDwgMlxufTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgcmVzb3VyY2VzIGEgcmVzb3VyY2UgY291bGQgcmVwcmVzZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuUmVzb3VyY2UuVFlQRSA9IHtcbiAgICBVTktOT1dOOiAwLFxuICAgIEpTT046IDEsXG4gICAgWE1MOiAyLFxuICAgIElNQUdFOiAzLFxuICAgIEFVRElPOiA0LFxuICAgIFZJREVPOiA1LFxuICAgIFRFWFQ6IDZcbn07XG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIGxvYWRpbmcgYSByZXNvdXJjZSBjYW4gdXNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuUmVzb3VyY2UuTE9BRF9UWVBFID0ge1xuICAgIC8qKiBVc2VzIFhNTEh0dHBSZXF1ZXN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIFhIUjogMSxcbiAgICAvKiogVXNlcyBhbiBgSW1hZ2VgIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBJTUFHRTogMixcbiAgICAvKiogVXNlcyBhbiBgQXVkaW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBBVURJTzogMyxcbiAgICAvKiogVXNlcyBhIGBWaWRlb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIFZJREVPOiA0XG59O1xuXG4vKipcbiAqIFRoZSBYSFIgcmVhZHkgc3RhdGVzLCB1c2VkIGludGVybmFsbHkuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRSA9IHtcbiAgICAvKiogc3RyaW5nICovXG4gICAgREVGQVVMVDogJ3RleHQnLFxuICAgIC8qKiBBcnJheUJ1ZmZlciAqL1xuICAgIEJVRkZFUjogJ2FycmF5YnVmZmVyJyxcbiAgICAvKiogQmxvYiAqL1xuICAgIEJMT0I6ICdibG9iJyxcbiAgICAvKiogRG9jdW1lbnQgKi9cbiAgICBET0NVTUVOVDogJ2RvY3VtZW50JyxcbiAgICAvKiogT2JqZWN0ICovXG4gICAgSlNPTjogJ2pzb24nLFxuICAgIC8qKiBTdHJpbmcgKi9cbiAgICBURVhUOiAndGV4dCdcbn07XG5cblJlc291cmNlLl9sb2FkVHlwZU1hcCA9IHtcbiAgICAvLyBpbWFnZXNcbiAgICBnaWY6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBwbmc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBibXA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBqcGc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBqcGVnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGlmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGlmZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHdlYnA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB0Z2E6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBzdmc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAnc3ZnK3htbCc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSwgLy8gZm9yIFNWRyBkYXRhIHVybHNcblxuICAgIC8vIGF1ZGlvXG4gICAgbXAzOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gICAgb2dnOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gICAgd2F2OiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG5cbiAgICAvLyB2aWRlb3NcbiAgICBtcDQ6IFJlc291cmNlLkxPQURfVFlQRS5WSURFTyxcbiAgICB3ZWJtOiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU9cbn07XG5cblJlc291cmNlLl94aHJUeXBlTWFwID0ge1xuICAgIC8vIHhtbFxuICAgIHhodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBodG06IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgIHhtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgdG14OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBzdmc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuXG4gICAgLy8gVGhpcyB3YXMgYWRkZWQgdG8gaGFuZGxlIFRpbGVkIFRpbGVzZXQgWE1MLCBidXQgLnRzeCBpcyBhbHNvIGEgVHlwZVNjcmlwdCBSZWFjdCBDb21wb25lbnQuXG4gICAgLy8gU2luY2UgaXQgaXMgd2F5IGxlc3MgbGlrZWx5IGZvciBwZW9wbGUgdG8gYmUgbG9hZGluZyBUeXBlU2NyaXB0IGZpbGVzIGluc3RlYWQgb2YgVGlsZWQgZmlsZXMsXG4gICAgLy8gdGhpcyBzaG91bGQgcHJvYmFibHkgYmUgZmluZS5cbiAgICB0c3g6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuXG4gICAgLy8gaW1hZ2VzXG4gICAgZ2lmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHBuZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBibXA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAganBnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIGpwZWc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgdGlmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHRpZmY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgd2VicDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICB0Z2E6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG5cbiAgICAvLyBqc29uXG4gICAganNvbjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTixcblxuICAgIC8vIHRleHRcbiAgICB0ZXh0OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuICAgIHR4dDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcblxuICAgIC8vIGZvbnRzXG4gICAgdHRmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIsXG4gICAgb3RmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVJcbn07XG5cbi8vIFdlIGNhbid0IHNldCB0aGUgYHNyY2AgYXR0cmlidXRlIHRvIGVtcHR5IHN0cmluZywgc28gb24gYWJvcnQgd2Ugc2V0IGl0IHRvIHRoaXMgMXB4IHRyYW5zcGFyZW50IGdpZlxuUmVzb3VyY2UuRU1QVFlfR0lGID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQVAvLy93QUFBQ0g1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93PT0nO1xuXG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBzZXQgYSB2YWx1ZSBvbiBvbmUgb2YgdGhlIGV4dGVuc2lvbiBtYXBzLiBFbnN1cmVzIHRoZXJlIGlzIG5vXG4gKiBkb3QgYXQgdGhlIHN0YXJ0IG9mIHRoZSBleHRlbnNpb24uXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtvYmplY3R9IG1hcCAtIFRoZSBtYXAgdG8gc2V0IG9uLlxuICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIChvciBrZXkpIHRvIHNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgLSBUaGUgdmFsdWUgdG8gc2V0LlxuICovXG5mdW5jdGlvbiBzZXRFeHRNYXAobWFwLCBleHRuYW1lLCB2YWwpIHtcbiAgICBpZiAoZXh0bmFtZSAmJiBleHRuYW1lLmluZGV4T2YoJy4nKSA9PT0gMCkge1xuICAgICAgICBleHRuYW1lID0gZXh0bmFtZS5zdWJzdHJpbmcoMSk7XG4gICAgfVxuXG4gICAgaWYgKCFleHRuYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtYXBbZXh0bmFtZV0gPSB2YWw7XG59XG5cbi8qKlxuICogUXVpY2sgaGVscGVyIHRvIGdldCBzdHJpbmcgeGhyIHR5cGUuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdHxYRG9tYWluUmVxdWVzdH0geGhyIC0gVGhlIHJlcXVlc3QgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0eXBlLlxuICovXG5mdW5jdGlvbiByZXFUeXBlKHhocikge1xuICAgIHJldHVybiB4aHIudG9TdHJpbmcoKS5yZXBsYWNlKCdvYmplY3QgJywgJycpO1xufVxuXG4vLyBCYWNrd2FyZHMgY29tcGF0XG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gUmVzb3VyY2U7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlc291cmNlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9Db3VudExpbWl0ZXIgPSByZXF1aXJlKCcuL2xpbWl0ZXJzL0NvdW50TGltaXRlcicpO1xuXG52YXIgX0NvdW50TGltaXRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db3VudExpbWl0ZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgU2hhcmVkVGlja2VyID0gY29yZS50aWNrZXIuc2hhcmVkO1xuXG4vKipcbiAqIERlZmF1bHQgbnVtYmVyIG9mIHVwbG9hZHMgcGVyIGZyYW1lIHVzaW5nIHByZXBhcmUgcGx1Z2luLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAbmFtZSBVUExPQURTX1BFUl9GUkFNRVxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDRcbiAqL1xuY29yZS5zZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSA9IDQ7XG5cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFUuIEJhc2VQcmVwYXJlIGhhbmRsZXNcbiAqIGJhc2ljIHF1ZXVpbmcgZnVuY3Rpb25hbGl0eSBhbmQgaXMgZXh0ZW5kZWQgYnkge0BsaW5rIFBJWEkucHJlcGFyZS5XZWJHTFByZXBhcmV9IGFuZCB7QGxpbmsgUElYSS5wcmVwYXJlLkNhbnZhc1ByZXBhcmV9XG4gKiB0byBwcm92aWRlIHByZXBhcmF0aW9uIGNhcGFiaWxpdGllcyBzcGVjaWZpYyB0byB0aGVpciByZXNwZWN0aXZlIHJlbmRlcmVycy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgc3ByaXRlXG4gKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUuZnJvbUltYWdlKCdzb21ldGhpbmcucG5nJyk7XG4gKlxuICogLy8gTG9hZCBvYmplY3QgaW50byBHUFVcbiAqIGFwcC5yZW5kZXJlci5wbHVnaW5zLnByZXBhcmUudXBsb2FkKHNwcml0ZSwgKCkgPT4ge1xuICpcbiAqICAgICAvL1RleHR1cmUocykgaGFzIGJlZW4gdXBsb2FkZWQgdG8gR1BVXG4gKiAgICAgYXBwLnN0YWdlLmFkZENoaWxkKHNwcml0ZSk7XG4gKlxuICogfSlcbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkucHJlcGFyZVxuICovXG5cbnZhciBCYXNlUHJlcGFyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3lzdGVtUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlUHJlcGFyZShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYXNlUHJlcGFyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW1pdGVyIHRvIGJlIHVzZWQgdG8gY29udHJvbCBob3cgcXVpY2tseSBpdGVtcyBhcmUgcHJlcGFyZWQuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLnByZXBhcmUuQ291bnRMaW1pdGVyfFBJWEkucHJlcGFyZS5UaW1lTGltaXRlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGltaXRlciA9IG5ldyBfQ291bnRMaW1pdGVyMi5kZWZhdWx0KGNvcmUuc2V0dGluZ3MuVVBMT0FEU19QRVJfRlJBTUUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5TeXN0ZW1SZW5kZXJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb25seSByZWFsIGRpZmZlcmVuY2UgYmV0d2VlbiBDYW52YXNQcmVwYXJlIGFuZCBXZWJHTFByZXBhcmUgaXMgd2hhdCB0aGV5IHBhc3NcbiAgICAgICAgICogdG8gdXBsb2FkIGhvb2tzLiBUaGF0IGRpZmZlcmVudCBwYXJhbWV0ZXIgaXMgc3RvcmVkIGhlcmUuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLnByZXBhcmUuQ2FudmFzUHJlcGFyZXxQSVhJLldlYkdMUmVuZGVyZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkcyBhdCBvbmNlLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnF1ZXVlID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgYWRkaXRpb25hbCBob29rcyBmb3IgZmluZGluZyBhc3NldHMuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFkZEhvb2tzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgYWRkaXRpb25hbCBob29rcyBmb3IgcHJvY2Vzc2luZyBhc3NldHMuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHRvIGNhbGwgYWZ0ZXIgY29tcGxldGVkLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8RnVuY3Rpb24+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb21wbGV0ZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgcHJlcGFyZSBpcyB0aWNraW5nIChydW5uaW5nKS5cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogJ2JvdW5kJyBjYWxsIGZvciBwcmVwYXJlSXRlbXMoKS5cbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWxheWVkVGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHVubGlrZWx5LCBidXQgaW4gY2FzZSB3ZSB3ZXJlIGRlc3Ryb3llZCBiZXR3ZWVuIHRpY2soKSBhbmQgZGVsYXllZFRpY2soKVxuICAgICAgICAgICAgaWYgKCFfdGhpcy5xdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnByZXBhcmVJdGVtcygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGhvb2tzIHRvIGZpbmQgdGhlIGNvcnJlY3QgdGV4dHVyZVxuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHRTdHlsZSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZEJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0dXJlKTtcblxuICAgICAgICAvLyB1cGxvYWQgaG9va3NcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soZHJhd1RleHQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhjYWxjdWxhdGVUZXh0U3R5bGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCBhbGwgdGhlIHRleHR1cmVzIGFuZCBncmFwaGljcyB0byB0aGUgR1BVLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5Db250YWluZXJ8UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV8UElYSS5HcmFwaGljc3xQSVhJLlRleHR9IGl0ZW0gLVxuICAgICAqICAgICAgICBFaXRoZXIgdGhlIGNvbnRhaW5lciBvciBkaXNwbGF5IG9iamVjdCB0byBzZWFyY2ggZm9yIGl0ZW1zIHRvIHVwbG9hZCwgdGhlIGl0ZW1zIHRvIHVwbG9hZCB0aGVtc2VsdmVzLFxuICAgICAqICAgICAgICBvciB0aGUgY2FsbGJhY2sgZnVuY3Rpb24sIGlmIGl0ZW1zIGhhdmUgYmVlbiBhZGRlZCB1c2luZyBgcHJlcGFyZS5hZGRgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtkb25lXSAtIE9wdGlvbmFsIGNhbGxiYWNrIHdoZW4gYWxsIHF1ZXVlZCB1cGxvYWRzIGhhdmUgY29tcGxldGVkXG4gICAgICovXG5cblxuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQoaXRlbSwgZG9uZSkge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGRvbmUgPSBpdGVtO1xuICAgICAgICAgICAgaXRlbSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBhIGRpc3BsYXkgb2JqZWN0LCBzZWFyY2ggZm9yIGl0ZW1zXG4gICAgICAgIC8vIHRoYXQgd2UgY291bGQgdXBsb2FkXG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICB0aGlzLmFkZChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0aGUgaXRlbXMgZm9yIHVwbG9hZCBmcm9tIHRoZSBkaXNwbGF5XG4gICAgICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlcy5wdXNoKGRvbmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMudGlja2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMudGlja2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgU2hhcmVkVGlja2VyLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBjb3JlLlVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChkb25lKSB7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRpY2sgdXBkYXRlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5kZWxheWVkVGljaywgMCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFjdHVhbGx5IHByZXBhcmUgaXRlbXMuIFRoaXMgaXMgaGFuZGxlZCBvdXRzaWRlIG9mIHRoZSB0aWNrIGJlY2F1c2UgaXQgd2lsbCB0YWtlIGEgd2hpbGVcbiAgICAgKiBhbmQgd2UgZG8gTk9UIHdhbnQgdG8gYmxvY2sgdGhlIGN1cnJlbnQgYW5pbWF0aW9uIGZyYW1lIGZyb20gcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnByZXBhcmVJdGVtcyA9IGZ1bmN0aW9uIHByZXBhcmVJdGVtcygpIHtcbiAgICAgICAgdGhpcy5saW1pdGVyLmJlZ2luRnJhbWUoKTtcbiAgICAgICAgLy8gVXBsb2FkIHRoZSBncmFwaGljc1xuICAgICAgICB3aGlsZSAodGhpcy5xdWV1ZS5sZW5ndGggJiYgdGhpcy5saW1pdGVyLmFsbG93ZWRUb1VwbG9hZCgpKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMucXVldWVbMF07XG4gICAgICAgICAgICB2YXIgdXBsb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGl0ZW0gJiYgIWl0ZW0uX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLnVwbG9hZEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwbG9hZEhvb2tzW2ldKHRoaXMudXBsb2FkSG9va0hlbHBlciwgaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXVwbG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2UncmUgZmluaXNoZWRcbiAgICAgICAgaWYgKCF0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHZhciBjb21wbGV0ZXMgPSB0aGlzLmNvbXBsZXRlcy5zbGljZSgwKTtcblxuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZXMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfbGVuID0gY29tcGxldGVzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVzW19pXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIG5vdCBmaW5pc2hlZCwgb24gdGhlIG5leHQgckFGIGRvIHRoaXMgYWdhaW5cbiAgICAgICAgICAgIFNoYXJlZFRpY2tlci5hZGRPbmNlKHRoaXMudGljaywgdGhpcywgY29yZS5VUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBob29rcyBmb3IgZmluZGluZyBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFkZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBpdGVtOiosIHF1ZXVlOkFycmF5YFxuICAgICAqICAgICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBhZGQgaXRlbSB0byB0aGUgcXVldWUuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlUHJlcGFyZX0gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnJlZ2lzdGVyRmluZEhvb2sgPSBmdW5jdGlvbiByZWdpc3RlckZpbmRIb29rKGFkZEhvb2spIHtcbiAgICAgICAgaWYgKGFkZEhvb2spIHtcbiAgICAgICAgICAgIHRoaXMuYWRkSG9va3MucHVzaChhZGRIb29rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGhvb2tzIGZvciB1cGxvYWRpbmcgaXRlbXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGxvYWRIb29rIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgcHJlcGFyZTpDYW52YXNQcmVwYXJlLCBpdGVtOipgIGFuZFxuICAgICAqICAgICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBoYW5kbGUgdXBsb2FkIG9mIGl0ZW0uXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlUHJlcGFyZX0gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnJlZ2lzdGVyVXBsb2FkSG9vayA9IGZ1bmN0aW9uIHJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRIb29rKSB7XG4gICAgICAgIGlmICh1cGxvYWRIb29rKSB7XG4gICAgICAgICAgICB0aGlzLnVwbG9hZEhvb2tzLnB1c2godXBsb2FkSG9vayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFudWFsbHkgYWRkIGFuIGl0ZW0gdG8gdGhlIHVwbG9hZGluZyBxdWV1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuQ29udGFpbmVyfFBJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfFBJWEkuR3JhcGhpY3N8UElYSS5UZXh0fCp9IGl0ZW0gLSBPYmplY3QgdG9cbiAgICAgKiAgICAgICAgYWRkIHRvIHRoZSBxdWV1ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuQ2FudmFzUHJlcGFyZX0gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChpdGVtKSB7XG4gICAgICAgIC8vIEFkZCBhZGRpdGlvbmFsIGhvb2tzIGZvciBmaW5kaW5nIGVsZW1lbnRzIG9uIHNwZWNpYWxcbiAgICAgICAgLy8gdHlwZXMgb2Ygb2JqZWN0cyB0aGF0XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmFkZEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hZGRIb29rc1tpXShpdGVtLCB0aGlzLnF1ZXVlKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IGNoaWxkZW4gcmVjdXJzaXZlbHlcbiAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLkNvbnRhaW5lcikge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gaXRlbS5jaGlsZHJlbi5sZW5ndGggLSAxOyBfaTIgPj0gMDsgX2kyLS0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChpdGVtLmNoaWxkcmVuW19pMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4sIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMudGlja2luZykge1xuICAgICAgICAgICAgU2hhcmVkVGlja2VyLnJlbW92ZSh0aGlzLnRpY2ssIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFkZEhvb2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy51cGxvYWRIb29rcyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbXBsZXRlcyA9IG51bGw7XG4gICAgICAgIHRoaXMucXVldWUgPSBudWxsO1xuICAgICAgICB0aGlzLmxpbWl0ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQmFzZVByZXBhcmU7XG59KCk7XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIG11bHRpcGxlIHRleHR1cmVzIGZyb20gb2JqZWN0cyBsaWtlIEFuaW1hdGVkU3ByaXRlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJhc2VQcmVwYXJlO1xuZnVuY3Rpb24gZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKGl0ZW0sIHF1ZXVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgLy8gT2JqZWN0cyB3aXRoIG11dGxpcGxlIHRleHR1cmVzXG4gICAgaWYgKGl0ZW0gJiYgaXRlbS5fdGV4dHVyZXMgJiYgaXRlbS5fdGV4dHVyZXMubGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbS5fdGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpdGVtLl90ZXh0dXJlc1tpXSBpbnN0YW5jZW9mIGNvcmUuVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IGl0ZW0uX3RleHR1cmVzW2ldLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoYmFzZVRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBCYXNlVGV4dHVyZXMgZnJvbSBTcHJpdGVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kQmFzZVRleHR1cmUoaXRlbSwgcXVldWUpIHtcbiAgICAvLyBPYmplY3RzIHdpdGggdGV4dHVyZXMsIGxpa2UgU3ByaXRlcy9UZXh0XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLkJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgdGV4dHVyZXMgZnJvbSBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dHVyZShpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtLl90ZXh0dXJlICYmIGl0ZW0uX3RleHR1cmUgaW5zdGFuY2VvZiBjb3JlLlRleHR1cmUpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBpdGVtLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGRyYXcgUElYSS5UZXh0IHRvIGl0cyB0ZXh0dXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcnxQSVhJLkNhbnZhc1ByZXBhcmV9IGhlbHBlciAtIE5vdCB1c2VkIGJ5IHRoaXMgdXBsb2FkIGhhbmRsZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIGRyYXdUZXh0KGhlbHBlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5UZXh0KSB7XG4gICAgICAgIC8vIHVwZGF0aW5nIHRleHQgd2lsbCByZXR1cm4gZWFybHkgaWYgaXQgaXMgbm90IGRpcnR5XG4gICAgICAgIGl0ZW0udXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBjYWxjdWxhdGUgYSB0ZXh0IHN0eWxlIGZvciBhIFBJWEkuVGV4dCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfFBJWEkuQ2FudmFzUHJlcGFyZX0gaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlVGV4dFN0eWxlKGhlbHBlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5UZXh0U3R5bGUpIHtcbiAgICAgICAgdmFyIGZvbnQgPSBpdGVtLnRvRm9udFN0cmluZygpO1xuXG4gICAgICAgIGNvcmUuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0IG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0IG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0KGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLlRleHQpIHtcbiAgICAgICAgLy8gcHVzaCB0aGUgdGV4dCBzdHlsZSB0byBwcmVwYXJlIGl0IC0gdGhpcyBjYW4gYmUgcmVhbGx5IGV4cGVuc2l2ZVxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtLnN0eWxlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbS5zdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBwdXNoIHRoZSB0ZXh0IG9iamVjdCBzbyB0aGF0IHdlIGNhbiByZW5kZXIgaXQgKHRvIGNhbnZhcy90ZXh0dXJlKSBpZiBuZWVkZWRcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsc28gcHVzaCB0aGUgVGV4dCdzIHRleHR1cmUgZm9yIHVwbG9hZCB0byBHUFVcbiAgICAgICAgdmFyIHRleHR1cmUgPSBpdGVtLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgVGV4dFN0eWxlIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHRTdHlsZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dFN0eWxlKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLlRleHRTdHlsZSkge1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlUHJlcGFyZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB1dGlsID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbnZhciBhcnJheXMgPSByZXF1aXJlKFwiLi9hcnJheXNcIik7XG52YXIgTGlua2VkTGlzdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAqIENyZWF0ZXMgYW4gZW1wdHkgTGlua2VkIExpc3QuXG4gICAgKiBAY2xhc3MgQSBsaW5rZWQgbGlzdCBpcyBhIGRhdGEgc3RydWN0dXJlIGNvbnNpc3Rpbmcgb2YgYSBncm91cCBvZiBub2Rlc1xuICAgICogd2hpY2ggdG9nZXRoZXIgcmVwcmVzZW50IGEgc2VxdWVuY2UuXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAqL1xuICAgIGZ1bmN0aW9uIExpbmtlZExpc3QoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAqIEZpcnN0IG5vZGUgaW4gdGhlIGxpc3RcbiAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuZmlyc3ROb2RlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICogTGFzdCBub2RlIGluIHRoZSBsaXN0XG4gICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3ROb2RlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICogTnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBsaXN0XG4gICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAqL1xuICAgICAgICB0aGlzLm5FbGVtZW50cyA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQWRkcyBhbiBlbGVtZW50IHRvIHRoaXMgbGlzdC5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIGVsZW1lbnQgdG8gYmUgYWRkZWQuXG4gICAgKiBAcGFyYW0ge251bWJlcj19IGluZGV4IG9wdGlvbmFsIGluZGV4IHRvIGFkZCB0aGUgZWxlbWVudC4gSWYgbm8gaW5kZXggaXMgc3BlY2lmaWVkXG4gICAgKiB0aGUgZWxlbWVudCBpcyBhZGRlZCB0byB0aGUgZW5kIG9mIHRoaXMgbGlzdC5cbiAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIGVsZW1lbnQgd2FzIGFkZGVkIG9yIGZhbHNlIGlmIHRoZSBpbmRleCBpcyBpbnZhbGlkXG4gICAgKiBvciBpZiB0aGUgZWxlbWVudCBpcyB1bmRlZmluZWQuXG4gICAgKi9cbiAgICBMaW5rZWRMaXN0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgaWYgKHV0aWwuaXNVbmRlZmluZWQoaW5kZXgpKSB7XG4gICAgICAgICAgICBpbmRleCA9IHRoaXMubkVsZW1lbnRzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiB0aGlzLm5FbGVtZW50cyB8fCB1dGlsLmlzVW5kZWZpbmVkKGl0ZW0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5ld05vZGUgPSB0aGlzLmNyZWF0ZU5vZGUoaXRlbSk7XG4gICAgICAgIGlmICh0aGlzLm5FbGVtZW50cyA9PT0gMCB8fCB0aGlzLmxhc3ROb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBGaXJzdCBub2RlIGluIHRoZSBsaXN0LlxuICAgICAgICAgICAgdGhpcy5maXJzdE5vZGUgPSBuZXdOb2RlO1xuICAgICAgICAgICAgdGhpcy5sYXN0Tm9kZSA9IG5ld05vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5kZXggPT09IHRoaXMubkVsZW1lbnRzKSB7XG4gICAgICAgICAgICAvLyBJbnNlcnQgYXQgdGhlIGVuZC5cbiAgICAgICAgICAgIHRoaXMubGFzdE5vZGUubmV4dCA9IG5ld05vZGU7XG4gICAgICAgICAgICB0aGlzLmxhc3ROb2RlID0gbmV3Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gQ2hhbmdlIGZpcnN0IG5vZGUuXG4gICAgICAgICAgICBuZXdOb2RlLm5leHQgPSB0aGlzLmZpcnN0Tm9kZTtcbiAgICAgICAgICAgIHRoaXMuZmlyc3ROb2RlID0gbmV3Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwcmV2ID0gdGhpcy5ub2RlQXRJbmRleChpbmRleCAtIDEpO1xuICAgICAgICAgICAgaWYgKHByZXYgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld05vZGUubmV4dCA9IHByZXYubmV4dDtcbiAgICAgICAgICAgIHByZXYubmV4dCA9IG5ld05vZGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uRWxlbWVudHMrKztcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhpcyBsaXN0LlxuICAgICogQHJldHVybiB7Kn0gdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGxpc3Qgb3IgdW5kZWZpbmVkIGlmIHRoZSBsaXN0IGlzXG4gICAgKiBlbXB0eS5cbiAgICAqL1xuICAgIExpbmtlZExpc3QucHJvdG90eXBlLmZpcnN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5maXJzdE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpcnN0Tm9kZS5lbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIGxhc3QgZWxlbWVudCBpbiB0aGlzIGxpc3QuXG4gICAgKiBAcmV0dXJuIHsqfSB0aGUgbGFzdCBlbGVtZW50IGluIHRoZSBsaXN0IG9yIHVuZGVmaW5lZCBpZiB0aGUgbGlzdCBpc1xuICAgICogZW1wdHkuXG4gICAgKi9cbiAgICBMaW5rZWRMaXN0LnByb3RvdHlwZS5sYXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5sYXN0Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFzdE5vZGUuZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZWxlbWVudCBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uIGluIHRoaXMgbGlzdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggZGVzaXJlZCBpbmRleC5cbiAgICAgKiBAcmV0dXJuIHsqfSB0aGUgZWxlbWVudCBhdCB0aGUgZ2l2ZW4gaW5kZXggb3IgdW5kZWZpbmVkIGlmIHRoZSBpbmRleCBpc1xuICAgICAqIG91dCBvZiBib3VuZHMuXG4gICAgICovXG4gICAgTGlua2VkTGlzdC5wcm90b3R5cGUuZWxlbWVudEF0SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLm5vZGVBdEluZGV4KGluZGV4KTtcbiAgICAgICAgaWYgKG5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGUuZWxlbWVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IGluIHRoaXMgbGlzdCBvZiB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiB0aGVcbiAgICAgKiBzcGVjaWZpZWQgZWxlbWVudCwgb3IgLTEgaWYgdGhlIExpc3QgZG9lcyBub3QgY29udGFpbiB0aGlzIGVsZW1lbnQuXG4gICAgICogPHA+SWYgdGhlIGVsZW1lbnRzIGluc2lkZSB0aGlzIGxpc3QgYXJlXG4gICAgICogbm90IGNvbXBhcmFibGUgd2l0aCB0aGUgPT09IG9wZXJhdG9yIGEgY3VzdG9tIGVxdWFscyBmdW5jdGlvbiBzaG91bGQgYmVcbiAgICAgKiBwcm92aWRlZCB0byBwZXJmb3JtIHNlYXJjaGVzLCB0aGUgZnVuY3Rpb24gbXVzdCByZWNlaXZlIHR3byBhcmd1bWVudHMgYW5kXG4gICAgICogcmV0dXJuIHRydWUgaWYgdGhleSBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS4gRXhhbXBsZTo8L3A+XG4gICAgICpcbiAgICAgKiA8cHJlPlxuICAgICAqIGNvbnN0IHBldHNBcmVFcXVhbEJ5TmFtZSA9IGZ1bmN0aW9uKHBldDEsIHBldDIpIHtcbiAgICAgKiAgcmV0dXJuIHBldDEubmFtZSA9PT0gcGV0Mi5uYW1lO1xuICAgICAqIH1cbiAgICAgKiA8L3ByZT5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbSBlbGVtZW50IHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihPYmplY3QsT2JqZWN0KTpib29sZWFuPX0gZXF1YWxzRnVuY3Rpb24gT3B0aW9uYWxcbiAgICAgKiBmdW5jdGlvbiB1c2VkIHRvIGNoZWNrIGlmIHR3byBlbGVtZW50cyBhcmUgZXF1YWwuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSB0aGUgaW5kZXggaW4gdGhpcyBsaXN0IG9mIHRoZSBmaXJzdCBvY2N1cnJlbmNlXG4gICAgICogb2YgdGhlIHNwZWNpZmllZCBlbGVtZW50LCBvciAtMSBpZiB0aGlzIGxpc3QgZG9lcyBub3QgY29udGFpbiB0aGVcbiAgICAgKiBlbGVtZW50LlxuICAgICAqL1xuICAgIExpbmtlZExpc3QucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiAoaXRlbSwgZXF1YWxzRnVuY3Rpb24pIHtcbiAgICAgICAgdmFyIGVxdWFsc0YgPSBlcXVhbHNGdW5jdGlvbiB8fCB1dGlsLmRlZmF1bHRFcXVhbHM7XG4gICAgICAgIGlmICh1dGlsLmlzVW5kZWZpbmVkKGl0ZW0pKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnROb2RlID0gdGhpcy5maXJzdE5vZGU7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHdoaWxlIChjdXJyZW50Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGVxdWFsc0YoY3VycmVudE5vZGUuZWxlbWVudCwgaXRlbSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgbGlzdCBjb250YWlucyB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAgICAgKiA8cD5JZiB0aGUgZWxlbWVudHMgaW5zaWRlIHRoZSBsaXN0IGFyZVxuICAgICAgICogbm90IGNvbXBhcmFibGUgd2l0aCB0aGUgPT09IG9wZXJhdG9yIGEgY3VzdG9tIGVxdWFscyBmdW5jdGlvbiBzaG91bGQgYmVcbiAgICAgICAqIHByb3ZpZGVkIHRvIHBlcmZvcm0gc2VhcmNoZXMsIHRoZSBmdW5jdGlvbiBtdXN0IHJlY2VpdmUgdHdvIGFyZ3VtZW50cyBhbmRcbiAgICAgICAqIHJldHVybiB0cnVlIGlmIHRoZXkgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuIEV4YW1wbGU6PC9wPlxuICAgICAgICpcbiAgICAgICAqIDxwcmU+XG4gICAgICAgKiBjb25zdCBwZXRzQXJlRXF1YWxCeU5hbWUgPSBmdW5jdGlvbihwZXQxLCBwZXQyKSB7XG4gICAgICAgKiAgcmV0dXJuIHBldDEubmFtZSA9PT0gcGV0Mi5uYW1lO1xuICAgICAgICogfVxuICAgICAgICogPC9wcmU+XG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbSBlbGVtZW50IHRvIHNlYXJjaCBmb3IuXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKE9iamVjdCxPYmplY3QpOmJvb2xlYW49fSBlcXVhbHNGdW5jdGlvbiBPcHRpb25hbFxuICAgICAgICogZnVuY3Rpb24gdXNlZCB0byBjaGVjayBpZiB0d28gZWxlbWVudHMgYXJlIGVxdWFsLlxuICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGlzIGxpc3QgY29udGFpbnMgdGhlIHNwZWNpZmllZCBlbGVtZW50LCBmYWxzZVxuICAgICAgICogb3RoZXJ3aXNlLlxuICAgICAgICovXG4gICAgTGlua2VkTGlzdC5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoaXRlbSwgZXF1YWxzRnVuY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmluZGV4T2YoaXRlbSwgZXF1YWxzRnVuY3Rpb24pID49IDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgaW4gdGhpcyBsaXN0LlxuICAgICAqIDxwPklmIHRoZSBlbGVtZW50cyBpbnNpZGUgdGhlIGxpc3QgYXJlXG4gICAgICogbm90IGNvbXBhcmFibGUgd2l0aCB0aGUgPT09IG9wZXJhdG9yIGEgY3VzdG9tIGVxdWFscyBmdW5jdGlvbiBzaG91bGQgYmVcbiAgICAgKiBwcm92aWRlZCB0byBwZXJmb3JtIHNlYXJjaGVzLCB0aGUgZnVuY3Rpb24gbXVzdCByZWNlaXZlIHR3byBhcmd1bWVudHMgYW5kXG4gICAgICogcmV0dXJuIHRydWUgaWYgdGhleSBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS4gRXhhbXBsZTo8L3A+XG4gICAgICpcbiAgICAgKiA8cHJlPlxuICAgICAqIGNvbnN0IHBldHNBcmVFcXVhbEJ5TmFtZSA9IGZ1bmN0aW9uKHBldDEsIHBldDIpIHtcbiAgICAgKiAgcmV0dXJuIHBldDEubmFtZSA9PT0gcGV0Mi5uYW1lO1xuICAgICAqIH1cbiAgICAgKiA8L3ByZT5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbSBlbGVtZW50IHRvIGJlIHJlbW92ZWQgZnJvbSB0aGlzIGxpc3QsIGlmIHByZXNlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgbGlzdCBjb250YWluZWQgdGhlIHNwZWNpZmllZCBlbGVtZW50LlxuICAgICAqL1xuICAgIExpbmtlZExpc3QucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChpdGVtLCBlcXVhbHNGdW5jdGlvbikge1xuICAgICAgICB2YXIgZXF1YWxzRiA9IGVxdWFsc0Z1bmN0aW9uIHx8IHV0aWwuZGVmYXVsdEVxdWFscztcbiAgICAgICAgaWYgKHRoaXMubkVsZW1lbnRzIDwgMSB8fCB1dGlsLmlzVW5kZWZpbmVkKGl0ZW0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgdmFyIGN1cnJlbnROb2RlID0gdGhpcy5maXJzdE5vZGU7XG4gICAgICAgIHdoaWxlIChjdXJyZW50Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGVxdWFsc0YoY3VycmVudE5vZGUuZWxlbWVudCwgaXRlbSkpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcnN0Tm9kZSA9IGN1cnJlbnROb2RlLm5leHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Tm9kZSA9PT0gdGhpcy5sYXN0Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0Tm9kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudE5vZGUgPT09IHRoaXMubGFzdE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0Tm9kZSA9IHByZXZpb3VzO1xuICAgICAgICAgICAgICAgICAgICBwcmV2aW91cy5uZXh0ID0gY3VycmVudE5vZGUubmV4dDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUubmV4dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcmV2aW91cy5uZXh0ID0gY3VycmVudE5vZGUubmV4dDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUubmV4dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubkVsZW1lbnRzLS07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2aW91cyA9IGN1cnJlbnROb2RlO1xuICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIG9mIHRoZSBlbGVtZW50cyBmcm9tIHRoaXMgbGlzdC5cbiAgICAgKi9cbiAgICBMaW5rZWRMaXN0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5maXJzdE5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3ROb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5uRWxlbWVudHMgPSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgbGlzdCBpcyBlcXVhbCB0byB0aGUgZ2l2ZW4gbGlzdC5cbiAgICAgKiBUd28gbGlzdHMgYXJlIGVxdWFsIGlmIHRoZXkgaGF2ZSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBvcmRlci5cbiAgICAgKiBAcGFyYW0ge0xpbmtlZExpc3R9IG90aGVyIHRoZSBvdGhlciBsaXN0LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oT2JqZWN0LE9iamVjdCk6Ym9vbGVhbj19IGVxdWFsc0Z1bmN0aW9uIG9wdGlvbmFsXG4gICAgICogZnVuY3Rpb24gdXNlZCB0byBjaGVjayBpZiB0d28gZWxlbWVudHMgYXJlIGVxdWFsLiBJZiB0aGUgZWxlbWVudHMgaW4gdGhlIGxpc3RzXG4gICAgICogYXJlIGN1c3RvbSBvYmplY3RzIHlvdSBzaG91bGQgcHJvdmlkZSBhIGZ1bmN0aW9uLCBvdGhlcndpc2VcbiAgICAgKiB0aGUgPT09IG9wZXJhdG9yIGlzIHVzZWQgdG8gY2hlY2sgZXF1YWxpdHkgYmV0d2VlbiBlbGVtZW50cy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoaXMgbGlzdCBpcyBlcXVhbCB0byB0aGUgZ2l2ZW4gbGlzdC5cbiAgICAgKi9cbiAgICBMaW5rZWRMaXN0LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIsIGVxdWFsc0Z1bmN0aW9uKSB7XG4gICAgICAgIHZhciBlcUYgPSBlcXVhbHNGdW5jdGlvbiB8fCB1dGlsLmRlZmF1bHRFcXVhbHM7XG4gICAgICAgIGlmICghKG90aGVyIGluc3RhbmNlb2YgTGlua2VkTGlzdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zaXplKCkgIT09IG90aGVyLnNpemUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmVxdWFsc0F1eCh0aGlzLmZpcnN0Tm9kZSwgb3RoZXIuZmlyc3ROb2RlLCBlcUYpO1xuICAgIH07XG4gICAgLyoqXG4gICAgKiBAcHJpdmF0ZVxuICAgICovXG4gICAgTGlua2VkTGlzdC5wcm90b3R5cGUuZXF1YWxzQXV4ID0gZnVuY3Rpb24gKG4xLCBuMiwgZXFGKSB7XG4gICAgICAgIHdoaWxlIChuMSAhPT0gbnVsbCAmJiBuMiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKCFlcUYobjEuZWxlbWVudCwgbjIuZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuMSA9IG4xLm5leHQ7XG4gICAgICAgICAgICBuMiA9IG4yLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBlbGVtZW50IGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb24gaW4gdGhpcyBsaXN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBnaXZlbiBpbmRleC5cbiAgICAgKiBAcmV0dXJuIHsqfSByZW1vdmVkIGVsZW1lbnQgb3IgdW5kZWZpbmVkIGlmIHRoZSBpbmRleCBpcyBvdXQgb2YgYm91bmRzLlxuICAgICAqL1xuICAgIExpbmtlZExpc3QucHJvdG90eXBlLnJlbW92ZUVsZW1lbnRBdEluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5uRWxlbWVudHMgfHwgdGhpcy5maXJzdE5vZGUgPT09IG51bGwgfHwgdGhpcy5sYXN0Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZWxlbWVudDtcbiAgICAgICAgaWYgKHRoaXMubkVsZW1lbnRzID09PSAxKSB7XG4gICAgICAgICAgICAvL0ZpcnN0IG5vZGUgaW4gdGhlIGxpc3QuXG4gICAgICAgICAgICBlbGVtZW50ID0gdGhpcy5maXJzdE5vZGUuZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuZmlyc3ROb2RlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubGFzdE5vZGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzID0gdGhpcy5ub2RlQXRJbmRleChpbmRleCAtIDEpO1xuICAgICAgICAgICAgaWYgKHByZXZpb3VzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IHRoaXMuZmlyc3ROb2RlLmVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdE5vZGUgPSB0aGlzLmZpcnN0Tm9kZS5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocHJldmlvdXMubmV4dCA9PT0gdGhpcy5sYXN0Tm9kZSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSB0aGlzLmxhc3ROb2RlLmVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0Tm9kZSA9IHByZXZpb3VzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZXZpb3VzICE9PSBudWxsICYmIHByZXZpb3VzLm5leHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gcHJldmlvdXMubmV4dC5lbGVtZW50O1xuICAgICAgICAgICAgICAgIHByZXZpb3VzLm5leHQgPSBwcmV2aW91cy5uZXh0Lm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uRWxlbWVudHMtLTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gb25jZSBmb3IgZWFjaCBlbGVtZW50IHByZXNlbnQgaW4gdGhpcyBsaXN0IGluIG9yZGVyLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oT2JqZWN0KToqfSBjYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlLCBpdCBpc1xuICAgICAqIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6IHRoZSBlbGVtZW50IHZhbHVlLCB0byBicmVhayB0aGUgaXRlcmF0aW9uIHlvdSBjYW5cbiAgICAgKiBvcHRpb25hbGx5IHJldHVybiBmYWxzZS5cbiAgICAgKi9cbiAgICBMaW5rZWRMaXN0LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBjdXJyZW50Tm9kZSA9IHRoaXMuZmlyc3ROb2RlO1xuICAgICAgICB3aGlsZSAoY3VycmVudE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjayhjdXJyZW50Tm9kZS5lbGVtZW50KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubmV4dDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgdGhlIG9yZGVyIG9mIHRoZSBlbGVtZW50cyBpbiB0aGlzIGxpbmtlZCBsaXN0IChtYWtlcyB0aGUgbGFzdFxuICAgICAqIGVsZW1lbnQgZmlyc3QsIGFuZCB0aGUgZmlyc3QgZWxlbWVudCBsYXN0KS5cbiAgICAgKi9cbiAgICBMaW5rZWRMaXN0LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJldmlvdXMgPSBudWxsO1xuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuZmlyc3ROb2RlO1xuICAgICAgICB2YXIgdGVtcCA9IG51bGw7XG4gICAgICAgIHdoaWxlIChjdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0ZW1wID0gY3VycmVudC5uZXh0O1xuICAgICAgICAgICAgY3VycmVudC5uZXh0ID0gcHJldmlvdXM7XG4gICAgICAgICAgICBwcmV2aW91cyA9IGN1cnJlbnQ7XG4gICAgICAgICAgICBjdXJyZW50ID0gdGVtcDtcbiAgICAgICAgfVxuICAgICAgICB0ZW1wID0gdGhpcy5maXJzdE5vZGU7XG4gICAgICAgIHRoaXMuZmlyc3ROb2RlID0gdGhpcy5sYXN0Tm9kZTtcbiAgICAgICAgdGhpcy5sYXN0Tm9kZSA9IHRlbXA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIG9mIHRoZSBlbGVtZW50cyBpbiB0aGlzIGxpc3QgaW4gcHJvcGVyXG4gICAgICogc2VxdWVuY2UuXG4gICAgICogQHJldHVybiB7QXJyYXkuPCo+fSBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGUgZWxlbWVudHMgaW4gdGhpcyBsaXN0LFxuICAgICAqIGluIHByb3BlciBzZXF1ZW5jZS5cbiAgICAgKi9cbiAgICBMaW5rZWRMaXN0LnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICAgICAgdmFyIGN1cnJlbnROb2RlID0gdGhpcy5maXJzdE5vZGU7XG4gICAgICAgIHdoaWxlIChjdXJyZW50Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgYXJyYXkucHVzaChjdXJyZW50Tm9kZS5lbGVtZW50KTtcbiAgICAgICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhpcyBsaXN0LlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGlzIGxpc3QuXG4gICAgICovXG4gICAgTGlua2VkTGlzdC5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubkVsZW1lbnRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgbGlzdCBjb250YWlucyBubyBlbGVtZW50cy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoaXMgbGlzdCBjb250YWlucyBubyBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBMaW5rZWRMaXN0LnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uRWxlbWVudHMgPD0gMDtcbiAgICB9O1xuICAgIExpbmtlZExpc3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYXJyYXlzLnRvU3RyaW5nKHRoaXMudG9BcnJheSgpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTGlua2VkTGlzdC5wcm90b3R5cGUubm9kZUF0SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLm5FbGVtZW50cykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4ID09PSAodGhpcy5uRWxlbWVudHMgLSAxKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFzdE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLmZpcnN0Tm9kZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmRleCAmJiBub2RlICE9IG51bGw7IGkrKykge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTGlua2VkTGlzdC5wcm90b3R5cGUuY3JlYXRlTm9kZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbGVtZW50OiBpdGVtLFxuICAgICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIExpbmtlZExpc3Q7XG59KCkpOyAvLyBFbmQgb2YgbGlua2VkIGxpc3RcbmV4cG9ydHMuZGVmYXVsdCA9IExpbmtlZExpc3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MaW5rZWRMaXN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBQb2ludCBvYmplY3QgcmVwcmVzZW50cyBhIGxvY2F0aW9uIGluIGEgdHdvLWRpbWVuc2lvbmFsIGNvb3JkaW5hdGUgc3lzdGVtLCB3aGVyZSB4IHJlcHJlc2VudHNcbiAqIHRoZSBob3Jpem9udGFsIGF4aXMgYW5kIHkgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgYXhpcy5cbiAqIEFuIG9ic2VydmFibGUgcG9pbnQgaXMgYSBwb2ludCB0aGF0IHRyaWdnZXJzIGEgY2FsbGJhY2sgd2hlbiB0aGUgcG9pbnQncyBwb3NpdGlvbiBpcyBjaGFuZ2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE9ic2VydmFibGVQb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiAtIGNhbGxiYWNrIHdoZW4gY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzY29wZSAtIG93bmVyIG9mIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGVQb2ludChjYiwgc2NvcGUpIHtcbiAgICAgICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPYnNlcnZhYmxlUG9pbnQpO1xuXG4gICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICB0aGlzLl95ID0geTtcblxuICAgICAgICB0aGlzLmNiID0gY2I7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2ludC5cbiAgICAgKiBUaGUgY2FsbGJhY2sgYW5kIHNjb3BlIHBhcmFtcyBjYW4gYmUgb3ZlcmlkZGVuIG90aGVyd2lzZSB0aGV5IHdpbGwgZGVmYXVsdFxuICAgICAqIHRvIHRoZSBjbG9uZSBvYmplY3QncyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2I9bnVsbF0gLSBjYWxsYmFjayB3aGVuIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3Njb3BlPW51bGxdIC0gb3duZXIgb2YgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk9ic2VydmFibGVQb2ludH0gYSBjb3B5IG9mIHRoZSBwb2ludFxuICAgICAqL1xuXG5cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHZhciBjYiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDtcbiAgICAgICAgdmFyIHNjb3BlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBudWxsO1xuXG4gICAgICAgIHZhciBfY2IgPSBjYiB8fCB0aGlzLmNiO1xuICAgICAgICB2YXIgX3Njb3BlID0gc2NvcGUgfHwgdGhpcy5zY29wZTtcblxuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGVQb2ludChfY2IsIF9zY29wZSwgdGhpcy5feCwgdGhpcy5feSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gICAgICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKi9cblxuXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQoeCwgeSkge1xuICAgICAgICB2YXIgX3ggPSB4IHx8IDA7XG4gICAgICAgIHZhciBfeSA9IHkgfHwgKHkgIT09IDAgPyBfeCA6IDApO1xuXG4gICAgICAgIGlmICh0aGlzLl94ICE9PSBfeCB8fCB0aGlzLl95ICE9PSBfeSkge1xuICAgICAgICAgICAgdGhpcy5feCA9IF94O1xuICAgICAgICAgICAgdGhpcy5feSA9IF95O1xuICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgZGF0YSBmcm9tIGFub3RoZXIgcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludHxQSVhJLk9ic2VydmFibGVQb2ludH0gcG9pbnQgLSBwb2ludCB0byBjb3B5IGZyb21cbiAgICAgKi9cblxuXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwb2ludCkge1xuICAgICAgICBpZiAodGhpcy5feCAhPT0gcG9pbnQueCB8fCB0aGlzLl95ICE9PSBwb2ludC55KSB7XG4gICAgICAgICAgICB0aGlzLl94ID0gcG9pbnQueDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSBwb2ludC55O1xuICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fFBJWEkuT2JzZXJ2YWJsZVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIHBvaW50IGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKi9cblxuXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMocCkge1xuICAgICAgICByZXR1cm4gcC54ID09PSB0aGlzLl94ICYmIHAueSA9PT0gdGhpcy5feTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhPYnNlcnZhYmxlUG9pbnQsIFt7XG4gICAgICAgIGtleTogXCJ4XCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3g7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3ggIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5feCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInlcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5feSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl95ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIE9ic2VydmFibGVQb2ludDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gT2JzZXJ2YWJsZVBvaW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2YWJsZVBvaW50LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9NYXRyaXggPSByZXF1aXJlKCcuL01hdHJpeCcpO1xuXG52YXIgX01hdHJpeDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NYXRyaXgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgdXggPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMV07IC8vIFlvdXIgZnJpZW5kbHkgbmVpZ2hib3VyIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RpaGVkcmFsX2dyb3VwIG9mIG9yZGVyIDE2XG5cbnZhciB1eSA9IFswLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbnZhciB2eCA9IFswLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbnZhciB2eSA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xXTtcbnZhciB0ZW1wTWF0cmljZXMgPSBbXTtcblxudmFyIG11bCA9IFtdO1xuXG5mdW5jdGlvbiBzaWdudW0oeCkge1xuICAgIGlmICh4IDwgMCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmICh4ID4gMCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgdmFyIHJvdyA9IFtdO1xuXG4gICAgICAgIG11bC5wdXNoKHJvdyk7XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAxNjsgaisrKSB7XG4gICAgICAgICAgICB2YXIgX3V4ID0gc2lnbnVtKHV4W2ldICogdXhbal0gKyB2eFtpXSAqIHV5W2pdKTtcbiAgICAgICAgICAgIHZhciBfdXkgPSBzaWdudW0odXlbaV0gKiB1eFtqXSArIHZ5W2ldICogdXlbal0pO1xuICAgICAgICAgICAgdmFyIF92eCA9IHNpZ251bSh1eFtpXSAqIHZ4W2pdICsgdnhbaV0gKiB2eVtqXSk7XG4gICAgICAgICAgICB2YXIgX3Z5ID0gc2lnbnVtKHV5W2ldICogdnhbal0gKyB2eVtpXSAqIHZ5W2pdKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCAxNjsgaysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHV4W2tdID09PSBfdXggJiYgdXlba10gPT09IF91eSAmJiB2eFtrXSA9PT0gX3Z4ICYmIHZ5W2tdID09PSBfdnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93LnB1c2goayk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCAxNjsgX2krKykge1xuICAgICAgICB2YXIgbWF0ID0gbmV3IF9NYXRyaXgyLmRlZmF1bHQoKTtcblxuICAgICAgICBtYXQuc2V0KHV4W19pXSwgdXlbX2ldLCB2eFtfaV0sIHZ5W19pXSwgMCwgMCk7XG4gICAgICAgIHRlbXBNYXRyaWNlcy5wdXNoKG1hdCk7XG4gICAgfVxufVxuXG5pbml0KCk7XG5cbi8qKlxuICogSW1wbGVtZW50cyBEaWhlZHJhbCBHcm91cCBEXzgsIHNlZSBbZ3JvdXAgRDRde0BsaW5rIGh0dHA6Ly9tYXRod29ybGQud29sZnJhbS5jb20vRGloZWRyYWxHcm91cEQ0Lmh0bWx9LFxuICogRDggaXMgdGhlIHNhbWUgYnV0IHdpdGggZGlhZ29uYWxzLiBVc2VkIGZvciB0ZXh0dXJlIHJvdGF0aW9ucy5cbiAqXG4gKiBWZWN0b3IgeFgoaSksIHhZKGkpIGlzIFUtYXhpcyBvZiBzcHJpdGUgd2l0aCByb3RhdGlvbiBpXG4gKiBWZWN0b3IgeVkoaSksIHlZKGkpIGlzIFYtYXhpcyBvZiBzcHJpdGUgd2l0aCByb3RhdGlvbiBpXG4gKiBSb3RhdGlvbnM6IDAgZ3JhZCAoMCksIDkwIGdyYWQgKDIpLCAxODAgZ3JhZCAoNCksIDI3MCBncmFkICg2KVxuICogTWlycm9yczogdmVydGljYWwgKDgpLCBtYWluIGRpYWdvbmFsICgxMCksIGhvcml6b250YWwgKDEyKSwgcmV2ZXJzZSBkaWFnb25hbCAoMTQpXG4gKiBUaGlzIGlzIHRoZSBzbWFsbCBwYXJ0IG9mIGdhbWVvZmJvbWJzLmNvbSBwb3J0YWwgc3lzdGVtLiBJdCB3b3Jrcy5cbiAqXG4gKiBAYXV0aG9yIEl2YW4gQGl2YW5wb3BlbHlzaGV2XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcm91cEQ4ID0ge1xuICAgIEU6IDAsXG4gICAgU0U6IDEsXG4gICAgUzogMixcbiAgICBTVzogMyxcbiAgICBXOiA0LFxuICAgIE5XOiA1LFxuICAgIE46IDYsXG4gICAgTkU6IDcsXG4gICAgTUlSUk9SX1ZFUlRJQ0FMOiA4LFxuICAgIE1JUlJPUl9IT1JJWk9OVEFMOiAxMixcbiAgICB1WDogZnVuY3Rpb24gdVgoaW5kKSB7XG4gICAgICAgIHJldHVybiB1eFtpbmRdO1xuICAgIH0sXG4gICAgdVk6IGZ1bmN0aW9uIHVZKGluZCkge1xuICAgICAgICByZXR1cm4gdXlbaW5kXTtcbiAgICB9LFxuICAgIHZYOiBmdW5jdGlvbiB2WChpbmQpIHtcbiAgICAgICAgcmV0dXJuIHZ4W2luZF07XG4gICAgfSxcbiAgICB2WTogZnVuY3Rpb24gdlkoaW5kKSB7XG4gICAgICAgIHJldHVybiB2eVtpbmRdO1xuICAgIH0sXG4gICAgaW52OiBmdW5jdGlvbiBpbnYocm90YXRpb24pIHtcbiAgICAgICAgaWYgKHJvdGF0aW9uICYgOCkge1xuICAgICAgICAgICAgcmV0dXJuIHJvdGF0aW9uICYgMTU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLXJvdGF0aW9uICYgNztcbiAgICB9LFxuICAgIGFkZDogZnVuY3Rpb24gYWRkKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSB7XG4gICAgICAgIHJldHVybiBtdWxbcm90YXRpb25TZWNvbmRdW3JvdGF0aW9uRmlyc3RdO1xuICAgIH0sXG4gICAgc3ViOiBmdW5jdGlvbiBzdWIocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpIHtcbiAgICAgICAgcmV0dXJuIG11bFtyb3RhdGlvblNlY29uZF1bR3JvdXBEOC5pbnYocm90YXRpb25GaXJzdCldO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIDE4MCBkZWdyZWVzIHRvIHJvdGF0aW9uLiBDb21tdXRhdGl2ZSBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byByb3RhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gcm90YXRlZCBudW1iZXJcbiAgICAgKi9cbiAgICByb3RhdGUxODA6IGZ1bmN0aW9uIHJvdGF0ZTE4MChyb3RhdGlvbikge1xuICAgICAgICByZXR1cm4gcm90YXRpb24gXiA0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXJlY3Rpb24gb2YgbWFpbiB2ZWN0b3IgY2FuIGJlIGhvcml6b250YWwsIHZlcnRpY2FsIG9yIGRpYWdvbmFsLlxuICAgICAqIFNvbWUgb2JqZWN0cyB3b3JrIHdpdGggdmVydGljYWwgZGlyZWN0aW9ucyBkaWZmZXJlbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGRpcmVjdGlvbiBpcyB2ZXJ0aWNhbFxuICAgICAqL1xuICAgIGlzVmVydGljYWw6IGZ1bmN0aW9uIGlzVmVydGljYWwocm90YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIChyb3RhdGlvbiAmIDMpID09PSAyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR4IC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeSAtIFRPRE9cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVE9ET1xuICAgICAqL1xuICAgIGJ5RGlyZWN0aW9uOiBmdW5jdGlvbiBieURpcmVjdGlvbihkeCwgZHkpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGR4KSAqIDIgPD0gTWF0aC5hYnMoZHkpKSB7XG4gICAgICAgICAgICBpZiAoZHkgPj0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBHcm91cEQ4LlM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBHcm91cEQ4Lk47XG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoZHkpICogMiA8PSBNYXRoLmFicyhkeCkpIHtcbiAgICAgICAgICAgIGlmIChkeCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5FO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5XO1xuICAgICAgICB9IGVsc2UgaWYgKGR5ID4gMCkge1xuICAgICAgICAgICAgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBHcm91cEQ4LlNFO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TVztcbiAgICAgICAgfSBlbHNlIGlmIChkeCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBHcm91cEQ4Lk5FO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEdyb3VwRDguTlc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhlbHBzIHNwcml0ZSB0byBjb21wZW5zYXRlIHRleHR1cmUgcGFja2VyIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIHNwcml0ZSB3b3JsZCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBUaGUgcm90YXRpb24gZmFjdG9yIHRvIHVzZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHggLSBzcHJpdGUgYW5jaG9yaW5nXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5IC0gc3ByaXRlIGFuY2hvcmluZ1xuICAgICAqL1xuICAgIG1hdHJpeEFwcGVuZFJvdGF0aW9uSW52OiBmdW5jdGlvbiBtYXRyaXhBcHBlbmRSb3RhdGlvbkludihtYXRyaXgsIHJvdGF0aW9uKSB7XG4gICAgICAgIHZhciB0eCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIHR5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwO1xuXG4gICAgICAgIC8vIFBhY2tlciB1c2VkIFwicm90YXRpb25cIiwgd2UgdXNlIFwiaW52KHJvdGF0aW9uKVwiXG4gICAgICAgIHZhciBtYXQgPSB0ZW1wTWF0cmljZXNbR3JvdXBEOC5pbnYocm90YXRpb24pXTtcblxuICAgICAgICBtYXQudHggPSB0eDtcbiAgICAgICAgbWF0LnR5ID0gdHk7XG4gICAgICAgIG1hdHJpeC5hcHBlbmQobWF0KTtcbiAgICB9XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBHcm91cEQ4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JvdXBEOC5qcy5tYXAiLCIvLyB2YXIgR0xfTUFQID0ge307XG5cbi8qKlxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHRcbiAqIEBwYXJhbSBhdHRyaWJzIHsqfVxuICogQHBhcmFtIHN0YXRlIHsqfVxuICovXG52YXIgc2V0VmVydGV4QXR0cmliQXJyYXlzID0gZnVuY3Rpb24gKGdsLCBhdHRyaWJzLCBzdGF0ZSlcbntcbiAgICB2YXIgaTtcbiAgICBpZihzdGF0ZSlcbiAgICB7XG4gICAgICAgIHZhciB0ZW1wQXR0cmliU3RhdGUgPSBzdGF0ZS50ZW1wQXR0cmliU3RhdGUsXG4gICAgICAgICAgICBhdHRyaWJTdGF0ZSA9IHN0YXRlLmF0dHJpYlN0YXRlO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0ZW1wQXR0cmliU3RhdGUubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlbXBBdHRyaWJTdGF0ZVtpXSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHRoZSBuZXcgYXR0cmlic1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXR0cmlicy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGVtcEF0dHJpYlN0YXRlW2F0dHJpYnNbaV0uYXR0cmlidXRlLmxvY2F0aW9uXSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXR0cmliU3RhdGUubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChhdHRyaWJTdGF0ZVtpXSAhPT0gdGVtcEF0dHJpYlN0YXRlW2ldKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYlN0YXRlW2ldID0gdGVtcEF0dHJpYlN0YXRlW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmF0dHJpYlN0YXRlW2ldKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXR0cmlicy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGF0dHJpYiA9IGF0dHJpYnNbaV07XG4gICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhdHRyaWIuYXR0cmlidXRlLmxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0VmVydGV4QXR0cmliQXJyYXlzO1xuIiwiXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBUZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0XG4gKiBAcGFyYW0gd2lkdGgge251bWJlcn0gdGhlIHdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gaGVpZ2h0IHtudW1iZXJ9IHRoZSBoZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSBmb3JtYXQge251bWJlcn0gdGhlIHBpeGVsIGZvcm1hdCBvZiB0aGUgdGV4dHVyZS4gZGVmYXVsdHMgdG8gZ2wuUkdCQVxuICogQHBhcmFtIHR5cGUge251bWJlcn0gdGhlIGdsIHR5cGUgb2YgdGhlIHRleHR1cmUuIGRlZmF1bHRzIHRvIGdsLlVOU0lHTkVEX0JZVEVcbiAqL1xudmFyIFRleHR1cmUgPSBmdW5jdGlvbihnbCwgd2lkdGgsIGhlaWdodCwgZm9ybWF0LCB0eXBlKVxue1xuXHQvKipcblx0ICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcblx0ICpcblx0ICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuXHQgKi9cblx0dGhpcy5nbCA9IGdsO1xuXG5cblx0LyoqXG5cdCAqIFRoZSBXZWJHTCB0ZXh0dXJlXG5cdCAqXG5cdCAqIEBtZW1iZXIge1dlYkdMVGV4dHVyZX1cblx0ICovXG5cdHRoaXMudGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcblxuXHQvKipcblx0ICogSWYgbWlwbWFwcGluZyB3YXMgdXNlZCBmb3IgdGhpcyB0ZXh0dXJlLCBlbmFibGUgYW5kIGRpc2FibGUgd2l0aCBlbmFibGVNaXBtYXAoKVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtCb29sZWFufVxuXHQgKi9cblx0Ly8gc29tZSBzZXR0aW5ncy4uXG5cdHRoaXMubWlwbWFwID0gZmFsc2U7XG5cblxuXHQvKipcblx0ICogU2V0IHRvIHRydWUgdG8gZW5hYmxlIHByZS1tdWx0aXBsaWVkIGFscGhhXG5cdCAqXG5cdCAqIEBtZW1iZXIge0Jvb2xlYW59XG5cdCAqL1xuXHR0aGlzLnByZW11bHRpcGx5QWxwaGEgPSBmYWxzZTtcblxuXHQvKipcblx0ICogVGhlIHdpZHRoIG9mIHRleHR1cmVcblx0ICpcblx0ICogQG1lbWJlciB7TnVtYmVyfVxuXHQgKi9cblx0dGhpcy53aWR0aCA9IHdpZHRoIHx8IC0xO1xuXHQvKipcblx0ICogVGhlIGhlaWdodCBvZiB0ZXh0dXJlXG5cdCAqXG5cdCAqIEBtZW1iZXIge051bWJlcn1cblx0ICovXG5cdHRoaXMuaGVpZ2h0ID0gaGVpZ2h0IHx8IC0xO1xuXG5cdC8qKlxuXHQgKiBUaGUgcGl4ZWwgZm9ybWF0IG9mIHRoZSB0ZXh0dXJlLiBkZWZhdWx0cyB0byBnbC5SR0JBXG5cdCAqXG5cdCAqIEBtZW1iZXIge051bWJlcn1cblx0ICovXG5cdHRoaXMuZm9ybWF0ID0gZm9ybWF0IHx8IGdsLlJHQkE7XG5cblx0LyoqXG5cdCAqIFRoZSBnbCB0eXBlIG9mIHRoZSB0ZXh0dXJlLiBkZWZhdWx0cyB0byBnbC5VTlNJR05FRF9CWVRFXG5cdCAqXG5cdCAqIEBtZW1iZXIge051bWJlcn1cblx0ICovXG5cdHRoaXMudHlwZSA9IHR5cGUgfHwgZ2wuVU5TSUdORURfQllURTtcblxuXG59O1xuXG4vKipcbiAqIFVwbG9hZHMgdGhpcyB0ZXh0dXJlIHRvIHRoZSBHUFVcbiAqIEBwYXJhbSBzb3VyY2Uge0hUTUxJbWFnZUVsZW1lbnR8SW1hZ2VEYXRhfEhUTUxWaWRlb0VsZW1lbnR9IHRoZSBzb3VyY2UgaW1hZ2Ugb2YgdGhlIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24oc291cmNlKVxue1xuXHR0aGlzLmJpbmQoKTtcblxuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cblx0Z2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCB0aGlzLnByZW11bHRpcGx5QWxwaGEpO1xuXG5cdHZhciBuZXdXaWR0aCA9IHNvdXJjZS52aWRlb1dpZHRoIHx8IHNvdXJjZS53aWR0aDtcblx0dmFyIG5ld0hlaWdodCA9IHNvdXJjZS52aWRlb0hlaWdodCB8fCBzb3VyY2UuaGVpZ2h0O1xuXG5cdGlmKG5ld0hlaWdodCAhPT0gdGhpcy5oZWlnaHQgfHwgbmV3V2lkdGggIT09IHRoaXMud2lkdGgpXG5cdHtcblx0XHRnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIHRoaXMuZm9ybWF0LCB0aGlzLmZvcm1hdCwgdGhpcy50eXBlLCBzb3VyY2UpO1xuXHR9XG5cdGVsc2Vcblx0e1xuICAgIFx0Z2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCB0aGlzLmZvcm1hdCwgdGhpcy50eXBlLCBzb3VyY2UpO1xuXHR9XG5cblx0Ly8gaWYgdGhlIHNvdXJjZSBpcyBhIHZpZGVvLCB3ZSBuZWVkIHRvIHVzZSB0aGUgdmlkZW9XaWR0aCAvIHZpZGVvSGVpZ2h0IHByb3BlcnRpZXMgYXMgd2lkdGggLyBoZWlnaHQgd2lsbCBiZSBpbmNvcnJlY3QuXG5cdHRoaXMud2lkdGggPSBuZXdXaWR0aDtcblx0dGhpcy5oZWlnaHQgPSBuZXdIZWlnaHQ7XG5cbn07XG5cbnZhciBGTE9BVElOR19QT0lOVF9BVkFJTEFCTEUgPSBmYWxzZTtcblxuLyoqXG4gKiBVc2UgYSBkYXRhIHNvdXJjZSBhbmQgdXBsb2FkcyB0aGlzIHRleHR1cmUgdG8gdGhlIEdQVVxuICogQHBhcmFtIGRhdGEge1R5cGVkQXJyYXl9IHRoZSBkYXRhIHRvIHVwbG9hZCB0byB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHdpZHRoIHtudW1iZXJ9IHRoZSBuZXcgd2lkdGggb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSBoZWlnaHQge251bWJlcn0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUudXBsb2FkRGF0YSA9IGZ1bmN0aW9uKGRhdGEsIHdpZHRoLCBoZWlnaHQpXG57XG5cdHRoaXMuYmluZCgpO1xuXG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblxuXHRpZihkYXRhIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KVxuXHR7XG5cdFx0aWYoIUZMT0FUSU5HX1BPSU5UX0FWQUlMQUJMRSlcblx0XHR7XG5cdFx0XHR2YXIgZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKFwiT0VTX3RleHR1cmVfZmxvYXRcIik7XG5cblx0XHRcdGlmKGV4dClcblx0XHRcdHtcblx0XHRcdFx0RkxPQVRJTkdfUE9JTlRfQVZBSUxBQkxFID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdmbG9hdGluZyBwb2ludCB0ZXh0dXJlcyBub3QgYXZhaWxhYmxlJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy50eXBlID0gZ2wuRkxPQVQ7XG5cdH1cblx0ZWxzZVxuXHR7XG5cdFx0Ly8gVE9ETyBzdXBwb3J0IGZvciBvdGhlciB0eXBlc1xuXHRcdHRoaXMudHlwZSA9IHRoaXMudHlwZSB8fCBnbC5VTlNJR05FRF9CWVRFO1xuXHR9XG5cblx0Ly8gd2hhdCB0eXBlIG9mIGRhdGE/XG5cdGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgdGhpcy5wcmVtdWx0aXBseUFscGhhKTtcblxuXG5cdGlmKHdpZHRoICE9PSB0aGlzLndpZHRoIHx8IGhlaWdodCAhPT0gdGhpcy5oZWlnaHQpXG5cdHtcblx0XHRnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIHRoaXMuZm9ybWF0LCAgd2lkdGgsIGhlaWdodCwgMCwgdGhpcy5mb3JtYXQsIHRoaXMudHlwZSwgZGF0YSB8fCBudWxsKTtcblx0fVxuXHRlbHNlXG5cdHtcblx0XHRnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIHdpZHRoLCBoZWlnaHQsIHRoaXMuZm9ybWF0LCB0aGlzLnR5cGUsIGRhdGEgfHwgbnVsbCk7XG5cdH1cblxuXHR0aGlzLndpZHRoID0gd2lkdGg7XG5cdHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG5cbi8vXHR0ZXhTdWJJbWFnZTJEXG59O1xuXG4vKipcbiAqIEJpbmRzIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gIGxvY2F0aW9uXG4gKi9cblRleHR1cmUucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbihsb2NhdGlvbilcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHRpZihsb2NhdGlvbiAhPT0gdW5kZWZpbmVkKVxuXHR7XG5cdFx0Z2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcblx0fVxuXG5cdGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XG59O1xuXG4vKipcbiAqIFVuYmluZHMgdGhlIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24oKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXHRnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIGxpbmVhciB7Qm9vbGVhbn0gaWYgd2Ugd2FudCB0byB1c2UgbGluZWFyIGZpbHRlcmluZyBvciBuZWFyZXN0IG5laWdoYm91ciBpbnRlcnBvbGF0aW9uXG4gKi9cblRleHR1cmUucHJvdG90eXBlLm1pbkZpbHRlciA9IGZ1bmN0aW9uKCBsaW5lYXIgKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdHRoaXMuYmluZCgpO1xuXG5cdGlmKHRoaXMubWlwbWFwKVxuXHR7XG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGxpbmVhciA/IGdsLkxJTkVBUl9NSVBNQVBfTElORUFSIDogZ2wuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCk7XG5cdH1cblx0ZWxzZVxuXHR7XG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGxpbmVhciA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuXHR9XG59O1xuXG4vKipcbiAqIEBwYXJhbSBsaW5lYXIge0Jvb2xlYW59IGlmIHdlIHdhbnQgdG8gdXNlIGxpbmVhciBmaWx0ZXJpbmcgb3IgbmVhcmVzdCBuZWlnaGJvdXIgaW50ZXJwb2xhdGlvblxuICovXG5UZXh0dXJlLnByb3RvdHlwZS5tYWdGaWx0ZXIgPSBmdW5jdGlvbiggbGluZWFyIClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHR0aGlzLmJpbmQoKTtcblxuXHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgbGluZWFyID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVCk7XG59O1xuXG4vKipcbiAqIEVuYWJsZXMgbWlwbWFwcGluZ1xuICovXG5UZXh0dXJlLnByb3RvdHlwZS5lbmFibGVNaXBtYXAgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0dGhpcy5iaW5kKCk7XG5cblx0dGhpcy5taXBtYXAgPSB0cnVlO1xuXG5cdGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xufTtcblxuLyoqXG4gKiBFbmFibGVzIGxpbmVhciBmaWx0ZXJpbmdcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlTGluZWFyU2NhbGluZyA9IGZ1bmN0aW9uKClcbntcblx0dGhpcy5taW5GaWx0ZXIodHJ1ZSk7XG5cdHRoaXMubWFnRmlsdGVyKHRydWUpO1xufTtcblxuLyoqXG4gKiBFbmFibGVzIG5lYXJlc3QgbmVpZ2hib3VyIGludGVycG9sYXRpb25cbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlTmVhcmVzdFNjYWxpbmcgPSBmdW5jdGlvbigpXG57XG5cdHRoaXMubWluRmlsdGVyKGZhbHNlKTtcblx0dGhpcy5tYWdGaWx0ZXIoZmFsc2UpO1xufTtcblxuLyoqXG4gKiBFbmFibGVzIGNsYW1waW5nIG9uIHRoZSB0ZXh0dXJlIHNvIFdlYkdMIHdpbGwgbm90IHJlcGVhdCBpdFxuICovXG5UZXh0dXJlLnByb3RvdHlwZS5lbmFibGVXcmFwQ2xhbXAgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0dGhpcy5iaW5kKCk7XG5cblx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG59O1xuXG4vKipcbiAqIEVuYWJsZSB0aWxpbmcgb24gdGhlIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlV3JhcFJlcGVhdCA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHR0aGlzLmJpbmQoKTtcblxuXHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5SRVBFQVQpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLlJFUEVBVCk7XG59O1xuXG5UZXh0dXJlLnByb3RvdHlwZS5lbmFibGVXcmFwTWlycm9yUmVwZWF0ID0gZnVuY3Rpb24oKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdHRoaXMuYmluZCgpO1xuXG5cdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLk1JUlJPUkVEX1JFUEVBVCk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuTUlSUk9SRURfUkVQRUFUKTtcbn07XG5cblxuLyoqXG4gKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblx0Ly9UT0RPXG5cdGdsLmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlKTtcbn07XG5cbi8qKlxuICogQHN0YXRpY1xuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHRcbiAqIEBwYXJhbSBzb3VyY2Uge0hUTUxJbWFnZUVsZW1lbnR8SW1hZ2VEYXRhfSB0aGUgc291cmNlIGltYWdlIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gcHJlbXVsdGlwbHlBbHBoYSB7Qm9vbGVhbn0gSWYgd2Ugd2FudCB0byB1c2UgcHJlLW11bHRpcGxpZWQgYWxwaGFcbiAqL1xuVGV4dHVyZS5mcm9tU291cmNlID0gZnVuY3Rpb24oZ2wsIHNvdXJjZSwgcHJlbXVsdGlwbHlBbHBoYSlcbntcblx0dmFyIHRleHR1cmUgPSBuZXcgVGV4dHVyZShnbCk7XG5cdHRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSA9IHByZW11bHRpcGx5QWxwaGEgfHwgZmFsc2U7XG5cdHRleHR1cmUudXBsb2FkKHNvdXJjZSk7XG5cblx0cmV0dXJuIHRleHR1cmU7XG59O1xuXG4vKipcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0XG4gKiBAcGFyYW0gZGF0YSB7VHlwZWRBcnJheX0gdGhlIGRhdGEgdG8gdXBsb2FkIHRvIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gd2lkdGgge251bWJlcn0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIGhlaWdodCB7bnVtYmVyfSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICovXG5UZXh0dXJlLmZyb21EYXRhID0gZnVuY3Rpb24oZ2wsIGRhdGEsIHdpZHRoLCBoZWlnaHQpXG57XG5cdC8vY29uc29sZS5sb2coZGF0YSwgd2lkdGgsIGhlaWdodCk7XG5cdHZhciB0ZXh0dXJlID0gbmV3IFRleHR1cmUoZ2wpO1xuXHR0ZXh0dXJlLnVwbG9hZERhdGEoZGF0YSwgd2lkdGgsIGhlaWdodCk7XG5cblx0cmV0dXJuIHRleHR1cmU7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gVGV4dHVyZTtcbiIsIlxuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdmVydGV4U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGZyYWdtZW50U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSBmcmFnbWVudCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gYXR0cmlidXRlTG9jYXRpb25zIHtPYmplY3R9IEFuIGF0dHJpYnV0ZSBsb2NhdGlvbiBtYXAgdGhhdCBsZXRzIHlvdSBtYW51YWxseSBzZXQgdGhlIGF0dHJpYnV0ZSBsb2NhdGlvbnNcbiAqIEByZXR1cm4ge1dlYkdMUHJvZ3JhbX0gdGhlIHNoYWRlciBwcm9ncmFtXG4gKi9cbnZhciBjb21waWxlUHJvZ3JhbSA9IGZ1bmN0aW9uKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBhdHRyaWJ1dGVMb2NhdGlvbnMpXG57XG4gICAgdmFyIGdsVmVydFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNyYyk7XG4gICAgdmFyIGdsRnJhZ1NoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTcmMpO1xuXG4gICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG5cbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xWZXJ0U2hhZGVyKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xGcmFnU2hhZGVyKTtcblxuICAgIC8vIG9wdGlvbmFsbHksIHNldCB0aGUgYXR0cmlidXRlcyBtYW51YWxseSBmb3IgdGhlIHByb2dyYW0gcmF0aGVyIHRoYW4gbGV0dGluZyBXZWJHTCBkZWNpZGUuLlxuICAgIGlmKGF0dHJpYnV0ZUxvY2F0aW9ucylcbiAgICB7XG4gICAgICAgIGZvcih2YXIgaSBpbiBhdHRyaWJ1dGVMb2NhdGlvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBhdHRyaWJ1dGVMb2NhdGlvbnNbaV0sIGkpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcblxuICAgIC8vIGlmIGxpbmtpbmcgZmFpbHMsIHRoZW4gbG9nIGFuZCBjbGVhbnVwXG4gICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BpeGkuanMgRXJyb3I6IENvdWxkIG5vdCBpbml0aWFsaXplIHNoYWRlci4nKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2wuVkFMSURBVEVfU1RBVFVTJywgZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5WQUxJREFURV9TVEFUVVMpKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2wuZ2V0RXJyb3IoKScsIGdsLmdldEVycm9yKCkpO1xuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGEgcHJvZ3JhbSBpbmZvIGxvZywgbG9nIGl0XG4gICAgICAgIGlmIChnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSAhPT0gJycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUGl4aS5qcyBXYXJuaW5nOiBnbC5nZXRQcm9ncmFtSW5mb0xvZygpJywgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgcHJvZ3JhbSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gY2xlYW4gdXAgc29tZSBzaGFkZXJzXG4gICAgZ2wuZGVsZXRlU2hhZGVyKGdsVmVydFNoYWRlcik7XG4gICAgZ2wuZGVsZXRlU2hhZGVyKGdsRnJhZ1NoYWRlcik7XG5cbiAgICByZXR1cm4gcHJvZ3JhbTtcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdHlwZSB7TnVtYmVyfSB0aGUgdHlwZSwgY2FuIGJlIGVpdGhlciBWRVJURVhfU0hBREVSIG9yIEZSQUdNRU5UX1NIQURFUlxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEByZXR1cm4ge1dlYkdMU2hhZGVyfSB0aGUgc2hhZGVyXG4gKi9cbnZhciBjb21waWxlU2hhZGVyID0gZnVuY3Rpb24gKGdsLCB0eXBlLCBzcmMpXG57XG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcblxuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNyYyk7XG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gc2hhZGVyO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjb21waWxlUHJvZ3JhbTtcbiIsIlxudmFyIG1hcFR5cGUgPSByZXF1aXJlKCcuL21hcFR5cGUnKTtcbnZhciBtYXBTaXplID0gcmVxdWlyZSgnLi9tYXBTaXplJyk7XG5cbi8qKlxuICogRXh0cmFjdHMgdGhlIGF0dHJpYnV0ZXNcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gcHJvZ3JhbSB7V2ViR0xQcm9ncmFtfSBUaGUgc2hhZGVyIHByb2dyYW0gdG8gZ2V0IHRoZSBhdHRyaWJ1dGVzIGZyb21cbiAqIEByZXR1cm4gYXR0cmlidXRlcyB7T2JqZWN0fVxuICovXG52YXIgZXh0cmFjdEF0dHJpYnV0ZXMgPSBmdW5jdGlvbihnbCwgcHJvZ3JhbSlcbntcbiAgICB2YXIgYXR0cmlidXRlcyA9IHt9O1xuXG4gICAgdmFyIHRvdGFsQXR0cmlidXRlcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX0FUVFJJQlVURVMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbEF0dHJpYnV0ZXM7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBhdHRyaWJEYXRhID0gZ2wuZ2V0QWN0aXZlQXR0cmliKHByb2dyYW0sIGkpO1xuICAgICAgICB2YXIgdHlwZSA9IG1hcFR5cGUoZ2wsIGF0dHJpYkRhdGEudHlwZSk7XG5cbiAgICAgICAgYXR0cmlidXRlc1thdHRyaWJEYXRhLm5hbWVdID0ge1xuICAgICAgICAgICAgdHlwZTp0eXBlLFxuICAgICAgICAgICAgc2l6ZTptYXBTaXplKHR5cGUpLFxuICAgICAgICAgICAgbG9jYXRpb246Z2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgYXR0cmliRGF0YS5uYW1lKSxcbiAgICAgICAgICAgIC8vVE9ETyAtIG1ha2UgYW4gYXR0cmlidXRlIG9iamVjdFxuICAgICAgICAgICAgcG9pbnRlcjogcG9pbnRlclxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xufTtcblxudmFyIHBvaW50ZXIgPSBmdW5jdGlvbih0eXBlLCBub3JtYWxpemVkLCBzdHJpZGUsIHN0YXJ0KXtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmxvY2F0aW9uKVxuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5sb2NhdGlvbix0aGlzLnNpemUsIHR5cGUgfHwgZ2wuRkxPQVQsIG5vcm1hbGl6ZWQgfHwgZmFsc2UsIHN0cmlkZSB8fCAwLCBzdGFydCB8fCAwKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXh0cmFjdEF0dHJpYnV0ZXM7XG4iLCIvKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHR5cGUge1N0cmluZ31cbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xudmFyIG1hcFNpemUgPSBmdW5jdGlvbih0eXBlKSBcbnsgXG4gICAgcmV0dXJuIEdMU0xfVE9fU0laRVt0eXBlXTtcbn07XG5cblxudmFyIEdMU0xfVE9fU0laRSA9IHtcbiAgICAnZmxvYXQnOiAgICAxLFxuICAgICd2ZWMyJzogICAgIDIsXG4gICAgJ3ZlYzMnOiAgICAgMyxcbiAgICAndmVjNCc6ICAgICA0LFxuXG4gICAgJ2ludCc6ICAgICAgMSxcbiAgICAnaXZlYzInOiAgICAyLFxuICAgICdpdmVjMyc6ICAgIDMsXG4gICAgJ2l2ZWM0JzogICAgNCxcblxuICAgICdib29sJzogICAgIDEsXG4gICAgJ2J2ZWMyJzogICAgMixcbiAgICAnYnZlYzMnOiAgICAzLFxuICAgICdidmVjNCc6ICAgIDQsXG5cbiAgICAnbWF0Mic6ICAgICA0LFxuICAgICdtYXQzJzogICAgIDksXG4gICAgJ21hdDQnOiAgICAgMTYsXG5cbiAgICAnc2FtcGxlcjJEJzogIDFcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwU2l6ZTtcbiIsInZhciBtYXBUeXBlID0gcmVxdWlyZSgnLi9tYXBUeXBlJyk7XG52YXIgZGVmYXVsdFZhbHVlID0gcmVxdWlyZSgnLi9kZWZhdWx0VmFsdWUnKTtcblxuLyoqXG4gKiBFeHRyYWN0cyB0aGUgdW5pZm9ybXNcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gcHJvZ3JhbSB7V2ViR0xQcm9ncmFtfSBUaGUgc2hhZGVyIHByb2dyYW0gdG8gZ2V0IHRoZSB1bmlmb3JtcyBmcm9tXG4gKiBAcmV0dXJuIHVuaWZvcm1zIHtPYmplY3R9XG4gKi9cbnZhciBleHRyYWN0VW5pZm9ybXMgPSBmdW5jdGlvbihnbCwgcHJvZ3JhbSlcbntcblx0dmFyIHVuaWZvcm1zID0ge307XG5cbiAgICB2YXIgdG90YWxVbmlmb3JtcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX1VOSUZPUk1TKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxVbmlmb3JtczsgaSsrKVxuICAgIHtcbiAgICBcdHZhciB1bmlmb3JtRGF0YSA9IGdsLmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaSk7XG4gICAgXHR2YXIgbmFtZSA9IHVuaWZvcm1EYXRhLm5hbWUucmVwbGFjZSgvXFxbLio/XFxdLywgXCJcIik7XG4gICAgICAgIHZhciB0eXBlID0gbWFwVHlwZShnbCwgdW5pZm9ybURhdGEudHlwZSApO1xuXG4gICAgXHR1bmlmb3Jtc1tuYW1lXSA9IHtcbiAgICBcdFx0dHlwZTp0eXBlLFxuICAgIFx0XHRzaXplOnVuaWZvcm1EYXRhLnNpemUsXG4gICAgXHRcdGxvY2F0aW9uOmdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBuYW1lKSxcbiAgICBcdFx0dmFsdWU6ZGVmYXVsdFZhbHVlKHR5cGUsIHVuaWZvcm1EYXRhLnNpemUpXG4gICAgXHR9O1xuICAgIH1cblxuXHRyZXR1cm4gdW5pZm9ybXM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4dHJhY3RVbmlmb3JtcztcbiIsIi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gdHlwZSB7U3RyaW5nfSBUeXBlIG9mIHZhbHVlXG4gKiBAcGFyYW0gc2l6ZSB7TnVtYmVyfVxuICovXG52YXIgZGVmYXVsdFZhbHVlID0gZnVuY3Rpb24odHlwZSwgc2l6ZSkgXG57XG4gICAgc3dpdGNoICh0eXBlKVxuICAgIHtcbiAgICAgICAgY2FzZSAnZmxvYXQnOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG5cbiAgICAgICAgY2FzZSAndmVjMic6IFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMiAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ3ZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMyAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ3ZlYzQnOiAgICAgXG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSg0ICogc2l6ZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgY2FzZSAnaW50JzpcbiAgICAgICAgY2FzZSAnc2FtcGxlcjJEJzpcbiAgICAgICAgICAgIHJldHVybiAwO1xuXG4gICAgICAgIGNhc2UgJ2l2ZWMyJzogICBcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgyICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnaXZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdpdmVjNCc6IFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDQgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdib29sJzogICAgIFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNhc2UgJ2J2ZWMyJzpcblxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSggMiAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2J2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoMyAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2J2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoNCAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ21hdDInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMV0pO1xuXG4gICAgICAgIGNhc2UgJ21hdDMnOiBcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDEsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMCwgMV0pO1xuXG4gICAgICAgIGNhc2UgJ21hdDQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAwLCAxLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDAsIDAsIDFdKTtcbiAgICB9XG59O1xuXG52YXIgYm9vbGVhbkFycmF5ID0gZnVuY3Rpb24oc2l6ZSlcbntcbiAgICB2YXIgYXJyYXkgPSBuZXcgQXJyYXkoc2l6ZSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSBcbiAgICB7XG4gICAgICAgIGFycmF5W2ldID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0VmFsdWU7XG4iLCIvKipcbiAqIFNldHMgdGhlIGZsb2F0IHByZWNpc2lvbiBvbiB0aGUgc2hhZGVyLiBJZiB0aGUgcHJlY2lzaW9uIGlzIGFscmVhZHkgcHJlc2VudCB0aGlzIGZ1bmN0aW9uIHdpbGwgZG8gbm90aGluZ1xuICogQHBhcmFtIHtzdHJpbmd9IHNyYyAgICAgICB0aGUgc2hhZGVyIHNvdXJjZVxuICogQHBhcmFtIHtzdHJpbmd9IHByZWNpc2lvbiBUaGUgZmxvYXQgcHJlY2lzaW9uIG9mIHRoZSBzaGFkZXIuIE9wdGlvbnMgYXJlICdsb3dwJywgJ21lZGl1bXAnIG9yICdoaWdocCcuXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBtb2RpZmllZCBzaGFkZXIgc291cmNlXG4gKi9cbnZhciBzZXRQcmVjaXNpb24gPSBmdW5jdGlvbihzcmMsIHByZWNpc2lvbilcbntcbiAgICBpZihzcmMuc3Vic3RyaW5nKDAsIDkpICE9PSAncHJlY2lzaW9uJylcbiAgICB7XG4gICAgICAgIHJldHVybiAncHJlY2lzaW9uICcgKyBwcmVjaXNpb24gKyAnIGZsb2F0O1xcbicgKyBzcmM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0UHJlY2lzaW9uO1xuIiwiLyoqXG4gKiBFeHRyYWN0cyB0aGUgYXR0cmlidXRlc1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqIEBwYXJhbSB1bmlmb3JtcyB7QXJyYXl9IEBtYXQgP1xuICogQHJldHVybiBhdHRyaWJ1dGVzIHtPYmplY3R9XG4gKi9cbnZhciBnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QgPSBmdW5jdGlvbihnbCwgdW5pZm9ybURhdGEpXG57XG4gICAgLy8gdGhpcyBpcyB0aGUgb2JqZWN0IHdlIHdpbGwgYmUgc2VuZGluZyBiYWNrLlxuICAgIC8vIGFuIG9iamVjdCBoaWVyYWNoeSB3aWxsIGJlIGNyZWF0ZWQgZm9yIHN0cnVjdHNcbiAgICB2YXIgdW5pZm9ybXMgPSB7ZGF0YTp7fX07XG5cbiAgICB1bmlmb3Jtcy5nbCA9IGdsO1xuXG4gICAgdmFyIHVuaWZvcm1LZXlzPSBPYmplY3Qua2V5cyh1bmlmb3JtRGF0YSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVuaWZvcm1LZXlzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIGZ1bGxOYW1lID0gdW5pZm9ybUtleXNbaV07XG5cbiAgICAgICAgdmFyIG5hbWVUb2tlbnMgPSBmdWxsTmFtZS5zcGxpdCgnLicpO1xuICAgICAgICB2YXIgbmFtZSA9IG5hbWVUb2tlbnNbbmFtZVRva2Vucy5sZW5ndGggLSAxXTtcblxuXG4gICAgICAgIHZhciB1bmlmb3JtR3JvdXAgPSBnZXRVbmlmb3JtR3JvdXAobmFtZVRva2VucywgdW5pZm9ybXMpO1xuXG4gICAgICAgIHZhciB1bmlmb3JtID0gIHVuaWZvcm1EYXRhW2Z1bGxOYW1lXTtcbiAgICAgICAgdW5pZm9ybUdyb3VwLmRhdGFbbmFtZV0gPSB1bmlmb3JtO1xuXG4gICAgICAgIHVuaWZvcm1Hcm91cC5nbCA9IGdsO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1bmlmb3JtR3JvdXAsIG5hbWUsIHtcbiAgICAgICAgICAgIGdldDogZ2VuZXJhdGVHZXR0ZXIobmFtZSksXG4gICAgICAgICAgICBzZXQ6IGdlbmVyYXRlU2V0dGVyKG5hbWUsIHVuaWZvcm0pXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB1bmlmb3Jtcztcbn07XG5cbnZhciBnZW5lcmF0ZUdldHRlciA9IGZ1bmN0aW9uKG5hbWUpXG57XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhW25hbWVdLnZhbHVlO1xuICAgIH07XG59O1xuXG52YXIgR0xTTF9TSU5HTEVfU0VUVEVSUyA9IHtcbiAgICBmbG9hdDogZnVuY3Rpb24gc2V0U2luZ2xlRmxvYXQoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICB2ZWMyOiBmdW5jdGlvbiBzZXRTaW5nbGVWZWMyKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTJmKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0pOyB9LFxuICAgIHZlYzM6IGZ1bmN0aW9uIHNldFNpbmdsZVZlYzMoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtM2YobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0pOyB9LFxuICAgIHZlYzQ6IGZ1bmN0aW9uIHNldFNpbmdsZVZlYzQoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtNGYobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0sIHZhbHVlWzNdKTsgfSxcblxuICAgIGludDogZnVuY3Rpb24gc2V0U2luZ2xlSW50KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgaXZlYzI6IGZ1bmN0aW9uIHNldFNpbmdsZUl2ZWMyKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0pOyB9LFxuICAgIGl2ZWMzOiBmdW5jdGlvbiBzZXRTaW5nbGVJdmVjMyhnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0zaShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSk7IH0sXG4gICAgaXZlYzQ6IGZ1bmN0aW9uIHNldFNpbmdsZUl2ZWM0KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdLCB2YWx1ZVszXSk7IH0sXG5cbiAgICBib29sOiBmdW5jdGlvbiBzZXRTaW5nbGVCb29sKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgYnZlYzI6IGZ1bmN0aW9uIHNldFNpbmdsZUJ2ZWMyKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0pOyB9LFxuICAgIGJ2ZWMzOiBmdW5jdGlvbiBzZXRTaW5nbGVCdmVjMyhnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0zaShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSk7IH0sXG4gICAgYnZlYzQ6IGZ1bmN0aW9uIHNldFNpbmdsZUJ2ZWM0KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdLCB2YWx1ZVszXSk7IH0sXG5cbiAgICBtYXQyOiBmdW5jdGlvbiBzZXRTaW5nbGVNYXQyKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHZhbHVlKTsgfSxcbiAgICBtYXQzOiBmdW5jdGlvbiBzZXRTaW5nbGVNYXQzKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHZhbHVlKTsgfSxcbiAgICBtYXQ0OiBmdW5jdGlvbiBzZXRTaW5nbGVNYXQ0KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHZhbHVlKTsgfSxcblxuICAgIHNhbXBsZXIyRDogZnVuY3Rpb24gc2V0U2luZ2xlU2FtcGxlcjJEKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG59O1xuXG52YXIgR0xTTF9BUlJBWV9TRVRURVJTID0ge1xuICAgIGZsb2F0OiBmdW5jdGlvbiBzZXRGbG9hdEFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFmdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIHZlYzI6IGZ1bmN0aW9uIHNldFZlYzJBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0yZnYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICB2ZWMzOiBmdW5jdGlvbiBzZXRWZWMzQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtM2Z2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgdmVjNDogZnVuY3Rpb24gc2V0VmVjNEFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTRmdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGludDogZnVuY3Rpb24gc2V0SW50QXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgaXZlYzI6IGZ1bmN0aW9uIHNldEl2ZWMyQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgaXZlYzM6IGZ1bmN0aW9uIHNldEl2ZWMzQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgaXZlYzQ6IGZ1bmN0aW9uIHNldEl2ZWM0QXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgYm9vbDogZnVuY3Rpb24gc2V0Qm9vbEFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGJ2ZWMyOiBmdW5jdGlvbiBzZXRCdmVjMkFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGJ2ZWMzOiBmdW5jdGlvbiBzZXRCdmVjM0FycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGJ2ZWM0OiBmdW5jdGlvbiBzZXRCdmVjNEFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIHNhbXBsZXIyRDogZnVuY3Rpb24gc2V0U2FtcGxlcjJEQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG59O1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVNldHRlcihuYW1lLCB1bmlmb3JtKVxue1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLmRhdGFbbmFtZV0udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdmFyIGxvY2F0aW9uID0gdGhpcy5kYXRhW25hbWVdLmxvY2F0aW9uO1xuICAgICAgICBpZiAodW5pZm9ybS5zaXplID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBHTFNMX1NJTkdMRV9TRVRURVJTW3VuaWZvcm0udHlwZV0odGhpcy5nbCwgbG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGdsc2xTZXRBcnJheShnbCwgbG9jYXRpb24sIHR5cGUsIHZhbHVlKSB7XG4gICAgICAgICAgICBHTFNMX0FSUkFZX1NFVFRFUlNbdW5pZm9ybS50eXBlXSh0aGlzLmdsLCBsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0VW5pZm9ybUdyb3VwKG5hbWVUb2tlbnMsIHVuaWZvcm0pXG57XG4gICAgdmFyIGN1ciA9IHVuaWZvcm07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVUb2tlbnMubGVuZ3RoIC0gMTsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIG8gPSBjdXJbbmFtZVRva2Vuc1tpXV0gfHwge2RhdGE6e319O1xuICAgICAgICBjdXJbbmFtZVRva2Vuc1tpXV0gPSBvO1xuICAgICAgICBjdXIgPSBvO1xuICAgIH1cblxuICAgIHJldHVybiBjdXI7XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3Q7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuXG52YXIgX2V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudGVtaXR0ZXIpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX1RyYW5zZm9ybVN0YXRpYyA9IHJlcXVpcmUoJy4vVHJhbnNmb3JtU3RhdGljJyk7XG5cbnZhciBfVHJhbnNmb3JtU3RhdGljMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybVN0YXRpYyk7XG5cbnZhciBfVHJhbnNmb3JtID0gcmVxdWlyZSgnLi9UcmFuc2Zvcm0nKTtcblxudmFyIF9UcmFuc2Zvcm0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtKTtcblxudmFyIF9Cb3VuZHMgPSByZXF1aXJlKCcuL0JvdW5kcycpO1xuXG52YXIgX0JvdW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Cb3VuZHMpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLy8gX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbmV3IERpc3BsYXlPYmplY3QoKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBjbGFzcyBmb3IgYWxsIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgb24gdGhlIHNjcmVlbi5cbiAqIFRoaXMgaXMgYW4gYWJzdHJhY3QgY2xhc3MgYW5kIHNob3VsZCBub3QgYmUgdXNlZCBvbiBpdHMgb3duIHJhdGhlciBpdCBzaG91bGQgYmUgZXh0ZW5kZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBEaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgICBfaW5oZXJpdHMoRGlzcGxheU9iamVjdCwgX0V2ZW50RW1pdHRlcik7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERpc3BsYXlPYmplY3QoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEaXNwbGF5T2JqZWN0KTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRFbWl0dGVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIHZhciBUcmFuc2Zvcm1DbGFzcyA9IF9zZXR0aW5nczIuZGVmYXVsdC5UUkFOU0ZPUk1fTU9ERSA9PT0gX2NvbnN0LlRSQU5TRk9STV9NT0RFLlNUQVRJQyA/IF9UcmFuc2Zvcm1TdGF0aWMyLmRlZmF1bHQgOiBfVHJhbnNmb3JtMi5kZWZhdWx0O1xuXG4gICAgICAgIF90aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcblxuICAgICAgICAvLyBUT0RPOiBuZWVkIHRvIGNyZWF0ZSBUcmFuc2Zvcm0gZnJvbSBmYWN0b3J5XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXb3JsZCB0cmFuc2Zvcm0gYW5kIGxvY2FsIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAgICogVGhpcyB3aWxsIGJlY29tZSByZWFkLW9ubHkgbGF0ZXIsIHBsZWFzZSBkbyBub3QgYXNzaWduIGFueXRoaW5nIHRoZXJlIHVubGVzcyB5b3Uga25vdyB3aGF0IGFyZSB5b3UgZG9pbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm1CYXNlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybUNsYXNzKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcGFjaXR5IG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHZpc2liaWxpdHkgb2YgdGhlIG9iamVjdC4gSWYgZmFsc2UgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBkcmF3biwgYW5kXG4gICAgICAgICAqIHRoZSB1cGRhdGVUcmFuc2Zvcm0gZnVuY3Rpb24gd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmx5IGFmZmVjdHMgcmVjdXJzaXZlIGNhbGxzIGZyb20gcGFyZW50LiBZb3UgY2FuIGFzayBmb3IgYm91bmRzIG9yIGNhbGwgdXBkYXRlVHJhbnNmb3JtIG1hbnVhbGx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52aXNpYmxlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FuIHRoaXMgb2JqZWN0IGJlIHJlbmRlcmVkLCBpZiBmYWxzZSB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIGRyYXduIGJ1dCB0aGUgdXBkYXRlVHJhbnNmb3JtXG4gICAgICAgICAqIG1ldGhvZHMgd2lsbCBzdGlsbCBiZSBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ubHkgYWZmZWN0cyByZWN1cnNpdmUgY2FsbHMgZnJvbSBwYXJlbnQuIFlvdSBjYW4gYXNrIGZvciBib3VuZHMgbWFudWFsbHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmFibGUgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyIHRoYXQgY29udGFpbnMgdGhpcyBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGFyZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG11bHRpcGxpZWQgYWxwaGEgb2YgdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndvcmxkQWxwaGEgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJlYSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQgdG8uIFRoaXMgaXMgdXNlZCBhcyBtb3JlIG9mIGFuIG9wdGltaXNhdGlvblxuICAgICAgICAgKiByYXRoZXIgdGhhbiBmaWd1cmluZyBvdXQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGRpc3BsYXlPYmplY3QgZWFjaCBmcmFtZSB5b3UgY2FuIHNldCB0aGlzIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBBbHNvIHdvcmtzIGFzIGFuIGludGVyYWN0aW9uIG1hc2tcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5fZmlsdGVycyA9IG51bGw7XG4gICAgICAgIF90aGlzLl9lbmFibGVkRmlsdGVycyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMgb2JqZWN0LCB0aGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIGFuZCBzdG9yZSB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JvdW5kcyA9IG5ldyBfQm91bmRzMi5kZWZhdWx0KCk7XG4gICAgICAgIF90aGlzLl9ib3VuZHNJRCA9IDA7XG4gICAgICAgIF90aGlzLl9sYXN0Qm91bmRzSUQgPSAtMTtcbiAgICAgICAgX3RoaXMuX2JvdW5kc1JlY3QgPSBudWxsO1xuICAgICAgICBfdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9yaWdpbmFsLCBjYWNoZWQgbWFzayBvZiB0aGUgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N8UElYSS5TcHJpdGV9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWFzayA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkIHZpYSBkZXN0cm95KCkuIElmIHRydWUsIGl0IHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIGFkZGVkIHRvIGEgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I2FkZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgYWRkZWQgdG8uXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyByZW1vdmVkIGZyb20gYSBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmVtb3ZlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHJlbW92ZWQgZnJvbS5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBUT0RPIC0gT3B0aW1pemF0aW9uIHBhc3MhXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgLy8gbXVsdGlwbHkgdGhlIGFscGhhcy4uXG4gICAgICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiByZWN1cnNpdmVseSB1cGRhdGVzIHRyYW5zZm9ybSBvZiBhbGwgb2JqZWN0cyBmcm9tIHRoZSByb290IHRvIHRoaXMgb25lXG4gICAgICogaW50ZXJuYWwgZnVuY3Rpb24gZm9yIHRvTG9jYWwoKVxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIF9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Ll9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGFzIGEgcmVjdGFuZ2xlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2tpcFVwZGF0ZSAtIHNldHRpbmcgdG8gdHJ1ZSB3aWxsIHN0b3AgdGhlIHRyYW5zZm9ybXMgb2YgdGhlIHNjZW5lIGdyYXBoIGZyb21cbiAgICAgKiAgYmVpbmcgdXBkYXRlZC4gVGhpcyBtZWFucyB0aGUgY2FsY3VsYXRpb24gcmV0dXJuZWQgTUFZIGJlIG91dCBvZiBkYXRlIEJVVCB3aWxsIGdpdmUgeW91IGFcbiAgICAgKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdFxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IHRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhXG4gICAgICovXG5cblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIGdldEJvdW5kcyhza2lwVXBkYXRlLCByZWN0KSB7XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvdW5kc0lEICE9PSB0aGlzLl9sYXN0Qm91bmRzSUQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fYm91bmRzUmVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kc1JlY3QgPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9ib3VuZHNSZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGFzIGEgcmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvblxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYVxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzKHJlY3QpIHtcbiAgICAgICAgdmFyIHRyYW5zZm9ybVJlZiA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICB2YXIgcGFyZW50UmVmID0gdGhpcy5wYXJlbnQ7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybTtcblxuICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzKGZhbHNlLCByZWN0KTtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudFJlZjtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1SZWY7XG5cbiAgICAgICAgcmV0dXJuIGJvdW5kcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb3NpdGlvbiAtIFRoZSB3b3JsZCBvcmlnaW4gdG8gY2FsY3VsYXRlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCBjcmVhdGUgYSBuZXcgUG9pbnQpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAgICovXG5cblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnRvR2xvYmFsID0gZnVuY3Rpb24gdG9HbG9iYWwocG9zaXRpb24sIHBvaW50KSB7XG4gICAgICAgIHZhciBza2lwVXBkYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICAgICAgICBpZiAoIXNraXBVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgLy8gdGhpcyBwYXJlbnQgY2hlY2sgaXMgZm9yIGp1c3QgaW4gY2FzZSB0aGUgaXRlbSBpcyBhIHJvb3Qgb2JqZWN0LlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgd2UgbmVlZCB0byBnaXZlIGl0IGEgdGVtcG9yYXJ5IHBhcmVudCBzbyB0aGF0IGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gd29ya3MgY29ycmVjdGx5XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG1haW5seSB0byBhdm9pZCBhIHBhcmVudCBjaGVjayBpbiB0aGUgbWFpbiBsb29wLiBFdmVyeSBsaXR0bGUgaGVscHMgZm9yIHBlcmZvcm1hbmNlIDopXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIGxvdFxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBsb2NhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QgcmVsYXRpdmUgdG8gYW5vdGhlciBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb3NpdGlvbiAtIFRoZSB3b3JsZCBvcmlnaW4gdG8gY2FsY3VsYXRlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gW2Zyb21dIC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2FsY3VsYXRlIHRoZSBnbG9iYWwgcG9zaXRpb24gZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludClcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlPWZhbHNlXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gQSBwb2ludCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGlzIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0xvY2FsID0gZnVuY3Rpb24gdG9Mb2NhbChwb3NpdGlvbiwgZnJvbSwgcG9pbnQsIHNraXBVcGRhdGUpIHtcbiAgICAgICAgaWYgKGZyb20pIHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZnJvbS50b0dsb2JhbChwb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpbXBseSBhcHBseSB0aGUgbWF0cml4Li5cbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge31cbiAgICAvLyBPVkVSV1JJVEU7XG5cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgO1xuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUucmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge31cbiAgICAvLyBPVkVSV1JJVEU7XG5cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGFyZW50IENvbnRhaW5lciBvZiB0aGlzIERpc3BsYXlPYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBDb250YWluZXIgdG8gYWRkIHRoaXMgRGlzcGxheU9iamVjdCB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuQ29udGFpbmVyfSBUaGUgQ29udGFpbmVyIHRoYXQgdGhpcyBEaXNwbGF5T2JqZWN0IHdhcyBhZGRlZCB0b1xuICAgICAqL1xuICAgIDtcblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnNldFBhcmVudCA9IGZ1bmN0aW9uIHNldFBhcmVudChjb250YWluZXIpIHtcbiAgICAgICAgaWYgKCFjb250YWluZXIgfHwgIWNvbnRhaW5lci5hZGRDaGlsZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRQYXJlbnQ6IEFyZ3VtZW50IG11c3QgYmUgYSBDb250YWluZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBzZXQgdGhlIHBvc2l0aW9uLCBzY2FsZSwgc2tldyBhbmQgcGl2b3QgYXQgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlWD0xXSAtIFRoZSBYIHNjYWxlIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVk9MV0gLSBUaGUgWSBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdYPTBdIC0gVGhlIFggc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2tld1k9MF0gLSBUaGUgWSBza2V3IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwaXZvdFg9MF0gLSBUaGUgWCBwaXZvdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RZPTBdIC0gVGhlIFkgcGl2b3QgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICovXG5cblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHNldFRyYW5zZm9ybSgpIHtcbiAgICAgICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgICB2YXIgc2NhbGVYID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxO1xuICAgICAgICB2YXIgc2NhbGVZID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAxO1xuICAgICAgICB2YXIgcm90YXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDA7XG4gICAgICAgIHZhciBza2V3WCA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMDtcbiAgICAgICAgdmFyIHNrZXdZID0gYXJndW1lbnRzLmxlbmd0aCA+IDYgJiYgYXJndW1lbnRzWzZdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNl0gOiAwO1xuICAgICAgICB2YXIgcGl2b3RYID0gYXJndW1lbnRzLmxlbmd0aCA+IDcgJiYgYXJndW1lbnRzWzddICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbN10gOiAwO1xuICAgICAgICB2YXIgcGl2b3RZID0gYXJndW1lbnRzLmxlbmd0aCA+IDggJiYgYXJndW1lbnRzWzhdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbOF0gOiAwO1xuXG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHg7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHk7XG4gICAgICAgIHRoaXMuc2NhbGUueCA9ICFzY2FsZVggPyAxIDogc2NhbGVYO1xuICAgICAgICB0aGlzLnNjYWxlLnkgPSAhc2NhbGVZID8gMSA6IHNjYWxlWTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICB0aGlzLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB0aGlzLnBpdm90LnggPSBwaXZvdFg7XG4gICAgICAgIHRoaXMucGl2b3QueSA9IHBpdm90WTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmFzZSBkZXN0cm95IG1ldGhvZCBmb3IgZ2VuZXJpYyBkaXNwbGF5IG9iamVjdHMuIFRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICogcmVtb3ZlIHRoZSBkaXNwbGF5IG9iamVjdCBmcm9tIGl0cyBwYXJlbnQgQ29udGFpbmVyIGFzIHdlbGwgYXMgcmVtb3ZlXG4gICAgICogYWxsIGN1cnJlbnQgZXZlbnQgbGlzdGVuZXJzIGFuZCBpbnRlcm5hbCByZWZlcmVuY2VzLiBEbyBub3QgdXNlIGEgRGlzcGxheU9iamVjdFxuICAgICAqIGFmdGVyIGNhbGxpbmcgYGRlc3Ryb3lgLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbnVsbDtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3VycmVudEJvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX21hc2sgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKiBBbiBhbGlhcyB0byBwb3NpdGlvbi54XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhEaXNwbGF5T2JqZWN0LCBbe1xuICAgICAgICBrZXk6ICdfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBEaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICd4JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi54O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHkgYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIHdvcmxkIChwYXJlbnQpIGZhY3RvcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnd29ybGRUcmFuc2Zvcm0nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIGxvY2FsIGZhY3RvcnM6IHBvc2l0aW9uLCBzY2FsZSwgb3RoZXIgc3R1ZmZcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbG9jYWxUcmFuc2Zvcm0nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgb2JqZWN0IHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR8UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdwb3NpdGlvbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNvcHkodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fFBJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2NhbGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5zY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5zY2FsZS5jb3B5KHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZC5cbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fFBJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncGl2b3QnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5waXZvdDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waXZvdC5jb3B5KHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2tldyBmYWN0b3IgZm9yIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NrZXcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5za2V3O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnNrZXcuY29weSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvdGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncm90YXRpb24nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgb2JqZWN0IGlzIGdsb2JhbGx5IHZpc2libGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnd29ybGRWaXNpYmxlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXM7XG5cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0udmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaXRlbSA9IGl0ZW0ucGFyZW50O1xuICAgICAgICAgICAgfSB3aGlsZSAoaXRlbSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgYSBtYXNrIGZvciB0aGUgZGlzcGxheU9iamVjdC4gQSBtYXNrIGlzIGFuIG9iamVjdCB0aGF0IGxpbWl0cyB0aGUgdmlzaWJpbGl0eSBvZiBhblxuICAgICAgICAgKiBvYmplY3QgdG8gdGhlIHNoYXBlIG9mIHRoZSBtYXNrIGFwcGxpZWQgdG8gaXQuIEluIFBJWEkgYSByZWd1bGFyIG1hc2sgbXVzdCBiZSBhXG4gICAgICAgICAqIFBJWEkuR3JhcGhpY3Mgb3IgYSBQSVhJLlNwcml0ZSBvYmplY3QuIFRoaXMgYWxsb3dzIGZvciBtdWNoIGZhc3RlciBtYXNraW5nIGluIGNhbnZhcyBhcyBpdFxuICAgICAgICAgKiB1dGlsaXNlcyBzaGFwZSBjbGlwcGluZy4gVG8gcmVtb3ZlIGEgbWFzaywgc2V0IHRoaXMgcHJvcGVydHkgdG8gbnVsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHRvZG8gRm9yIHRoZSBtb21lbnQsIFBJWEkuQ2FudmFzUmVuZGVyZXIgZG9lc24ndCBzdXBwb3J0IFBJWEkuU3ByaXRlIGFzIG1hc2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N8UElYSS5TcHJpdGV9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdtYXNrJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFzaztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hc2sucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzay5pc01hc2sgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fbWFzayA9IHZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hc2sucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hc2suaXNNYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBmaWx0ZXJzIGZvciB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSB3ZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKiBUbyByZW1vdmUgZmlsdGVycyBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gJ251bGwnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyW119XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmaWx0ZXJzJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsdGVycyAmJiB0aGlzLl9maWx0ZXJzLnNsaWNlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmlsdGVycyA9IHZhbHVlICYmIHZhbHVlLnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRGlzcGxheU9iamVjdDtcbn0oX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdCk7XG5cbi8vIHBlcmZvcm1hbmNlIGluY3JlYXNlIHRvIGF2b2lkIHVzaW5nIGNhbGwuLiAoMTB4IGZhc3RlcilcblxuXG5leHBvcnRzLmRlZmF1bHQgPSBEaXNwbGF5T2JqZWN0O1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSA9IERpc3BsYXlPYmplY3QucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURpc3BsYXlPYmplY3QuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfVHJhbnNmb3JtQmFzZTIgPSByZXF1aXJlKCcuL1RyYW5zZm9ybUJhc2UnKTtcblxudmFyIF9UcmFuc2Zvcm1CYXNlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybUJhc2UyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGF0IHRha2VzIGNhcmUgYWJvdXQgaXRzIHZlcnNpb25zXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlRyYW5zZm9ybUJhc2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUcmFuc2Zvcm1TdGF0aWMgPSBmdW5jdGlvbiAoX1RyYW5zZm9ybUJhc2UpIHtcbiAgICBfaW5oZXJpdHMoVHJhbnNmb3JtU3RhdGljLCBfVHJhbnNmb3JtQmFzZSk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRyYW5zZm9ybVN0YXRpYygpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zZm9ybVN0YXRpYyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgKlxuICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfVHJhbnNmb3JtQmFzZS5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5wb3NpdGlvbiA9IG5ldyBfbWF0aC5PYnNlcnZhYmxlUG9pbnQoX3RoaXMub25DaGFuZ2UsIF90aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIGZhY3RvciBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjYWxlID0gbmV3IF9tYXRoLk9ic2VydmFibGVQb2ludChfdGhpcy5vbkNoYW5nZSwgX3RoaXMsIDEsIDEpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXZvdCA9IG5ldyBfbWF0aC5PYnNlcnZhYmxlUG9pbnQoX3RoaXMub25DaGFuZ2UsIF90aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgYW1vdW50LCBvbiB0aGUgeCBhbmQgeSBheGlzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNrZXcgPSBuZXcgX21hdGguT2JzZXJ2YWJsZVBvaW50KF90aGlzLnVwZGF0ZVNrZXcsIF90aGlzLCAwLCAwKTtcblxuICAgICAgICBfdGhpcy5fcm90YXRpb24gPSAwO1xuXG4gICAgICAgIF90aGlzLl9jeCA9IDE7IC8vIGNvcyByb3RhdGlvbiArIHNrZXdZO1xuICAgICAgICBfdGhpcy5fc3ggPSAwOyAvLyBzaW4gcm90YXRpb24gKyBza2V3WTtcbiAgICAgICAgX3RoaXMuX2N5ID0gMDsgLy8gY29zIHJvdGF0aW9uICsgTWF0aC5QSS8yIC0gc2tld1g7XG4gICAgICAgIF90aGlzLl9zeSA9IDE7IC8vIHNpbiByb3RhdGlvbiArIE1hdGguUEkvMiAtIHNrZXdYO1xuXG4gICAgICAgIF90aGlzLl9sb2NhbElEID0gMDtcbiAgICAgICAgX3RoaXMuX2N1cnJlbnRMb2NhbElEID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGEgdmFsdWUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRyYW5zZm9ybVN0YXRpYy5wcm90b3R5cGUub25DaGFuZ2UgPSBmdW5jdGlvbiBvbkNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBza2V3IG9yIHJvdGF0aW9uIGNoYW5nZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRyYW5zZm9ybVN0YXRpYy5wcm90b3R5cGUudXBkYXRlU2tldyA9IGZ1bmN0aW9uIHVwZGF0ZVNrZXcoKSB7XG4gICAgICAgIHRoaXMuX2N4ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcuX3kpO1xuICAgICAgICB0aGlzLl9zeCA9IE1hdGguc2luKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3Ll95KTtcbiAgICAgICAgdGhpcy5fY3kgPSAtTWF0aC5zaW4odGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcuX3gpOyAvLyBjb3MsIGFkZGVkIFBJLzJcbiAgICAgICAgdGhpcy5fc3kgPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy5feCk7IC8vIHNpbiwgYWRkZWQgUEkvMlxuXG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBvbmx5IGxvY2FsIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBUcmFuc2Zvcm1TdGF0aWMucHJvdG90eXBlLnVwZGF0ZUxvY2FsVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlTG9jYWxUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICAgICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS5feTtcbiAgICAgICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUuX3k7XG5cbiAgICAgICAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi5feCAtICh0aGlzLnBpdm90Ll94ICogbHQuYSArIHRoaXMucGl2b3QuX3kgKiBsdC5jKTtcbiAgICAgICAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi5feSAtICh0aGlzLnBpdm90Ll94ICogbHQuYiArIHRoaXMucGl2b3QuX3kgKiBsdC5kKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcblxuICAgICAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdmFsdWVzIG9mIHRoZSBvYmplY3QgYW5kIGFwcGxpZXMgdGhlIHBhcmVudCdzIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHBhcmVudFRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gb2YgdGhlIHBhcmVudCBvZiB0aGlzIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBUcmFuc2Zvcm1TdGF0aWMucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybShwYXJlbnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcblxuICAgICAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgbWF0cml4IHZhbHVlcyBvZiB0aGUgZGlzcGxheW9iamVjdCBiYXNlZCBvbiBpdHMgdHJhbnNmb3JtIHByb3BlcnRpZXMuLlxuICAgICAgICAgICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS5feDtcbiAgICAgICAgICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgICAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLl95O1xuICAgICAgICAgICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS5feTtcblxuICAgICAgICAgICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLl94IC0gKHRoaXMucGl2b3QuX3ggKiBsdC5hICsgdGhpcy5waXZvdC5feSAqIGx0LmMpO1xuICAgICAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLl95IC0gKHRoaXMucGl2b3QuX3ggKiBsdC5iICsgdGhpcy5waXZvdC5feSAqIGx0LmQpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSB0aGlzLl9sb2NhbElEO1xuXG4gICAgICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9wYXJlbnRJRCAhPT0gcGFyZW50VHJhbnNmb3JtLl93b3JsZElEKSB7XG4gICAgICAgICAgICAvLyBjb25jYXQgdGhlIHBhcmVudCBtYXRyaXggd2l0aCB0aGUgb2JqZWN0cyB0cmFuc2Zvcm0uXG4gICAgICAgICAgICB2YXIgcHQgPSBwYXJlbnRUcmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICB2YXIgd3QgPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICB3dC5hID0gbHQuYSAqIHB0LmEgKyBsdC5iICogcHQuYztcbiAgICAgICAgICAgIHd0LmIgPSBsdC5hICogcHQuYiArIGx0LmIgKiBwdC5kO1xuICAgICAgICAgICAgd3QuYyA9IGx0LmMgKiBwdC5hICsgbHQuZCAqIHB0LmM7XG4gICAgICAgICAgICB3dC5kID0gbHQuYyAqIHB0LmIgKyBsdC5kICogcHQuZDtcbiAgICAgICAgICAgIHd0LnR4ID0gbHQudHggKiBwdC5hICsgbHQudHkgKiBwdC5jICsgcHQudHg7XG4gICAgICAgICAgICB3dC50eSA9IGx0LnR4ICogcHQuYiArIGx0LnR5ICogcHQuZCArIHB0LnR5O1xuXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRDtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBpZCBvZiB0aGUgdHJhbnNmb3JtLi5cbiAgICAgICAgICAgIHRoaXMuX3dvcmxkSUQrKztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIGEgbWF0cml4IGFuZCBzZXRzIHRoZSB0cmFuc2Zvcm1zIHByb3BlcnRpZXMgYmFzZWQgb24gaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGRlY29tcG9zZVxuICAgICAqL1xuXG5cbiAgICBUcmFuc2Zvcm1TdGF0aWMucHJvdG90eXBlLnNldEZyb21NYXRyaXggPSBmdW5jdGlvbiBzZXRGcm9tTWF0cml4KG1hdHJpeCkge1xuICAgICAgICBtYXRyaXguZGVjb21wb3NlKHRoaXMpO1xuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUcmFuc2Zvcm1TdGF0aWMsIFt7XG4gICAgICAgIGtleTogJ3JvdGF0aW9uJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW9uICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTa2V3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVHJhbnNmb3JtU3RhdGljO1xufShfVHJhbnNmb3JtQmFzZTMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRyYW5zZm9ybVN0YXRpYztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyYW5zZm9ybVN0YXRpYy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxudmFyIF9UcmFuc2Zvcm1CYXNlMiA9IHJlcXVpcmUoJy4vVHJhbnNmb3JtQmFzZScpO1xuXG52YXIgX1RyYW5zZm9ybUJhc2UzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtQmFzZTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogR2VuZXJpYyBjbGFzcyB0byBkZWFsIHdpdGggdHJhZGl0aW9uYWwgMkQgbWF0cml4IHRyYW5zZm9ybXNcbiAqIGxvY2FsIHRyYW5zZm9ybWF0aW9uIGlzIGNhbGN1bGF0ZWQgZnJvbSBwb3NpdGlvbixzY2FsZSxza2V3IGFuZCByb3RhdGlvblxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5UcmFuc2Zvcm1CYXNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVHJhbnNmb3JtID0gZnVuY3Rpb24gKF9UcmFuc2Zvcm1CYXNlKSB7XG4gIF9pbmhlcml0cyhUcmFuc2Zvcm0sIF9UcmFuc2Zvcm1CYXNlKTtcblxuICAvKipcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIFRyYW5zZm9ybSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhbnNmb3JtKTtcblxuICAgIC8qKlxuICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAqXG4gICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICovXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1RyYW5zZm9ybUJhc2UuY2FsbCh0aGlzKSk7XG5cbiAgICBfdGhpcy5wb3NpdGlvbiA9IG5ldyBfbWF0aC5Qb2ludCgwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICovXG4gICAgX3RoaXMuc2NhbGUgPSBuZXcgX21hdGguUG9pbnQoMSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2tldyBhbW91bnQsIG9uIHRoZSB4IGFuZCB5IGF4aXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICBfdGhpcy5za2V3ID0gbmV3IF9tYXRoLk9ic2VydmFibGVQb2ludChfdGhpcy51cGRhdGVTa2V3LCBfdGhpcywgMCwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICovXG4gICAgX3RoaXMucGl2b3QgPSBuZXcgX21hdGguUG9pbnQoMCwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm90YXRpb24gdmFsdWUgb2YgdGhlIG9iamVjdCwgaW4gcmFkaWFuc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7TnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RoaXMuX3JvdGF0aW9uID0gMDtcblxuICAgIF90aGlzLl9jeCA9IDE7IC8vIGNvcyByb3RhdGlvbiArIHNrZXdZO1xuICAgIF90aGlzLl9zeCA9IDA7IC8vIHNpbiByb3RhdGlvbiArIHNrZXdZO1xuICAgIF90aGlzLl9jeSA9IDA7IC8vIGNvcyByb3RhdGlvbiArIE1hdGguUEkvMiAtIHNrZXdYO1xuICAgIF90aGlzLl9zeSA9IDE7IC8vIHNpbiByb3RhdGlvbiArIE1hdGguUEkvMiAtIHNrZXdYO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBza2V3IHZhbHVlcyB3aGVuIHRoZSBza2V3IG9yIHJvdGF0aW9uIGNoYW5nZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVTa2V3ID0gZnVuY3Rpb24gdXBkYXRlU2tldygpIHtcbiAgICB0aGlzLl9jeCA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3Ll95KTtcbiAgICB0aGlzLl9zeCA9IE1hdGguc2luKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3Ll95KTtcbiAgICB0aGlzLl9jeSA9IC1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy5feCk7IC8vIGNvcywgYWRkZWQgUEkvMlxuICAgIHRoaXMuX3N5ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcuX3gpOyAvLyBzaW4sIGFkZGVkIFBJLzJcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyBvbmx5IGxvY2FsIG1hdHJpeFxuICAgKi9cblxuXG4gIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlTG9jYWxUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVMb2NhbFRyYW5zZm9ybSgpIHtcbiAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuXG4gICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS54O1xuICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUueDtcbiAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS55O1xuXG4gICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLnggLSAodGhpcy5waXZvdC54ICogbHQuYSArIHRoaXMucGl2b3QueSAqIGx0LmMpO1xuICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi55IC0gKHRoaXMucGl2b3QueCAqIGx0LmIgKyB0aGlzLnBpdm90LnkgKiBsdC5kKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgdmFsdWVzIG9mIHRoZSBvYmplY3QgYW5kIGFwcGxpZXMgdGhlIHBhcmVudCdzIHRyYW5zZm9ybS5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gcGFyZW50VHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSBvZiB0aGUgcGFyZW50IG9mIHRoaXMgb2JqZWN0XG4gICAqL1xuXG5cbiAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0ocGFyZW50VHJhbnNmb3JtKSB7XG4gICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcblxuICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUueDtcbiAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLng7XG4gICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS55O1xuICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUueTtcblxuICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi54IC0gKHRoaXMucGl2b3QueCAqIGx0LmEgKyB0aGlzLnBpdm90LnkgKiBsdC5jKTtcbiAgICBsdC50eSA9IHRoaXMucG9zaXRpb24ueSAtICh0aGlzLnBpdm90LnggKiBsdC5iICsgdGhpcy5waXZvdC55ICogbHQuZCk7XG5cbiAgICAvLyBjb25jYXQgdGhlIHBhcmVudCBtYXRyaXggd2l0aCB0aGUgb2JqZWN0cyB0cmFuc2Zvcm0uXG4gICAgdmFyIHB0ID0gcGFyZW50VHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIHZhciB3dCA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG5cbiAgICB3dC5hID0gbHQuYSAqIHB0LmEgKyBsdC5iICogcHQuYztcbiAgICB3dC5iID0gbHQuYSAqIHB0LmIgKyBsdC5iICogcHQuZDtcbiAgICB3dC5jID0gbHQuYyAqIHB0LmEgKyBsdC5kICogcHQuYztcbiAgICB3dC5kID0gbHQuYyAqIHB0LmIgKyBsdC5kICogcHQuZDtcbiAgICB3dC50eCA9IGx0LnR4ICogcHQuYSArIGx0LnR5ICogcHQuYyArIHB0LnR4O1xuICAgIHd0LnR5ID0gbHQudHggKiBwdC5iICsgbHQudHkgKiBwdC5kICsgcHQudHk7XG5cbiAgICB0aGlzLl93b3JsZElEKys7XG4gIH07XG5cbiAgLyoqXG4gICAqIERlY29tcG9zZXMgYSBtYXRyaXggYW5kIHNldHMgdGhlIHRyYW5zZm9ybXMgcHJvcGVydGllcyBiYXNlZCBvbiBpdC5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBkZWNvbXBvc2VcbiAgICovXG5cblxuICBUcmFuc2Zvcm0ucHJvdG90eXBlLnNldEZyb21NYXRyaXggPSBmdW5jdGlvbiBzZXRGcm9tTWF0cml4KG1hdHJpeCkge1xuICAgIG1hdHJpeC5kZWNvbXBvc2UodGhpcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoVHJhbnNmb3JtLCBbe1xuICAgIGtleTogJ3JvdGF0aW9uJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICB0aGlzLl9yb3RhdGlvbiA9IHZhbHVlO1xuICAgICAgdGhpcy51cGRhdGVTa2V3KCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRyYW5zZm9ybTtcbn0oX1RyYW5zZm9ybUJhc2UzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUcmFuc2Zvcm07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc2Zvcm0uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW47XG5cbnZhciBfdXJsMiA9IHJlcXVpcmUoJ3VybCcpO1xuXG52YXIgX3VybDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91cmwyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHRlbXBBbmNob3IgPSB2b2lkIDA7XG5cbi8qKlxuICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gKiBmb3IgdGhpcyByZXNvdXJjZSBpcyBjcm9zcy1vcmlnaW4uIElmIGNyb3NzT3JpZ2luIHdhcyBtYW51YWxseSBzZXQsIHRoaXNcbiAqIGZ1bmN0aW9uIGRvZXMgbm90aGluZy5cbiAqIE5pcHBlZCBmcm9tIHRoZSByZXNvdXJjZSBsb2FkZXIhXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gdGVzdC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbbG9jPXdpbmRvdy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNyb3NzT3JpZ2luIHZhbHVlIHRvIHVzZSAob3IgZW1wdHkgc3RyaW5nIGZvciBub25lKS5cbiAqL1xuZnVuY3Rpb24gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsKSB7XG4gICAgdmFyIGxvYyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogd2luZG93LmxvY2F0aW9uO1xuXG4gICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8vIGRlZmF1bHQgaXMgd2luZG93LmxvY2F0aW9uXG4gICAgbG9jID0gbG9jIHx8IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgIGlmICghdGVtcEFuY2hvcikge1xuICAgICAgICB0ZW1wQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIH1cblxuICAgIC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG4gICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgIHVybCA9IF91cmwzLmRlZmF1bHQucGFyc2UodGVtcEFuY2hvci5ocmVmKTtcblxuICAgIHZhciBzYW1lUG9ydCA9ICF1cmwucG9ydCAmJiBsb2MucG9ydCA9PT0gJycgfHwgdXJsLnBvcnQgPT09IGxvYy5wb3J0O1xuXG4gICAgLy8gaWYgY3Jvc3Mgb3JpZ2luXG4gICAgaWYgKHVybC5ob3N0bmFtZSAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCB1cmwucHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4uanMubWFwIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHB1bnljb2RlID0gcmVxdWlyZSgncHVueWNvZGUnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmV4cG9ydHMucGFyc2UgPSB1cmxQYXJzZTtcbmV4cG9ydHMucmVzb2x2ZSA9IHVybFJlc29sdmU7XG5leHBvcnRzLnJlc29sdmVPYmplY3QgPSB1cmxSZXNvbHZlT2JqZWN0O1xuZXhwb3J0cy5mb3JtYXQgPSB1cmxGb3JtYXQ7XG5cbmV4cG9ydHMuVXJsID0gVXJsO1xuXG5mdW5jdGlvbiBVcmwoKSB7XG4gIHRoaXMucHJvdG9jb2wgPSBudWxsO1xuICB0aGlzLnNsYXNoZXMgPSBudWxsO1xuICB0aGlzLmF1dGggPSBudWxsO1xuICB0aGlzLmhvc3QgPSBudWxsO1xuICB0aGlzLnBvcnQgPSBudWxsO1xuICB0aGlzLmhvc3RuYW1lID0gbnVsbDtcbiAgdGhpcy5oYXNoID0gbnVsbDtcbiAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgdGhpcy5wYXRobmFtZSA9IG51bGw7XG4gIHRoaXMucGF0aCA9IG51bGw7XG4gIHRoaXMuaHJlZiA9IG51bGw7XG59XG5cbi8vIFJlZmVyZW5jZTogUkZDIDM5ODYsIFJGQyAxODA4LCBSRkMgMjM5NlxuXG4vLyBkZWZpbmUgdGhlc2UgaGVyZSBzbyBhdCBsZWFzdCB0aGV5IG9ubHkgaGF2ZSB0byBiZVxuLy8gY29tcGlsZWQgb25jZSBvbiB0aGUgZmlyc3QgbW9kdWxlIGxvYWQuXG52YXIgcHJvdG9jb2xQYXR0ZXJuID0gL14oW2EtejAtOS4rLV0rOikvaSxcbiAgICBwb3J0UGF0dGVybiA9IC86WzAtOV0qJC8sXG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIGEgc2ltcGxlIHBhdGggVVJMXG4gICAgc2ltcGxlUGF0aFBhdHRlcm4gPSAvXihcXC9cXC8/KD8hXFwvKVteXFw/XFxzXSopKFxcP1teXFxzXSopPyQvLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgcmVzZXJ2ZWQgZm9yIGRlbGltaXRpbmcgVVJMcy5cbiAgICAvLyBXZSBhY3R1YWxseSBqdXN0IGF1dG8tZXNjYXBlIHRoZXNlLlxuICAgIGRlbGltcyA9IFsnPCcsICc+JywgJ1wiJywgJ2AnLCAnICcsICdcXHInLCAnXFxuJywgJ1xcdCddLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgbm90IGFsbG93ZWQgZm9yIHZhcmlvdXMgcmVhc29ucy5cbiAgICB1bndpc2UgPSBbJ3snLCAnfScsICd8JywgJ1xcXFwnLCAnXicsICdgJ10uY29uY2F0KGRlbGltcyksXG5cbiAgICAvLyBBbGxvd2VkIGJ5IFJGQ3MsIGJ1dCBjYXVzZSBvZiBYU1MgYXR0YWNrcy4gIEFsd2F5cyBlc2NhcGUgdGhlc2UuXG4gICAgYXV0b0VzY2FwZSA9IFsnXFwnJ10uY29uY2F0KHVud2lzZSksXG4gICAgLy8gQ2hhcmFjdGVycyB0aGF0IGFyZSBuZXZlciBldmVyIGFsbG93ZWQgaW4gYSBob3N0bmFtZS5cbiAgICAvLyBOb3RlIHRoYXQgYW55IGludmFsaWQgY2hhcnMgYXJlIGFsc28gaGFuZGxlZCwgYnV0IHRoZXNlXG4gICAgLy8gYXJlIHRoZSBvbmVzIHRoYXQgYXJlICpleHBlY3RlZCogdG8gYmUgc2Vlbiwgc28gd2UgZmFzdC1wYXRoXG4gICAgLy8gdGhlbS5cbiAgICBub25Ib3N0Q2hhcnMgPSBbJyUnLCAnLycsICc/JywgJzsnLCAnIyddLmNvbmNhdChhdXRvRXNjYXBlKSxcbiAgICBob3N0RW5kaW5nQ2hhcnMgPSBbJy8nLCAnPycsICcjJ10sXG4gICAgaG9zdG5hbWVNYXhMZW4gPSAyNTUsXG4gICAgaG9zdG5hbWVQYXJ0UGF0dGVybiA9IC9eWythLXowLTlBLVpfLV17MCw2M30kLyxcbiAgICBob3N0bmFtZVBhcnRTdGFydCA9IC9eKFsrYS16MC05QS1aXy1dezAsNjN9KSguKikkLyxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBjYW4gYWxsb3cgXCJ1bnNhZmVcIiBhbmQgXCJ1bndpc2VcIiBjaGFycy5cbiAgICB1bnNhZmVQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IG5ldmVyIGhhdmUgYSBob3N0bmFtZS5cbiAgICBob3N0bGVzc1Byb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgYWx3YXlzIGNvbnRhaW4gYSAvLyBiaXQuXG4gICAgc2xhc2hlZFByb3RvY29sID0ge1xuICAgICAgJ2h0dHAnOiB0cnVlLFxuICAgICAgJ2h0dHBzJzogdHJ1ZSxcbiAgICAgICdmdHAnOiB0cnVlLFxuICAgICAgJ2dvcGhlcic6IHRydWUsXG4gICAgICAnZmlsZSc6IHRydWUsXG4gICAgICAnaHR0cDonOiB0cnVlLFxuICAgICAgJ2h0dHBzOic6IHRydWUsXG4gICAgICAnZnRwOic6IHRydWUsXG4gICAgICAnZ29waGVyOic6IHRydWUsXG4gICAgICAnZmlsZTonOiB0cnVlXG4gICAgfSxcbiAgICBxdWVyeXN0cmluZyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJyk7XG5cbmZ1bmN0aW9uIHVybFBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKHVybCAmJiB1dGlsLmlzT2JqZWN0KHVybCkgJiYgdXJsIGluc3RhbmNlb2YgVXJsKSByZXR1cm4gdXJsO1xuXG4gIHZhciB1ID0gbmV3IFVybDtcbiAgdS5wYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KTtcbiAgcmV0dXJuIHU7XG59XG5cblVybC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbih1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICghdXRpbC5pc1N0cmluZyh1cmwpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlciAndXJsJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgXCIgKyB0eXBlb2YgdXJsKTtcbiAgfVxuXG4gIC8vIENvcHkgY2hyb21lLCBJRSwgb3BlcmEgYmFja3NsYXNoLWhhbmRsaW5nIGJlaGF2aW9yLlxuICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXNcbiAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTZcbiAgdmFyIHF1ZXJ5SW5kZXggPSB1cmwuaW5kZXhPZignPycpLFxuICAgICAgc3BsaXR0ZXIgPVxuICAgICAgICAgIChxdWVyeUluZGV4ICE9PSAtMSAmJiBxdWVyeUluZGV4IDwgdXJsLmluZGV4T2YoJyMnKSkgPyAnPycgOiAnIycsXG4gICAgICB1U3BsaXQgPSB1cmwuc3BsaXQoc3BsaXR0ZXIpLFxuICAgICAgc2xhc2hSZWdleCA9IC9cXFxcL2c7XG4gIHVTcGxpdFswXSA9IHVTcGxpdFswXS5yZXBsYWNlKHNsYXNoUmVnZXgsICcvJyk7XG4gIHVybCA9IHVTcGxpdC5qb2luKHNwbGl0dGVyKTtcblxuICB2YXIgcmVzdCA9IHVybDtcblxuICAvLyB0cmltIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgcGFyc2Ugc3R1ZmYgbGlrZSBcIiAgaHR0cDovL2Zvby5jb20gIFxcblwiXG4gIHJlc3QgPSByZXN0LnRyaW0oKTtcblxuICBpZiAoIXNsYXNoZXNEZW5vdGVIb3N0ICYmIHVybC5zcGxpdCgnIycpLmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIFRyeSBmYXN0IHBhdGggcmVnZXhwXG4gICAgdmFyIHNpbXBsZVBhdGggPSBzaW1wbGVQYXRoUGF0dGVybi5leGVjKHJlc3QpO1xuICAgIGlmIChzaW1wbGVQYXRoKSB7XG4gICAgICB0aGlzLnBhdGggPSByZXN0O1xuICAgICAgdGhpcy5ocmVmID0gcmVzdDtcbiAgICAgIHRoaXMucGF0aG5hbWUgPSBzaW1wbGVQYXRoWzFdO1xuICAgICAgaWYgKHNpbXBsZVBhdGhbMl0pIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBzaW1wbGVQYXRoWzJdO1xuICAgICAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnNlYXJjaC5zdWJzdHIoMSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLnNlYXJjaC5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0ge307XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvdG8gPSBwcm90b2NvbFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgaWYgKHByb3RvKSB7XG4gICAgcHJvdG8gPSBwcm90b1swXTtcbiAgICB2YXIgbG93ZXJQcm90byA9IHByb3RvLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5wcm90b2NvbCA9IGxvd2VyUHJvdG87XG4gICAgcmVzdCA9IHJlc3Quc3Vic3RyKHByb3RvLmxlbmd0aCk7XG4gIH1cblxuICAvLyBmaWd1cmUgb3V0IGlmIGl0J3MgZ290IGEgaG9zdFxuICAvLyB1c2VyQHNlcnZlciBpcyAqYWx3YXlzKiBpbnRlcnByZXRlZCBhcyBhIGhvc3RuYW1lLCBhbmQgdXJsXG4gIC8vIHJlc29sdXRpb24gd2lsbCB0cmVhdCAvL2Zvby9iYXIgYXMgaG9zdD1mb28scGF0aD1iYXIgYmVjYXVzZSB0aGF0J3NcbiAgLy8gaG93IHRoZSBicm93c2VyIHJlc29sdmVzIHJlbGF0aXZlIFVSTHMuXG4gIGlmIChzbGFzaGVzRGVub3RlSG9zdCB8fCBwcm90byB8fCByZXN0Lm1hdGNoKC9eXFwvXFwvW15AXFwvXStAW15AXFwvXSsvKSkge1xuICAgIHZhciBzbGFzaGVzID0gcmVzdC5zdWJzdHIoMCwgMikgPT09ICcvLyc7XG4gICAgaWYgKHNsYXNoZXMgJiYgIShwcm90byAmJiBob3N0bGVzc1Byb3RvY29sW3Byb3RvXSkpIHtcbiAgICAgIHJlc3QgPSByZXN0LnN1YnN0cigyKTtcbiAgICAgIHRoaXMuc2xhc2hlcyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFob3N0bGVzc1Byb3RvY29sW3Byb3RvXSAmJlxuICAgICAgKHNsYXNoZXMgfHwgKHByb3RvICYmICFzbGFzaGVkUHJvdG9jb2xbcHJvdG9dKSkpIHtcblxuICAgIC8vIHRoZXJlJ3MgYSBob3N0bmFtZS5cbiAgICAvLyB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgLywgPywgOywgb3IgIyBlbmRzIHRoZSBob3N0LlxuICAgIC8vXG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gQCBpbiB0aGUgaG9zdG5hbWUsIHRoZW4gbm9uLWhvc3QgY2hhcnMgKmFyZSogYWxsb3dlZFxuICAgIC8vIHRvIHRoZSBsZWZ0IG9mIHRoZSBsYXN0IEAgc2lnbiwgdW5sZXNzIHNvbWUgaG9zdC1lbmRpbmcgY2hhcmFjdGVyXG4gICAgLy8gY29tZXMgKmJlZm9yZSogdGhlIEAtc2lnbi5cbiAgICAvLyBVUkxzIGFyZSBvYm5veGlvdXMuXG4gICAgLy9cbiAgICAvLyBleDpcbiAgICAvLyBodHRwOi8vYUBiQGMvID0+IHVzZXI6YUBiIGhvc3Q6Y1xuICAgIC8vIGh0dHA6Ly9hQGI/QGMgPT4gdXNlcjphIGhvc3Q6YyBwYXRoOi8/QGNcblxuICAgIC8vIHYwLjEyIFRPRE8oaXNhYWNzKTogVGhpcyBpcyBub3QgcXVpdGUgaG93IENocm9tZSBkb2VzIHRoaW5ncy5cbiAgICAvLyBSZXZpZXcgb3VyIHRlc3QgY2FzZSBhZ2FpbnN0IGJyb3dzZXJzIG1vcmUgY29tcHJlaGVuc2l2ZWx5LlxuXG4gICAgLy8gZmluZCB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgYW55IGhvc3RFbmRpbmdDaGFyc1xuICAgIHZhciBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob3N0RW5kaW5nQ2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2YoaG9zdEVuZGluZ0NoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG5cbiAgICAvLyBhdCB0aGlzIHBvaW50LCBlaXRoZXIgd2UgaGF2ZSBhbiBleHBsaWNpdCBwb2ludCB3aGVyZSB0aGVcbiAgICAvLyBhdXRoIHBvcnRpb24gY2Fubm90IGdvIHBhc3QsIG9yIHRoZSBsYXN0IEAgY2hhciBpcyB0aGUgZGVjaWRlci5cbiAgICB2YXIgYXV0aCwgYXRTaWduO1xuICAgIGlmIChob3N0RW5kID09PSAtMSkge1xuICAgICAgLy8gYXRTaWduIGNhbiBiZSBhbnl3aGVyZS5cbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYXRTaWduIG11c3QgYmUgaW4gYXV0aCBwb3J0aW9uLlxuICAgICAgLy8gaHR0cDovL2FAYi9jQGQgPT4gaG9zdDpiIGF1dGg6YSBwYXRoOi9jQGRcbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnLCBob3N0RW5kKTtcbiAgICB9XG5cbiAgICAvLyBOb3cgd2UgaGF2ZSBhIHBvcnRpb24gd2hpY2ggaXMgZGVmaW5pdGVseSB0aGUgYXV0aC5cbiAgICAvLyBQdWxsIHRoYXQgb2ZmLlxuICAgIGlmIChhdFNpZ24gIT09IC0xKSB7XG4gICAgICBhdXRoID0gcmVzdC5zbGljZSgwLCBhdFNpZ24pO1xuICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoYXRTaWduICsgMSk7XG4gICAgICB0aGlzLmF1dGggPSBkZWNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgfVxuXG4gICAgLy8gdGhlIGhvc3QgaXMgdGhlIHJlbWFpbmluZyB0byB0aGUgbGVmdCBvZiB0aGUgZmlyc3Qgbm9uLWhvc3QgY2hhclxuICAgIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vbkhvc3RDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihub25Ib3N0Q2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cbiAgICAvLyBpZiB3ZSBzdGlsbCBoYXZlIG5vdCBoaXQgaXQsIHRoZW4gdGhlIGVudGlyZSB0aGluZyBpcyBhIGhvc3QuXG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKVxuICAgICAgaG9zdEVuZCA9IHJlc3QubGVuZ3RoO1xuXG4gICAgdGhpcy5ob3N0ID0gcmVzdC5zbGljZSgwLCBob3N0RW5kKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZShob3N0RW5kKTtcblxuICAgIC8vIHB1bGwgb3V0IHBvcnQuXG4gICAgdGhpcy5wYXJzZUhvc3QoKTtcblxuICAgIC8vIHdlJ3ZlIGluZGljYXRlZCB0aGF0IHRoZXJlIGlzIGEgaG9zdG5hbWUsXG4gICAgLy8gc28gZXZlbiBpZiBpdCdzIGVtcHR5LCBpdCBoYXMgdG8gYmUgcHJlc2VudC5cbiAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcblxuICAgIC8vIGlmIGhvc3RuYW1lIGJlZ2lucyB3aXRoIFsgYW5kIGVuZHMgd2l0aCBdXG4gICAgLy8gYXNzdW1lIHRoYXQgaXQncyBhbiBJUHY2IGFkZHJlc3MuXG4gICAgdmFyIGlwdjZIb3N0bmFtZSA9IHRoaXMuaG9zdG5hbWVbMF0gPT09ICdbJyAmJlxuICAgICAgICB0aGlzLmhvc3RuYW1lW3RoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMV0gPT09ICddJztcblxuICAgIC8vIHZhbGlkYXRlIGEgbGl0dGxlLlxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB2YXIgaG9zdHBhcnRzID0gdGhpcy5ob3N0bmFtZS5zcGxpdCgvXFwuLyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGhvc3RwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnQgPSBob3N0cGFydHNbaV07XG4gICAgICAgIGlmICghcGFydCkgY29udGludWU7XG4gICAgICAgIGlmICghcGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgIHZhciBuZXdwYXJ0ID0gJyc7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGsgPSBwYXJ0Lmxlbmd0aDsgaiA8IGs7IGorKykge1xuICAgICAgICAgICAgaWYgKHBhcnQuY2hhckNvZGVBdChqKSA+IDEyNykge1xuICAgICAgICAgICAgICAvLyB3ZSByZXBsYWNlIG5vbi1BU0NJSSBjaGFyIHdpdGggYSB0ZW1wb3JhcnkgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0aGlzIHRvIG1ha2Ugc3VyZSBzaXplIG9mIGhvc3RuYW1lIGlzIG5vdFxuICAgICAgICAgICAgICAvLyBicm9rZW4gYnkgcmVwbGFjaW5nIG5vbi1BU0NJSSBieSBub3RoaW5nXG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gJ3gnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3cGFydCArPSBwYXJ0W2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB3ZSB0ZXN0IGFnYWluIHdpdGggQVNDSUkgY2hhciBvbmx5XG4gICAgICAgICAgaWYgKCFuZXdwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgICB2YXIgdmFsaWRQYXJ0cyA9IGhvc3RwYXJ0cy5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgIHZhciBub3RIb3N0ID0gaG9zdHBhcnRzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgICAgIHZhciBiaXQgPSBwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChiaXQpIHtcbiAgICAgICAgICAgICAgdmFsaWRQYXJ0cy5wdXNoKGJpdFsxXSk7XG4gICAgICAgICAgICAgIG5vdEhvc3QudW5zaGlmdChiaXRbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vdEhvc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJlc3QgPSAnLycgKyBub3RIb3N0LmpvaW4oJy4nKSArIHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhvc3RuYW1lID0gdmFsaWRQYXJ0cy5qb2luKCcuJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob3N0bmFtZS5sZW5ndGggPiBob3N0bmFtZU1heExlbikge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBob3N0bmFtZXMgYXJlIGFsd2F5cyBsb3dlciBjYXNlLlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgLy8gSUROQSBTdXBwb3J0OiBSZXR1cm5zIGEgcHVueWNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIFwiZG9tYWluXCIuXG4gICAgICAvLyBJdCBvbmx5IGNvbnZlcnRzIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB0aGF0XG4gICAgICAvLyBoYXZlIG5vbi1BU0NJSSBjaGFyYWN0ZXJzLCBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmXG4gICAgICAvLyB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQgYWxyZWFkeSBpcyBBU0NJSS1vbmx5LlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5ob3N0bmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIHAgPSB0aGlzLnBvcnQgPyAnOicgKyB0aGlzLnBvcnQgOiAnJztcbiAgICB2YXIgaCA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG4gICAgdGhpcy5ob3N0ID0gaCArIHA7XG4gICAgdGhpcy5ocmVmICs9IHRoaXMuaG9zdDtcblxuICAgIC8vIHN0cmlwIFsgYW5kIF0gZnJvbSB0aGUgaG9zdG5hbWVcbiAgICAvLyB0aGUgaG9zdCBmaWVsZCBzdGlsbCByZXRhaW5zIHRoZW0sIHRob3VnaFxuICAgIGlmIChpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnN1YnN0cigxLCB0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgaWYgKHJlc3RbMF0gIT09ICcvJykge1xuICAgICAgICByZXN0ID0gJy8nICsgcmVzdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBub3cgcmVzdCBpcyBzZXQgdG8gdGhlIHBvc3QtaG9zdCBzdHVmZi5cbiAgLy8gY2hvcCBvZmYgYW55IGRlbGltIGNoYXJzLlxuICBpZiAoIXVuc2FmZVByb3RvY29sW2xvd2VyUHJvdG9dKSB7XG5cbiAgICAvLyBGaXJzdCwgbWFrZSAxMDAlIHN1cmUgdGhhdCBhbnkgXCJhdXRvRXNjYXBlXCIgY2hhcnMgZ2V0XG4gICAgLy8gZXNjYXBlZCwgZXZlbiBpZiBlbmNvZGVVUklDb21wb25lbnQgZG9lc24ndCB0aGluayB0aGV5XG4gICAgLy8gbmVlZCB0byBiZS5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF1dG9Fc2NhcGUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgYWUgPSBhdXRvRXNjYXBlW2ldO1xuICAgICAgaWYgKHJlc3QuaW5kZXhPZihhZSkgPT09IC0xKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIHZhciBlc2MgPSBlbmNvZGVVUklDb21wb25lbnQoYWUpO1xuICAgICAgaWYgKGVzYyA9PT0gYWUpIHtcbiAgICAgICAgZXNjID0gZXNjYXBlKGFlKTtcbiAgICAgIH1cbiAgICAgIHJlc3QgPSByZXN0LnNwbGl0KGFlKS5qb2luKGVzYyk7XG4gICAgfVxuICB9XG5cblxuICAvLyBjaG9wIG9mZiBmcm9tIHRoZSB0YWlsIGZpcnN0LlxuICB2YXIgaGFzaCA9IHJlc3QuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaCAhPT0gLTEpIHtcbiAgICAvLyBnb3QgYSBmcmFnbWVudCBzdHJpbmcuXG4gICAgdGhpcy5oYXNoID0gcmVzdC5zdWJzdHIoaGFzaCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgaGFzaCk7XG4gIH1cbiAgdmFyIHFtID0gcmVzdC5pbmRleE9mKCc/Jyk7XG4gIGlmIChxbSAhPT0gLTEpIHtcbiAgICB0aGlzLnNlYXJjaCA9IHJlc3Quc3Vic3RyKHFtKTtcbiAgICB0aGlzLnF1ZXJ5ID0gcmVzdC5zdWJzdHIocW0gKyAxKTtcbiAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMucXVlcnkpO1xuICAgIH1cbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBxbSk7XG4gIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgIC8vIG5vIHF1ZXJ5IHN0cmluZywgYnV0IHBhcnNlUXVlcnlTdHJpbmcgc3RpbGwgcmVxdWVzdGVkXG4gICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICB0aGlzLnF1ZXJ5ID0ge307XG4gIH1cbiAgaWYgKHJlc3QpIHRoaXMucGF0aG5hbWUgPSByZXN0O1xuICBpZiAoc2xhc2hlZFByb3RvY29sW2xvd2VyUHJvdG9dICYmXG4gICAgICB0aGlzLmhvc3RuYW1lICYmICF0aGlzLnBhdGhuYW1lKSB7XG4gICAgdGhpcy5wYXRobmFtZSA9ICcvJztcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgaWYgKHRoaXMucGF0aG5hbWUgfHwgdGhpcy5zZWFyY2gpIHtcbiAgICB2YXIgcCA9IHRoaXMucGF0aG5hbWUgfHwgJyc7XG4gICAgdmFyIHMgPSB0aGlzLnNlYXJjaCB8fCAnJztcbiAgICB0aGlzLnBhdGggPSBwICsgcztcbiAgfVxuXG4gIC8vIGZpbmFsbHksIHJlY29uc3RydWN0IHRoZSBocmVmIGJhc2VkIG9uIHdoYXQgaGFzIGJlZW4gdmFsaWRhdGVkLlxuICB0aGlzLmhyZWYgPSB0aGlzLmZvcm1hdCgpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGZvcm1hdCBhIHBhcnNlZCBvYmplY3QgaW50byBhIHVybCBzdHJpbmdcbmZ1bmN0aW9uIHVybEZvcm1hdChvYmopIHtcbiAgLy8gZW5zdXJlIGl0J3MgYW4gb2JqZWN0LCBhbmQgbm90IGEgc3RyaW5nIHVybC5cbiAgLy8gSWYgaXQncyBhbiBvYmosIHRoaXMgaXMgYSBuby1vcC5cbiAgLy8gdGhpcyB3YXksIHlvdSBjYW4gY2FsbCB1cmxfZm9ybWF0KCkgb24gc3RyaW5nc1xuICAvLyB0byBjbGVhbiB1cCBwb3RlbnRpYWxseSB3b25reSB1cmxzLlxuICBpZiAodXRpbC5pc1N0cmluZyhvYmopKSBvYmogPSB1cmxQYXJzZShvYmopO1xuICBpZiAoIShvYmogaW5zdGFuY2VvZiBVcmwpKSByZXR1cm4gVXJsLnByb3RvdHlwZS5mb3JtYXQuY2FsbChvYmopO1xuICByZXR1cm4gb2JqLmZvcm1hdCgpO1xufVxuXG5VcmwucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYXV0aCA9IHRoaXMuYXV0aCB8fCAnJztcbiAgaWYgKGF1dGgpIHtcbiAgICBhdXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIGF1dGggPSBhdXRoLnJlcGxhY2UoLyUzQS9pLCAnOicpO1xuICAgIGF1dGggKz0gJ0AnO1xuICB9XG5cbiAgdmFyIHByb3RvY29sID0gdGhpcy5wcm90b2NvbCB8fCAnJyxcbiAgICAgIHBhdGhuYW1lID0gdGhpcy5wYXRobmFtZSB8fCAnJyxcbiAgICAgIGhhc2ggPSB0aGlzLmhhc2ggfHwgJycsXG4gICAgICBob3N0ID0gZmFsc2UsXG4gICAgICBxdWVyeSA9ICcnO1xuXG4gIGlmICh0aGlzLmhvc3QpIHtcbiAgICBob3N0ID0gYXV0aCArIHRoaXMuaG9zdDtcbiAgfSBlbHNlIGlmICh0aGlzLmhvc3RuYW1lKSB7XG4gICAgaG9zdCA9IGF1dGggKyAodGhpcy5ob3N0bmFtZS5pbmRleE9mKCc6JykgPT09IC0xID9cbiAgICAgICAgdGhpcy5ob3N0bmFtZSA6XG4gICAgICAgICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScpO1xuICAgIGlmICh0aGlzLnBvcnQpIHtcbiAgICAgIGhvc3QgKz0gJzonICsgdGhpcy5wb3J0O1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLnF1ZXJ5ICYmXG4gICAgICB1dGlsLmlzT2JqZWN0KHRoaXMucXVlcnkpICYmXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgpIHtcbiAgICBxdWVyeSA9IHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeSh0aGlzLnF1ZXJ5KTtcbiAgfVxuXG4gIHZhciBzZWFyY2ggPSB0aGlzLnNlYXJjaCB8fCAocXVlcnkgJiYgKCc/JyArIHF1ZXJ5KSkgfHwgJyc7XG5cbiAgaWYgKHByb3RvY29sICYmIHByb3RvY29sLnN1YnN0cigtMSkgIT09ICc6JykgcHJvdG9jb2wgKz0gJzonO1xuXG4gIC8vIG9ubHkgdGhlIHNsYXNoZWRQcm90b2NvbHMgZ2V0IHRoZSAvLy4gIE5vdCBtYWlsdG86LCB4bXBwOiwgZXRjLlxuICAvLyB1bmxlc3MgdGhleSBoYWQgdGhlbSB0byBiZWdpbiB3aXRoLlxuICBpZiAodGhpcy5zbGFzaGVzIHx8XG4gICAgICAoIXByb3RvY29sIHx8IHNsYXNoZWRQcm90b2NvbFtwcm90b2NvbF0pICYmIGhvc3QgIT09IGZhbHNlKSB7XG4gICAgaG9zdCA9ICcvLycgKyAoaG9zdCB8fCAnJyk7XG4gICAgaWYgKHBhdGhuYW1lICYmIHBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSBwYXRobmFtZSA9ICcvJyArIHBhdGhuYW1lO1xuICB9IGVsc2UgaWYgKCFob3N0KSB7XG4gICAgaG9zdCA9ICcnO1xuICB9XG5cbiAgaWYgKGhhc2ggJiYgaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgaGFzaCA9ICcjJyArIGhhc2g7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBzZWFyY2ggPSAnPycgKyBzZWFyY2g7XG5cbiAgcGF0aG5hbWUgPSBwYXRobmFtZS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChtYXRjaCk7XG4gIH0pO1xuICBzZWFyY2ggPSBzZWFyY2gucmVwbGFjZSgnIycsICclMjMnKTtcblxuICByZXR1cm4gcHJvdG9jb2wgKyBob3N0ICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZShzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlKHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgcmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh1cmxQYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpKS5mb3JtYXQoKTtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmVPYmplY3Qoc291cmNlLCByZWxhdGl2ZSkge1xuICBpZiAoIXNvdXJjZSkgcmV0dXJuIHJlbGF0aXZlO1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZU9iamVjdChyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZU9iamVjdCA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIGlmICh1dGlsLmlzU3RyaW5nKHJlbGF0aXZlKSkge1xuICAgIHZhciByZWwgPSBuZXcgVXJsKCk7XG4gICAgcmVsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcmVsYXRpdmUgPSByZWw7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFVybCgpO1xuICB2YXIgdGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgZm9yICh2YXIgdGsgPSAwOyB0ayA8IHRrZXlzLmxlbmd0aDsgdGsrKykge1xuICAgIHZhciB0a2V5ID0gdGtleXNbdGtdO1xuICAgIHJlc3VsdFt0a2V5XSA9IHRoaXNbdGtleV07XG4gIH1cblxuICAvLyBoYXNoIGlzIGFsd2F5cyBvdmVycmlkZGVuLCBubyBtYXR0ZXIgd2hhdC5cbiAgLy8gZXZlbiBocmVmPVwiXCIgd2lsbCByZW1vdmUgaXQuXG4gIHJlc3VsdC5oYXNoID0gcmVsYXRpdmUuaGFzaDtcblxuICAvLyBpZiB0aGUgcmVsYXRpdmUgdXJsIGlzIGVtcHR5LCB0aGVuIHRoZXJlJ3Mgbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuXG4gIGlmIChyZWxhdGl2ZS5ocmVmID09PSAnJykge1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBocmVmcyBsaWtlIC8vZm9vL2JhciBhbHdheXMgY3V0IHRvIHRoZSBwcm90b2NvbC5cbiAgaWYgKHJlbGF0aXZlLnNsYXNoZXMgJiYgIXJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgLy8gdGFrZSBldmVyeXRoaW5nIGV4Y2VwdCB0aGUgcHJvdG9jb2wgZnJvbSByZWxhdGl2ZVxuICAgIHZhciBya2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICBmb3IgKHZhciByayA9IDA7IHJrIDwgcmtleXMubGVuZ3RoOyByaysrKSB7XG4gICAgICB2YXIgcmtleSA9IHJrZXlzW3JrXTtcbiAgICAgIGlmIChya2V5ICE9PSAncHJvdG9jb2wnKVxuICAgICAgICByZXN1bHRbcmtleV0gPSByZWxhdGl2ZVtya2V5XTtcbiAgICB9XG5cbiAgICAvL3VybFBhcnNlIGFwcGVuZHMgdHJhaWxpbmcgLyB0byB1cmxzIGxpa2UgaHR0cDovL3d3dy5leGFtcGxlLmNvbVxuICAgIGlmIChzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXSAmJlxuICAgICAgICByZXN1bHQuaG9zdG5hbWUgJiYgIXJlc3VsdC5wYXRobmFtZSkge1xuICAgICAgcmVzdWx0LnBhdGggPSByZXN1bHQucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuXG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmIChyZWxhdGl2ZS5wcm90b2NvbCAmJiByZWxhdGl2ZS5wcm90b2NvbCAhPT0gcmVzdWx0LnByb3RvY29sKSB7XG4gICAgLy8gaWYgaXQncyBhIGtub3duIHVybCBwcm90b2NvbCwgdGhlbiBjaGFuZ2luZ1xuICAgIC8vIHRoZSBwcm90b2NvbCBkb2VzIHdlaXJkIHRoaW5nc1xuICAgIC8vIGZpcnN0LCBpZiBpdCdzIG5vdCBmaWxlOiwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBob3N0LFxuICAgIC8vIGFuZCBpZiB0aGVyZSB3YXMgYSBwYXRoXG4gICAgLy8gdG8gYmVnaW4gd2l0aCwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBwYXRoLlxuICAgIC8vIGlmIGl0IGlzIGZpbGU6LCB0aGVuIHRoZSBob3N0IGlzIGRyb3BwZWQsXG4gICAgLy8gYmVjYXVzZSB0aGF0J3Mga25vd24gdG8gYmUgaG9zdGxlc3MuXG4gICAgLy8gYW55dGhpbmcgZWxzZSBpcyBhc3N1bWVkIHRvIGJlIGFic29sdXRlLlxuICAgIGlmICghc2xhc2hlZFByb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgdmFyIGsgPSBrZXlzW3ZdO1xuICAgICAgICByZXN1bHRba10gPSByZWxhdGl2ZVtrXTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXN1bHQucHJvdG9jb2wgPSByZWxhdGl2ZS5wcm90b2NvbDtcbiAgICBpZiAoIXJlbGF0aXZlLmhvc3QgJiYgIWhvc3RsZXNzUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIgcmVsUGF0aCA9IChyZWxhdGl2ZS5wYXRobmFtZSB8fCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIHdoaWxlIChyZWxQYXRoLmxlbmd0aCAmJiAhKHJlbGF0aXZlLmhvc3QgPSByZWxQYXRoLnNoaWZ0KCkpKTtcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdCkgcmVsYXRpdmUuaG9zdCA9ICcnO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0bmFtZSkgcmVsYXRpdmUuaG9zdG5hbWUgPSAnJztcbiAgICAgIGlmIChyZWxQYXRoWzBdICE9PSAnJykgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIGlmIChyZWxQYXRoLmxlbmd0aCA8IDIpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxQYXRoLmpvaW4oJy8nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsYXRpdmUucGF0aG5hbWU7XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgcmVzdWx0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0IHx8ICcnO1xuICAgIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0O1xuICAgIHJlc3VsdC5wb3J0ID0gcmVsYXRpdmUucG9ydDtcbiAgICAvLyB0byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQucGF0aG5hbWUgfHwgcmVzdWx0LnNlYXJjaCkge1xuICAgICAgdmFyIHAgPSByZXN1bHQucGF0aG5hbWUgfHwgJyc7XG4gICAgICB2YXIgcyA9IHJlc3VsdC5zZWFyY2ggfHwgJyc7XG4gICAgICByZXN1bHQucGF0aCA9IHAgKyBzO1xuICAgIH1cbiAgICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHZhciBpc1NvdXJjZUFicyA9IChyZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSxcbiAgICAgIGlzUmVsQWJzID0gKFxuICAgICAgICAgIHJlbGF0aXZlLmhvc3QgfHxcbiAgICAgICAgICByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJ1xuICAgICAgKSxcbiAgICAgIG11c3RFbmRBYnMgPSAoaXNSZWxBYnMgfHwgaXNTb3VyY2VBYnMgfHxcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5ob3N0ICYmIHJlbGF0aXZlLnBhdGhuYW1lKSksXG4gICAgICByZW1vdmVBbGxEb3RzID0gbXVzdEVuZEFicyxcbiAgICAgIHNyY1BhdGggPSByZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICByZWxQYXRoID0gcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHBzeWNob3RpYyA9IHJlc3VsdC5wcm90b2NvbCAmJiAhc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF07XG5cbiAgLy8gaWYgdGhlIHVybCBpcyBhIG5vbi1zbGFzaGVkIHVybCwgdGhlbiByZWxhdGl2ZVxuICAvLyBsaW5rcyBsaWtlIC4uLy4uIHNob3VsZCBiZSBhYmxlXG4gIC8vIHRvIGNyYXdsIHVwIHRvIHRoZSBob3N0bmFtZSwgYXMgd2VsbC4gIFRoaXMgaXMgc3RyYW5nZS5cbiAgLy8gcmVzdWx0LnByb3RvY29sIGhhcyBhbHJlYWR5IGJlZW4gc2V0IGJ5IG5vdy5cbiAgLy8gTGF0ZXIgb24sIHB1dCB0aGUgZmlyc3QgcGF0aCBwYXJ0IGludG8gdGhlIGhvc3QgZmllbGQuXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAnJztcbiAgICByZXN1bHQucG9ydCA9IG51bGw7XG4gICAgaWYgKHJlc3VsdC5ob3N0KSB7XG4gICAgICBpZiAoc3JjUGF0aFswXSA9PT0gJycpIHNyY1BhdGhbMF0gPSByZXN1bHQuaG9zdDtcbiAgICAgIGVsc2Ugc3JjUGF0aC51bnNoaWZ0KHJlc3VsdC5ob3N0KTtcbiAgICB9XG4gICAgcmVzdWx0Lmhvc3QgPSAnJztcbiAgICBpZiAocmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAgIHJlbGF0aXZlLmhvc3RuYW1lID0gbnVsbDtcbiAgICAgIHJlbGF0aXZlLnBvcnQgPSBudWxsO1xuICAgICAgaWYgKHJlbGF0aXZlLmhvc3QpIHtcbiAgICAgICAgaWYgKHJlbFBhdGhbMF0gPT09ICcnKSByZWxQYXRoWzBdID0gcmVsYXRpdmUuaG9zdDtcbiAgICAgICAgZWxzZSByZWxQYXRoLnVuc2hpZnQocmVsYXRpdmUuaG9zdCk7XG4gICAgICB9XG4gICAgICByZWxhdGl2ZS5ob3N0ID0gbnVsbDtcbiAgICB9XG4gICAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgJiYgKHJlbFBhdGhbMF0gPT09ICcnIHx8IHNyY1BhdGhbMF0gPT09ICcnKTtcbiAgfVxuXG4gIGlmIChpc1JlbEFicykge1xuICAgIC8vIGl0J3MgYWJzb2x1dGUuXG4gICAgcmVzdWx0Lmhvc3QgPSAocmVsYXRpdmUuaG9zdCB8fCByZWxhdGl2ZS5ob3N0ID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdCA6IHJlc3VsdC5ob3N0O1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IChyZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0bmFtZSA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0bmFtZSA6IHJlc3VsdC5ob3N0bmFtZTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHNyY1BhdGggPSByZWxQYXRoO1xuICAgIC8vIGZhbGwgdGhyb3VnaCB0byB0aGUgZG90LWhhbmRsaW5nIGJlbG93LlxuICB9IGVsc2UgaWYgKHJlbFBhdGgubGVuZ3RoKSB7XG4gICAgLy8gaXQncyByZWxhdGl2ZVxuICAgIC8vIHRocm93IGF3YXkgdGhlIGV4aXN0aW5nIGZpbGUsIGFuZCB0YWtlIHRoZSBuZXcgcGF0aCBpbnN0ZWFkLlxuICAgIGlmICghc3JjUGF0aCkgc3JjUGF0aCA9IFtdO1xuICAgIHNyY1BhdGgucG9wKCk7XG4gICAgc3JjUGF0aCA9IHNyY1BhdGguY29uY2F0KHJlbFBhdGgpO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gIH0gZWxzZSBpZiAoIXV0aWwuaXNOdWxsT3JVbmRlZmluZWQocmVsYXRpdmUuc2VhcmNoKSkge1xuICAgIC8vIGp1c3QgcHVsbCBvdXQgdGhlIHNlYXJjaC5cbiAgICAvLyBsaWtlIGhyZWY9Jz9mb28nLlxuICAgIC8vIFB1dCB0aGlzIGFmdGVyIHRoZSBvdGhlciB0d28gY2FzZXMgYmVjYXVzZSBpdCBzaW1wbGlmaWVzIHRoZSBib29sZWFuc1xuICAgIGlmIChwc3ljaG90aWMpIHtcbiAgICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gc3JjUGF0aC5zaGlmdCgpO1xuICAgICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgLy8gbm8gcGF0aCBhdCBhbGwuICBlYXN5LlxuICAgIC8vIHdlJ3ZlIGFscmVhZHkgaGFuZGxlZCB0aGUgb3RoZXIgc3R1ZmYgYWJvdmUuXG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gJy8nICsgcmVzdWx0LnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaWYgYSB1cmwgRU5EcyBpbiAuIG9yIC4uLCB0aGVuIGl0IG11c3QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIC8vIGhvd2V2ZXIsIGlmIGl0IGVuZHMgaW4gYW55dGhpbmcgZWxzZSBub24tc2xhc2h5LFxuICAvLyB0aGVuIGl0IG11c3QgTk9UIGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICB2YXIgbGFzdCA9IHNyY1BhdGguc2xpY2UoLTEpWzBdO1xuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IChcbiAgICAgIChyZXN1bHQuaG9zdCB8fCByZWxhdGl2ZS5ob3N0IHx8IHNyY1BhdGgubGVuZ3RoID4gMSkgJiZcbiAgICAgIChsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJykgfHwgbGFzdCA9PT0gJycpO1xuXG4gIC8vIHN0cmlwIHNpbmdsZSBkb3RzLCByZXNvbHZlIGRvdWJsZSBkb3RzIHRvIHBhcmVudCBkaXJcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHNyY1BhdGgubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIGxhc3QgPSBzcmNQYXRoW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmICghbXVzdEVuZEFicyAmJiAhcmVtb3ZlQWxsRG90cykge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgc3JjUGF0aC51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtdXN0RW5kQWJzICYmIHNyY1BhdGhbMF0gIT09ICcnICYmXG4gICAgICAoIXNyY1BhdGhbMF0gfHwgc3JjUGF0aFswXS5jaGFyQXQoMCkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgKHNyY1BhdGguam9pbignLycpLnN1YnN0cigtMSkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnB1c2goJycpO1xuICB9XG5cbiAgdmFyIGlzQWJzb2x1dGUgPSBzcmNQYXRoWzBdID09PSAnJyB8fFxuICAgICAgKHNyY1BhdGhbMF0gJiYgc3JjUGF0aFswXS5jaGFyQXQoMCkgPT09ICcvJyk7XG5cbiAgLy8gcHV0IHRoZSBob3N0IGJhY2tcbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gaXNBYnNvbHV0ZSA/ICcnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY1BhdGgubGVuZ3RoID8gc3JjUGF0aC5zaGlmdCgpIDogJyc7XG4gICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICB9XG4gIH1cblxuICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyB8fCAocmVzdWx0Lmhvc3QgJiYgc3JjUGF0aC5sZW5ndGgpO1xuXG4gIGlmIChtdXN0RW5kQWJzICYmICFpc0Fic29sdXRlKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBzcmNQYXRoLmpvaW4oJy8nKTtcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCByZXF1ZXN0Lmh0dHBcbiAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gIH1cbiAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoIHx8IHJlc3VsdC5hdXRoO1xuICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuVXJsLnByb3RvdHlwZS5wYXJzZUhvc3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGhvc3QgPSB0aGlzLmhvc3Q7XG4gIHZhciBwb3J0ID0gcG9ydFBhdHRlcm4uZXhlYyhob3N0KTtcbiAgaWYgKHBvcnQpIHtcbiAgICBwb3J0ID0gcG9ydFswXTtcbiAgICBpZiAocG9ydCAhPT0gJzonKSB7XG4gICAgICB0aGlzLnBvcnQgPSBwb3J0LnN1YnN0cigxKTtcbiAgICB9XG4gICAgaG9zdCA9IGhvc3Quc3Vic3RyKDAsIGhvc3QubGVuZ3RoIC0gcG9ydC5sZW5ndGgpO1xuICB9XG4gIGlmIChob3N0KSB0aGlzLmhvc3RuYW1lID0gaG9zdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfQmFzZVRleHR1cmUyID0gcmVxdWlyZSgnLi9CYXNlVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VUZXh0dXJlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VUZXh0dXJlMik7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX3RpY2tlciA9IHJlcXVpcmUoJy4uL3RpY2tlcicpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9kZXRlcm1pbmVDcm9zc09yaWdpbiA9IHJlcXVpcmUoJy4uL3V0aWxzL2RldGVybWluZUNyb3NzT3JpZ2luJyk7XG5cbnZhciBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSB0ZXh0dXJlIG9mIGEgW3BsYXlpbmddIFZpZGVvLlxuICpcbiAqIFZpZGVvIGJhc2UgdGV4dHVyZXMgbWltaWMgUGl4aUpTIEJhc2VUZXh0dXJlLmZyb20uLi4uIG1ldGhvZCBpbiB0aGVpciBjcmVhdGlvbiBwcm9jZXNzLlxuICpcbiAqIFRoaXMgY2FuIGJlIHVzZWQgaW4gc2V2ZXJhbCB3YXlzLCBzdWNoIGFzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgdGV4dHVyZSA9IFBJWEkuVmlkZW9CYXNlVGV4dHVyZS5mcm9tVXJsKCdodHRwOi8vbXlkb21haW4uY29tL3ZpZGVvLm1wNCcpO1xuICpcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5WaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmwoeyBzcmM6ICdodHRwOi8vbXlkb21haW4uY29tL3ZpZGVvLm1wNCcsIG1pbWU6ICd2aWRlby9tcDQnIH0pO1xuICpcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5WaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmxzKFsnL3ZpZGVvLndlYm0nLCAnL3ZpZGVvLm1wNCddKTtcbiAqXG4gKiBsZXQgdGV4dHVyZSA9IFBJWEkuVmlkZW9CYXNlVGV4dHVyZS5mcm9tVXJscyhbXG4gKiAgICAgeyBzcmM6ICcvdmlkZW8ud2VibScsIG1pbWU6ICd2aWRlby93ZWJtJyB9LFxuICogICAgIHsgc3JjOiAnL3ZpZGVvLm1wNCcsIG1pbWU6ICd2aWRlby9tcDQnIH1cbiAqIF0pO1xuICogYGBgXG4gKlxuICogU2VlIHRoZSBbXCJkZXVzXCIgZGVtb10oaHR0cDovL3d3dy5nb29kYm95ZGlnaXRhbC5jb20vcGl4aWpzL2V4YW1wbGVzL2RldXMvKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZVRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBWaWRlb0Jhc2VUZXh0dXJlID0gZnVuY3Rpb24gKF9CYXNlVGV4dHVyZSkge1xuICAgIF9pbmhlcml0cyhWaWRlb0Jhc2VUZXh0dXJlLCBfQmFzZVRleHR1cmUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgLSBWaWRlbyBzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1BsYXk9dHJ1ZV0gLSBTdGFydCBwbGF5aW5nIHZpZGVvIGFzIHNvb24gYXMgaXQgaXMgbG9hZGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gVmlkZW9CYXNlVGV4dHVyZShzb3VyY2UsIHNjYWxlTW9kZSkge1xuICAgICAgICB2YXIgYXV0b1BsYXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRydWU7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZpZGVvQmFzZVRleHR1cmUpO1xuXG4gICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHZpZGVvIHNvdXJjZSBlbGVtZW50IHNwZWNpZmllZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhvb2sgaW4gaGVyZSB0byBjaGVjayBpZiB2aWRlbyBpcyBhbHJlYWR5IGF2YWlsYWJsZS5cbiAgICAgICAgLy8gQmFzZVRleHR1cmUgbG9va3MgZm9yIGEgc291cmNlLmNvbXBsZXRlIGJvb2xlYW4sIHBsdXMgd2lkdGggJiBoZWlnaHQuXG5cbiAgICAgICAgaWYgKChzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRU5PVUdIX0RBVEEgfHwgc291cmNlLnJlYWR5U3RhdGUgPT09IHNvdXJjZS5IQVZFX0ZVVFVSRV9EQVRBKSAmJiBzb3VyY2Uud2lkdGggJiYgc291cmNlLmhlaWdodCkge1xuICAgICAgICAgICAgc291cmNlLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9CYXNlVGV4dHVyZS5jYWxsKHRoaXMsIHNvdXJjZSwgc2NhbGVNb2RlKSk7XG5cbiAgICAgICAgX3RoaXMud2lkdGggPSBzb3VyY2UudmlkZW9XaWR0aDtcbiAgICAgICAgX3RoaXMuaGVpZ2h0ID0gc291cmNlLnZpZGVvSGVpZ2h0O1xuXG4gICAgICAgIF90aGlzLl9hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuX2lzQXV0b1VwZGF0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gc2V0IHRvIHRydWUgd2lsbCBhdXRvbWF0aWNhbGx5IHBsYXkgdmlkZW9zIHVzZWQgYnkgdGhpcyB0ZXh0dXJlIG9uY2VcbiAgICAgICAgICogdGhleSBhcmUgbG9hZGVkLiBJZiBmYWxzZSwgaXQgd2lsbCBub3QgbW9kaWZ5IHRoZSBwbGF5aW5nIHN0YXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvUGxheSA9IGF1dG9QbGF5O1xuXG4gICAgICAgIF90aGlzLnVwZGF0ZSA9IF90aGlzLnVwZGF0ZS5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuX29uQ2FuUGxheSA9IF90aGlzLl9vbkNhblBsYXkuYmluZChfdGhpcyk7XG5cbiAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCBfdGhpcy5fb25QbGF5U3RhcnQuYmluZChfdGhpcykpO1xuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCBfdGhpcy5fb25QbGF5U3RvcC5iaW5kKF90aGlzKSk7XG4gICAgICAgIF90aGlzLmhhc0xvYWRlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fX2xvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghX3RoaXMuX2lzU291cmNlUmVhZHkoKSkge1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCBfdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIF90aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcGxheWluZy5cbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX2lzU291cmNlUGxheWluZyA9IGZ1bmN0aW9uIF9pc1NvdXJjZVBsYXlpbmcoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcblxuICAgICAgICByZXR1cm4gc291cmNlLmN1cnJlbnRUaW1lID4gMCAmJiBzb3VyY2UucGF1c2VkID09PSBmYWxzZSAmJiBzb3VyY2UuZW5kZWQgPT09IGZhbHNlICYmIHNvdXJjZS5yZWFkeVN0YXRlID4gMjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBpcyByZWFkeSBmb3IgcGxheWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiByZWFkeS5cbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX2lzU291cmNlUmVhZHkgPSBmdW5jdGlvbiBfaXNTb3VyY2VSZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLnJlYWR5U3RhdGUgPT09IDMgfHwgdGhpcy5zb3VyY2UucmVhZHlTdGF0ZSA9PT0gNDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUnVucyB0aGUgdXBkYXRlIGxvb3Agd2hlbiB0aGUgdmlkZW8gaXMgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX29uUGxheVN0YXJ0ID0gZnVuY3Rpb24gX29uUGxheVN0YXJ0KCkge1xuICAgICAgICAvLyBKdXN0IGluIGNhc2UgdGhlIHZpZGVvIGhhcyBub3QgcmVjZWl2ZWQgaXRzIGNhbiBwbGF5IGV2ZW4geWV0Li5cbiAgICAgICAgaWYgKCF0aGlzLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgdGhpcy5fb25DYW5QbGF5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2lzQXV0b1VwZGF0aW5nICYmIHRoaXMuYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgX3RpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBfY29uc3QuVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xuICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwYXVzZSBldmVudCBpcyB0cmlnZ2VyZWQsIHN0b3BzIHRoZSB1cGRhdGUgbG9vcFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX29uUGxheVN0b3AgPSBmdW5jdGlvbiBfb25QbGF5U3RvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQXV0b1VwZGF0aW5nKSB7XG4gICAgICAgICAgICBfdGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbyBpcyBsb2FkZWQgYW5kIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUucHJvdG90eXBlLl9vbkNhblBsYXkgPSBmdW5jdGlvbiBfb25DYW5QbGF5KCkge1xuICAgICAgICB0aGlzLmhhc0xvYWRlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMuc291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fb25DYW5QbGF5KTtcblxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuc291cmNlLnZpZGVvV2lkdGg7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuc291cmNlLnZpZGVvSGVpZ2h0O1xuXG4gICAgICAgICAgICAvLyBwcmV2ZW50IG11bHRpcGxlIGxvYWRlZCBkaXNwYXRjaGVzLi5cbiAgICAgICAgICAgIGlmICghdGhpcy5fX2xvYWRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgdGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1NvdXJjZVBsYXlpbmcoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uUGxheVN0YXJ0KCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXV0b1BsYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZS5wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0F1dG9VcGRhdGluZykge1xuICAgICAgICAgICAgX3RpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNvdXJjZSAmJiB0aGlzLnNvdXJjZS5fcGl4aUlkKSB7XG4gICAgICAgICAgICBfQmFzZVRleHR1cmUzLmRlZmF1bHQucmVtb3ZlRnJvbUNhY2hlKHRoaXMuc291cmNlLl9waXhpSWQpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc291cmNlLl9waXhpSWQ7XG5cbiAgICAgICAgICAgIHRoaXMuc291cmNlLnBhdXNlKCk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5zcmMgPSAnJztcbiAgICAgICAgICAgIHRoaXMuc291cmNlLmxvYWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9CYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNaW1pYyBQaXhpSlMgQmFzZVRleHR1cmUuZnJvbS4uLi4gbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTFZpZGVvRWxlbWVudH0gdmlkZW8gLSBWaWRlbyB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F1dG9QbGF5PXRydWVdIC0gU3RhcnQgcGxheWluZyB2aWRlbyBhcyBzb29uIGFzIGl0IGlzIGxvYWRlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuVmlkZW9CYXNlVGV4dHVyZX0gTmV3bHkgY3JlYXRlZCBWaWRlb0Jhc2VUZXh0dXJlXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUuZnJvbVZpZGVvID0gZnVuY3Rpb24gZnJvbVZpZGVvKHZpZGVvLCBzY2FsZU1vZGUsIGF1dG9QbGF5KSB7XG4gICAgICAgIGlmICghdmlkZW8uX3BpeGlJZCkge1xuICAgICAgICAgICAgdmlkZW8uX3BpeGlJZCA9ICd2aWRlb18nICsgKDAsIF91dGlscy51aWQpKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVt2aWRlby5fcGl4aUlkXTtcblxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBWaWRlb0Jhc2VUZXh0dXJlKHZpZGVvLCBzY2FsZU1vZGUsIGF1dG9QbGF5KTtcbiAgICAgICAgICAgIF9CYXNlVGV4dHVyZTMuZGVmYXVsdC5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCB2aWRlby5fcGl4aUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBCYXNlVGV4dHVyZSBiYXNlZCBvbiB0aGUgZ2l2ZW4gdmlkZW8gZWxlbWVudC5cbiAgICAgKiBUaGlzIEJhc2VUZXh0dXJlIGNhbiB0aGVuIGJlIHVzZWQgdG8gY3JlYXRlIGEgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdHxzdHJpbmdbXXxvYmplY3RbXX0gdmlkZW9TcmMgLSBUaGUgVVJMKHMpIGZvciB0aGUgdmlkZW8uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2aWRlb1NyYy5zcmNdIC0gT25lIG9mIHRoZSBzb3VyY2UgdXJscyBmb3IgdGhlIHZpZGVvXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2aWRlb1NyYy5taW1lXSAtIFRoZSBtaW1ldHlwZSBvZiB0aGUgdmlkZW8gKGUuZy4gJ3ZpZGVvL21wNCcpLiBJZiBub3Qgc3BlY2lmaWVkXG4gICAgICogIHRoZSB1cmwncyBleHRlbnNpb24gd2lsbCBiZSB1c2VkIGFzIHRoZSBzZWNvbmQgcGFydCBvZiB0aGUgbWltZSB0eXBlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZU1vZGUgLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcm9zc29yaWdpbj0oYXV0byldIC0gU2hvdWxkIHVzZSBhbm9ueW1vdXMgQ09SUz8gRGVmYXVsdHMgdG8gdHJ1ZSBpZiB0aGUgVVJMIGlzIG5vdCBhIGRhdGEtVVJJLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F1dG9QbGF5PXRydWVdIC0gU3RhcnQgcGxheWluZyB2aWRlbyBhcyBzb29uIGFzIGl0IGlzIGxvYWRlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuVmlkZW9CYXNlVGV4dHVyZX0gTmV3bHkgY3JlYXRlZCBWaWRlb0Jhc2VUZXh0dXJlXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUuZnJvbVVybCA9IGZ1bmN0aW9uIGZyb21VcmwodmlkZW9TcmMsIHNjYWxlTW9kZSwgY3Jvc3NvcmlnaW4sIGF1dG9QbGF5KSB7XG4gICAgICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG5cbiAgICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKCd3ZWJraXQtcGxheXNpbmxpbmUnLCAnJyk7XG4gICAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG5cbiAgICAgICAgdmFyIHVybCA9IEFycmF5LmlzQXJyYXkodmlkZW9TcmMpID8gdmlkZW9TcmNbMF0uc3JjIHx8IHZpZGVvU3JjWzBdIDogdmlkZW9TcmMuc3JjIHx8IHZpZGVvU3JjO1xuXG4gICAgICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkICYmIHVybC5pbmRleE9mKCdkYXRhOicpICE9PSAwKSB7XG4gICAgICAgICAgICB2aWRlby5jcm9zc09yaWdpbiA9ICgwLCBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4yLmRlZmF1bHQpKHVybCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgICAgIHZpZGVvLmNyb3NzT3JpZ2luID0gdHlwZW9mIGNyb3Nzb3JpZ2luID09PSAnc3RyaW5nJyA/IGNyb3Nzb3JpZ2luIDogJ2Fub255bW91cyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhcnJheSBvZiBvYmplY3RzIG9yIHN0cmluZ3NcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmlkZW9TcmMpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZGVvU3JjLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmlkZW8uYXBwZW5kQ2hpbGQoY3JlYXRlU291cmNlKHZpZGVvU3JjW2ldLnNyYyB8fCB2aWRlb1NyY1tpXSwgdmlkZW9TcmNbaV0ubWltZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNpbmdsZSBvYmplY3Qgb3Igc3RyaW5nXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZpZGVvLmFwcGVuZENoaWxkKGNyZWF0ZVNvdXJjZSh1cmwsIHZpZGVvU3JjLm1pbWUpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB2aWRlby5sb2FkKCk7XG5cbiAgICAgICAgcmV0dXJuIFZpZGVvQmFzZVRleHR1cmUuZnJvbVZpZGVvKHZpZGVvLCBzY2FsZU1vZGUsIGF1dG9QbGF5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2hvdWxkIHRoZSBiYXNlIHRleHR1cmUgYXV0b21hdGljYWxseSB1cGRhdGUgaXRzZWxmLCBzZXQgdG8gdHJ1ZSBieSBkZWZhdWx0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoVmlkZW9CYXNlVGV4dHVyZSwgW3tcbiAgICAgICAga2V5OiAnYXV0b1VwZGF0ZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9VcGRhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9hdXRvVXBkYXRlICYmIHRoaXMuX2lzQXV0b1VwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0F1dG9VcGRhdGluZykge1xuICAgICAgICAgICAgICAgICAgICBfdGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMsIF9jb25zdC5VUERBVEVfUFJJT1JJVFkuSElHSCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVmlkZW9CYXNlVGV4dHVyZTtcbn0oX0Jhc2VUZXh0dXJlMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVmlkZW9CYXNlVGV4dHVyZTtcblxuXG5WaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmxzID0gVmlkZW9CYXNlVGV4dHVyZS5mcm9tVXJsO1xuXG5mdW5jdGlvbiBjcmVhdGVTb3VyY2UocGF0aCwgdHlwZSkge1xuICAgIGlmICghdHlwZSkge1xuICAgICAgICB2YXIgcHVyZVBhdGggPSBwYXRoLnNwbGl0KCc/Jykuc2hpZnQoKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIHR5cGUgPSAndmlkZW8vJyArIHB1cmVQYXRoLnN1YnN0cihwdXJlUGF0aC5sYXN0SW5kZXhPZignLicpICsgMSk7XG4gICAgfVxuXG4gICAgdmFyIHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuXG4gICAgc291cmNlLnNyYyA9IHBhdGg7XG4gICAgc291cmNlLnR5cGUgPSB0eXBlO1xuXG4gICAgcmV0dXJuIHNvdXJjZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZGVvQmFzZVRleHR1cmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0dyb3VwRCA9IHJlcXVpcmUoJy4uL21hdGgvR3JvdXBEOCcpO1xuXG52YXIgX0dyb3VwRDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Hcm91cEQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEEgc3RhbmRhcmQgb2JqZWN0IHRvIHN0b3JlIHRoZSBVdnMgb2YgYSB0ZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVVdnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlVXZzKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dHVyZVV2cyk7XG5cbiAgICAgICAgdGhpcy54MCA9IDA7XG4gICAgICAgIHRoaXMueTAgPSAwO1xuXG4gICAgICAgIHRoaXMueDEgPSAxO1xuICAgICAgICB0aGlzLnkxID0gMDtcblxuICAgICAgICB0aGlzLngyID0gMTtcbiAgICAgICAgdGhpcy55MiA9IDE7XG5cbiAgICAgICAgdGhpcy54MyA9IDA7XG4gICAgICAgIHRoaXMueTMgPSAxO1xuXG4gICAgICAgIHRoaXMudXZzVWludDMyID0gbmV3IFVpbnQzMkFycmF5KDQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRleHR1cmUgVXZzIGJhc2VkIG9uIHRoZSBnaXZlbiBmcmFtZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZnJhbWUgLSBUaGUgZnJhbWUgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBiYXNlRnJhbWUgLSBUaGUgYmFzZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGUgLSBSb3RhdGlvbiBvZiBmcmFtZSwgc2VlIHtAbGluayBQSVhJLkdyb3VwRDh9XG4gICAgICovXG5cblxuICAgIFRleHR1cmVVdnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldChmcmFtZSwgYmFzZUZyYW1lLCByb3RhdGUpIHtcbiAgICAgICAgdmFyIHR3ID0gYmFzZUZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgdGggPSBiYXNlRnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIGlmIChyb3RhdGUpIHtcbiAgICAgICAgICAgIC8vIHdpZHRoIGFuZCBoZWlnaHQgZGl2IDIgZGl2IGJhc2VGcmFtZSBzaXplXG4gICAgICAgICAgICB2YXIgdzIgPSBmcmFtZS53aWR0aCAvIDIgLyB0dztcbiAgICAgICAgICAgIHZhciBoMiA9IGZyYW1lLmhlaWdodCAvIDIgLyB0aDtcblxuICAgICAgICAgICAgLy8gY29vcmRpbmF0ZXMgb2YgY2VudGVyXG4gICAgICAgICAgICB2YXIgY1ggPSBmcmFtZS54IC8gdHcgKyB3MjtcbiAgICAgICAgICAgIHZhciBjWSA9IGZyYW1lLnkgLyB0aCArIGgyO1xuXG4gICAgICAgICAgICByb3RhdGUgPSBfR3JvdXBEMi5kZWZhdWx0LmFkZChyb3RhdGUsIF9Hcm91cEQyLmRlZmF1bHQuTlcpOyAvLyBOVyBpcyB0b3AtbGVmdCBjb3JuZXJcbiAgICAgICAgICAgIHRoaXMueDAgPSBjWCArIHcyICogX0dyb3VwRDIuZGVmYXVsdC51WChyb3RhdGUpO1xuICAgICAgICAgICAgdGhpcy55MCA9IGNZICsgaDIgKiBfR3JvdXBEMi5kZWZhdWx0LnVZKHJvdGF0ZSk7XG5cbiAgICAgICAgICAgIHJvdGF0ZSA9IF9Hcm91cEQyLmRlZmF1bHQuYWRkKHJvdGF0ZSwgMik7IC8vIHJvdGF0ZSA5MCBkZWdyZWVzIGNsb2Nrd2lzZVxuICAgICAgICAgICAgdGhpcy54MSA9IGNYICsgdzIgKiBfR3JvdXBEMi5kZWZhdWx0LnVYKHJvdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnkxID0gY1kgKyBoMiAqIF9Hcm91cEQyLmRlZmF1bHQudVkocm90YXRlKTtcblxuICAgICAgICAgICAgcm90YXRlID0gX0dyb3VwRDIuZGVmYXVsdC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDIgPSBjWCArIHcyICogX0dyb3VwRDIuZGVmYXVsdC51WChyb3RhdGUpO1xuICAgICAgICAgICAgdGhpcy55MiA9IGNZICsgaDIgKiBfR3JvdXBEMi5kZWZhdWx0LnVZKHJvdGF0ZSk7XG5cbiAgICAgICAgICAgIHJvdGF0ZSA9IF9Hcm91cEQyLmRlZmF1bHQuYWRkKHJvdGF0ZSwgMik7XG4gICAgICAgICAgICB0aGlzLngzID0gY1ggKyB3MiAqIF9Hcm91cEQyLmRlZmF1bHQudVgocm90YXRlKTtcbiAgICAgICAgICAgIHRoaXMueTMgPSBjWSArIGgyICogX0dyb3VwRDIuZGVmYXVsdC51WShyb3RhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy54MCA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgICAgIHRoaXMueTAgPSBmcmFtZS55IC8gdGg7XG5cbiAgICAgICAgICAgIHRoaXMueDEgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MSA9IGZyYW1lLnkgLyB0aDtcblxuICAgICAgICAgICAgdGhpcy54MiA9IChmcmFtZS54ICsgZnJhbWUud2lkdGgpIC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkyID0gKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpIC8gdGg7XG5cbiAgICAgICAgICAgIHRoaXMueDMgPSBmcmFtZS54IC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkzID0gKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpIC8gdGg7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnV2c1VpbnQzMlswXSA9IChNYXRoLnJvdW5kKHRoaXMueTAgKiA2NTUzNSkgJiAweEZGRkYpIDw8IDE2IHwgTWF0aC5yb3VuZCh0aGlzLngwICogNjU1MzUpICYgMHhGRkZGO1xuICAgICAgICB0aGlzLnV2c1VpbnQzMlsxXSA9IChNYXRoLnJvdW5kKHRoaXMueTEgKiA2NTUzNSkgJiAweEZGRkYpIDw8IDE2IHwgTWF0aC5yb3VuZCh0aGlzLngxICogNjU1MzUpICYgMHhGRkZGO1xuICAgICAgICB0aGlzLnV2c1VpbnQzMlsyXSA9IChNYXRoLnJvdW5kKHRoaXMueTIgKiA2NTUzNSkgJiAweEZGRkYpIDw8IDE2IHwgTWF0aC5yb3VuZCh0aGlzLngyICogNjU1MzUpICYgMHhGRkZGO1xuICAgICAgICB0aGlzLnV2c1VpbnQzMlszXSA9IChNYXRoLnJvdW5kKHRoaXMueTMgKiA2NTUzNSkgJiAweEZGRkYpIDw8IDE2IHwgTWF0aC5yb3VuZCh0aGlzLngzICogNjU1MzUpICYgMHhGRkZGO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dHVyZVV2cztcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dHVyZVV2cztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHR1cmVVdnMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX0NvbnRhaW5lciA9IHJlcXVpcmUoJy4uL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbnZhciBfQ29udGFpbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcik7XG5cbnZhciBfUmVuZGVyVGV4dHVyZSA9IHJlcXVpcmUoJy4uL3RleHR1cmVzL1JlbmRlclRleHR1cmUnKTtcblxudmFyIF9SZW5kZXJUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRleHR1cmUpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgdGVtcE1hdHJpeCA9IG5ldyBfbWF0aC5NYXRyaXgoKTtcblxuLyoqXG4gKiBUaGUgU3lzdGVtUmVuZGVyZXIgaXMgdGhlIGJhc2UgZm9yIGEgUGl4aUpTIFJlbmRlcmVyLiBJdCBpcyBleHRlbmRlZCBieSB0aGUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXJ9XG4gKiBhbmQge0BsaW5rIFBJWEkuV2ViR0xSZW5kZXJlcn0gd2hpY2ggY2FuIGJlIHVzZWQgZm9yIHJlbmRlcmluZyBhIFBpeGlKUyBzY2VuZS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5cbnZhciBTeXN0ZW1SZW5kZXJlciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gIF9pbmhlcml0cyhTeXN0ZW1SZW5kZXJlciwgX0V2ZW50RW1pdHRlcik7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZhbGlkLWpzZG9jXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3lzdGVtIC0gVGhlIG5hbWUgb2YgdGhlIHN5c3RlbSB0aGlzIHJlbmRlcmVyIGlzIGZvci5cbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSBzY3JlZW5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgc2NyZWVuXG4gICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudCwgZGVmYXVsdCBmYWxzZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9SZXNpemU9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIGF1dG9tYXRpY2FsbHkgcmVzaXplZCwgZGVmYXVsdCBmYWxzZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhcyAob25seSBhcHBsaWNhYmxlIGluIGNocm9tZSBhdCB0aGUgbW9tZW50KVxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci4gVGhlXG4gICAqICByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJlciByZXRpbmEgd291bGQgYmUgMi5cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAqICBlbmFibGUgdGhpcyBpZiB5b3UgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gICAqICAgICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yb3VuZFBpeGVscz1mYWxzZV0gLSBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLFxuICAgKiAgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIFN5c3RlbVJlbmRlcmVyKHN5c3RlbSwgb3B0aW9ucywgYXJnMiwgYXJnMykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTeXN0ZW1SZW5kZXJlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRFbWl0dGVyLmNhbGwodGhpcykpO1xuXG4gICAgKDAsIF91dGlscy5zYXlIZWxsbykoc3lzdGVtKTtcblxuICAgIC8vIFN1cHBvcnQgZm9yIGNvbnN0cnVjdG9yKHN5c3RlbSwgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCwgb3B0aW9ucylcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIHdpZHRoOiBvcHRpb25zLFxuICAgICAgICBoZWlnaHQ6IGFyZzIgfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFTkRFUl9PUFRJT05TLmhlaWdodFxuICAgICAgfSwgYXJnMyk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIF9zZXR0aW5nczIuZGVmYXVsdC5SRU5ERVJfT1BUSU9OUywgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3VwcGxpZWQgY29uc3RydWN0b3Igb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKi9cbiAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlJFTkRFUkVSX1RZUEUuVU5LTk9XTlxuICAgICAqIEBzZWUgUElYSS5SRU5ERVJFUl9UWVBFXG4gICAgICovXG4gICAgX3RoaXMudHlwZSA9IF9jb25zdC5SRU5ERVJFUl9UWVBFLlVOS05PV047XG5cbiAgICAvKipcbiAgICAgKiBNZWFzdXJlbWVudHMgb2YgdGhlIHNjcmVlbi4gKDAsIDAsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpXG4gICAgICpcbiAgICAgKiBJdHMgc2FmZSB0byB1c2UgYXMgZmlsdGVyQXJlYSBvciBoaXRBcmVhIGZvciB3aG9sZSBzdGFnZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICovXG4gICAgX3RoaXMuc2NyZWVuID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgwLCAwLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICBfdGhpcy52aWV3ID0gb3B0aW9ucy52aWV3IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIF90aGlzLnJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfdGhpcy50cmFuc3BhcmVudCA9IG9wdGlvbnMudHJhbnNwYXJlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGNzcyBkaW1lbnNpb25zIG9mIGNhbnZhcyB2aWV3IHNob3VsZCBiZSByZXNpemVkIHRvIHNjcmVlbiBkaW1lbnNpb25zIGF1dG9tYXRpY2FsbHlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgX3RoaXMuYXV0b1Jlc2l6ZSA9IG9wdGlvbnMuYXV0b1Jlc2l6ZSB8fCBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRyYWNrcyB0aGUgYmxlbmQgbW9kZXMgdXNlZnVsIGZvciB0aGlzIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0PHN0cmluZywgbWl4ZWQ+fVxuICAgICAqL1xuICAgIF90aGlzLmJsZW5kTW9kZXMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIG9mIHRoZSBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIgZmxhZyBhZmZlY3RzIHdoZXRoZXIgb3Igbm90IHRoZSBjb250ZW50cyBvZlxuICAgICAqIHRoZSBzdGVuY2lsIGJ1ZmZlciBpcyByZXRhaW5lZCBhZnRlciByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIF90aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBzZXRzIGlmIHRoZSBDYW52YXNSZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3Igbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIElmIHRoZSBzY2VuZSBpcyBOT1QgdHJhbnNwYXJlbnQgUGl4aUpTIHdpbGwgdXNlIGEgY2FudmFzIHNpemVkIGZpbGxSZWN0IG9wZXJhdGlvbiBldmVyeVxuICAgICAqIGZyYW1lIHRvIHNldCB0aGUgY2FudmFzIGJhY2tncm91bmQgY29sb3IuIElmIHRoZSBzY2VuZSBpcyB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgY2xlYXJSZWN0XG4gICAgICogdG8gY2xlYXIgdGhlIGNhbnZhcyBldmVyeSBmcmFtZS4gRGlzYWJsZSB0aGlzIGJ5IHNldHRpbmcgdGhpcyB0byBmYWxzZS4gRm9yIGV4YW1wbGUgaWZcbiAgICAgKiB5b3VyIGdhbWUgaGFzIGEgY2FudmFzIGZpbGxpbmcgYmFja2dyb3VuZCBpbWFnZSB5b3Ugb2Z0ZW4gZG9uJ3QgbmVlZCB0aGlzIHNldC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBfdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IG9wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI7XG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEhhbmR5IGZvciBjcmlzcCBwaXhlbCBhcnQgYW5kIHNwZWVkIG9uIGxlZ2FjeSBkZXZpY2VzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfdGhpcy5yb3VuZFBpeGVscyA9IG9wdGlvbnMucm91bmRQaXhlbHM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSAweDAwMDAwMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGFuIFtSLCBHLCBCXSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSAnIzAwMDAwMCc7XG5cbiAgICBfdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBvcHRpb25zLmJhY2tncm91bmRDb2xvciB8fCBfdGhpcy5fYmFja2dyb3VuZENvbG9yOyAvLyBydW4gYmcgY29sb3Igc2V0dGVyXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHRlbXBvcmFyeSBkaXNwbGF5IG9iamVjdCB1c2VkIGFzIHRoZSBwYXJlbnQgb2YgdGhlIGN1cnJlbnRseSBiZWluZyByZW5kZXJlZCBpdGVtXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgX0NvbnRhaW5lcjIuZGVmYXVsdCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxhc3Qgcm9vdCBvYmplY3QgdGhhdCB0aGUgcmVuZGVyZXIgdHJpZWQgdG8gcmVuZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IF90aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2FtZSBhcyB2aWV3LndpZHRoLCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IGhvcml6b250YWxcbiAgICpcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKiBAcmVhZG9ubHlcbiAgICogQGRlZmF1bHQgODAwXG4gICAqL1xuXG5cbiAgLyoqXG4gICAqIFJlc2l6ZXMgdGhlIHNjcmVlbiBhbmQgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodFxuICAgKiBDYW52YXMgZGltZW5zaW9ucyBhcmUgbXVsdGlwbGllZCBieSByZXNvbHV0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIHRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlblxuICAgKi9cbiAgU3lzdGVtUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XG4gICAgdGhpcy5zY3JlZW4ud2lkdGggPSBzY3JlZW5XaWR0aDtcbiAgICB0aGlzLnNjcmVlbi5oZWlnaHQgPSBzY3JlZW5IZWlnaHQ7XG5cbiAgICB0aGlzLnZpZXcud2lkdGggPSBzY3JlZW5XaWR0aCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICB0aGlzLnZpZXcuaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgaWYgKHRoaXMuYXV0b1Jlc2l6ZSkge1xuICAgICAgdGhpcy52aWV3LnN0eWxlLndpZHRoID0gc2NyZWVuV2lkdGggKyAncHgnO1xuICAgICAgdGhpcy52aWV3LnN0eWxlLmhlaWdodCA9IHNjcmVlbkhlaWdodCArICdweCc7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVc2VmdWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdGV4dHVyZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBjYW4gdGhlbiBiZSB1c2VkIHRvIGNyZWF0ZSBzcHJpdGVzXG4gICAqIFRoaXMgY2FuIGJlIHF1aXRlIHVzZWZ1bCBpZiB5b3VyIGRpc3BsYXlPYmplY3QgaXMgY29tcGxpY2F0ZWQgYW5kIG5lZWRzIHRvIGJlIHJldXNlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheU9iamVjdCB0aGUgb2JqZWN0IHdpbGwgYmUgZ2VuZXJhdGVkIGZyb21cbiAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlTW9kZSAtIFNob3VsZCBiZSBvbmUgb2YgdGhlIHNjYWxlTW9kZSBjb25zdHNcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWRcbiAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlZ2lvbl0gLSBUaGUgcmVnaW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LCB0aGF0IHNoYWxsIGJlIHJlbmRlcmVkLFxuICAgKiAgICAgICAgaWYgbm8gcmVnaW9uIGlzIHNwZWNpZmllZCwgZGVmYXVsdHMgdG8gdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBhIHRleHR1cmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdFxuICAgKi9cblxuXG4gIFN5c3RlbVJlbmRlcmVyLnByb3RvdHlwZS5nZW5lcmF0ZVRleHR1cmUgPSBmdW5jdGlvbiBnZW5lcmF0ZVRleHR1cmUoZGlzcGxheU9iamVjdCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uLCByZWdpb24pIHtcbiAgICByZWdpb24gPSByZWdpb24gfHwgZGlzcGxheU9iamVjdC5nZXRMb2NhbEJvdW5kcygpO1xuXG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBfUmVuZGVyVGV4dHVyZTIuZGVmYXVsdC5jcmVhdGUocmVnaW9uLndpZHRoIHwgMCwgcmVnaW9uLmhlaWdodCB8IDAsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbik7XG5cbiAgICB0ZW1wTWF0cml4LnR4ID0gLXJlZ2lvbi54O1xuICAgIHRlbXBNYXRyaXgudHkgPSAtcmVnaW9uLnk7XG5cbiAgICB0aGlzLnJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBmYWxzZSwgdGVtcE1hdHJpeCwgISFkaXNwbGF5T2JqZWN0LnBhcmVudCk7XG5cbiAgICByZXR1cm4gcmVuZGVyVGV4dHVyZTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIGFuZCBvcHRpb25hbGx5IHJlbW92ZXMgdGhlIENhbnZhcyBET00gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAqL1xuXG5cbiAgU3lzdGVtUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcpIHtcbiAgICBpZiAocmVtb3ZlVmlldyAmJiB0aGlzLnZpZXcucGFyZW50Tm9kZSkge1xuICAgICAgdGhpcy52aWV3LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy52aWV3KTtcbiAgICB9XG5cbiAgICB0aGlzLnR5cGUgPSBfY29uc3QuUkVOREVSRVJfVFlQRS5VTktOT1dOO1xuXG4gICAgdGhpcy52aWV3ID0gbnVsbDtcblxuICAgIHRoaXMuc2NyZWVuID0gbnVsbDtcblxuICAgIHRoaXMucmVzb2x1dGlvbiA9IDA7XG5cbiAgICB0aGlzLnRyYW5zcGFyZW50ID0gZmFsc2U7XG5cbiAgICB0aGlzLmF1dG9SZXNpemUgPSBmYWxzZTtcblxuICAgIHRoaXMuYmxlbmRNb2RlcyA9IG51bGw7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBudWxsO1xuXG4gICAgdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBmYWxzZTtcbiAgICB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gZmFsc2U7XG5cbiAgICB0aGlzLnJvdW5kUGl4ZWxzID0gZmFsc2U7XG5cbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSAwO1xuICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBudWxsO1xuICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9IG51bGw7XG5cbiAgICB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG4gICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gbnVsbDtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIGJhY2tncm91bmQgY29sb3IgdG8gZmlsbCBpZiBub3QgdHJhbnNwYXJlbnRcbiAgICpcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhTeXN0ZW1SZW5kZXJlciwgW3tcbiAgICBrZXk6ICd3aWR0aCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy52aWV3LndpZHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgdmlldy5oZWlnaHQsIGFjdHVhbCBudW1iZXIgb2YgcGl4ZWxzIGluIHRoZSBjYW52YXMgYnkgdmVydGljYWxcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaGVpZ2h0JyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZpZXcuaGVpZ2h0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2JhY2tncm91bmRDb2xvcicsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IHZhbHVlO1xuICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gKDAsIF91dGlscy5oZXgyc3RyaW5nKSh2YWx1ZSk7XG4gICAgICAoMCwgX3V0aWxzLmhleDJyZ2IpKHZhbHVlLCB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3lzdGVtUmVuZGVyZXI7XG59KF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTeXN0ZW1SZW5kZXJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN5c3RlbVJlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9CYXNlVGV4dHVyZTIgPSByZXF1aXJlKCcuL0Jhc2VUZXh0dXJlJyk7XG5cbnZhciBfQmFzZVRleHR1cmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUyKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSBCYXNlUmVuZGVyVGV4dHVyZSBpcyBhIHNwZWNpYWwgdGV4dHVyZSB0aGF0IGFsbG93cyBhbnkgUGl4aUpTIGRpc3BsYXkgb2JqZWN0IHRvIGJlIHJlbmRlcmVkIHRvIGl0LlxuICpcbiAqIF9fSGludF9fOiBBbGwgRGlzcGxheU9iamVjdHMgKGkuZS4gU3ByaXRlcykgdGhhdCByZW5kZXIgdG8gYSBCYXNlUmVuZGVyVGV4dHVyZSBzaG91bGQgYmUgcHJlbG9hZGVkXG4gKiBvdGhlcndpc2UgYmxhY2sgcmVjdGFuZ2xlcyB3aWxsIGJlIGRyYXduIGluc3RlYWQuXG4gKlxuICogQSBCYXNlUmVuZGVyVGV4dHVyZSB0YWtlcyBhIHNuYXBzaG90IG9mIGFueSBEaXNwbGF5IE9iamVjdCBnaXZlbiB0byBpdHMgcmVuZGVyIG1ldGhvZC4gVGhlIHBvc2l0aW9uXG4gKiBhbmQgcm90YXRpb24gb2YgdGhlIGdpdmVuIERpc3BsYXkgT2JqZWN0cyBpcyBpZ25vcmVkLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoMTAyNCwgMTAyNCk7XG4gKiBsZXQgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5CYXNlUmVuZGVyVGV4dHVyZSg4MDAsIDYwMCk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICogbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb21JbWFnZShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKDEwMCwgMTAwKTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZVRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXNlUmVuZGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChfQmFzZVRleHR1cmUpIHtcbiAgX2luaGVyaXRzKEJhc2VSZW5kZXJUZXh0dXJlLCBfQmFzZVRleHR1cmUpO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTEwMF0gLSBUaGUgd2lkdGggb2YgdGhlIGJhc2UgcmVuZGVyIHRleHR1cmVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MTAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIGJhc2UgcmVuZGVyIHRleHR1cmVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWRcbiAgICovXG4gIGZ1bmN0aW9uIEJhc2VSZW5kZXJUZXh0dXJlKCkge1xuICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTAwO1xuICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwMDtcbiAgICB2YXIgc2NhbGVNb2RlID0gYXJndW1lbnRzWzJdO1xuICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzNdO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2VSZW5kZXJUZXh0dXJlKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9CYXNlVGV4dHVyZS5jYWxsKHRoaXMsIG51bGwsIHNjYWxlTW9kZSkpO1xuXG4gICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICBfdGhpcy53aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgX3RoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICBfdGhpcy5yZWFsV2lkdGggPSBfdGhpcy53aWR0aCAqIF90aGlzLnJlc29sdXRpb247XG4gICAgX3RoaXMucmVhbEhlaWdodCA9IF90aGlzLmhlaWdodCAqIF90aGlzLnJlc29sdXRpb247XG5cbiAgICBfdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCA/IHNjYWxlTW9kZSA6IF9zZXR0aW5nczIuZGVmYXVsdC5TQ0FMRV9NT0RFO1xuICAgIF90aGlzLmhhc0xvYWRlZCA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgcmVuZGVyVGFyZ2V0c1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBXZWJHTFRleHR1cmU+fVxuICAgICAqL1xuICAgIF90aGlzLl9nbFJlbmRlclRhcmdldHMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBjYW52YXMgcmVuZGVyIHRhcmdldCAod2Ugb25seSBuZWVkIG9uZSBhcyB0aGlzIGNhbiBiZSBzaGFyZWQgYWNyb3NzIHJlbmRlcmVycylcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgV2ViR0xUZXh0dXJlPn1cbiAgICAgKi9cbiAgICBfdGhpcy5fY2FudmFzUmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfdGhpcy52YWxpZCA9IGZhbHNlO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSBCYXNlUmVuZGVyVGV4dHVyZS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgdG8gcmVzaXplIHRvLlxuICAgKi9cblxuXG4gIEJhc2VSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcblxuICAgIGlmICh3aWR0aCA9PT0gdGhpcy53aWR0aCAmJiBoZWlnaHQgPT09IHRoaXMuaGVpZ2h0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy52YWxpZCA9IHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwO1xuXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5yZWFsV2lkdGggPSB0aGlzLndpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgIHRoaXMucmVhbEhlaWdodCA9IHRoaXMuaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgaWYgKCF0aGlzLnZhbGlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAqXG4gICAqL1xuXG5cbiAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIF9CYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHRydWUpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBCYXNlUmVuZGVyVGV4dHVyZTtcbn0oX0Jhc2VUZXh0dXJlMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQmFzZVJlbmRlclRleHR1cmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlUmVuZGVyVGV4dHVyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQgb2YgdGhlIGdpdmVuIHNpemUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ2FudmFzUmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIHdpZHRoIGZvciB0aGUgbmV3bHkgY3JlYXRlZCBjYW52YXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgZm9yIHRoZSBuZXdseSBjcmVhdGVkIGNhbnZhc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzXG4gICAqL1xuICBmdW5jdGlvbiBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNSZW5kZXJUYXJnZXQpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIENhbnZhcyBvYmplY3QgdGhhdCBiZWxvbmdzIHRvIHRoaXMgQ2FudmFzUmVuZGVyVGFyZ2V0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIC8qKlxuICAgICAqIEEgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIG9iamVjdCByZXByZXNlbnRpbmcgYSB0d28tZGltZW5zaW9uYWwgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIGNhbnZhcyB0aGF0IHdhcyBjcmVhdGVkIGJ5IHRoZSBDYW52YXNSZW5kZXJUYXJnZXQgY2xhc3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIHRoaXMuY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgfTtcblxuICAvKipcbiAgICogUmVzaXplcyB0aGUgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgY2FudmFzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgY2FudmFzXG4gICAqL1xuXG5cbiAgQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGlzIGNhbnZhcy5cbiAgICpcbiAgICovXG5cblxuICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgd2lkdGggb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKENhbnZhc1JlbmRlclRhcmdldCwgW3tcbiAgICBrZXk6ICd3aWR0aCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdmFsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdoZWlnaHQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdmFsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDYW52YXNSZW5kZXJUYXJnZXQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc1JlbmRlclRhcmdldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1JlbmRlclRhcmdldC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBjYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzO1xuLyoqXG4gKiBDcmVhdGVzIGEgbGl0dGxlIGNvbG9yZWQgY2FudmFzXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gVGhlIGNvbG9yIHRvIG1ha2UgdGhlIGNhbnZhc1xuICogQHJldHVybiB7Y2FudmFzfSBhIHNtYWxsIGNhbnZhcyBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvbG9yZWRDYW52YXMoY29sb3IpIHtcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICBjYW52YXMud2lkdGggPSA2O1xuICAgIGNhbnZhcy5oZWlnaHQgPSAxO1xuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCA2LCAxKTtcblxuICAgIHJldHVybiBjYW52YXM7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIENhbnZhcyBCbGVuZE1vZGVzIGFyZSBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgYnJvd3NlclxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdGhleSBhcmUgc3VwcG9ydGVkXG4gKi9cbmZ1bmN0aW9uIGNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMoKSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBtYWdlbnRhID0gY3JlYXRlQ29sb3JlZENhbnZhcygnI2ZmMDBmZicpO1xuICAgIHZhciB5ZWxsb3cgPSBjcmVhdGVDb2xvcmVkQ2FudmFzKCcjZmZmZjAwJyk7XG5cbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICBjYW52YXMud2lkdGggPSA2O1xuICAgIGNhbnZhcy5oZWlnaHQgPSAxO1xuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ211bHRpcGx5JztcbiAgICBjb250ZXh0LmRyYXdJbWFnZShtYWdlbnRhLCAwLCAwKTtcbiAgICBjb250ZXh0LmRyYXdJbWFnZSh5ZWxsb3csIDIsIDApO1xuXG4gICAgdmFyIGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDIsIDAsIDEsIDEpO1xuXG4gICAgaWYgKCFpbWFnZURhdGEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBkYXRhID0gaW1hZ2VEYXRhLmRhdGE7XG5cbiAgICByZXR1cm4gZGF0YVswXSA9PT0gMjU1ICYmIGRhdGFbMV0gPT09IDAgJiYgZGF0YVsyXSA9PT0gMDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0ZpbHRlcjIgPSByZXF1aXJlKCcuLi9GaWx0ZXInKTtcblxudmFyIF9GaWx0ZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmlsdGVyMik7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL21hdGgnKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG52YXIgX1RleHR1cmVNYXRyaXggPSByZXF1aXJlKCcuLi8uLi8uLi8uLi90ZXh0dXJlcy9UZXh0dXJlTWF0cml4Jyk7XG5cbnZhciBfVGV4dHVyZU1hdHJpeDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlTWF0cml4KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBTcHJpdGVNYXNrRmlsdGVyIGNsYXNzXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZU1hc2tGaWx0ZXIgPSBmdW5jdGlvbiAoX0ZpbHRlcikge1xuICAgIF9pbmhlcml0cyhTcHJpdGVNYXNrRmlsdGVyLCBfRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIHRoZSB0YXJnZXQgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlTWFza0ZpbHRlcihzcHJpdGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNwcml0ZU1hc2tGaWx0ZXIpO1xuXG4gICAgICAgIHZhciBtYXNrTWF0cml4ID0gbmV3IF9tYXRoLk1hdHJpeCgpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9GaWx0ZXIuY2FsbCh0aGlzLCAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIG90aGVyTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2TWFza0Nvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2TWFza0Nvb3JkID0gKCBvdGhlck1hdHJpeCAqIHZlYzMoIGFUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7XFxufVxcbicsICd2YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXNrO1xcbnVuaWZvcm0gZmxvYXQgYWxwaGE7XFxudW5pZm9ybSB2ZWM0IG1hc2tDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGZsb2F0IGNsaXAgPSBzdGVwKDMuNSxcXG4gICAgICAgIHN0ZXAobWFza0NsYW1wLngsIHZNYXNrQ29vcmQueCkgK1xcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueSwgdk1hc2tDb29yZC55KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueCwgbWFza0NsYW1wLnopICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC55LCBtYXNrQ2xhbXAudykpO1xcblxcbiAgICB2ZWM0IG9yaWdpbmFsID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgdmVjNCBtYXNreSA9IHRleHR1cmUyRChtYXNrLCB2TWFza0Nvb3JkKTtcXG5cXG4gICAgb3JpZ2luYWwgKj0gKG1hc2t5LnIgKiBtYXNreS5hICogYWxwaGEgKiBjbGlwKTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gb3JpZ2luYWw7XFxufVxcbicpKTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIF90aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgICAgIF90aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyTWFuYWdlcn0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVNYXNrRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQpIHtcbiAgICAgICAgdmFyIG1hc2tTcHJpdGUgPSB0aGlzLm1hc2tTcHJpdGU7XG4gICAgICAgIHZhciB0ZXggPSB0aGlzLm1hc2tTcHJpdGUudGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleC52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4LnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gbWFyZ2luID0gMC4wLCBsZXQgaXQgYmxlZWQgYSBiaXQsIHNoYWRlciBjb2RlIGJlY29tZXMgZWFzaWVyXG4gICAgICAgICAgICAvLyBhc3N1bWluZyB0aGF0IGF0bGFzIHRleHR1cmVzIHdlcmUgbWFkZSB3aXRoIDEtcGl4ZWwgcGFkZGluZ1xuICAgICAgICAgICAgdGV4LnRyYW5zZm9ybSA9IG5ldyBfVGV4dHVyZU1hdHJpeDIuZGVmYXVsdCh0ZXgsIDAuMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGV4LnRyYW5zZm9ybS51cGRhdGUoKTtcblxuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2sgPSB0ZXg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMub3RoZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0aGlzLm1hc2tNYXRyaXgsIG1hc2tTcHJpdGUpLnByZXBlbmQodGV4LnRyYW5zZm9ybS5tYXBDb29yZCk7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuYWxwaGEgPSBtYXNrU3ByaXRlLndvcmxkQWxwaGE7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFza0NsYW1wID0gdGV4LnRyYW5zZm9ybS51Q2xhbXBGcmFtZTtcblxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQpO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3ByaXRlTWFza0ZpbHRlcjtcbn0oX0ZpbHRlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNwcml0ZU1hc2tGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGVNYXNrRmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9leHRyYWN0VW5pZm9ybXNGcm9tU3JjID0gcmVxdWlyZSgnLi9leHRyYWN0VW5pZm9ybXNGcm9tU3JjJyk7XG5cbnZhciBfZXh0cmFjdFVuaWZvcm1zRnJvbVNyYzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRyYWN0VW5pZm9ybXNGcm9tU3JjKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vLi4vLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBTT1VSQ0VfS0VZX01BUCA9IHt9O1xuXG4vLyBsZXQgbWF0aCA9IHJlcXVpcmUoJy4uLy4uLy4uL21hdGgnKTtcbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqL1xuXG52YXIgRmlsdGVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybURhdGFdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgKi9cbiAgZnVuY3Rpb24gRmlsdGVyKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1EYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmVydGV4IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYyB8fCBGaWx0ZXIuZGVmYXVsdFZlcnRleFNyYztcblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5mcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjIHx8IEZpbHRlci5kZWZhdWx0RnJhZ21lbnRTcmM7XG5cbiAgICB0aGlzLl9ibGVuZE1vZGUgPSBfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgdGhpcy51bmlmb3JtRGF0YSA9IHVuaWZvcm1EYXRhIHx8ICgwLCBfZXh0cmFjdFVuaWZvcm1zRnJvbVNyYzIuZGVmYXVsdCkodGhpcy52ZXJ0ZXhTcmMsIHRoaXMuZnJhZ21lbnRTcmMsICdwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyJyk7XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgY3VycmVudCB2YWx1ZXMgb2YgY3VzdG9tIHVuaWZvcm1zLlxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPlVwZGF0aW5nIHRoZSB2YWx1ZSBvZiBhIGN1c3RvbSB1bmlmb3JtPC9jYXB0aW9uPlxuICAgICAqIGZpbHRlci51bmlmb3Jtcy50aW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICovXG4gICAgdGhpcy51bmlmb3JtcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSBpbiB0aGlzLnVuaWZvcm1EYXRhKSB7XG4gICAgICB0aGlzLnVuaWZvcm1zW2ldID0gdGhpcy51bmlmb3JtRGF0YVtpXS52YWx1ZTtcbiAgICAgIGlmICh0aGlzLnVuaWZvcm1EYXRhW2ldLnR5cGUpIHtcbiAgICAgICAgdGhpcy51bmlmb3JtRGF0YVtpXS50eXBlID0gdGhpcy51bmlmb3JtRGF0YVtpXS50eXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdGhpcyBpcyB3aGVyZSB3ZSBzdG9yZSBzaGFkZXIgcmVmZXJlbmNlcy4uXG4gICAgLy8gVE9ETyB3ZSBjb3VsZCBjYWNoZSB0aGlzIVxuICAgIHRoaXMuZ2xTaGFkZXJzID0ge307XG5cbiAgICAvLyB1c2VkIGZvciBjYWNoaW5nLi4gc3VyZSB0aGVyZSBpcyBhIGJldHRlciB3YXkhXG4gICAgaWYgKCFTT1VSQ0VfS0VZX01BUFt0aGlzLnZlcnRleFNyYyArIHRoaXMuZnJhZ21lbnRTcmNdKSB7XG4gICAgICBTT1VSQ0VfS0VZX01BUFt0aGlzLnZlcnRleFNyYyArIHRoaXMuZnJhZ21lbnRTcmNdID0gKDAsIF91dGlscy51aWQpKCk7XG4gICAgfVxuXG4gICAgdGhpcy5nbFNoYWRlcktleSA9IFNPVVJDRV9LRVlfTUFQW3RoaXMudmVydGV4U3JjICsgdGhpcy5mcmFnbWVudFNyY107XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGFkZGluZyBvZiB0aGUgZmlsdGVyLiBTb21lIGZpbHRlcnMgcmVxdWlyZSBleHRyYSBzcGFjZSB0byBicmVhdGggc3VjaCBhcyBhIGJsdXIuXG4gICAgICogSW5jcmVhc2luZyB0aGlzIHdpbGwgYWRkIGV4dHJhIHdpZHRoIGFuZCBoZWlnaHQgdG8gdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlXG4gICAgICogZmlsdGVyIGlzIGFwcGxpZWQgdG8uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5wYWRkaW5nID0gNDtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBmaWx0ZXIuIFNldHRpbmcgdGhpcyB0byBiZSBsb3dlciB3aWxsIGxvd2VyIHRoZSBxdWFsaXR5IGJ1dFxuICAgICAqIGluY3JlYXNlIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IF9zZXR0aW5nczIuZGVmYXVsdC5GSUxURVJfUkVTT0xVVElPTjtcblxuICAgIC8qKlxuICAgICAqIElmIGVuYWJsZWQgaXMgdHJ1ZSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQsIGlmIGZhbHNlIGl0IHdpbGwgbm90LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogSWYgZW5hYmxlZCwgUGl4aUpTIHdpbGwgZml0IHRoZSBmaWx0ZXIgYXJlYSBpbnRvIGJvdW5kYXJpZXMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5cbiAgICAgKiBTd2l0Y2ggaXQgb2ZmIGlmIGl0IGRvZXMgbm90IHdvcmsgZm9yIHNwZWNpZmljIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5hdXRvRml0ID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLkZpbHRlck1hbmFnZXJ9IGZpbHRlck1hbmFnZXIgLSBUaGUgcmVuZGVyZXIgdG8gcmV0cmlldmUgdGhlIGZpbHRlciBmcm9tXG4gICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0XG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbY3VycmVudFN0YXRlXSAtIEl0J3MgY3VycmVudCBzdGF0ZSBvZiBmaWx0ZXIuXG4gICAqICAgICAgICBUaGVyZSBhcmUgc29tZSB1c2VmdWwgcHJvcGVydGllcyBpbiB0aGUgY3VycmVudFN0YXRlIDpcbiAgICogICAgICAgIHRhcmdldCwgZmlsdGVycywgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUsIHJlbmRlclRhcmdldCwgcmVzb2x1dGlvblxuICAgKi9cblxuXG4gIEZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhciwgY3VycmVudFN0YXRlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHtcbiAgICAvLyAtLS0gLy9cbiAgICAvLyAgdGhpcy51bmlmb3Jtcy5maWx0ZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0ZW1wTWF0cml4LCB3aW5kb3cucGFuZGEgKTtcblxuICAgIC8vIGRvIGFzIHlvdSBwbGVhc2UhXG5cbiAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcblxuICAgIC8vIG9yIGp1c3QgZG8gYSByZWd1bGFyIHJlbmRlci4uXG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGJsZW5kbW9kZSBvZiB0aGUgZmlsdGVyXG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoRmlsdGVyLCBbe1xuICAgIGtleTogJ2JsZW5kTW9kZScsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYmxlbmRNb2RlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgIHRoaXMuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG5cbiAgfV0sIFt7XG4gICAga2V5OiAnZGVmYXVsdFZlcnRleFNyYycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gWydhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247JywgJ2F0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7JywgJ3VuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4OycsICd1bmlmb3JtIG1hdDMgZmlsdGVyTWF0cml4OycsICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDsnLCAndmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDsnLCAndm9pZCBtYWluKHZvaWQpeycsICcgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTsnLCAnICAgdkZpbHRlckNvb3JkID0gKCBmaWx0ZXJNYXRyaXggKiB2ZWMzKCBhVGV4dHVyZUNvb3JkLCAxLjApICApLnh5OycsICcgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZCA7JywgJ30nXS5qb2luKCdcXG4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2RlZmF1bHRGcmFnbWVudFNyYycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gWyd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDsnLCAndmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDsnLCAndW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7JywgJ3VuaWZvcm0gc2FtcGxlcjJEIGZpbHRlclNhbXBsZXI7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnICAgdmVjNCBtYXNreSA9IHRleHR1cmUyRChmaWx0ZXJTYW1wbGVyLCB2RmlsdGVyQ29vcmQpOycsICcgICB2ZWM0IHNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7JywgJyAgIHZlYzQgY29sb3I7JywgJyAgIGlmKG1vZCh2RmlsdGVyQ29vcmQueCwgMS4wKSA+IDAuNSknLCAnICAgeycsICcgICAgIGNvbG9yID0gdmVjNCgxLjAsIDAuMCwgMC4wLCAxLjApOycsICcgICB9JywgJyAgIGVsc2UnLCAnICAgeycsICcgICAgIGNvbG9yID0gdmVjNCgwLjAsIDEuMCwgMC4wLCAxLjApOycsICcgICB9JyxcbiAgICAgIC8vICcgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KG1vZCh2RmlsdGVyQ29vcmQueCwgMS41KSwgdkZpbHRlckNvb3JkLnksMC4wLDEuMCk7JyxcbiAgICAgICcgICBnbF9GcmFnQ29sb3IgPSBtaXgoc2FtcGxlLCBtYXNreSwgMC41KTsnLCAnICAgZ2xfRnJhZ0NvbG9yICo9IHNhbXBsZS5hOycsICd9J10uam9pbignXFxuJyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZpbHRlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmlsdGVyLmpzLm1hcCIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfTWF0cml4ID0gcmVxdWlyZSgnLi4vbWF0aC9NYXRyaXgnKTtcblxudmFyIF9NYXRyaXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWF0cml4KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIHRlbXBNYXQgPSBuZXcgX01hdHJpeDIuZGVmYXVsdCgpO1xuXG4vKipcbiAqIENsYXNzIGNvbnRyb2xzIHV2IHRyYW5zZm9ybSBhbmQgZnJhbWUgY2xhbXAgZm9yIHRleHR1cmVcbiAqIENhbiBiZSB1c2VkIGluIFRleHR1cmUgXCJ0cmFuc2Zvcm1cIiBmaWVsZCwgb3Igc2VwYXJhdGVseSwgeW91IGNhbiB1c2UgZGlmZmVyZW50IGNsYW1wIHNldHRpbmdzIG9uIHRoZSBzYW1lIHRleHR1cmUuXG4gKiBJZiB5b3Ugd2FudCB0byBhZGQgc3VwcG9ydCBmb3IgdGV4dHVyZSByZWdpb24gb2YgY2VydGFpbiBmZWF0dXJlIG9yIGZpbHRlciwgdGhhdCdzIHdoYXQgeW91J3JlIGxvb2tpbmcgZm9yLlxuICpcbiAqIEBzZWUgUElYSS5UZXh0dXJlXG4gKiBAc2VlIFBJWEkubWVzaC5NZXNoXG4gKiBAc2VlIFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5cbnZhciBUZXh0dXJlTWF0cml4ID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgb2JzZXJ2ZWQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY2xhbXBNYXJnaW5dIENoYW5nZXMgZnJhbWUgY2xhbXBpbmcsIDAuNSBieSBkZWZhdWx0LiBVc2UgLTAuNSBmb3IgZXh0cmEgYm9yZGVyLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVNYXRyaXgodGV4dHVyZSwgY2xhbXBNYXJnaW4pIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHR1cmVNYXRyaXgpO1xuXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlO1xuXG4gICAgICAgIHRoaXMubWFwQ29vcmQgPSBuZXcgX01hdHJpeDIuZGVmYXVsdCgpO1xuXG4gICAgICAgIHRoaXMudUNsYW1wRnJhbWUgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuXG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0ID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcblxuICAgICAgICB0aGlzLl9sYXN0VGV4dHVyZUlEID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmdcbiAgICAgICAgICogV29ya3Mgd2l0aCBUaWxpbmdTcHJpdGUgYW5kIE1lc2hcbiAgICAgICAgICogQ2hhbmdlIHRvIDEuNSBpZiB5b3UgdGV4dHVyZSBoYXMgcmVwZWF0ZWQgcmlnaHQgYW5kIGJvdHRvbSBsaW5lcywgdGhhdCBsZWFkcyB0byBzbW9vdGhlciBib3JkZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGFtcE9mZnNldCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmdcbiAgICAgICAgICogV29ya3Mgd2l0aCBUaWxpbmdTcHJpdGUgYW5kIE1lc2hcbiAgICAgICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsYW1wTWFyZ2luID0gdHlwZW9mIGNsYW1wTWFyZ2luID09PSAndW5kZWZpbmVkJyA/IDAuNSA6IGNsYW1wTWFyZ2luO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHRleHR1cmUgcHJvcGVydHlcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdXZzIGFycmF5IHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB1dnMgbWVzaCB1dnNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD11dnNdIG91dHB1dFxuICAgICAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IG91dHB1dFxuICAgICAqL1xuICAgIFRleHR1cmVNYXRyaXgucHJvdG90eXBlLm11bHRpcGx5VXZzID0gZnVuY3Rpb24gbXVsdGlwbHlVdnModXZzLCBvdXQpIHtcbiAgICAgICAgaWYgKG91dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvdXQgPSB1dnM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWF0ID0gdGhpcy5tYXBDb29yZDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHV2cy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHggPSB1dnNbaV07XG4gICAgICAgICAgICB2YXIgeSA9IHV2c1tpICsgMV07XG5cbiAgICAgICAgICAgIG91dFtpXSA9IHggKiBtYXQuYSArIHkgKiBtYXQuYyArIG1hdC50eDtcbiAgICAgICAgICAgIG91dFtpICsgMV0gPSB4ICogbWF0LmIgKyB5ICogbWF0LmQgKyBtYXQudHk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiB1cGRhdGVzIG1hdHJpY2VzIGlmIHRleHR1cmUgd2FzIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZvcmNlVXBkYXRlIGlmIHRydWUsIG1hdHJpY2VzIHdpbGwgYmUgdXBkYXRlZCBhbnkgY2FzZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIG9yIG5vdCBpdCB3YXMgdXBkYXRlZFxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlTWF0cml4LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoZm9yY2VVcGRhdGUpIHtcbiAgICAgICAgdmFyIHRleCA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXggfHwgIXRleC52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmb3JjZVVwZGF0ZSAmJiB0aGlzLl9sYXN0VGV4dHVyZUlEID09PSB0ZXguX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sYXN0VGV4dHVyZUlEID0gdGV4Ll91cGRhdGVJRDtcblxuICAgICAgICB2YXIgdXZzID0gdGV4Ll91dnM7XG5cbiAgICAgICAgdGhpcy5tYXBDb29yZC5zZXQodXZzLngxIC0gdXZzLngwLCB1dnMueTEgLSB1dnMueTAsIHV2cy54MyAtIHV2cy54MCwgdXZzLnkzIC0gdXZzLnkwLCB1dnMueDAsIHV2cy55MCk7XG5cbiAgICAgICAgdmFyIG9yaWcgPSB0ZXgub3JpZztcbiAgICAgICAgdmFyIHRyaW0gPSB0ZXgudHJpbTtcblxuICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgdGVtcE1hdC5zZXQob3JpZy53aWR0aCAvIHRyaW0ud2lkdGgsIDAsIDAsIG9yaWcuaGVpZ2h0IC8gdHJpbS5oZWlnaHQsIC10cmltLnggLyB0cmltLndpZHRoLCAtdHJpbS55IC8gdHJpbS5oZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5tYXBDb29yZC5hcHBlbmQodGVtcE1hdCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGV4QmFzZSA9IHRleC5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGZyYW1lID0gdGhpcy51Q2xhbXBGcmFtZTtcbiAgICAgICAgdmFyIG1hcmdpbiA9IHRoaXMuY2xhbXBNYXJnaW4gLyB0ZXhCYXNlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLmNsYW1wT2Zmc2V0O1xuXG4gICAgICAgIGZyYW1lWzBdID0gKHRleC5fZnJhbWUueCArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgICAgICBmcmFtZVsxXSA9ICh0ZXguX2ZyYW1lLnkgKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgICAgIGZyYW1lWzJdID0gKHRleC5fZnJhbWUueCArIHRleC5fZnJhbWUud2lkdGggLSBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICAgICAgZnJhbWVbM10gPSAodGV4Ll9mcmFtZS55ICsgdGV4Ll9mcmFtZS5oZWlnaHQgLSBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0WzBdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsV2lkdGg7XG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0WzFdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsSGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoVGV4dHVyZU1hdHJpeCwgW3tcbiAgICAgICAga2V5OiAndGV4dHVyZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fbGFzdFRleHR1cmVJRCA9IC0xO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRleHR1cmVNYXRyaXg7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHR1cmVNYXRyaXg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlTWF0cml4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxudmFyIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHMnKTtcblxudmFyIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlSW5kaWNlc0ZvclF1YWRzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgcXVhZFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFF1YWQgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgZ2wgY29udGV4dCBmb3IgdGhpcyBxdWFkIHRvIHVzZS5cbiAgICogQHBhcmFtIHtvYmplY3R9IHN0YXRlIC0gVE9ETzogRGVzY3JpcHRpb25cbiAgICovXG4gIGZ1bmN0aW9uIFF1YWQoZ2wsIHN0YXRlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFF1YWQpO1xuXG4gICAgLyoqXG4gICAgICogdGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG4gICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgdmVydGljZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShbLTEsIC0xLCAxLCAtMSwgMSwgMSwgLTEsIDFdKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBVdnMgb2YgdGhlIHF1YWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDAsIDEsIDEsIDAsIDFdKTtcblxuICAgIHRoaXMuaW50ZXJsZWF2ZWQgPSBuZXcgRmxvYXQzMkFycmF5KDggKiAyKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0XSA9IHRoaXMudmVydGljZXNbaSAqIDJdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDFdID0gdGhpcy52ZXJ0aWNlc1tpICogMiArIDFdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDJdID0gdGhpcy51dnNbaSAqIDJdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDNdID0gdGhpcy51dnNbaSAqIDIgKyAxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBjb250YWluaW5nIHRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5pbmRpY2VzID0gKDAsIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMyLmRlZmF1bHQpKDEpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZlcnRleCBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2dsQ29yZS5HTEJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLnZlcnRleEJ1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihnbCwgdGhpcy5pbnRlcmxlYXZlZCwgZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2xDb3JlLkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihnbCwgdGhpcy5pbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmVydGV4IGFycmF5IG9iamVjdFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2xDb3JlLlZlcnRleEFycmF5T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudmFvID0gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KGdsLCBzdGF0ZSk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGlzZXMgdGhlIHZhb3MgYW5kIHVzZXMgdGhlIHNoYWRlci5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gdGhlIHNoYWRlciB0byB1c2VcbiAgICovXG5cblxuICBRdWFkLnByb3RvdHlwZS5pbml0VmFvID0gZnVuY3Rpb24gaW5pdFZhbyhzaGFkZXIpIHtcbiAgICB0aGlzLnZhby5jbGVhcigpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZSh0aGlzLnZlcnRleEJ1ZmZlciwgc2hhZGVyLmF0dHJpYnV0ZXMuYVZlcnRleFBvc2l0aW9uLCB0aGlzLmdsLkZMT0FULCBmYWxzZSwgNCAqIDQsIDApLmFkZEF0dHJpYnV0ZSh0aGlzLnZlcnRleEJ1ZmZlciwgc2hhZGVyLmF0dHJpYnV0ZXMuYVRleHR1cmVDb29yZCwgdGhpcy5nbC5GTE9BVCwgZmFsc2UsIDQgKiA0LCAyICogNCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hcHMgdHdvIFJlY3RhbmdsZSB0byB0aGUgcXVhZC5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gdGFyZ2V0VGV4dHVyZUZyYW1lIC0gdGhlIGZpcnN0IHJlY3RhbmdsZVxuICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gdGhlIHNlY29uZCByZWN0YW5nbGVcbiAgICogQHJldHVybiB7UElYSS5RdWFkfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG5cblxuICBRdWFkLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAodGFyZ2V0VGV4dHVyZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgdmFyIHggPSAwOyAvLyBkZXN0aW5hdGlvbkZyYW1lLnggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGg7XG4gICAgdmFyIHkgPSAwOyAvLyBkZXN0aW5hdGlvbkZyYW1lLnkgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0O1xuXG4gICAgdGhpcy51dnNbMF0gPSB4O1xuICAgIHRoaXMudXZzWzFdID0geTtcblxuICAgIHRoaXMudXZzWzJdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGg7XG4gICAgdGhpcy51dnNbM10gPSB5O1xuXG4gICAgdGhpcy51dnNbNF0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aDtcbiAgICB0aGlzLnV2c1s1XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG5cbiAgICB0aGlzLnV2c1s2XSA9IHg7XG4gICAgdGhpcy51dnNbN10gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0O1xuXG4gICAgeCA9IGRlc3RpbmF0aW9uRnJhbWUueDtcbiAgICB5ID0gZGVzdGluYXRpb25GcmFtZS55O1xuXG4gICAgdGhpcy52ZXJ0aWNlc1swXSA9IHg7XG4gICAgdGhpcy52ZXJ0aWNlc1sxXSA9IHk7XG5cbiAgICB0aGlzLnZlcnRpY2VzWzJdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgdGhpcy52ZXJ0aWNlc1szXSA9IHk7XG5cbiAgICB0aGlzLnZlcnRpY2VzWzRdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgdGhpcy52ZXJ0aWNlc1s1XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcblxuICAgIHRoaXMudmVydGljZXNbNl0gPSB4O1xuICAgIHRoaXMudmVydGljZXNbN10gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgdGhlIGJ1ZmZlciBhbmQgdXBsb2FkcyB0aGUgZGF0YVxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLlF1YWR9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cblxuXG4gIFF1YWQucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNF0gPSB0aGlzLnZlcnRpY2VzW2kgKiAyXTtcbiAgICAgIHRoaXMuaW50ZXJsZWF2ZWRbaSAqIDQgKyAxXSA9IHRoaXMudmVydGljZXNbaSAqIDIgKyAxXTtcbiAgICAgIHRoaXMuaW50ZXJsZWF2ZWRbaSAqIDQgKyAyXSA9IHRoaXMudXZzW2kgKiAyXTtcbiAgICAgIHRoaXMuaW50ZXJsZWF2ZWRbaSAqIDQgKyAzXSA9IHRoaXMudXZzW2kgKiAyICsgMV07XG4gICAgfVxuXG4gICAgdGhpcy52ZXJ0ZXhCdWZmZXIudXBsb2FkKHRoaXMuaW50ZXJsZWF2ZWQpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhpcyBxdWFkIGZyb20gV2ViR0xcbiAgICovXG5cblxuICBRdWFkLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgZ2wuZGVsZXRlQnVmZmVyKHRoaXMudmVydGV4QnVmZmVyKTtcbiAgICBnbC5kZWxldGVCdWZmZXIodGhpcy5pbmRleEJ1ZmZlcik7XG4gIH07XG5cbiAgcmV0dXJuIFF1YWQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFF1YWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1RdWFkLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsgLy8gZGlzYWJsaW5nIGVzbGludCBmb3Igbm93LCBnb2luZyB0byByZXdyaXRlIHRoaXMgaW4gdjVcbi8qIGVzbGludC1kaXNhYmxlICovXG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIGRlZmF1bHRTdHlsZSA9IHtcbiAgICBhbGlnbjogJ2xlZnQnLFxuICAgIGJyZWFrV29yZHM6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3c6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3dBbHBoYTogMSxcbiAgICBkcm9wU2hhZG93QW5nbGU6IE1hdGguUEkgLyA2LFxuICAgIGRyb3BTaGFkb3dCbHVyOiAwLFxuICAgIGRyb3BTaGFkb3dDb2xvcjogJ2JsYWNrJyxcbiAgICBkcm9wU2hhZG93RGlzdGFuY2U6IDUsXG4gICAgZmlsbDogJ2JsYWNrJyxcbiAgICBmaWxsR3JhZGllbnRUeXBlOiBfY29uc3QuVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwsXG4gICAgZmlsbEdyYWRpZW50U3RvcHM6IFtdLFxuICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgZm9udFNpemU6IDI2LFxuICAgIGZvbnRTdHlsZTogJ25vcm1hbCcsXG4gICAgZm9udFZhcmlhbnQ6ICdub3JtYWwnLFxuICAgIGZvbnRXZWlnaHQ6ICdub3JtYWwnLFxuICAgIGxldHRlclNwYWNpbmc6IDAsXG4gICAgbGluZUhlaWdodDogMCxcbiAgICBsaW5lSm9pbjogJ21pdGVyJyxcbiAgICBtaXRlckxpbWl0OiAxMCxcbiAgICBwYWRkaW5nOiAwLFxuICAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICBzdHJva2VUaGlja25lc3M6IDAsXG4gICAgdGV4dEJhc2VsaW5lOiAnYWxwaGFiZXRpYycsXG4gICAgdHJpbTogZmFsc2UsXG4gICAgd2hpdGVTcGFjZTogJ3ByZScsXG4gICAgd29yZFdyYXA6IGZhbHNlLFxuICAgIHdvcmRXcmFwV2lkdGg6IDEwMCxcbiAgICBsZWFkaW5nOiAwXG59O1xuXG52YXIgZ2VuZXJpY0ZvbnRGYW1pbGllcyA9IFsnc2VyaWYnLCAnc2Fucy1zZXJpZicsICdtb25vc3BhY2UnLCAnY3Vyc2l2ZScsICdmYW50YXN5JywgJ3N5c3RlbS11aSddO1xuXG4vKipcbiAqIEEgVGV4dFN0eWxlIE9iamVjdCBkZWNvcmF0ZXMgYSBUZXh0IE9iamVjdC4gSXQgY2FuIGJlIHNoYXJlZCBiZXR3ZWVuXG4gKiBtdWx0aXBsZSBUZXh0IG9iamVjdHMuIENoYW5naW5nIHRoZSBzdHlsZSB3aWxsIHVwZGF0ZSBhbGwgdGV4dCBvYmplY3RzIHVzaW5nIGl0LlxuICogSXQgY2FuIGJlIGdlbmVyYXRlZCBbaGVyZV0oaHR0cHM6Ly9waXhpanMuaW8vcGl4aS10ZXh0LXN0eWxlKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIFRleHRTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3N0eWxlXSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5hbGlnbj0nbGVmdCddIC0gQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSxcbiAgICAgKiAgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS5icmVha1dvcmRzPWZhbHNlXSAtIEluZGljYXRlcyBpZiBsaW5lcyBjYW4gYmUgd3JhcHBlZCB3aXRoaW4gd29yZHMsIGl0XG4gICAgICogIG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUuZHJvcFNoYWRvdz1mYWxzZV0gLSBTZXQgYSBkcm9wIHNoYWRvdyBmb3IgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dBbHBoYT0xXSAtIFNldCBhbHBoYSBmb3IgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93QW5nbGU9TWF0aC5QSS82XSAtIFNldCBhIGFuZ2xlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0JsdXI9MF0gLSBTZXQgYSBzaGFkb3cgYmx1ciByYWRpdXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93Q29sb3I9J2JsYWNrJ10gLSBBIGZpbGwgc3R5bGUgdG8gYmUgdXNlZCBvbiB0aGUgZHJvcHNoYWRvdyBlLmcgJ3JlZCcsICcjMDBGRjAwJ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlPTVdIC0gU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59IFtzdHlsZS5maWxsPSdibGFjayddIC0gQSBjYW52YXNcbiAgICAgKiAgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IGUuZyAncmVkJywgJyMwMEZGMDAnLiBDYW4gYmUgYW4gYXJyYXkgdG8gY3JlYXRlIGEgZ3JhZGllbnRcbiAgICAgKiAgZWcgWycjMDAwMDAwJywnI0ZGRkZGRiddXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFN0eWxlfE1ETn1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmZpbGxHcmFkaWVudFR5cGU9UElYSS5URVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTF0gLSBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnNcbiAgICAgKiAgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgY2FuIGNoYW5nZSB0aGUgdHlwZS9kaXJlY3Rpb24gb2YgdGhlIGdyYWRpZW50LiBTZWUge0BsaW5rIFBJWEkuVEVYVF9HUkFESUVOVH1cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBbc3R5bGUuZmlsbEdyYWRpZW50U3RvcHNdIC0gSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGFycmF5IGNhbiBzZXRcbiAgICAgKiB0aGUgc3RvcCBwb2ludHMgKG51bWJlcnMgYmV0d2VlbiAwIGFuZCAxKSBmb3IgdGhlIGNvbG9yLCBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiBldmVubHkgc3BhY2luZyB0aGVtLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBbc3R5bGUuZm9udEZhbWlseT0nQXJpYWwnXSAtIFRoZSBmb250IGZhbWlseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gW3N0eWxlLmZvbnRTaXplPTI2XSAtIFRoZSBmb250IHNpemUgKGFzIGEgbnVtYmVyIGl0IGNvbnZlcnRzIHRvIHB4LCBidXQgYXMgYSBzdHJpbmcsXG4gICAgICogIGVxdWl2YWxlbnRzIGFyZSAnMjZweCcsJzIwcHQnLCcxNjAlJyBvciAnMS42ZW0nKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFN0eWxlPSdub3JtYWwnXSAtIFRoZSBmb250IHN0eWxlICgnbm9ybWFsJywgJ2l0YWxpYycgb3IgJ29ibGlxdWUnKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFZhcmlhbnQ9J25vcm1hbCddIC0gVGhlIGZvbnQgdmFyaWFudCAoJ25vcm1hbCcgb3IgJ3NtYWxsLWNhcHMnKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFdlaWdodD0nbm9ybWFsJ10gLSBUaGUgZm9udCB3ZWlnaHQgKCdub3JtYWwnLCAnYm9sZCcsICdib2xkZXInLCAnbGlnaHRlcicgYW5kICcxMDAnLFxuICAgICAqICAnMjAwJywgJzMwMCcsICc0MDAnLCAnNTAwJywgJzYwMCcsICc3MDAnLCA4MDAnIG9yICc5MDAnKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGVhZGluZz0wXSAtIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZXR0ZXJTcGFjaW5nPTBdIC0gVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5saW5lSGVpZ2h0XSAtIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmxpbmVKb2luPSdtaXRlciddIC0gVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlXG4gICAgICogICAgICBzcGlrZWQgdGV4dCBpc3N1ZXMuIFBvc3NpYmxlIHZhbHVlcyBcIm1pdGVyXCIgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLCBcInJvdW5kXCIgKGNyZWF0ZXMgYSByb3VuZCBjb3JuZXIpIG9yIFwiYmV2ZWxcIlxuICAgICAqICAgICAgKGNyZWF0ZXMgYSBzcXVhcmVkIGNvcm5lcikuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5taXRlckxpbWl0PTEwXSAtIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlLiBUaGlzIGNhbiByZWR1Y2VcbiAgICAgKiAgICAgIG9yIGluY3JlYXNlIHRoZSBzcGlraW5lc3Mgb2YgcmVuZGVyZWQgdGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnBhZGRpbmc9MF0gLSBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tXG4gICAgICogICAgIGhhcHBlbmluZyBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbc3R5bGUuc3Ryb2tlPSdibGFjayddIC0gQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAqICBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnN0cm9rZVRoaWNrbmVzcz0wXSAtIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gICAgICogIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLnRyaW09ZmFsc2VdIC0gVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS50ZXh0QmFzZWxpbmU9J2FscGhhYmV0aWMnXSAtIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLndoaXRlU3BhY2U9J3ByZSddIC0gRGV0ZXJtaW5lcyB3aGV0aGVyIG5ld2xpbmVzICYgc3BhY2VzIGFyZSBjb2xsYXBzZWQgb3IgcHJlc2VydmVkIFwibm9ybWFsXCJcbiAgICAgKiAgICAgIChjb2xsYXBzZSwgY29sbGFwc2UpLCBcInByZVwiIChwcmVzZXJ2ZSwgcHJlc2VydmUpIHwgXCJwcmUtbGluZVwiIChwcmVzZXJ2ZSwgY29sbGFwc2UpLiBJdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLndvcmRXcmFwPWZhbHNlXSAtIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLndvcmRXcmFwV2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBhdCB3aGljaCB0ZXh0IHdpbGwgd3JhcCwgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0U3R5bGUoc3R5bGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHRTdHlsZSk7XG5cbiAgICAgICAgdGhpcy5zdHlsZUlEID0gMDtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIHN0eWxlLCBzdHlsZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBUZXh0U3R5bGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgb25seSB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IGFyZSBjbG9uZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRTdHlsZX0gTmV3IGNsb25lZCBUZXh0U3R5bGUgb2JqZWN0XG4gICAgICovXG5cblxuICAgIFRleHRTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgdmFyIGNsb25lZFByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXMoY2xvbmVkUHJvcGVydGllcywgdGhpcywgZGVmYXVsdFN0eWxlKTtcblxuICAgICAgICByZXR1cm4gbmV3IFRleHRTdHlsZShjbG9uZWRQcm9wZXJ0aWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFsbCBwcm9wZXJ0aWVzIHRvIHRoZSBkZWZhdWx0cyBzcGVjaWZpZWQgaW4gVGV4dFN0eWxlLnByb3RvdHlwZS5fZGVmYXVsdFxuICAgICAqL1xuXG5cbiAgICBUZXh0U3R5bGUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBkZWZhdWx0U3R5bGUsIGRlZmF1bHRTdHlsZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGZvbnQgc3R5bGUgc3RyaW5nIHRvIHVzZSBmb3IgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBGb250IHN0eWxlIHN0cmluZywgZm9yIHBhc3NpbmcgdG8gYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgXG4gICAgICovXG4gICAgVGV4dFN0eWxlLnByb3RvdHlwZS50b0ZvbnRTdHJpbmcgPSBmdW5jdGlvbiB0b0ZvbnRTdHJpbmcoKSB7XG4gICAgICAgIC8vIGJ1aWxkIGNhbnZhcyBhcGkgZm9udCBzZXR0aW5nIGZyb20gaW5kaXZpZHVhbCBjb21wb25lbnRzLiBDb252ZXJ0IGEgbnVtZXJpYyB0aGlzLmZvbnRTaXplIHRvIHB4XG4gICAgICAgIHZhciBmb250U2l6ZVN0cmluZyA9IHR5cGVvZiB0aGlzLmZvbnRTaXplID09PSAnbnVtYmVyJyA/IHRoaXMuZm9udFNpemUgKyAncHgnIDogdGhpcy5mb250U2l6ZTtcblxuICAgICAgICAvLyBDbGVhbi11cCBmb250RmFtaWx5IHByb3BlcnR5IGJ5IHF1b3RpbmcgZWFjaCBmb250IG5hbWVcbiAgICAgICAgLy8gdGhpcyB3aWxsIHN1cHBvcnQgZm9udCBuYW1lcyB3aXRoIHNwYWNlc1xuICAgICAgICB2YXIgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5O1xuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmZvbnRGYW1pbHkpKSB7XG4gICAgICAgICAgICBmb250RmFtaWxpZXMgPSB0aGlzLmZvbnRGYW1pbHkuc3BsaXQoJywnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSBmb250RmFtaWxpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIC8vIFRyaW0gYW55IGV4dHJhIHdoaXRlLXNwYWNlXG4gICAgICAgICAgICB2YXIgZm9udEZhbWlseSA9IGZvbnRGYW1pbGllc1tpXS50cmltKCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGZvbnQgaXMgYWxyZWFkeSBlc2NhcGVkIGluIHF1b3RlcyBleGNlcHQgZm9yIENTUyBnZW5lcmljIGZvbnRzXG4gICAgICAgICAgICBpZiAoIS8oW1xcXCJcXCddKVteXFwnXFxcIl0rXFwxLy50ZXN0KGZvbnRGYW1pbHkpICYmIGdlbmVyaWNGb250RmFtaWxpZXMuaW5kZXhPZihmb250RmFtaWx5KSA8IDApIHtcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5ID0gJ1wiJyArIGZvbnRGYW1pbHkgKyAnXCInO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9udEZhbWlsaWVzW2ldID0gZm9udEZhbWlseTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZvbnRTdHlsZSArICcgJyArIHRoaXMuZm9udFZhcmlhbnQgKyAnICcgKyB0aGlzLmZvbnRXZWlnaHQgKyAnICcgKyBmb250U2l6ZVN0cmluZyArICcgJyArIGZvbnRGYW1pbGllcy5qb2luKCcsJyk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhUZXh0U3R5bGUsIFt7XG4gICAgICAgIGtleTogJ2FsaWduJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxpZ247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGFsaWduKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduICE9PSBhbGlnbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsaWduID0gYWxpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JyZWFrV29yZHMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9icmVha1dvcmRzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChicmVha1dvcmRzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JyZWFrV29yZHMgIT09IGJyZWFrV29yZHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9icmVha1dvcmRzID0gYnJlYWtXb3JkcztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBkcm9wIHNoYWRvdyBmb3IgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3cnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChkcm9wU2hhZG93KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3cgIT09IGRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93ID0gZHJvcFNoYWRvdztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYWxwaGEgZm9yIHRoZSBkcm9wIHNoYWRvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdkcm9wU2hhZG93QWxwaGEnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRyb3BTaGFkb3dBbHBoYSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QWxwaGEgIT09IGRyb3BTaGFkb3dBbHBoYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSA9IGRyb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBhbmdsZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZHJvcFNoYWRvd0FuZ2xlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FuZ2xlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChkcm9wU2hhZG93QW5nbGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FuZ2xlICE9PSBkcm9wU2hhZG93QW5nbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93QW5nbGUgPSBkcm9wU2hhZG93QW5nbGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgc2hhZG93IGJsdXIgcmFkaXVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3dCbHVyJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRyb3BTaGFkb3dCbHVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dCbHVyICE9PSBkcm9wU2hhZG93Qmx1cikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dCbHVyID0gZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBmaWxsIHN0eWxlIHRvIGJlIHVzZWQgb24gdGhlIGRyb3BzaGFkb3cgZS5nICdyZWQnLCAnIzAwRkYwMCdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3dDb2xvcicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZHJvcFNoYWRvd0NvbG9yKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZHJvcFNoYWRvd0NvbG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Q29sb3IgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0NvbG9yID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3dEaXN0YW5jZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZHJvcFNoYWRvd0Rpc3RhbmNlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSAhPT0gZHJvcFNoYWRvd0Rpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlID0gZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBlLmcgJ3JlZCcsICcjMDBGRjAwJy5cbiAgICAgICAgICogQ2FuIGJlIGFuIGFycmF5IHRvIGNyZWF0ZSBhIGdyYWRpZW50IGVnIFsnIzAwMDAwMCcsJyNGRkZGRkYnXVxuICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmaWxsJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZmlsbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKGZpbGwpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbGwgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbCA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuXG4gICAgICAgICAqIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmaWxsR3JhZGllbnRUeXBlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50VHlwZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZmlsbEdyYWRpZW50VHlwZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9maWxsR3JhZGllbnRUeXBlICE9PSBmaWxsR3JhZGllbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50VHlwZSA9IGZpbGxHcmFkaWVudFR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGFycmF5IGNhbiBzZXQgdGhlIHN0b3AgcG9pbnRzXG4gICAgICAgICAqIChudW1iZXJzIGJldHdlZW4gMCBhbmQgMSkgZm9yIHRoZSBjb2xvciwgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgZXZlbmx5IHNwYWNpbmcgdGhlbS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmaWxsR3JhZGllbnRTdG9wcycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmaWxsR3JhZGllbnRTdG9wcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghYXJlQXJyYXlzRXF1YWwodGhpcy5fZmlsbEdyYWRpZW50U3RvcHMsIGZpbGxHcmFkaWVudFN0b3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzID0gZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgZmFtaWx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xzdHJpbmdbXX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZvbnRGYW1pbHknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250RmFtaWx5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250RmFtaWx5KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuZm9udEZhbWlseSAhPT0gZm9udEZhbWlseSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHNpemVcbiAgICAgICAgICogKGFzIGEgbnVtYmVyIGl0IGNvbnZlcnRzIHRvIHB4LCBidXQgYXMgYSBzdHJpbmcsIGVxdWl2YWxlbnRzIGFyZSAnMjZweCcsJzIwcHQnLCcxNjAlJyBvciAnMS42ZW0nKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ8c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9udFNpemUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZm9udFNpemUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IGZvbnRTaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSBmb250U2l6ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBzdHlsZVxuICAgICAgICAgKiAoJ25vcm1hbCcsICdpdGFsaWMnIG9yICdvYmxpcXVlJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9udFN0eWxlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFN0eWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250U3R5bGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFN0eWxlICE9PSBmb250U3R5bGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSBmb250U3R5bGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgdmFyaWFudFxuICAgICAgICAgKiAoJ25vcm1hbCcgb3IgJ3NtYWxsLWNhcHMnKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmb250VmFyaWFudCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRWYXJpYW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250VmFyaWFudCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250VmFyaWFudCAhPT0gZm9udFZhcmlhbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250VmFyaWFudCA9IGZvbnRWYXJpYW50O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHdlaWdodFxuICAgICAgICAgKiAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZvbnRXZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250V2VpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250V2VpZ2h0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRXZWlnaHQgIT09IGZvbnRXZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250V2VpZ2h0ID0gZm9udFdlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGV0dGVyU3BhY2luZycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGxldHRlclNwYWNpbmcpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gbGV0dGVyU3BhY2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGluZUhlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGxpbmVIZWlnaHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGluZUhlaWdodCAhPT0gbGluZUhlaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2xlYWRpbmcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZWFkaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChsZWFkaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xlYWRpbmcgIT09IGxlYWRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZWFkaW5nID0gbGVhZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmUgc3Bpa2VkIHRleHQgaXNzdWVzLlxuICAgICAgICAgKiBEZWZhdWx0IGlzICdtaXRlcicgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdsaW5lSm9pbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVKb2luO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChsaW5lSm9pbikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saW5lSm9pbiAhPT0gbGluZUpvaW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lSm9pbiA9IGxpbmVKb2luO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlXG4gICAgICAgICAqIFRoaXMgY2FuIHJlZHVjZSBvciBpbmNyZWFzZSB0aGUgc3Bpa2luZXNzIG9mIHJlbmRlcmVkIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ21pdGVyTGltaXQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9taXRlckxpbWl0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChtaXRlckxpbWl0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21pdGVyTGltaXQgIT09IG1pdGVyTGltaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taXRlckxpbWl0ID0gbWl0ZXJMaW1pdDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tIGhhcHBlbmluZ1xuICAgICAgICAgKiBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3BhZGRpbmcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYWRkaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChwYWRkaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhZGRpbmcgIT09IHBhZGRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlXG4gICAgICAgICAqIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc3Ryb2tlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Ryb2tlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdHJva2UpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihzdHJva2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0cm9rZSAhPT0gb3V0cHV0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2UgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHRoaWNrbmVzcyBvZiB0aGUgc3Ryb2tlLlxuICAgICAgICAgKiBEZWZhdWx0IGlzIDAgKG5vIHN0cm9rZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc3Ryb2tlVGhpY2tuZXNzJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdHJva2VUaGlja25lc3MpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3Ryb2tlVGhpY2tuZXNzICE9PSBzdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2VUaGlja25lc3MgPSBzdHJva2VUaGlja25lc3M7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RleHRCYXNlbGluZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRCYXNlbGluZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGV4dEJhc2VsaW5lKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHRCYXNlbGluZSAhPT0gdGV4dEJhc2VsaW5lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dEJhc2VsaW5lID0gdGV4dEJhc2VsaW5lO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndHJpbScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyaW07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRyaW0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJpbSAhPT0gdHJpbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyaW0gPSB0cmltO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyBuZXdsaW5lcyBhbmQgc3BhY2VzIHNob3VsZCBiZSBoYW5kbGVkLlxuICAgICAgICAgKiBEZWZhdWx0IGlzICdwcmUnIChwcmVzZXJ2ZSwgcHJlc2VydmUpLlxuICAgICAgICAgKlxuICAgICAgICAgKiAgdmFsdWUgICAgICAgfCBOZXcgbGluZXMgICAgIHwgICBTcGFjZXNcbiAgICAgICAgICogIC0tLSAgICAgICAgIHwgLS0tICAgICAgICAgICB8ICAgLS0tXG4gICAgICAgICAqICdub3JtYWwnICAgICB8IENvbGxhcHNlICAgICAgfCAgIENvbGxhcHNlXG4gICAgICAgICAqICdwcmUnICAgICAgICB8IFByZXNlcnZlICAgICAgfCAgIFByZXNlcnZlXG4gICAgICAgICAqICdwcmUtbGluZScgICB8IFByZXNlcnZlICAgICAgfCAgIENvbGxhcHNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3doaXRlU3BhY2UnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aGl0ZVNwYWNlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh3aGl0ZVNwYWNlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3doaXRlU3BhY2UgIT09IHdoaXRlU3BhY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93aGl0ZVNwYWNlID0gd2hpdGVTcGFjZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgd29yZCB3cmFwIHNob3VsZCBiZSB1c2VkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd3b3JkV3JhcCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmRXcmFwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh3b3JkV3JhcCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93b3JkV3JhcCAhPT0gd29yZFdyYXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JkV3JhcCA9IHdvcmRXcmFwO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBhdCB3aGljaCB0ZXh0IHdpbGwgd3JhcCwgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnd29yZFdyYXBXaWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmRXcmFwV2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHdvcmRXcmFwV2lkdGgpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fd29yZFdyYXBXaWR0aCAhPT0gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmRXcmFwV2lkdGggPSB3b3JkV3JhcFdpZHRoO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRleHRTdHlsZTtcbn0oKTtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfG51bWJlcltdfSBjb2xvclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29sb3IgYXMgYSBzdHJpbmcuXG4gKi9cblxuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0U3R5bGU7XG5mdW5jdGlvbiBnZXRTaW5nbGVDb2xvcihjb2xvcikge1xuICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiAoMCwgX3V0aWxzLmhleDJzdHJpbmcpKGNvbG9yKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGNvbG9yLmluZGV4T2YoJzB4JykgPT09IDApIHtcbiAgICAgICAgICAgIGNvbG9yID0gY29sb3IucmVwbGFjZSgnMHgnLCAnIycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbG9yO1xufVxuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBUaGlzIHZlcnNpb24gY2FuIGFsc28gY29udmVydCBhcnJheSBvZiBjb2xvcnNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcnxudW1iZXJbXX0gY29sb3JcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbG9yIGFzIGEgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBnZXRDb2xvcihjb2xvcikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICAgICAgcmV0dXJuIGdldFNpbmdsZUNvbG9yKGNvbG9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbG9yLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb2xvcltpXSA9IGdldFNpbmdsZUNvbG9yKGNvbG9yW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MSBGaXJzdCBhcnJheSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTIgU2Vjb25kIGFycmF5IHRvIGNvbXBhcmVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IERvIHRoZSBhcnJheXMgY29udGFpbiB0aGUgc2FtZSB2YWx1ZXMgaW4gdGhlIHNhbWUgb3JkZXJcbiAqL1xuZnVuY3Rpb24gYXJlQXJyYXlzRXF1YWwoYXJyYXkxLCBhcnJheTIpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkxKSB8fCAhQXJyYXkuaXNBcnJheShhcnJheTIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoYXJyYXkxLmxlbmd0aCAhPT0gYXJyYXkyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheTEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGFycmF5MVtpXSAhPT0gYXJyYXkyW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGVuc3VyZSB0aGF0IG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBjb3BpZWQgYnkgdmFsdWUsIGFuZCBub3QgYnkgcmVmZXJlbmNlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUYXJnZXQgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBpbnRvXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFNvdXJjZSBvYmplY3QgZm9yIHRoZSBwcm9wb3J0aWVzIHRvIGNvcHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU9iaiBPYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIG5hbWVzIHdlIHdhbnQgdG8gbG9vcCBvdmVyXG4gKi9cbmZ1bmN0aW9uIGRlZXBDb3B5UHJvcGVydGllcyh0YXJnZXQsIHNvdXJjZSwgcHJvcGVydHlPYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIHByb3BlcnR5T2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZVtwcm9wXSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXS5zbGljZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dFN0eWxlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUaGUgVGV4dE1ldHJpY3Mgb2JqZWN0IHJlcHJlc2VudHMgdGhlIG1lYXN1cmVtZW50IG9mIGEgYmxvY2sgb2YgdGV4dCB3aXRoIGEgc3BlY2lmaWVkIHN0eWxlLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3R5bGUgPSBuZXcgUElYSS5UZXh0U3R5bGUoe2ZvbnRGYW1pbHkgOiAnQXJpYWwnLCBmb250U2l6ZTogMjQsIGZpbGwgOiAweGZmMTAxMCwgYWxpZ24gOiAnY2VudGVyJ30pXG4gKiBsZXQgdGV4dE1ldHJpY3MgPSBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KCdZb3VyIHRleHQnLCBzdHlsZSlcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlck9mIFBJWElcbiAqL1xudmFyIFRleHRNZXRyaWNzID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHRleHQgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSBzdHlsZSB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSBtZWFzdXJlZCB3aWR0aCBvZiB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbWVhc3VyZWQgaGVpZ2h0IG9mIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHthcnJheX0gbGluZXMgLSBhbiBhcnJheSBvZiB0aGUgbGluZXMgb2YgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpZiBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBsaW5lV2lkdGhzIC0gYW4gYXJyYXkgb2YgdGhlIGxpbmUgd2lkdGhzIGZvciBlYWNoIGxpbmUgbWF0Y2hlZCB0byBgbGluZXNgXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxpbmVIZWlnaHQgLSB0aGUgbWVhc3VyZWQgbGluZSBoZWlnaHQgZm9yIHRoaXMgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4TGluZVdpZHRoIC0gdGhlIG1heGltdW0gbGluZSB3aWR0aCBmb3IgYWxsIG1lYXN1cmVkIGxpbmVzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGZvbnRQcm9wZXJ0aWVzIC0gdGhlIGZvbnQgcHJvcGVydGllcyBvYmplY3QgZnJvbSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRNZXRyaWNzKHRleHQsIHN0eWxlLCB3aWR0aCwgaGVpZ2h0LCBsaW5lcywgbGluZVdpZHRocywgbGluZUhlaWdodCwgbWF4TGluZVdpZHRoLCBmb250UHJvcGVydGllcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dE1ldHJpY3MpO1xuXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5saW5lcyA9IGxpbmVzO1xuICAgICAgICB0aGlzLmxpbmVXaWR0aHMgPSBsaW5lV2lkdGhzO1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICB0aGlzLm1heExpbmVXaWR0aCA9IG1heExpbmVXaWR0aDtcbiAgICAgICAgdGhpcy5mb250UHJvcGVydGllcyA9IGZvbnRQcm9wZXJ0aWVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1lYXN1cmVzIHRoZSBzdXBwbGllZCBzdHJpbmcgb2YgdGV4dCBhbmQgcmV0dXJucyBhIFJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHRleHQgdG8gbWVhc3VyZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSB0ZXh0IHN0eWxlIHRvIHVzZSBmb3IgbWVhc3VyaW5nXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbd29yZFdyYXBdIC0gb3B0aW9uYWwgb3ZlcnJpZGUgZm9yIGlmIHdvcmQtd3JhcCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRNZXRyaWNzfSBtZWFzdXJlZCB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB0ZXh0LlxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCA9IGZ1bmN0aW9uIG1lYXN1cmVUZXh0KHRleHQsIHN0eWxlLCB3b3JkV3JhcCkge1xuICAgICAgICB2YXIgY2FudmFzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBUZXh0TWV0cmljcy5fY2FudmFzO1xuXG4gICAgICAgIHdvcmRXcmFwID0gd29yZFdyYXAgPT09IHVuZGVmaW5lZCB8fCB3b3JkV3JhcCA9PT0gbnVsbCA/IHN0eWxlLndvcmRXcmFwIDogd29yZFdyYXA7XG4gICAgICAgIHZhciBmb250ID0gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgICAgIHZhciBmb250UHJvcGVydGllcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG5cbiAgICAgICAgdmFyIG91dHB1dFRleHQgPSB3b3JkV3JhcCA/IFRleHRNZXRyaWNzLndvcmRXcmFwKHRleHQsIHN0eWxlLCBjYW52YXMpIDogdGV4dDtcbiAgICAgICAgdmFyIGxpbmVzID0gb3V0cHV0VGV4dC5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyk7XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gbmV3IEFycmF5KGxpbmVzLmxlbmd0aCk7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsaW5lV2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGxpbmVzW2ldKS53aWR0aCArIChsaW5lc1tpXS5sZW5ndGggLSAxKSAqIHN0eWxlLmxldHRlclNwYWNpbmc7XG5cbiAgICAgICAgICAgIGxpbmVXaWR0aHNbaV0gPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gbWF4TGluZVdpZHRoICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuXG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgICAgICB3aWR0aCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGluZUhlaWdodCA9IHN0eWxlLmxpbmVIZWlnaHQgfHwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLm1heChsaW5lSGVpZ2h0LCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykgKyAobGluZXMubGVuZ3RoIC0gMSkgKiAobGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcpO1xuXG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgICAgICBoZWlnaHQgKz0gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0TWV0cmljcyh0ZXh0LCBzdHlsZSwgd2lkdGgsIGhlaWdodCwgbGluZXMsIGxpbmVXaWR0aHMsIGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nLCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBuZXdsaW5lcyB0byBhIHN0cmluZyB0byBoYXZlIGl0IG9wdGltYWxseSBmaXQgaW50byB0aGUgaG9yaXpvbnRhbFxuICAgICAqIGJvdW5kcyBzZXQgYnkgdGhlIFRleHQgb2JqZWN0J3Mgd29yZFdyYXBXaWR0aCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBTdHJpbmcgdG8gYXBwbHkgd29yZCB3cmFwcGluZyB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRvIHVzZSB3aGVuIHdyYXBwaW5nXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBOZXcgc3RyaW5nIHdpdGggbmV3IGxpbmVzIGFwcGxpZWQgd2hlcmUgcmVxdWlyZWRcbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3Mud29yZFdyYXAgPSBmdW5jdGlvbiB3b3JkV3JhcCh0ZXh0LCBzdHlsZSkge1xuICAgICAgICB2YXIgY2FudmFzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBUZXh0TWV0cmljcy5fY2FudmFzO1xuXG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgdmFyIHdpZHRoID0gMDtcbiAgICAgICAgdmFyIGxpbmUgPSAnJztcbiAgICAgICAgdmFyIGxpbmVzID0gJyc7XG5cbiAgICAgICAgdmFyIGNhY2hlID0ge307XG4gICAgICAgIHZhciBsZXR0ZXJTcGFjaW5nID0gc3R5bGUubGV0dGVyU3BhY2luZyxcbiAgICAgICAgICAgIHdoaXRlU3BhY2UgPSBzdHlsZS53aGl0ZVNwYWNlO1xuXG4gICAgICAgIC8vIEhvdyB0byBoYW5kbGUgd2hpdGVzcGFjZXNcblxuICAgICAgICB2YXIgY29sbGFwc2VTcGFjZXMgPSBUZXh0TWV0cmljcy5jb2xsYXBzZVNwYWNlcyh3aGl0ZVNwYWNlKTtcbiAgICAgICAgdmFyIGNvbGxhcHNlTmV3bGluZXMgPSBUZXh0TWV0cmljcy5jb2xsYXBzZU5ld2xpbmVzKHdoaXRlU3BhY2UpO1xuXG4gICAgICAgIC8vIHdoZXRoZXIgb3Igbm90IHNwYWNlcyBtYXkgYmUgYWRkZWQgdG8gdGhlIGJlZ2lubmluZyBvZiBsaW5lc1xuICAgICAgICB2YXIgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcblxuICAgICAgICAvLyBUaGVyZSBpcyBsZXR0ZXJTcGFjaW5nIGFmdGVyIGV2ZXJ5IGNoYXIgZXhjZXB0IHRoZSBsYXN0IG9uZVxuICAgICAgICAvLyB0X2hfaV9zXycgJ19pX3NfJyAnX2Ffbl8nICdfZV94X2FfbV9wX2xfZV8nICdfIVxuICAgICAgICAvLyBzbyBmb3IgY29udmVuaWVuY2UgdGhlIGFib3ZlIG5lZWRzIHRvIGJlIGNvbXBhcmVkIHRvIHdpZHRoICsgMSBleHRyYSBsZXR0ZXJTcGFjZVxuICAgICAgICAvLyB0X2hfaV9zXycgJ19pX3NfJyAnX2Ffbl8nICdfZV94X2FfbV9wX2xfZV8nICdfIV9cbiAgICAgICAgLy8gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXG4gICAgICAgIC8vIEFuZCB0aGVuIHRoZSBmaW5hbCBzcGFjZSBpcyBzaW1wbHkgbm8gYXBwZW5kZWQgdG8gZWFjaCBsaW5lXG4gICAgICAgIHZhciB3b3JkV3JhcFdpZHRoID0gc3R5bGUud29yZFdyYXBXaWR0aCArIGxldHRlclNwYWNpbmc7XG5cbiAgICAgICAgLy8gYnJlYWsgdGV4dCBpbnRvIHdvcmRzLCBzcGFjZXMgYW5kIG5ld2xpbmUgY2hhcnNcbiAgICAgICAgdmFyIHRva2VucyA9IFRleHRNZXRyaWNzLnRva2VuaXplKHRleHQpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIHdvcmQsIHNwYWNlIG9yIG5ld2xpbmVDaGFyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG5cbiAgICAgICAgICAgIC8vIGlmIHdvcmQgaXMgYSBuZXcgbGluZVxuICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzTmV3bGluZSh0b2tlbikpIHtcbiAgICAgICAgICAgICAgICAvLyBrZWVwIHRoZSBuZXcgbGluZVxuICAgICAgICAgICAgICAgIGlmICghY29sbGFwc2VOZXdsaW5lcykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgd2Ugc2hvdWxkIGNvbGxhcHNlIG5ldyBsaW5lc1xuICAgICAgICAgICAgICAgIC8vIHdlIHNpbXBseSBjb252ZXJ0IGl0IGludG8gYSBzcGFjZVxuICAgICAgICAgICAgICAgIHRva2VuID0gJyAnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgcmVwZWF0ZWQgd2hpdGVzcGFjZXNcbiAgICAgICAgICAgIGlmIChjb2xsYXBzZVNwYWNlcykge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGJvdGggdGhpcyBhbmQgdGhlIGxhc3QgdG9rZW5zIGZvciBzcGFjZXNcbiAgICAgICAgICAgICAgICB2YXIgY3VycklzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbik7XG4gICAgICAgICAgICAgICAgdmFyIGxhc3RJc0JyZWFraW5nU3BhY2UgPSBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UobGluZVtsaW5lLmxlbmd0aCAtIDFdKTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJySXNCcmVha2luZ1NwYWNlICYmIGxhc3RJc0JyZWFraW5nU3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBnZXQgd29yZCB3aWR0aCBmcm9tIGNhY2hlIGlmIHBvc3NpYmxlXG4gICAgICAgICAgICB2YXIgdG9rZW5XaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZSh0b2tlbiwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICAvLyB3b3JkIGlzIGxvbmdlciB0aGFuIGRlc2lyZWQgYm91bmRzXG4gICAgICAgICAgICBpZiAodG9rZW5XaWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGFscmVhZHkgYXQgdGhlIGJlZ2lubmluZyBvZiBhIGxpbmVcbiAgICAgICAgICAgICAgICBpZiAobGluZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgbmV3bGluZXMgZm9yIG92ZXJmbG93IHdvcmRzXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGJyZWFrIGxhcmdlIHdvcmQgb3ZlciBtdWx0aXBsZSBsaW5lc1xuICAgICAgICAgICAgICAgIGlmIChUZXh0TWV0cmljcy5jYW5CcmVha1dvcmRzKHRva2VuLCBzdHlsZS5icmVha1dvcmRzKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBicmVhayB3b3JkIGludG8gY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVycyA9IHRva2VuLnNwbGl0KCcnKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBsb29wIHRoZSBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2hhcmFjdGVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXIgPSBjaGFyYWN0ZXJzW2pdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgayA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgbm90IGF0IHRoZSBlbmQgb2YgdGhlIHRva2VuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjaGFyYWN0ZXJzW2ogKyBrXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Q2hhciA9IGNoYXJhY3RlcnNbaiArIGtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXN0Q2hhciA9IGNoYXJbY2hhci5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBub3Qgc3BsaXQgY2hhcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIVRleHRNZXRyaWNzLmNhbkJyZWFrQ2hhcnMobGFzdENoYXIsIG5leHRDaGFyLCB0b2tlbiwgaiwgc3R5bGUuYnJlYWtXb3JkcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tYmluZSBjaGFycyAmIG1vdmUgZm9yd2FyZCBvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhciArPSBuZXh0Q2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGogKz0gY2hhci5sZW5ndGggLSAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVyV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUoY2hhciwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyV2lkdGggKyB3aWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lICs9IGNoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBjaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHJ1biB3b3JkIG91dCBvZiB0aGUgYm91bmRzXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmUgd29yZHMgaW4gdGhpcyBsaW5lIGFscmVhZHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbmlzaCB0aGF0IGxpbmUgYW5kIHN0YXJ0IGEgbmV3IG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzTGFzdFRva2VuID0gaSA9PT0gdG9rZW5zLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdpdmUgaXQgaXRzIG93biBsaW5lIGlmIGl0J3Mgbm90IHRoZSBlbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUodG9rZW4sICFpc0xhc3RUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gd29yZCBjb3VsZCBmaXRcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyB3b3JkIHdvbid0IGZpdCBiZWNhdXNlIG9mIGV4aXN0aW5nIHdvcmRzXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuV2lkdGggKyB3aWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0cyBhIHNwYWNlIHdlIGRvbid0IHdhbnQgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IGFkZCBzcGFjZXMgdG8gdGhlIGJlZ2lubmluZyBvZiBsaW5lc1xuICAgICAgICAgICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwIHx8ICFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pIHx8IGNhblByZXBlbmRTcGFjZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgd29yZCB0byB0aGUgY3VycmVudCBsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lICs9IHRva2VuO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgd2lkdGggY291bnRlclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gdG9rZW5XaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSwgZmFsc2UpO1xuXG4gICAgICAgIHJldHVybiBsaW5lcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmllbmllbmNlIGZ1bmN0aW9uIGZvciBsb2dnaW5nIGVhY2ggbGluZSBhZGRlZCBkdXJpbmcgdGhlIHdvcmRXcmFwXG4gICAgICogbWV0aG9kXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICBsaW5lICAgICAgICAtIFRoZSBsaW5lIG9mIHRleHQgdG8gYWRkXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gIG5ld0xpbmUgICAgIC0gQWRkIG5ldyBsaW5lIGNoYXJhY3RlciB0byBlbmRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgQSBmb3JtYXR0ZWQgbGluZVxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy5hZGRMaW5lID0gZnVuY3Rpb24gYWRkTGluZShsaW5lKSB7XG4gICAgICAgIHZhciBuZXdMaW5lID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuXG4gICAgICAgIGxpbmUgPSBUZXh0TWV0cmljcy50cmltUmlnaHQobGluZSk7XG5cbiAgICAgICAgbGluZSA9IG5ld0xpbmUgPyBsaW5lICsgJ1xcbicgOiBsaW5lO1xuXG4gICAgICAgIHJldHVybiBsaW5lO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzICYgc2V0cyB0aGUgd2lkdGhzIG9mIGNhbGN1bGF0ZWQgY2hhcmFjdGVycyBpbiBhIGNhY2hlIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgICBrZXkgICAgICAgICAgICBUaGUga2V5XG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgICAgICAgICAgICAgICAgICAgbGV0dGVyU3BhY2luZyAgVGhlIGxldHRlciBzcGFjaW5nXG4gICAgICogQHBhcmFtICB7b2JqZWN0fSAgICAgICAgICAgICAgICAgICAgY2FjaGUgICAgICAgICAgVGhlIGNhY2hlXG4gICAgICogQHBhcmFtICB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAgY29udGV4dCAgICAgICAgVGhlIGNhbnZhcyBjb250ZXh0XG4gICAgICogQHJldHVybiB7bnVtYmVyfSAgICAgICAgICAgICAgICAgICAgVGhlIGZyb20gY2FjaGUuXG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLmdldEZyb21DYWNoZSA9IGZ1bmN0aW9uIGdldEZyb21DYWNoZShrZXksIGxldHRlclNwYWNpbmcsIGNhY2hlLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciB3aWR0aCA9IGNhY2hlW2tleV07XG5cbiAgICAgICAgaWYgKHdpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBzcGFjaW5nID0ga2V5Lmxlbmd0aCAqIGxldHRlclNwYWNpbmc7XG5cbiAgICAgICAgICAgIHdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChrZXkpLndpZHRoICsgc3BhY2luZztcbiAgICAgICAgICAgIGNhY2hlW2tleV0gPSB3aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB3aWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIHNob3VsZCBjb2xsYXBzZSBicmVha2luZyBzcGFjZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHdoaXRlU3BhY2UgIFRoZSBUZXh0U3R5bGUgcHJvcGVydHkgd2hpdGVTcGFjZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBzaG91bGQgY29sbGFwc2VcbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3MuY29sbGFwc2VTcGFjZXMgPSBmdW5jdGlvbiBjb2xsYXBzZVNwYWNlcyh3aGl0ZVNwYWNlKSB7XG4gICAgICAgIHJldHVybiB3aGl0ZVNwYWNlID09PSAnbm9ybWFsJyB8fCB3aGl0ZVNwYWNlID09PSAncHJlLWxpbmUnO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgd2Ugc2hvdWxkIGNvbGxhcHNlIG5ld0xpbmUgY2hhcnNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHdoaXRlU3BhY2UgIFRoZSB3aGl0ZSBzcGFjZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBzaG91bGQgY29sbGFwc2VcbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3MuY29sbGFwc2VOZXdsaW5lcyA9IGZ1bmN0aW9uIGNvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSkge1xuICAgICAgICByZXR1cm4gd2hpdGVTcGFjZSA9PT0gJ25vcm1hbCc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHRyaW1zIGJyZWFraW5nIHdoaXRlc3BhY2VzIGZyb20gc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRleHQgIFRoZSB0ZXh0XG4gICAgICogQHJldHVybiB7c3RyaW5nfSAgdHJpbW1lZCBzdHJpbmdcbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3MudHJpbVJpZ2h0ID0gZnVuY3Rpb24gdHJpbVJpZ2h0KHRleHQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IHRleHQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGV4dFtpXTtcblxuICAgICAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGV4dCA9IHRleHQuc2xpY2UoMCwgLTEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgY2hhciBpcyBhIG5ld2xpbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgIFRoZSBjaGFyYWN0ZXJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAgVHJ1ZSBpZiBuZXdsaW5lLCBGYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLmlzTmV3bGluZSA9IGZ1bmN0aW9uIGlzTmV3bGluZShjaGFyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBUZXh0TWV0cmljcy5fbmV3bGluZXMuaW5kZXhPZihjaGFyLmNoYXJDb2RlQXQoMCkpID49IDA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgY2hhciBpcyBhIGJyZWFraW5nIHdoaXRlc3BhY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgIFRoZSBjaGFyYWN0ZXJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAgVHJ1ZSBpZiB3aGl0ZXNwYWNlLCBGYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSA9IGZ1bmN0aW9uIGlzQnJlYWtpbmdTcGFjZShjaGFyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBUZXh0TWV0cmljcy5fYnJlYWtpbmdTcGFjZXMuaW5kZXhPZihjaGFyLmNoYXJDb2RlQXQoMCkpID49IDA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBhIHN0cmluZyBpbnRvIHdvcmRzLCBicmVha2luZy1zcGFjZXMgYW5kIG5ld0xpbmUgY2hhcmFjdGVyc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0ZXh0ICAgICAgIFRoZSB0ZXh0XG4gICAgICogQHJldHVybiB7YXJyYXl9ICBBIHRva2VuaXplZCBhcnJheVxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy50b2tlbml6ZSA9IGZ1bmN0aW9uIHRva2VuaXplKHRleHQpIHtcbiAgICAgICAgdmFyIHRva2VucyA9IFtdO1xuICAgICAgICB2YXIgdG9rZW4gPSAnJztcblxuICAgICAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hhciA9IHRleHRbaV07XG5cbiAgICAgICAgICAgIGlmIChUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UoY2hhcikgfHwgVGV4dE1ldHJpY3MuaXNOZXdsaW5lKGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goY2hhcik7XG5cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdG9rZW4gKz0gY2hhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b2tlbiAhPT0gJycpIHtcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGV4aXN0cyB0byBiZSBlYXNpbHkgb3ZlcnJpZGRlblxuICAgICAqIEl0IGFsbG93cyBvbmUgdG8gY3VzdG9taXNlIHdoaWNoIHdvcmRzIHNob3VsZCBicmVha1xuICAgICAqIEV4YW1wbGVzIGFyZSBpZiB0aGUgdG9rZW4gaXMgQ0pLIG9yIG51bWJlcnMuXG4gICAgICogSXQgbXVzdCByZXR1cm4gYSBib29sZWFuLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAgICAgICBUaGUgdG9rZW5cbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSAgYnJlYWtXb3JkcyAgVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLmNhbkJyZWFrV29yZHMgPSBmdW5jdGlvbiBjYW5CcmVha1dvcmRzKHRva2VuLCBicmVha1dvcmRzKSB7XG4gICAgICAgIHJldHVybiBicmVha1dvcmRzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBleGlzdHMgdG8gYmUgZWFzaWx5IG92ZXJyaWRkZW5cbiAgICAgKiBJdCBhbGxvd3Mgb25lIHRvIGRldGVybWluZSB3aGV0aGVyIGEgcGFpciBvZiBjaGFyYWN0ZXJzXG4gICAgICogc2hvdWxkIGJlIGJyb2tlbiBieSBuZXdsaW5lc1xuICAgICAqIEZvciBleGFtcGxlIGNlcnRhaW4gY2hhcmFjdGVycyBpbiBDSksgbGFuZ3Mgb3IgbnVtYmVycy5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgICAgICBUaGUgY2hhcmFjdGVyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgbmV4dENoYXIgIFRoZSBuZXh0IGNoYXJhY3RlclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRva2VuICAgICBUaGUgdG9rZW4vd29yZCB0aGUgY2hhcmFjdGVycyBhcmUgZnJvbVxuICAgICAqIEBwYXJhbSAge251bWJlcn0gIGluZGV4ICAgICBUaGUgaW5kZXggaW4gdGhlIHRva2VuIG9mIHRoZSBjaGFyXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gIGJyZWFrV29yZHMgIFRoZSBzdHlsZSBhdHRyIGJyZWFrIHdvcmRzXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0byBicmVhayB3b3JkIG9yIG5vdFxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy5jYW5CcmVha0NoYXJzID0gZnVuY3Rpb24gY2FuQnJlYWtDaGFycyhjaGFyLCBuZXh0Q2hhciwgdG9rZW4sIGluZGV4LCBicmVha1dvcmRzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgYXNjZW50LCBkZXNjZW50IGFuZCBmb250U2l6ZSBvZiBhIGdpdmVuIGZvbnQtc3R5bGVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm9udCAtIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIHN0eWxlIG9mIHRoZSBmb250XG4gICAgICogQHJldHVybiB7UElYSS5UZXh0TWV0cmljc35Gb250TWV0cmljc30gRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCA9IGZ1bmN0aW9uIG1lYXN1cmVGb250KGZvbnQpIHtcbiAgICAgICAgLy8gYXMgdGhpcyBtZXRob2QgaXMgdXNlZCBmb3IgcHJlcGFyaW5nIGFzc2V0cywgZG9uJ3QgcmVjYWxjdWxhdGUgdGhpbmdzIGlmIHdlIGRvbid0IG5lZWQgdG9cbiAgICAgICAgaWYgKFRleHRNZXRyaWNzLl9mb250c1tmb250XSkge1xuICAgICAgICAgICAgcmV0dXJuIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXM7XG4gICAgICAgIHZhciBjb250ZXh0ID0gVGV4dE1ldHJpY3MuX2NvbnRleHQ7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgICAgICB2YXIgbWV0cmljc1N0cmluZyA9IFRleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HICsgVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MO1xuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLmNlaWwoY29udGV4dC5tZWFzdXJlVGV4dChtZXRyaWNzU3RyaW5nKS53aWR0aCk7XG4gICAgICAgIHZhciBiYXNlbGluZSA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KFRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTCkud2lkdGgpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gMiAqIGJhc2VsaW5lO1xuXG4gICAgICAgIGJhc2VsaW5lID0gYmFzZWxpbmUgKiBUZXh0TWV0cmljcy5CQVNFTElORV9NVUxUSVBMSUVSIHwgMDtcblxuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjZjAwJztcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ2FscGhhYmV0aWMnO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjMDAwJztcbiAgICAgICAgY29udGV4dC5maWxsVGV4dChtZXRyaWNzU3RyaW5nLCAwLCBiYXNlbGluZSk7XG5cbiAgICAgICAgdmFyIGltYWdlZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpLmRhdGE7XG4gICAgICAgIHZhciBwaXhlbHMgPSBpbWFnZWRhdGEubGVuZ3RoO1xuICAgICAgICB2YXIgbGluZSA9IHdpZHRoICogNDtcblxuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICB2YXIgc3RvcCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGFzY2VudC4gc2NhbiBmcm9tIHRvcCB0byBib3R0b20gdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJhc2VsaW5lOyArK2kpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZTsgaiArPSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlZGF0YVtpZHggKyBqXSAhPT0gMjU1KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0b3ApIHtcbiAgICAgICAgICAgICAgICBpZHggKz0gbGluZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm9wZXJ0aWVzLmFzY2VudCA9IGJhc2VsaW5lIC0gaTtcblxuICAgICAgICBpZHggPSBwaXhlbHMgLSBsaW5lO1xuICAgICAgICBzdG9wID0gZmFsc2U7XG5cbiAgICAgICAgLy8gZGVzY2VudC4gc2NhbiBmcm9tIGJvdHRvbSB0byB0b3AgdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICAgICAgZm9yIChpID0gaGVpZ2h0OyBpID4gYmFzZWxpbmU7IC0taSkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2ogPSAwOyBfaiA8IGxpbmU7IF9qICs9IDQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VkYXRhW2lkeCArIF9qXSAhPT0gMjU1KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghc3RvcCkge1xuICAgICAgICAgICAgICAgIGlkeCAtPSBsaW5lO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnRpZXMuZGVzY2VudCA9IGkgLSBiYXNlbGluZTtcbiAgICAgICAgcHJvcGVydGllcy5mb250U2l6ZSA9IHByb3BlcnRpZXMuYXNjZW50ICsgcHJvcGVydGllcy5kZXNjZW50O1xuXG4gICAgICAgIFRleHRNZXRyaWNzLl9mb250c1tmb250XSA9IHByb3BlcnRpZXM7XG5cbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFyIGZvbnQgbWV0cmljcyBpbiBtZXRyaWNzIGNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9udF0gLSBmb250IG5hbWUuIElmIGZvbnQgbmFtZSBub3Qgc2V0IHRoZW4gY2xlYXIgY2FjaGUgZm9yIGFsbCBmb250cy5cbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3MuY2xlYXJNZXRyaWNzID0gZnVuY3Rpb24gY2xlYXJNZXRyaWNzKCkge1xuICAgICAgICB2YXIgZm9udCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG5cbiAgICAgICAgaWYgKGZvbnQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBUZXh0TWV0cmljcy5fZm9udHNbZm9udF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBUZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dE1ldHJpY3M7XG59KCk7XG5cbi8qKlxuICogSW50ZXJuYWwgcmV0dXJuIG9iamVjdCBmb3Ige0BsaW5rIFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250YH0uXG4gKiBAY2xhc3MgRm9udE1ldHJpY3NcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzflxuICogQHByb3BlcnR5IHtudW1iZXJ9IGFzY2VudCAtIFRoZSBhc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNjZW50IC0gVGhlIGRlc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZSBmcm9tIGFzY2VudCB0byBkZXNjZW50XG4gKi9cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dE1ldHJpY3M7XG52YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbmNhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQgPSAxMDtcblxuLyoqXG4gKiBDYWNoZWQgY2FudmFzIGVsZW1lbnQgZm9yIG1lYXN1cmluZyB0ZXh0XG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NhbnZhcyA9IGNhbnZhcztcblxuLyoqXG4gKiBDYWNoZSBmb3IgY29udGV4dCB0byB1c2UuXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbi8qKlxuICogQ2FjaGUgb2YgUElYSS5UZXh0TWV0cmljc35Gb250TWV0cmljcyBvYmplY3RzLlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcblxuLyoqXG4gKiBTdHJpbmcgdXNlZCBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBNRVRSSUNTX1NUUklOR1xuICogQHR5cGUge3N0cmluZ31cbiAqIEBkZWZhdWx0IHzDiXFcbiAqL1xuVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgPSAnfMOJcSc7XG5cbi8qKlxuICogQmFzZWxpbmUgc3ltYm9sIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIEJBU0VMSU5FX1NZTUJPTFxuICogQHR5cGUge3N0cmluZ31cbiAqIEBkZWZhdWx0IE1cbiAqL1xuVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MID0gJ00nO1xuXG4vKipcbiAqIEJhc2VsaW5lIG11bHRpcGxpZXIgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgQkFTRUxJTkVfTVVMVElQTElFUlxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDEuNFxuICovXG5UZXh0TWV0cmljcy5CQVNFTElORV9NVUxUSVBMSUVSID0gMS40O1xuXG4vKipcbiAqIENhY2hlIG9mIG5ldyBsaW5lIGNoYXJzLlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtudW1iZXJbXX1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9uZXdsaW5lcyA9IFsweDAwMEEsIC8vIGxpbmUgZmVlZFxuMHgwMDBEXTtcblxuLyoqXG4gKiBDYWNoZSBvZiBicmVha2luZyBzcGFjZXMuXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge251bWJlcltdfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzID0gWzB4MDAwOSwgLy8gY2hhcmFjdGVyIHRhYnVsYXRpb25cbjB4MDAyMCwgLy8gc3BhY2VcbjB4MjAwMCwgLy8gZW4gcXVhZFxuMHgyMDAxLCAvLyBlbSBxdWFkXG4weDIwMDIsIC8vIGVuIHNwYWNlXG4weDIwMDMsIC8vIGVtIHNwYWNlXG4weDIwMDQsIC8vIHRocmVlLXBlci1lbSBzcGFjZVxuMHgyMDA1LCAvLyBmb3VyLXBlci1lbSBzcGFjZVxuMHgyMDA2LCAvLyBzaXgtcGVyLWVtIHNwYWNlXG4weDIwMDgsIC8vIHB1bmN0dWF0aW9uIHNwYWNlXG4weDIwMDksIC8vIHRoaW4gc3BhY2VcbjB4MjAwQSwgLy8gaGFpciBzcGFjZVxuMHgyMDVGLCAvLyBtZWRpdW0gbWF0aGVtYXRpY2FsIHNwYWNlXG4weDMwMDBdO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dE1ldHJpY3MuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQSBHcmFwaGljc0RhdGEgb2JqZWN0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyYXBoaWNzRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lV2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgKiBAcGFyYW0ge251bWJlcn0gbGluZUNvbG9yIC0gdGhlIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxpbmVBbHBoYSAtIHRoZSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmaWxsQ29sb3IgLSB0aGUgY29sb3Igb2YgdGhlIGZpbGxcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZpbGxBbHBoYSAtIHRoZSBhbHBoYSBvZiB0aGUgZmlsbFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZpbGwgLSB3aGV0aGVyIG9yIG5vdCB0aGUgc2hhcGUgaXMgZmlsbGVkIHdpdGggYSBjb2xvdXJcbiAgICogQHBhcmFtIHtib29sZWFufSBuYXRpdmVMaW5lcyAtIHRoZSBtZXRob2QgZm9yIGRyYXdpbmcgbGluZXNcbiAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLlJlY3RhbmdsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGxpbmVBbGlnbm1lbnQgLSB0aGUgYWxpZ25tZW50IG9mIHRoZSBsaW5lLlxuICAgKi9cbiAgZnVuY3Rpb24gR3JhcGhpY3NEYXRhKGxpbmVXaWR0aCwgbGluZUNvbG9yLCBsaW5lQWxwaGEsIGZpbGxDb2xvciwgZmlsbEFscGhhLCBmaWxsLCBuYXRpdmVMaW5lcywgc2hhcGUsIGxpbmVBbGlnbm1lbnQpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR3JhcGhpY3NEYXRhKTtcblxuICAgIC8qKlxuICAgICAqIHRoZSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGluZVdpZHRoID0gbGluZVdpZHRoO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFsaWdubWVudCBvZiBhbnkgbGluZXMgZHJhd24gKDAuNSA9IG1pZGRsZSwgMSA9IG91dHRlciwgMCA9IGlubmVyKS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5saW5lQWxpZ25tZW50ID0gbGluZUFsaWdubWVudDtcblxuICAgIC8qKlxuICAgICAqIGlmIHRydWUgdGhlIGxpZW5zIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm5hdGl2ZUxpbmVzID0gbmF0aXZlTGluZXM7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVDb2xvciA9IGxpbmVDb2xvcjtcblxuICAgIC8qKlxuICAgICAqIHRoZSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGluZUFscGhhID0gbGluZUFscGhhO1xuXG4gICAgLyoqXG4gICAgICogY2FjaGVkIHRpbnQgb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2xpbmVUaW50ID0gbGluZUNvbG9yO1xuXG4gICAgLyoqXG4gICAgICogdGhlIGNvbG9yIG9mIHRoZSBmaWxsXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZmlsbENvbG9yID0gZmlsbENvbG9yO1xuXG4gICAgLyoqXG4gICAgICogdGhlIGFscGhhIG9mIHRoZSBmaWxsXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZmlsbEFscGhhID0gZmlsbEFscGhhO1xuXG4gICAgLyoqXG4gICAgICogY2FjaGVkIHRpbnQgb2YgdGhlIGZpbGxcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9maWxsVGludCA9IGZpbGxDb2xvcjtcblxuICAgIC8qKlxuICAgICAqIHdoZXRoZXIgb3Igbm90IHRoZSBzaGFwZSBpcyBmaWxsZWQgd2l0aCBhIGNvbG91clxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5maWxsID0gZmlsbDtcblxuICAgIHRoaXMuaG9sZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICB0aGlzLnNoYXBlID0gc2hhcGU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgc2hhcGUsIHNlZSB0aGUgQ29uc3QuU2hhcGVzIGZpbGUgZm9yIGFsbCB0aGUgZXhpc3RpbmcgdHlwZXMsXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IHNoYXBlLnR5cGU7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljc0RhdGEgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzRGF0YX0gQ2xvbmVkIEdyYXBoaWNzRGF0YSBvYmplY3RcbiAgICovXG5cblxuICBHcmFwaGljc0RhdGEucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBHcmFwaGljc0RhdGEodGhpcy5saW5lV2lkdGgsIHRoaXMubGluZUNvbG9yLCB0aGlzLmxpbmVBbHBoYSwgdGhpcy5maWxsQ29sb3IsIHRoaXMuZmlsbEFscGhhLCB0aGlzLmZpbGwsIHRoaXMubmF0aXZlTGluZXMsIHRoaXMuc2hhcGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIGEgaG9sZSB0byB0aGUgc2hhcGUuXG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV8UElYSS5DaXJjbGV9IHNoYXBlIC0gVGhlIHNoYXBlIG9mIHRoZSBob2xlLlxuICAgKi9cblxuXG4gIEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuYWRkSG9sZSA9IGZ1bmN0aW9uIGFkZEhvbGUoc2hhcGUpIHtcbiAgICB0aGlzLmhvbGVzLnB1c2goc2hhcGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3MgZGF0YS5cbiAgICovXG5cblxuICBHcmFwaGljc0RhdGEucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuc2hhcGUgPSBudWxsO1xuICAgIHRoaXMuaG9sZXMgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBHcmFwaGljc0RhdGE7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdyYXBoaWNzRGF0YTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdyYXBoaWNzRGF0YS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfYXV0b0RldGVjdFJlbmRlcmVyID0gcmVxdWlyZSgnLi9hdXRvRGV0ZWN0UmVuZGVyZXInKTtcblxudmFyIF9Db250YWluZXIgPSByZXF1aXJlKCcuL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbnZhciBfQ29udGFpbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcik7XG5cbnZhciBfdGlja2VyID0gcmVxdWlyZSgnLi90aWNrZXInKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQ29udmVuaWVuY2UgY2xhc3MgdG8gY3JlYXRlIGEgbmV3IFBJWEkgYXBwbGljYXRpb24uXG4gKiBUaGlzIGNsYXNzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyB0aGUgcmVuZGVyZXIsIHRpY2tlclxuICogYW5kIHJvb3QgY29udGFpbmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgdGhlIGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICpcbiAqIC8vIEFkZCB0aGUgdmlldyB0byB0aGUgRE9NXG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqXG4gKiAvLyBleCwgYWRkIGRpc3BsYXkgb2JqZWN0c1xuICogYXBwLnN0YWdlLmFkZENoaWxkKFBJWEkuU3ByaXRlLmZyb21JbWFnZSgnc29tZXRoaW5nLnBuZycpKTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBcHBsaWNhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2NcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9TdGFydD10cnVlXSAtIGF1dG9tYXRpY2FsbHkgc3RhcnRzIHRoZSByZW5kZXJpbmcgYWZ0ZXIgdGhlIGNvbnN0cnVjdGlvbi5cbiAgICAgKiAgICAgTm90ZSB0aGF0IHNldHRpbmcgdGhpcyBwYXJhbWV0ZXIgdG8gZmFsc2UgZG9lcyBOT1Qgc3RvcCB0aGUgc2hhcmVkIHRpY2tlciBldmVuIGlmIHlvdSBzZXRcbiAgICAgKiAgICAgb3B0aW9ucy5zaGFyZWRUaWNrZXIgdG8gdHJ1ZSBpbiBjYXNlIHRoYXQgaXQgaXMgYWxyZWFkeSBzdGFydGVkLiBTdG9wIGl0IGJ5IHlvdXIgb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSB0aGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQsIGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhcyAob25seSBhcHBsaWNhYmxlIGluIGNocm9tZSBhdCB0aGUgbW9tZW50KVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIGVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAgICAgKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VDYW52YXM9ZmFsc2VdIC0gcHJldmVudHMgc2VsZWN0aW9uIG9mIFdlYkdMIHJlbmRlcmVyLCBldmVuIGlmIHN1Y2ggaXMgcHJlc2VudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gICAgICogICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yb3VuZFBpeGVscz1mYWxzZV0gLSBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLFxuICAgICAqICBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VGWEFBPWZhbHNlXSAtIGZvcmNlcyBGWEFBIGFudGlhbGlhc2luZyB0byBiZSB1c2VkIG92ZXIgbmF0aXZlLlxuICAgICAqICBGWEFBIGlzIGZhc3RlciwgYnV0IG1heSBub3QgYWx3YXlzIGxvb2sgYXMgZ3JlYXQgKip3ZWJnbCBvbmx5KipcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlZ2FjeT1mYWxzZV0gLSBgdHJ1ZWAgdG8gZW5zdXJlIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy5cbiAgICAgKiAgSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyB0cnkgc2V0dGluZyB0aGlzIHRvIHRydWUuICoqd2ViZ2wgb25seSoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICAgICAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZCAqKndlYmdsIG9ubHkqKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hhcmVkVGlja2VyPWZhbHNlXSAtIGB0cnVlYCB0byB1c2UgUElYSS50aWNrZXIuc2hhcmVkLCBgZmFsc2VgIHRvIGNyZWF0ZSBuZXcgdGlja2VyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hhcmVkTG9hZGVyPWZhbHNlXSAtIGB0cnVlYCB0byB1c2UgUElYSS5sb2FkZXJzLnNoYXJlZCwgYGZhbHNlYCB0byBjcmVhdGUgbmV3IExvYWRlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBcHBsaWNhdGlvbihvcHRpb25zLCBhcmcyLCBhcmczLCBhcmc0LCBhcmc1KSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcHBsaWNhdGlvbik7XG5cbiAgICAgICAgLy8gU3VwcG9ydCBmb3IgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgb3B0aW9ucywgbm9XZWJHTCwgdXNlU2hhcmVkVGlja2VyKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhcmcyIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRU5ERVJfT1BUSU9OUy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgZm9yY2VDYW52YXM6ICEhYXJnNCxcbiAgICAgICAgICAgICAgICBzaGFyZWRUaWNrZXI6ICEhYXJnNVxuICAgICAgICAgICAgfSwgYXJnMyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgb3B0aW9ucywgc28gd2UgbWl4aW4gZnVuY3Rpb25hbGl0eSBsYXRlci5cbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgICAgICAgICAgc2hhcmVkVGlja2VyOiBmYWxzZSxcbiAgICAgICAgICAgIGZvcmNlQ2FudmFzOiBmYWxzZSxcbiAgICAgICAgICAgIHNoYXJlZExvYWRlcjogZmFsc2VcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlYkdMIHJlbmRlcmVyIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIENhbnZhc1JlbmRlcmVyXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuV2ViR0xSZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9ICgwLCBfYXV0b0RldGVjdFJlbmRlcmVyLmF1dG9EZXRlY3RSZW5kZXJlcikob3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb290IGRpc3BsYXkgY29udGFpbmVyIHRoYXQncyByZW5kZXJlZC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YWdlID0gbmV3IF9Db250YWluZXIyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcmVmZXJlbmNlIHRvIHRoZSB0aWNrZXJcbiAgICAgICAgICogQG1lbWJlciB7UElYSS50aWNrZXIuVGlja2VyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGlja2VyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGlja2VyIGZvciBkb2luZyByZW5kZXIgdXBkYXRlcy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS50aWNrZXIuVGlja2VyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnRpY2tlci5zaGFyZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2VyID0gb3B0aW9ucy5zaGFyZWRUaWNrZXIgPyBfdGlja2VyLnNoYXJlZCA6IG5ldyBfdGlja2VyLlRpY2tlcigpO1xuXG4gICAgICAgIC8vIFN0YXJ0IHRoZSByZW5kZXJpbmdcbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b1N0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGN1cnJlbnQgc3RhZ2UuXG4gICAgICovXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zdGFnZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RvcHBpbmcgdGhlIHJlbmRlci5cbiAgICAgKi9cblxuXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICB0aGlzLl90aWNrZXIuc3RvcCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHN0YXJ0aW5nIHRoZSByZW5kZXIuXG4gICAgICovXG5cblxuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLl90aWNrZXIuc3RhcnQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIGNhbnZhcyBlbGVtZW50LlxuICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSBBdXRvbWF0aWNhbGx5IHJlbW92ZSBjYW52YXMgZnJvbSBET00uXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW3N0YWdlT3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdzdGFnZU9wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gICAgICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIHN0YWdlT3B0aW9ucy5jaGlsZHJlbiBpcyBzZXRcbiAgICAgKiAgdG8gdHJ1ZS4gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcsIHN0YWdlT3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5fdGlja2VyKSB7XG4gICAgICAgICAgICB2YXIgb2xkVGlja2VyID0gdGhpcy5fdGlja2VyO1xuXG4gICAgICAgICAgICB0aGlzLnRpY2tlciA9IG51bGw7XG4gICAgICAgICAgICBvbGRUaWNrZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGFnZS5kZXN0cm95KHN0YWdlT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuc3RhZ2UgPSBudWxsO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZGVzdHJveShyZW1vdmVWaWV3KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG51bGw7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhBcHBsaWNhdGlvbiwgW3tcbiAgICAgICAga2V5OiAndGlja2VyJyxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGlja2VyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RpY2tlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpY2tlci5yZW1vdmUodGhpcy5yZW5kZXIsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGlja2VyID0gdGlja2VyO1xuICAgICAgICAgICAgaWYgKHRpY2tlcikge1xuICAgICAgICAgICAgICAgIHRpY2tlci5hZGQodGhpcy5yZW5kZXIsIHRoaXMsIF9jb25zdC5VUERBVEVfUFJJT1JJVFkuTE9XKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpY2tlcjtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndmlldycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIudmlldztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyJ3Mgc2NyZWVuIHJlY3RhbmdsZS4gSXRzIHNhZmUgdG8gdXNlIGFzIGZpbHRlckFyZWEgb3IgaGl0QXJlYSBmb3Igd2hvbGUgc2NyZWVuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NjcmVlbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuc2NyZWVuO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFwcGxpY2F0aW9uO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBBcHBsaWNhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFwcGxpY2F0aW9uLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuYXV0b0RldGVjdFJlbmRlcmVyID0gYXV0b0RldGVjdFJlbmRlcmVyO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG52YXIgdXRpbHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHMpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyJyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyZXIpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC9XZWJHTFJlbmRlcmVyJyk7XG5cbnZhciBfV2ViR0xSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTFJlbmRlcmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZhbGlkLWpzZG9jXG4vKipcbiAqIFRoaXMgaGVscGVyIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBkZXRlY3Qgd2hpY2ggcmVuZGVyZXIgeW91IHNob3VsZCBiZSB1c2luZy5cbiAqIFdlYkdMIGlzIHRoZSBwcmVmZXJyZWQgcmVuZGVyZXIgYXMgaXQgaXMgYSBsb3QgZmFzdGVyLiBJZiB3ZWJHTCBpcyBub3Qgc3VwcG9ydGVkIGJ5XG4gKiB0aGUgYnJvd3NlciB0aGVuIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gYSBjYW52YXMgcmVuZGVyZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIGF1dG9EZXRlY3RSZW5kZXJlclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhcyAob25seSBhcHBsaWNhYmxlIGluIGNocm9tZSBhdCB0aGUgbW9tZW50KVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sIGVuYWJsZSB0aGlzIGlmIHlvdVxuICogIG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIHdlYmdsIGNvbnRleHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICogICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlciwgcmV0aW5hIHdvdWxkIGJlIDJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VDYW52YXM9ZmFsc2VdIC0gcHJldmVudHMgc2VsZWN0aW9uIG9mIFdlYkdMIHJlbmRlcmVyLCBldmVuIGlmIHN1Y2ggaXMgcHJlc2VudFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yb3VuZFBpeGVscz1mYWxzZV0gLSBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLFxuICogIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlRlhBQT1mYWxzZV0gLSBmb3JjZXMgRlhBQSBhbnRpYWxpYXNpbmcgdG8gYmUgdXNlZCBvdmVyIG5hdGl2ZS5cbiAqICBGWEFBIGlzIGZhc3RlciwgYnV0IG1heSBub3QgYWx3YXlzIGxvb2sgYXMgZ3JlYXQgKip3ZWJnbCBvbmx5KipcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVnYWN5PWZhbHNlXSAtIGB0cnVlYCB0byBlbnN1cmUgY29tcGF0aWJpbGl0eSB3aXRoIG9sZGVyIC8gbGVzcyBhZHZhbmNlZCBkZXZpY2VzLlxuICogIElmIHlvdSBleHBlcmllbmNlIHVuZXhwbGFpbmVkIGZsaWNrZXJpbmcgdHJ5IHNldHRpbmcgdGhpcyB0byB0cnVlLiAqKndlYmdsIG9ubHkqKlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkICoqd2ViZ2wgb25seSoqXG4gKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ8UElYSS5DYW52YXNSZW5kZXJlcn0gUmV0dXJucyBXZWJHTCByZW5kZXJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBDYW52YXNSZW5kZXJlclxuICovXG5mdW5jdGlvbiBhdXRvRGV0ZWN0UmVuZGVyZXIob3B0aW9ucywgYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIC8vIEJhY2t3YXJkLWNvbXBhdGlibGUgc3VwcG9ydCBmb3Igbm9XZWJHTCBvcHRpb25cbiAgICB2YXIgZm9yY2VDYW52YXMgPSBvcHRpb25zICYmIG9wdGlvbnMuZm9yY2VDYW52YXM7XG5cbiAgICBpZiAoYXJnMyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZvcmNlQ2FudmFzID0gYXJnMztcbiAgICB9XG5cbiAgICBpZiAoIWZvcmNlQ2FudmFzICYmIHV0aWxzLmlzV2ViR0xTdXBwb3J0ZWQoKSkge1xuICAgICAgICByZXR1cm4gbmV3IF9XZWJHTFJlbmRlcmVyMi5kZWZhdWx0KG9wdGlvbnMsIGFyZzEsIGFyZzIpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgX0NhbnZhc1JlbmRlcmVyMi5kZWZhdWx0KG9wdGlvbnMsIGFyZzEsIGFyZzIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXV0b0RldGVjdFJlbmRlcmVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuLyoqXG4gKiBEZWZhdWx0IHByb3BlcnR5IHZhbHVlcyBvZiBhY2Nlc3NpYmxlIG9iamVjdHNcbiAqIHVzZWQgYnkge0BsaW5rIFBJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0uXG4gKlxuICogQGZ1bmN0aW9uIGFjY2Vzc2libGVUYXJnZXRcbiAqIEBtZW1iZXJvZiBQSVhJLmFjY2Vzc2liaWxpdHlcbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIE9iamVjdC5hc3NpZ24oXG4gKiAgICAgICAgICBNeU9iamVjdC5wcm90b3R5cGUsXG4gKiAgICAgICAgICBQSVhJLmFjY2Vzc2liaWxpdHkuYWNjZXNzaWJsZVRhcmdldFxuICogICAgICApO1xuICovXG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gIC8qKlxuICAgKiAgRmxhZyBmb3IgaWYgdGhlIG9iamVjdCBpcyBhY2Nlc3NpYmxlLiBJZiB0cnVlIEFjY2Vzc2liaWxpdHlNYW5hZ2VyIHdpbGwgb3ZlcmxheSBhXG4gICAqICAgc2hhZG93IGRpdiB3aXRoIGF0dHJpYnV0ZXMgc2V0XG4gICAqXG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqL1xuICBhY2Nlc3NpYmxlOiBmYWxzZSxcblxuICAvKipcbiAgICogU2V0cyB0aGUgdGl0bGUgYXR0cmlidXRlIG9mIHRoZSBzaGFkb3cgZGl2XG4gICAqIElmIGFjY2Vzc2libGVUaXRsZSBBTkQgYWNjZXNzaWJsZUhpbnQgaGFzIG5vdCBiZWVuIHRoaXMgd2lsbCBkZWZhdWx0IHRvICdkaXNwbGF5T2JqZWN0IFt0YWJJbmRleF0nXG4gICAqXG4gICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICovXG4gIGFjY2Vzc2libGVUaXRsZTogbnVsbCxcblxuICAvKipcbiAgICogU2V0cyB0aGUgYXJpYS1sYWJlbCBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICpcbiAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgKi9cbiAgYWNjZXNzaWJsZUhpbnQ6IG51bGwsXG5cbiAgLyoqXG4gICAqIEB0b2RvIE5lZWRzIGRvY3MuXG4gICAqL1xuICB0YWJJbmRleDogMCxcblxuICAvKipcbiAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICovXG4gIF9hY2Nlc3NpYmxlQWN0aXZlOiBmYWxzZSxcblxuICAvKipcbiAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICovXG4gIF9hY2Nlc3NpYmxlRGl2OiBmYWxzZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFjY2Vzc2libGVUYXJnZXQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5CaXRtYXBUZXh0ID0gZXhwb3J0cy5UaWxpbmdTcHJpdGVSZW5kZXJlciA9IGV4cG9ydHMuVGlsaW5nU3ByaXRlID0gZXhwb3J0cy5BbmltYXRlZFNwcml0ZSA9IHVuZGVmaW5lZDtcblxudmFyIF9BbmltYXRlZFNwcml0ZSA9IHJlcXVpcmUoJy4vQW5pbWF0ZWRTcHJpdGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdBbmltYXRlZFNwcml0ZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FuaW1hdGVkU3ByaXRlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UaWxpbmdTcHJpdGUgPSByZXF1aXJlKCcuL1RpbGluZ1Nwcml0ZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RpbGluZ1Nwcml0ZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbGluZ1Nwcml0ZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGlsaW5nU3ByaXRlUmVuZGVyZXIgPSByZXF1aXJlKCcuL3dlYmdsL1RpbGluZ1Nwcml0ZVJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGlsaW5nU3ByaXRlUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaWxpbmdTcHJpdGVSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQml0bWFwVGV4dCA9IHJlcXVpcmUoJy4vQml0bWFwVGV4dCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0JpdG1hcFRleHQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CaXRtYXBUZXh0KS5kZWZhdWx0O1xuICB9XG59KTtcblxucmVxdWlyZSgnLi9jYWNoZUFzQml0bWFwJyk7XG5cbnJlcXVpcmUoJy4vZ2V0Q2hpbGRCeU5hbWUnKTtcblxucmVxdWlyZSgnLi9nZXRHbG9iYWxQb3NpdGlvbicpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBpbXBvcnRlZCBmb3Igc2lkZSBlZmZlY3Qgb2YgZXh0ZW5kaW5nIHRoZSBwcm90b3R5cGUgb25seSwgY29udGFpbnMgbm8gZXhwb3J0c1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UgPSByZXF1aXJlKCcuL2dlbmVyYXRlQmx1clZlcnRTb3VyY2UnKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UpO1xuXG52YXIgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UgPSByZXF1aXJlKCcuL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UnKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UpO1xuXG52YXIgX2dldE1heEJsdXJLZXJuZWxTaXplID0gcmVxdWlyZSgnLi9nZXRNYXhCbHVyS2VybmVsU2l6ZScpO1xuXG52YXIgX2dldE1heEJsdXJLZXJuZWxTaXplMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldE1heEJsdXJLZXJuZWxTaXplKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBCbHVyWEZpbHRlciBhcHBsaWVzIGEgaG9yaXpvbnRhbCBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBCbHVyWEZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQmx1clhGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyZW5ndGggLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBxdWFsaXR5IC0gVGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBba2VybmVsU2l6ZT01XSAtIFRoZSBrZXJuZWxTaXplIG9mIHRoZSBibHVyIGZpbHRlci5PcHRpb25zOiA1LCA3LCA5LCAxMSwgMTMsIDE1LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJsdXJYRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCbHVyWEZpbHRlcik7XG5cbiAgICAgICAga2VybmVsU2l6ZSA9IGtlcm5lbFNpemUgfHwgNTtcbiAgICAgICAgdmFyIHZlcnRTcmMgPSAoMCwgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUsIHRydWUpO1xuICAgICAgICB2YXIgZnJhZ1NyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICB2ZXJ0U3JjLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgZnJhZ1NyYykpO1xuXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IGNvcmUuc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgICAgICBfdGhpcy5fcXVhbGl0eSA9IDA7XG5cbiAgICAgICAgX3RoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcbiAgICAgICAgX3RoaXMuc3RyZW5ndGggPSBzdHJlbmd0aCB8fCA4O1xuXG4gICAgICAgIF90aGlzLmZpcnN0UnVuID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJNYW5hZ2VyfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmc/XG4gICAgICovXG5cblxuICAgIEJsdXJYRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcnN0UnVuKSB7XG4gICAgICAgICAgICB2YXIgZ2wgPSBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmdsO1xuICAgICAgICAgICAgdmFyIGtlcm5lbFNpemUgPSAoMCwgX2dldE1heEJsdXJLZXJuZWxTaXplMi5kZWZhdWx0KShnbCk7XG5cbiAgICAgICAgICAgIHRoaXMudmVydGV4U3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSAoMCwgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUpO1xuXG4gICAgICAgICAgICB0aGlzLmZpcnN0UnVuID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gMSAvIG91dHB1dC5zaXplLndpZHRoICogKG91dHB1dC5zaXplLndpZHRoIC8gaW5wdXQuc2l6ZS53aWR0aCk7XG5cbiAgICAgICAgLy8gc2NyZWVuIHNwYWNlIVxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoICo9IHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggLz0gdGhpcy5wYXNzZXM7IC8vIC8gdGhpcy5wYXNzZXMvL01hdGgucG93KDEsIHRoaXMucGFzc2VzKTtcblxuICAgICAgICBpZiAodGhpcy5wYXNzZXMgPT09IDEpIHtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0UmVuZGVyVGFyZ2V0KHRydWUpO1xuICAgICAgICAgICAgdmFyIGZsaXAgPSBpbnB1dDtcbiAgICAgICAgICAgIHZhciBmbG9wID0gcmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGFzc2VzIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBmbG9wLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZmxvcDtcblxuICAgICAgICAgICAgICAgIGZsb3AgPSBmbGlwO1xuICAgICAgICAgICAgICAgIGZsaXAgPSB0ZW1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIG91dHB1dCwgY2xlYXIpO1xuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVyblJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTZcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEJsdXJYRmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdibHVyJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLmFicyh2YWx1ZSkgKiAyO1xuICAgICAgICAgICAgdGhpcy5zdHJlbmd0aCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogU2V0cyB0aGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBieSBtb2RpZnlpbmcgdGhlIG51bWJlciBvZiBwYXNzZXMuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlclxuICAgICAgICAqIHF1YWlsaXR5IGJsdXJpbmcgYnV0IHRoZSBsb3dlciB0aGUgcGVyZm9ybWFuY2UuXG4gICAgICAgICpcbiAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICogQGRlZmF1bHQgNFxuICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdxdWFsaXR5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcXVhbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9xdWFsaXR5ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnBhc3NlcyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEJsdXJYRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJsdXJYRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qmx1clhGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZ2VuZXJhdGVWZXJ0Qmx1clNvdXJjZTtcbnZhciB2ZXJ0VGVtcGxhdGUgPSBbJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjsnLCAnYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDsnLCAndW5pZm9ybSBmbG9hdCBzdHJlbmd0aDsnLCAndW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7JywgJ3ZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdOycsICd2b2lkIG1haW4odm9pZCknLCAneycsICdnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKChhVmVydGV4UG9zaXRpb24pLCAxLjApKS54eSwgMC4wLCAxLjApOycsICclYmx1ciUnLCAnfSddLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVZlcnRCbHVyU291cmNlKGtlcm5lbFNpemUsIHgpIHtcbiAgICB2YXIgaGFsZkxlbmd0aCA9IE1hdGguY2VpbChrZXJuZWxTaXplIC8gMik7XG5cbiAgICB2YXIgdmVydFNvdXJjZSA9IHZlcnRUZW1wbGF0ZTtcblxuICAgIHZhciBibHVyTG9vcCA9ICcnO1xuICAgIHZhciB0ZW1wbGF0ZSA9IHZvaWQgMDtcbiAgICAvLyBsZXQgdmFsdWU7XG5cbiAgICBpZiAoeCkge1xuICAgICAgICB0ZW1wbGF0ZSA9ICd2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9IGFUZXh0dXJlQ29vcmQgKyB2ZWMyKCVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCwgMC4wKTsnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3ZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gYVRleHR1cmVDb29yZCArIHZlYzIoMC4wLCAlc2FtcGxlSW5kZXglICogc3RyZW5ndGgpOyc7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspIHtcbiAgICAgICAgdmFyIGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaSk7XG5cbiAgICAgICAgLy8gdmFsdWUgPSBpO1xuXG4gICAgICAgIC8vIGlmKGkgPj0gaGFsZkxlbmd0aClcbiAgICAgICAgLy8ge1xuICAgICAgICAvLyAgICAgdmFsdWUgPSBrZXJuZWxTaXplIC0gaSAtIDE7XG4gICAgICAgIC8vIH1cblxuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCclc2FtcGxlSW5kZXglJywgaSAtIChoYWxmTGVuZ3RoIC0gMSkgKyAnLjAnKTtcblxuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG5cbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZSk7XG5cbiAgICByZXR1cm4gdmVydFNvdXJjZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlQmx1clZlcnRTb3VyY2UuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZ2VuZXJhdGVGcmFnQmx1clNvdXJjZTtcbnZhciBHQVVTU0lBTl9WQUxVRVMgPSB7XG4gICAgNTogWzAuMTUzMzg4LCAwLjIyMTQ2MSwgMC4yNTAzMDFdLFxuICAgIDc6IFswLjA3MTMwMywgMC4xMzE1MTQsIDAuMTg5ODc5LCAwLjIxNDYwN10sXG4gICAgOTogWzAuMDI4NTMyLCAwLjA2NzIzNCwgMC4xMjQwMDksIDAuMTc5MDQ0LCAwLjIwMjM2XSxcbiAgICAxMTogWzAuMDA5MywgMC4wMjgwMDIsIDAuMDY1OTg0LCAwLjEyMTcwMywgMC4xNzU3MTMsIDAuMTk4NTk2XSxcbiAgICAxMzogWzAuMDAyNDA2LCAwLjAwOTI1NSwgMC4wMjc4NjcsIDAuMDY1NjY2LCAwLjEyMTExNywgMC4xNzQ4NjgsIDAuMTk3NjQxXSxcbiAgICAxNTogWzAuMDAwNDg5LCAwLjAwMjQwMywgMC4wMDkyNDYsIDAuMDI3ODQsIDAuMDY1NjAyLCAwLjEyMDk5OSwgMC4xNzQ2OTcsIDAuMTk3NDQ4XVxufTtcblxudmFyIGZyYWdUZW1wbGF0ZSA9IFsndmFyeWluZyB2ZWMyIHZCbHVyVGV4Q29vcmRzWyVzaXplJV07JywgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyOycsICd2b2lkIG1haW4odm9pZCknLCAneycsICcgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApOycsICcgICAgJWJsdXIlJywgJ30nXS5qb2luKCdcXG4nKTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVGcmFnQmx1clNvdXJjZShrZXJuZWxTaXplKSB7XG4gICAgdmFyIGtlcm5lbCA9IEdBVVNTSUFOX1ZBTFVFU1trZXJuZWxTaXplXTtcbiAgICB2YXIgaGFsZkxlbmd0aCA9IGtlcm5lbC5sZW5ndGg7XG5cbiAgICB2YXIgZnJhZ1NvdXJjZSA9IGZyYWdUZW1wbGF0ZTtcblxuICAgIHZhciBibHVyTG9vcCA9ICcnO1xuICAgIHZhciB0ZW1wbGF0ZSA9ICdnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2Qmx1clRleENvb3Jkc1slaW5kZXglXSkgKiAldmFsdWUlOyc7XG4gICAgdmFyIHZhbHVlID0gdm9pZCAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspIHtcbiAgICAgICAgdmFyIGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaSk7XG5cbiAgICAgICAgdmFsdWUgPSBpO1xuXG4gICAgICAgIGlmIChpID49IGhhbGZMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhbHVlID0ga2VybmVsU2l6ZSAtIGkgLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgYmx1ciA9IGJsdXIucmVwbGFjZSgnJXZhbHVlJScsIGtlcm5lbFt2YWx1ZV0pO1xuXG4gICAgICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgICAgIGJsdXJMb29wICs9ICdcXG4nO1xuICAgIH1cblxuICAgIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoJyVibHVyJScsIGJsdXJMb29wKTtcbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclc2l6ZSUnLCBrZXJuZWxTaXplKTtcblxuICAgIHJldHVybiBmcmFnU291cmNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVCbHVyRnJhZ1NvdXJjZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGdldE1heEtlcm5lbFNpemU7XG5mdW5jdGlvbiBnZXRNYXhLZXJuZWxTaXplKGdsKSB7XG4gICAgdmFyIG1heFZhcnlpbmdzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9WQVJZSU5HX1ZFQ1RPUlMpO1xuICAgIHZhciBrZXJuZWxTaXplID0gMTU7XG5cbiAgICB3aGlsZSAoa2VybmVsU2l6ZSA+IG1heFZhcnlpbmdzKSB7XG4gICAgICAgIGtlcm5lbFNpemUgLT0gMjtcbiAgICB9XG5cbiAgICByZXR1cm4ga2VybmVsU2l6ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldE1heEJsdXJLZXJuZWxTaXplLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlID0gcmVxdWlyZSgnLi9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlJyk7XG5cbnZhciBfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlID0gcmVxdWlyZSgnLi9nZW5lcmF0ZUJsdXJGcmFnU291cmNlJyk7XG5cbnZhciBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlKTtcblxudmFyIF9nZXRNYXhCbHVyS2VybmVsU2l6ZSA9IHJlcXVpcmUoJy4vZ2V0TWF4Qmx1cktlcm5lbFNpemUnKTtcblxudmFyIF9nZXRNYXhCbHVyS2VybmVsU2l6ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRNYXhCbHVyS2VybmVsU2l6ZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgQmx1cllGaWx0ZXIgYXBwbGllcyBhIGhvcml6b250YWwgR2F1c3NpYW4gYmx1ciB0byBhbiBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1cllGaWx0ZXIgPSBmdW5jdGlvbiAoX2NvcmUkRmlsdGVyKSB7XG4gICAgX2luaGVyaXRzKEJsdXJZRmlsdGVyLCBfY29yZSRGaWx0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmVuZ3RoIC0gVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcXVhbGl0eSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2tlcm5lbFNpemU9NV0gLSBUaGUga2VybmVsU2l6ZSBvZiB0aGUgYmx1ciBmaWx0ZXIuT3B0aW9uczogNSwgNywgOSwgMTEsIDEzLCAxNS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbHVyWUZpbHRlcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmx1cllGaWx0ZXIpO1xuXG4gICAgICAgIGtlcm5lbFNpemUgPSBrZXJuZWxTaXplIHx8IDU7XG4gICAgICAgIHZhciB2ZXJ0U3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplLCBmYWxzZSk7XG4gICAgICAgIHZhciBmcmFnU3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRGaWx0ZXIuY2FsbCh0aGlzLFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgIHZlcnRTcmMsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICBmcmFnU3JjKSk7XG5cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgY29yZS5zZXR0aW5ncy5SRVNPTFVUSU9OO1xuXG4gICAgICAgIF90aGlzLl9xdWFsaXR5ID0gMDtcblxuICAgICAgICBfdGhpcy5xdWFsaXR5ID0gcXVhbGl0eSB8fCA0O1xuICAgICAgICBfdGhpcy5zdHJlbmd0aCA9IHN0cmVuZ3RoIHx8IDg7XG5cbiAgICAgICAgX3RoaXMuZmlyc3RSdW4gPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlck1hbmFnZXJ9IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZz9cbiAgICAgKi9cblxuXG4gICAgQmx1cllGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpIHtcbiAgICAgICAgaWYgKHRoaXMuZmlyc3RSdW4pIHtcbiAgICAgICAgICAgIHZhciBnbCA9IGZpbHRlck1hbmFnZXIucmVuZGVyZXIuZ2w7XG4gICAgICAgICAgICB2YXIga2VybmVsU2l6ZSA9ICgwLCBfZ2V0TWF4Qmx1cktlcm5lbFNpemUyLmRlZmF1bHQpKGdsKTtcblxuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSAoMCwgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSAoMCwgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUpO1xuXG4gICAgICAgICAgICB0aGlzLmZpcnN0UnVuID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gMSAvIG91dHB1dC5zaXplLmhlaWdodCAqIChvdXRwdXQuc2l6ZS5oZWlnaHQgLyBpbnB1dC5zaXplLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAqPSB0aGlzLnN0cmVuZ3RoO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoIC89IHRoaXMucGFzc2VzO1xuXG4gICAgICAgIGlmICh0aGlzLnBhc3NlcyA9PT0gMSkge1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRSZW5kZXJUYXJnZXQodHJ1ZSk7XG4gICAgICAgICAgICB2YXIgZmxpcCA9IGlucHV0O1xuICAgICAgICAgICAgdmFyIGZsb3AgPSByZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXNzZXMgLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIGZsb3AsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBmbG9wO1xuXG4gICAgICAgICAgICAgICAgZmxvcCA9IGZsaXA7XG4gICAgICAgICAgICAgICAgZmxpcCA9IHRlbXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxpcCwgb3V0cHV0LCBjbGVhcik7XG5cbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIucmV0dXJuUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1ci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhCbHVyWUZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnYmx1cicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5hYnModmFsdWUpICogMjtcbiAgICAgICAgICAgIHRoaXMuc3RyZW5ndGggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGJ5IG1vZGlmeWluZyB0aGUgbnVtYmVyIG9mIHBhc3Nlcy4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyXG4gICAgICAgICAqIHF1YWlsaXR5IGJsdXJpbmcgYnV0IHRoZSBsb3dlciB0aGUgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgNFxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncXVhbGl0eScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3F1YWxpdHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcXVhbGl0eSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYXNzZXMgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBCbHVyWUZpbHRlcjtcbn0oY29yZS5GaWx0ZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBCbHVyWUZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsdXJZRmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBIb2xkcyBhbGwgaW5mb3JtYXRpb24gcmVsYXRlZCB0byBhbiBJbnRlcmFjdGlvbiBldmVudFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xudmFyIEludGVyYWN0aW9uRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBJbnRlcmFjdGlvbkRhdGEoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHBvaW50IHN0b3JlcyB0aGUgZ2xvYmFsIGNvb3JkcyBvZiB3aGVyZSB0aGUgdG91Y2gvbW91c2UgZXZlbnQgaGFwcGVuZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICovXG4gICAgdGhpcy5nbG9iYWwgPSBuZXcgY29yZS5Qb2ludCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBEaXNwbGF5T2JqZWN0IHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gcGFzc2VkIHRvIGFuIGV2ZW50IGhhbmRsZXIsIHRoaXMgd2lsbCBiZSB0aGUgb3JpZ2luYWwgRE9NIEV2ZW50IHRoYXQgd2FzIGNhcHR1cmVkXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2hFdmVudFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudFxuICAgICAqIEBtZW1iZXIge01vdXNlRXZlbnR8VG91Y2hFdmVudHxQb2ludGVyRXZlbnR9XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGludGVyYWN0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pZGVudGlmaWVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIG9yIG5vdCB0aGUgcG9pbnRlciBkZXZpY2UgdGhhdCBjcmVhdGVkIHRoZSBldmVudCBpcyB0aGUgcHJpbWFyeSBwb2ludGVyLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9pc1ByaW1hcnlcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbiB3YXMgcHJlc3NlZCBvbiB0aGUgbW91c2Ugb3IgcG9pbnRlciBkZXZpY2UgdG8gdHJpZ2dlciB0aGUgZXZlbnQuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuYnV0dG9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBidXR0b25zIGFyZSBwcmVzc2VkIG9uIHRoZSBtb3VzZSBvciBwb2ludGVyIGRldmljZSB3aGVuIHRoZSBldmVudCBpcyB0cmlnZ2VyZWQuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25zXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmJ1dHRvbnMgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeC1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAqIHJhZGl1c1ggb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC93aWR0aFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeS1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAqIHJhZGl1c1kgb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9oZWlnaHRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3RpbHRYXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbHRYID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3RpbHRZXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbHRZID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50LlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wb2ludGVyVHlwZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5wb2ludGVyVHlwZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBQcmVzc3VyZSBhcHBsaWVkIGJ5IHRoZSBwb2ludGluZyBkZXZpY2UgZHVyaW5nIHRoZSBldmVudC4gQSBUb3VjaCdzIGZvcmNlIHByb3BlcnR5XG4gICAgICogd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wcmVzc3VyZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5wcmVzc3VyZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBGcm9tIFRvdWNoRXZlbnRzIChub3QgUG9pbnRlckV2ZW50cyB0cmlnZ2VyZWQgYnkgdG91Y2hlcyksIHRoZSByb3RhdGlvbkFuZ2xlIG9mIHRoZSBUb3VjaC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaC9yb3RhdGlvbkFuZ2xlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVHdpc3Qgb2YgYSBzdHlsdXMgcG9pbnRlci5cbiAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnR3aXN0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIEJhcnJlbCBwcmVzc3VyZSBvbiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHBvaW50ZXIuIEl0IHdpbGwgYmUgdGhlIHNhbWUgYXMgYGlkZW50aWZpZXJgLlxuICAgKiBAcmVhZG9ubHlcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlcklkXG4gICAqL1xuXG5cbiAgLyoqXG4gICAqIFRoaXMgd2lsbCByZXR1cm4gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBzcGVjaWZpZWQgZGlzcGxheU9iamVjdCBmb3IgdGhpcyBJbnRlcmFjdGlvbkRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSBsb2NhbFxuICAgKiAgY29vcmRzIG9mZlxuICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsIChvdGhlcndpc2VcbiAgICogIHdpbGwgY3JlYXRlIGEgbmV3IHBvaW50KVxuICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtnbG9iYWxQb3NdIC0gQSBQb2ludCBvYmplY3QgY29udGFpbmluZyB5b3VyIGN1c3RvbSBnbG9iYWwgY29vcmRzLCBvcHRpb25hbFxuICAgKiAgKG90aGVyd2lzZSB3aWxsIHVzZSB0aGUgY3VycmVudCBnbG9iYWwgY29vcmRzKVxuICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IGNvbnRhaW5pbmcgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBJbnRlcmFjdGlvbkRhdGEgcG9zaXRpb24gcmVsYXRpdmVcbiAgICogIHRvIHRoZSBEaXNwbGF5T2JqZWN0XG4gICAqL1xuICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLmdldExvY2FsUG9zaXRpb24gPSBmdW5jdGlvbiBnZXRMb2NhbFBvc2l0aW9uKGRpc3BsYXlPYmplY3QsIHBvaW50LCBnbG9iYWxQb3MpIHtcbiAgICByZXR1cm4gZGlzcGxheU9iamVjdC53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UoZ2xvYmFsUG9zIHx8IHRoaXMuZ2xvYmFsLCBwb2ludCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvcGllcyBwcm9wZXJ0aWVzIGZyb20gbm9ybWFsaXplZCBldmVudCBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0ge1RvdWNofE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCBUaGUgbm9ybWFsaXplZCBldmVudCBkYXRhXG4gICAqL1xuXG5cbiAgSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZS5jb3B5RXZlbnQgPSBmdW5jdGlvbiBjb3B5RXZlbnQoZXZlbnQpIHtcbiAgICAvLyBpc1ByaW1hcnkgc2hvdWxkIG9ubHkgY2hhbmdlIG9uIHRvdWNoc3RhcnQvcG9pbnRlcmRvd24sIHNvIHdlIGRvbid0IHdhbnQgdG8gb3ZlcndyaXRlXG4gICAgLy8gaXQgd2l0aCBcImZhbHNlXCIgb24gbGF0ZXIgZXZlbnRzIHdoZW4gb3VyIHNoaW0gZm9yIGl0IG9uIHRvdWNoIGV2ZW50cyBtaWdodCBub3QgYmVcbiAgICAvLyBhY2N1cmF0ZVxuICAgIGlmIChldmVudC5pc1ByaW1hcnkpIHtcbiAgICAgIHRoaXMuaXNQcmltYXJ5ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5idXR0b24gPSBldmVudC5idXR0b247XG4gICAgLy8gZXZlbnQuYnV0dG9ucyBpcyBub3QgYXZhaWxhYmxlIGluIGFsbCBicm93c2VycyAoaWUuIFNhZmFyaSksIGJ1dCBpdCBkb2VzIGhhdmUgYSBub24tc3RhbmRhcmRcbiAgICAvLyBldmVudC53aGljaCBwcm9wZXJ0eSBpbnN0ZWFkLCB3aGljaCBjb252ZXlzIHRoZSBzYW1lIGluZm9ybWF0aW9uLlxuICAgIHRoaXMuYnV0dG9ucyA9IE51bWJlci5pc0ludGVnZXIoZXZlbnQuYnV0dG9ucykgPyBldmVudC5idXR0b25zIDogZXZlbnQud2hpY2g7XG4gICAgdGhpcy53aWR0aCA9IGV2ZW50LndpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gZXZlbnQuaGVpZ2h0O1xuICAgIHRoaXMudGlsdFggPSBldmVudC50aWx0WDtcbiAgICB0aGlzLnRpbHRZID0gZXZlbnQudGlsdFk7XG4gICAgdGhpcy5wb2ludGVyVHlwZSA9IGV2ZW50LnBvaW50ZXJUeXBlO1xuICAgIHRoaXMucHJlc3N1cmUgPSBldmVudC5wcmVzc3VyZTtcbiAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSBldmVudC5yb3RhdGlvbkFuZ2xlO1xuICAgIHRoaXMudHdpc3QgPSBldmVudC50d2lzdCB8fCAwO1xuICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlIHx8IDA7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgZGF0YSBmb3IgcG9vbGluZy5cbiAgICovXG5cblxuICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgLy8gaXNQcmltYXJ5IGlzIHRoZSBvbmx5IHByb3BlcnR5IHRoYXQgd2UgcmVhbGx5IG5lZWQgdG8gcmVzZXQgLSBldmVyeXRoaW5nIGVsc2UgaXNcbiAgICAvLyBndWFyYW50ZWVkIHRvIGJlIG92ZXJ3cml0dGVuXG4gICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcbiAgfTtcblxuICBfY3JlYXRlQ2xhc3MoSW50ZXJhY3Rpb25EYXRhLCBbe1xuICAgIGtleTogJ3BvaW50ZXJJZCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pZGVudGlmaWVyO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBJbnRlcmFjdGlvbkRhdGE7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEludGVyYWN0aW9uRGF0YTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludGVyYWN0aW9uRGF0YS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBFdmVudCBjbGFzcyB0aGF0IG1pbWljcyBuYXRpdmUgRE9NIGV2ZW50cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbnZhciBJbnRlcmFjdGlvbkV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIEludGVyYWN0aW9uRXZlbnQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIGV2ZW50IHdpbGwgY29udGludWUgcHJvcGFnYXRpbmcgaW4gdGhlIHRyZWVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0IHdoaWNoIGNhdXNlZCB0aGlzIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQuXG4gICAgICogRm9yIGxpc3RlbmVyIGNhbGxiYWNrIHNlZSB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50LmN1cnJlbnRUYXJnZXR9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvYmplY3Qgd2hvc2UgZXZlbnQgbGlzdGVuZXLigJlzIGNhbGxiYWNrIGlzIGN1cnJlbnRseSBiZWluZyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIHRoZSBldmVudFxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGlvbkRhdGEgcmVsYXRlZCB0byB0aGlzIGV2ZW50XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX1cbiAgICAgKi9cbiAgICB0aGlzLmRhdGEgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFByZXZlbnRzIGV2ZW50IGZyb20gcmVhY2hpbmcgYW55IG9iamVjdHMgb3RoZXIgdGhhbiB0aGUgY3VycmVudCBvYmplY3QuXG4gICAqXG4gICAqL1xuXG5cbiAgSW50ZXJhY3Rpb25FdmVudC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgZXZlbnQuXG4gICAqL1xuXG5cbiAgSW50ZXJhY3Rpb25FdmVudC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gSW50ZXJhY3Rpb25FdmVudDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSW50ZXJhY3Rpb25FdmVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludGVyYWN0aW9uRXZlbnQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogRGlzcGxheU9iamVjdHMgd2l0aCB0aGUge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uaW50ZXJhY3RpdmVUYXJnZXR9IG1peGluIHVzZSB0aGlzIGNsYXNzIHRvIHRyYWNrIGludGVyYWN0aW9uc1xuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbnZhciBJbnRlcmFjdGlvblRyYWNraW5nRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIC0gVW5pcXVlIHBvaW50ZXIgaWQgb2YgdGhlIGV2ZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEocG9pbnRlcklkKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YSk7XG5cbiAgICAgICAgdGhpcy5fcG9pbnRlcklkID0gcG9pbnRlcklkO1xuICAgICAgICB0aGlzLl9mbGFncyA9IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLk5PTkU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGludGVyYWN0aW9uIGZsYWcgdG8gc2V0XG4gICAgICogQHBhcmFtIHtib29sZWFufSB5biAtIFNob3VsZCB0aGUgZmxhZyBiZSBzZXQgb3IgdW5zZXRcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLl9kb1NldCA9IGZ1bmN0aW9uIF9kb1NldChmbGFnLCB5bikge1xuICAgICAgICBpZiAoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgfCBmbGFnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSB0aGlzLl9mbGFncyAmIH5mbGFnO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBwb2ludGVyIGlkIG9mIHRoZSBldmVudFxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEsIFt7XG4gICAgICAgIGtleTogXCJwb2ludGVySWRcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9pbnRlcklkO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXRlIG9mIHRoZSB0cmFja2luZyBkYXRhLCBleHByZXNzZWQgYXMgYml0IGZsYWdzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiZmxhZ3NcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmxhZ3M7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBmbGFncyBmb3IgdGhlIHRyYWNraW5nIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzIC0gRmxhZ3MgdG8gc2V0XG4gICAgICAgICAqL1xuICAgICAgICAsXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZsYWdzKSB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IGZsYWdzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSB0cmFja2VkIGV2ZW50IGluYWN0aXZlIChub3Qgb3ZlciBvciBkb3duKT9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvblRyYWNraW5nRGF0YSNcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJub25lXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYWdzID09PSB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk5PTkU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgb3ZlciB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwib3ZlclwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk9WRVIpICE9PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgb3ZlciBmbGFnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBJcyB0aGUgZXZlbnQgb3Zlcj9cbiAgICAgICAgICovXG4gICAgICAgICxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuT1ZFUiwgeW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpZCB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwicmlnaHREb3duXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIHRoaXMuY29uc3RydWN0b3IuRkxBR1MuUklHSFRfRE9XTikgIT09IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSByaWdodCBkb3duIGZsYWdcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSB5biAtIElzIHRoZSByaWdodCBtb3VzZSBidXR0b24gZG93bj9cbiAgICAgICAgICovXG4gICAgICAgICxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuUklHSFRfRE9XTiwgeW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpZCB0aGUgbGVmdCBtb3VzZSBidXR0b24gY29tZSBkb3duIGluIHRoZSBEaXNwbGF5T2JqZWN0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvblRyYWNraW5nRGF0YSNcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJsZWZ0RG93blwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLkxFRlRfRE9XTikgIT09IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBsZWZ0IGRvd24gZmxhZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHluIC0gSXMgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGRvd24/XG4gICAgICAgICAqL1xuICAgICAgICAsXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLkxFRlRfRE9XTiwgeW4pO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YTtcblxuXG5JbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUyA9IE9iamVjdC5mcmVlemUoe1xuICAgIE5PTkU6IDAsXG4gICAgT1ZFUjogMSA8PCAwLFxuICAgIExFRlRfRE9XTjogMSA8PCAxLFxuICAgIFJJR0hUX0RPV046IDEgPDwgMlxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnRlcmFjdGlvblRyYWNraW5nRGF0YS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGludGVyYWN0aXZlIG9iamVjdHNcbiAqIFVzZWQgYnkge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSB0byBhdXRvbWF0aWNhbGx5IGdpdmUgYWxsIERpc3BsYXlPYmplY3RzIHRoZXNlIHByb3BlcnRpZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaW50ZXJhY3RpdmVUYXJnZXRcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBPYmplY3QuYXNzaWduKFxuICogICAgICAgICAgY29yZS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuaW50ZXJhY3Rpb24uaW50ZXJhY3RpdmVUYXJnZXRcbiAqICAgICAgKTtcbiAqL1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuXG4gIC8qKlxuICAgKiBFbmFibGUgaW50ZXJhY3Rpb24gZXZlbnRzIGZvciB0aGUgRGlzcGxheU9iamVjdC4gVG91Y2gsIHBvaW50ZXIgYW5kIG1vdXNlXG4gICAqIGV2ZW50cyB3aWxsIG5vdCBiZSBlbWl0dGVkIHVubGVzcyBgaW50ZXJhY3RpdmVgIGlzIHNldCB0byBgdHJ1ZWAuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICogc3ByaXRlLm9uKCd0YXAnLCAoZXZlbnQpID0+IHtcbiAgICogICAgLy9oYW5kbGUgZXZlbnRcbiAgICogfSk7XG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAqL1xuICBpbnRlcmFjdGl2ZTogZmFsc2UsXG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhlIGNoaWxkcmVuIHRvIHRoZSBkaXNwbGF5T2JqZWN0IGNhbiBiZSBjbGlja2VkL3RvdWNoZWRcbiAgICogU2V0dGluZyB0aGlzIHRvIGZhbHNlIGFsbG93cyBQaXhpSlMgdG8gYnlwYXNzIGEgcmVjdXJzaXZlIGBoaXRUZXN0YCBmdW5jdGlvblxuICAgKlxuICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gICAqL1xuICBpbnRlcmFjdGl2ZUNoaWxkcmVuOiB0cnVlLFxuXG4gIC8qKlxuICAgKiBJbnRlcmFjdGlvbiBzaGFwZS4gQ2hpbGRyZW4gd2lsbCBiZSBoaXQgZmlyc3QsIHRoZW4gdGhpcyBzaGFwZSB3aWxsIGJlIGNoZWNrZWQuXG4gICAqIFNldHRpbmcgdGhpcyB3aWxsIGNhdXNlIHRoaXMgc2hhcGUgdG8gYmUgY2hlY2tlZCBpbiBoaXQgdGVzdHMgcmF0aGVyIHRoYW4gdGhlIGRpc3BsYXlPYmplY3QncyBib3VuZHMuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICogc3ByaXRlLmhpdEFyZWEgPSBuZXcgUElYSS5SZWN0YW5nbGUoMCwgMCwgMTAwLCAxMDApO1xuICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZXxQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUm91bmRlZFJlY3RhbmdsZX1cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICovXG4gIGhpdEFyZWE6IG51bGwsXG5cbiAgLyoqXG4gICAqIElmIGVuYWJsZWQsIHRoZSBtb3VzZSBjdXJzb3IgdXNlIHRoZSBwb2ludGVyIGJlaGF2aW9yIHdoZW4gaG92ZXJlZCBvdmVyIHRoZSBkaXNwbGF5T2JqZWN0IGlmIGl0IGlzIGludGVyYWN0aXZlXG4gICAqIFNldHRpbmcgdGhpcyBjaGFuZ2VzIHRoZSAnY3Vyc29yJyBwcm9wZXJ0eSB0byBgJ3BvaW50ZXInYC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgKiBzcHJpdGUuYnV0dG9uTW9kZSA9IHRydWU7XG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAqL1xuICBnZXQgYnV0dG9uTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJzb3IgPT09ICdwb2ludGVyJztcbiAgfSxcbiAgc2V0IGJ1dHRvbk1vZGUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jdXJzb3IgPT09ICdwb2ludGVyJykge1xuICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogVGhpcyBkZWZpbmVzIHdoYXQgY3Vyc29yIG1vZGUgaXMgdXNlZCB3aGVuIHRoZSBtb3VzZSBjdXJzb3JcbiAgICogaXMgaG92ZXJlZCBvdmVyIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAqIHNwcml0ZS5jdXJzb3IgPSAnd2FpdCc7XG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQ1NTL2N1cnNvclxuICAgKlxuICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAqL1xuICBjdXJzb3I6IG51bGwsXG5cbiAgLyoqXG4gICAqIEludGVybmFsIHNldCBvZiBhbGwgYWN0aXZlIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyXG4gICAqXG4gICAqIEBtZW1iZXIge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldCB0cmFja2VkUG9pbnRlcnMoKSB7XG4gICAgaWYgKHRoaXMuX3RyYWNrZWRQb2ludGVycyA9PT0gdW5kZWZpbmVkKSB0aGlzLl90cmFja2VkUG9pbnRlcnMgPSB7fTtcblxuICAgIHJldHVybiB0aGlzLl90cmFja2VkUG9pbnRlcnM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1hcCBvZiBhbGwgdHJhY2tlZCBwb2ludGVycywgYnkgaWRlbnRpZmllci4gVXNlIHRyYWNrZWRQb2ludGVycyB0byBhY2Nlc3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHtNYXA8bnVtYmVyLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YT59XG4gICAqL1xuICBfdHJhY2tlZFBvaW50ZXJzOiB1bmRlZmluZWRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcmFjdGl2ZVRhcmdldC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLnBhcnNlID0gcGFyc2U7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYml0bWFwRm9udFBhcnNlcihyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICAvLyBza2lwIGlmIG5vIGRhdGEgb3Igbm90IHhtbCBkYXRhXG4gICAgICAgIGlmICghcmVzb3VyY2UuZGF0YSB8fCByZXNvdXJjZS50eXBlICE9PSBfcmVzb3VyY2VMb2FkZXIuUmVzb3VyY2UuVFlQRS5YTUwpIHtcbiAgICAgICAgICAgIG5leHQoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2tpcCBpZiBub3QgYml0bWFwIGZvbnQgZGF0YSwgdXNpbmcgc29tZSBzaWxseSBkdWNrLXR5cGluZ1xuICAgICAgICBpZiAocmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpLmxlbmd0aCA9PT0gMCB8fCByZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJykubGVuZ3RoID09PSAwIHx8IHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKVswXS5nZXRBdHRyaWJ1dGUoJ2ZhY2UnKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeG1sVXJsID0gIXJlc291cmNlLmlzRGF0YVVybCA/IHBhdGguZGlybmFtZShyZXNvdXJjZS51cmwpIDogJyc7XG5cbiAgICAgICAgaWYgKHJlc291cmNlLmlzRGF0YVVybCkge1xuICAgICAgICAgICAgaWYgKHhtbFVybCA9PT0gJy4nKSB7XG4gICAgICAgICAgICAgICAgeG1sVXJsID0gJyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmJhc2VVcmwgJiYgeG1sVXJsKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgYmFzZXVybCBoYXMgYSB0cmFpbGluZyBzbGFzaCB0aGVuIGFkZCBvbmUgdG8geG1sVXJsIHNvIHRoZSByZXBsYWNlIHdvcmtzIGJlbG93XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFzZVVybC5jaGFyQXQodGhpcy5iYXNlVXJsLmxlbmd0aCAtIDEpID09PSAnLycpIHtcbiAgICAgICAgICAgICAgICAgICAgeG1sVXJsICs9ICcvJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgYmFzZVVybCBmcm9tIHhtbFVybFxuICAgICAgICB4bWxVcmwgPSB4bWxVcmwucmVwbGFjZSh0aGlzLmJhc2VVcmwsICcnKTtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiB4bWxVcmwgbm93LCBpdCBuZWVkcyBhIHRyYWlsaW5nIHNsYXNoLiBFbnN1cmUgdGhhdCBpdCBkb2VzIGlmIHRoZSBzdHJpbmcgaXNuJ3QgZW1wdHkuXG4gICAgICAgIGlmICh4bWxVcmwgJiYgeG1sVXJsLmNoYXJBdCh4bWxVcmwubGVuZ3RoIC0gMSkgIT09ICcvJykge1xuICAgICAgICAgICAgeG1sVXJsICs9ICcvJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYWdlcyA9IHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKTtcbiAgICAgICAgdmFyIHRleHR1cmVzID0ge307XG5cbiAgICAgICAgLy8gSGFuZGxlIGNvbXBsZXRlZCwgd2hlbiB0aGUgbnVtYmVyIG9mIHRleHR1cmVzXG4gICAgICAgIC8vIGxvYWQgaXMgdGhlIHNhbWUgbnVtYmVyIGFzIHJlZmVyZW5jZXMgaW4gdGhlIGZudCBmaWxlXG4gICAgICAgIHZhciBjb21wbGV0ZWQgPSBmdW5jdGlvbiBjb21wbGV0ZWQocGFnZSkge1xuICAgICAgICAgICAgdGV4dHVyZXNbcGFnZS5tZXRhZGF0YS5wYWdlRmlsZV0gPSBwYWdlLnRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0ZXh0dXJlcykubGVuZ3RoID09PSBwYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBwYXJzZShyZXNvdXJjZSwgdGV4dHVyZXMpO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcGFnZUZpbGUgPSBwYWdlc1tpXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKTtcbiAgICAgICAgICAgIHZhciB1cmwgPSB4bWxVcmwgKyBwYWdlRmlsZTtcbiAgICAgICAgICAgIHZhciBleGlzdHMgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gaW5jYXNlIHRoZSBpbWFnZSBpcyBsb2FkZWQgb3V0c2lkZVxuICAgICAgICAgICAgLy8gdXNpbmcgdGhlIHNhbWUgbG9hZGVyLCByZXNvdXJjZSB3aWxsIGJlIGF2YWlsYWJsZVxuICAgICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLnJlc291cmNlcykge1xuICAgICAgICAgICAgICAgIHZhciBiaXRtYXBSZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzW25hbWVdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJpdG1hcFJlc291cmNlLnVybCA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIGJpdG1hcFJlc291cmNlLm1ldGFkYXRhLnBhZ2VGaWxlID0gcGFnZUZpbGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiaXRtYXBSZXNvdXJjZS50ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQoYml0bWFwUmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2Uub25BZnRlck1pZGRsZXdhcmUuYWRkKGNvbXBsZXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0ZXh0dXJlIGlzIG5vdCBsb2FkZWQsIHdlJ2xsIGF0dGVtcHQgdG8gYWRkXG4gICAgICAgICAgICAvLyBpdCB0byB0aGUgbG9hZCBhbmQgYWRkIHRoZSB0ZXh0dXJlIHRvIHRoZSBsaXN0XG4gICAgICAgICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICAgICAgICAgIC8vIFN0YW5kYXJkIGxvYWRpbmcgb3B0aW9ucyBmb3IgaW1hZ2VzXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiByZXNvdXJjZS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgICAgICAgbG9hZFR5cGU6IF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBPYmplY3QuYXNzaWduKHsgcGFnZUZpbGU6IHBhZ2VGaWxlIH0sIHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGEpLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRSZXNvdXJjZTogcmVzb3VyY2VcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQodXJsLCBvcHRpb25zLCBjb21wbGV0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxudmFyIHBhdGggPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfcGF0aCk7XG5cbnZhciBfcmVzb3VyY2VMb2FkZXIgPSByZXF1aXJlKCdyZXNvdXJjZS1sb2FkZXInKTtcblxudmFyIF9leHRyYXMgPSByZXF1aXJlKCcuLi9leHRyYXMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLyoqXG4gKiBSZWdpc3RlciBhIEJpdG1hcFRleHQgZm9udCBmcm9tIGxvYWRlciByZXNvdXJjZS5cbiAqXG4gKiBAZnVuY3Rpb24gcGFyc2VCaXRtYXBGb250RGF0YVxuICogQG1lbWJlcm9mIFBJWEkubG9hZGVyc1xuICogQHBhcmFtIHtQSVhJLmxvYWRlcnMuUmVzb3VyY2V9IHJlc291cmNlIC0gTG9hZGVyIHJlc291cmNlLlxuICogQHBhcmFtIHtQSVhJLlRleHR1cmV8UElYSS5UZXh0dXJlW119IHRleHR1cmVzIC0gTGlzdCBvZiB0ZXh0dXJlcyBmb3IgZWFjaCBwYWdlLlxuICovXG5mdW5jdGlvbiBwYXJzZShyZXNvdXJjZSwgdGV4dHVyZXMpIHtcbiAgICByZXNvdXJjZS5iaXRtYXBGb250ID0gX2V4dHJhcy5CaXRtYXBUZXh0LnJlZ2lzdGVyRm9udChyZXNvdXJjZS5kYXRhLCB0ZXh0dXJlcyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaXRtYXBGb250UGFyc2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgTWluaVNpZ25hbEJpbmRpbmcgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsQmluZGluZyhmbiwgb25jZSwgdGhpc0FyZykge1xuICAgIGlmIChvbmNlID09PSB1bmRlZmluZWQpIG9uY2UgPSBmYWxzZTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsQmluZGluZyk7XG5cbiAgICB0aGlzLl9mbiA9IGZuO1xuICAgIHRoaXMuX29uY2UgPSBvbmNlO1xuICAgIHRoaXMuX3RoaXNBcmcgPSB0aGlzQXJnO1xuICAgIHRoaXMuX25leHQgPSB0aGlzLl9wcmV2ID0gdGhpcy5fb3duZXIgPSBudWxsO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWxCaW5kaW5nLCBbe1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaCgpIHtcbiAgICAgIGlmICh0aGlzLl9vd25lciA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgdGhpcy5fb3duZXIuZGV0YWNoKHRoaXMpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1pbmlTaWduYWxCaW5kaW5nO1xufSkoKTtcblxuZnVuY3Rpb24gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHNlbGYsIG5vZGUpIHtcbiAgaWYgKCFzZWxmLl9oZWFkKSB7XG4gICAgc2VsZi5faGVhZCA9IG5vZGU7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5fdGFpbC5fbmV4dCA9IG5vZGU7XG4gICAgbm9kZS5fcHJldiA9IHNlbGYuX3RhaWw7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH1cblxuICBub2RlLl9vd25lciA9IHNlbGY7XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbnZhciBNaW5pU2lnbmFsID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWluaVNpZ25hbCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWluaVNpZ25hbCk7XG5cbiAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNaW5pU2lnbmFsLCBbe1xuICAgIGtleTogJ2hhbmRsZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlcnMoKSB7XG4gICAgICB2YXIgZXhpc3RzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMF07XG5cbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKGV4aXN0cykgcmV0dXJuICEhbm9kZTtcblxuICAgICAgdmFyIGVlID0gW107XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGVlLnB1c2gobm9kZSk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2hhcygpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vZGUuX293bmVyID09PSB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc3BhdGNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5fb25jZSkgdGhpcy5kZXRhY2gobm9kZSk7XG4gICAgICAgIG5vZGUuX2ZuLmFwcGx5KG5vZGUuX3RoaXNBcmcsIGFyZ3VtZW50cyk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoZm4pIHtcbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjYWRkKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgZmFsc2UsIHRoaXNBcmcpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbmNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25jZShmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNvbmNlKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgdHJ1ZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG4gICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTWluaVNpZ25hbEJpbmRpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNkZXRhY2goKTogRmlyc3QgYXJnIG11c3QgYmUgYSBNaW5pU2lnbmFsQmluZGluZyBvYmplY3QuJyk7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5fb3duZXIgIT09IHRoaXMpIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobm9kZS5fcHJldikgbm9kZS5fcHJldi5fbmV4dCA9IG5vZGUuX25leHQ7XG4gICAgICBpZiAobm9kZS5fbmV4dCkgbm9kZS5fbmV4dC5fcHJldiA9IG5vZGUuX3ByZXY7XG5cbiAgICAgIGlmIChub2RlID09PSB0aGlzLl9oZWFkKSB7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBub2RlLl9uZXh0O1xuICAgICAgICBpZiAobm9kZS5fbmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuX3RhaWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUgPT09IHRoaXMuX3RhaWwpIHtcbiAgICAgICAgdGhpcy5fdGFpbCA9IG5vZGUuX3ByZXY7XG4gICAgICAgIHRoaXMuX3RhaWwuX25leHQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBub2RlLl9vd25lciA9IG51bGw7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXRhY2hBbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2hBbGwoKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgICBpZiAoIW5vZGUpIHJldHVybiB0aGlzO1xuXG4gICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IG51bGw7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbDtcbn0pKCk7XG5cbk1pbmlTaWduYWwuTWluaVNpZ25hbEJpbmRpbmcgPSBNaW5pU2lnbmFsQmluZGluZztcblxuZXhwb3J0c1snZGVmYXVsdCddID0gTWluaVNpZ25hbDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VVUkkgKHN0ciwgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIHZhciBvID0ge1xuICAgIGtleTogWydzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ10sXG4gICAgcToge1xuICAgICAgbmFtZTogJ3F1ZXJ5S2V5JyxcbiAgICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nXG4gICAgfSxcbiAgICBwYXJzZXI6IHtcbiAgICAgIHN0cmljdDogL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxcbiAgICAgIGxvb3NlOiAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS9cbiAgICB9XG4gIH1cblxuICB2YXIgbSA9IG8ucGFyc2VyW29wdHMuc3RyaWN0TW9kZSA/ICdzdHJpY3QnIDogJ2xvb3NlJ10uZXhlYyhzdHIpXG4gIHZhciB1cmkgPSB7fVxuICB2YXIgaSA9IDE0XG5cbiAgd2hpbGUgKGktLSkgdXJpW28ua2V5W2ldXSA9IG1baV0gfHwgJydcblxuICB1cmlbby5xLm5hbWVdID0ge31cbiAgdXJpW28ua2V5WzEyXV0ucmVwbGFjZShvLnEucGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkgdXJpW28ucS5uYW1lXVskMV0gPSAkMlxuICB9KVxuXG4gIHJldHVybiB1cmlcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZWFjaFNlcmllcyA9IGVhY2hTZXJpZXM7XG5leHBvcnRzLnF1ZXVlID0gcXVldWU7XG4vKipcbiAqIFNtYWxsZXIgdmVyc2lvbiBvZiB0aGUgYXN5bmMgbGlicmFyeSBjb25zdHJ1Y3RzLlxuICpcbiAqIEBuYW1lc3BhY2UgYXN5bmNcbiAqL1xuXG4vKipcbiAqIE5vb3AgZnVuY3Rpb25cbiAqXG4gKiBAaWdub3JlXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBhc3luY1xuICovXG5mdW5jdGlvbiBfbm9vcCgpIHt9IC8qIGVtcHR5ICovXG5cbi8qKlxuICogSXRlcmF0ZXMgYW4gYXJyYXkgaW4gc2VyaWVzLlxuICpcbiAqIEBtZW1iZXJvZiBhc3luY1xuICogQHBhcmFtIHtBcnJheS48Kj59IGFycmF5IC0gQXJyYXkgdG8gaXRlcmF0ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGl0ZXJhdG9yIC0gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBlbGVtZW50LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gZG9uZSwgb3Igb24gZXJyb3IuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtkZWZlck5leHQ9ZmFsc2VdIC0gQnJlYWsgc3luY2hyb25vdXMgZWFjaCBsb29wIGJ5IGNhbGxpbmcgbmV4dCB3aXRoIGEgc2V0VGltZW91dCBvZiAxLlxuICovXG5mdW5jdGlvbiBlYWNoU2VyaWVzKGFycmF5LCBpdGVyYXRvciwgY2FsbGJhY2ssIGRlZmVyTmV4dCkge1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgKGZ1bmN0aW9uIG5leHQoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgfHwgaSA9PT0gbGVuKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVmZXJOZXh0KSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvcihhcnJheVtpKytdLCBuZXh0KTtcbiAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgICAgIH1cbiAgICB9KSgpO1xufVxuXG4vKipcbiAqIEVuc3VyZXMgYSBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBvbmNlLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBtZW1iZXJvZiBhc3luY1xuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEByZXR1cm4ge2Z1bmN0aW9ufSBUaGUgd3JhcHBpbmcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG9ubHlPbmNlKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICAgICAgICBpZiAoZm4gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FsbGJhY2sgd2FzIGFscmVhZHkgY2FsbGVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNhbGxGbiA9IGZuO1xuXG4gICAgICAgIGZuID0gbnVsbDtcbiAgICAgICAgY2FsbEZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBBc3luYyBxdWV1ZSBpbXBsZW1lbnRhdGlvbixcbiAqXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHdvcmtlciAtIFRoZSB3b3JrZXIgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCB0YXNrLlxuICogQHBhcmFtIHtudW1iZXJ9IGNvbmN1cnJlbmN5IC0gSG93IG1hbnkgd29ya2VycyB0byBydW4gaW4gcGFycmFsbGVsLlxuICogQHJldHVybiB7Kn0gVGhlIGFzeW5jIHF1ZXVlIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gcXVldWUod29ya2VyLCBjb25jdXJyZW5jeSkge1xuICAgIGlmIChjb25jdXJyZW5jeSA9PSBudWxsKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgY29uY3VycmVuY3kgPSAxO1xuICAgIH0gZWxzZSBpZiAoY29uY3VycmVuY3kgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25jdXJyZW5jeSBtdXN0IG5vdCBiZSB6ZXJvJyk7XG4gICAgfVxuXG4gICAgdmFyIHdvcmtlcnMgPSAwO1xuICAgIHZhciBxID0ge1xuICAgICAgICBfdGFza3M6IFtdLFxuICAgICAgICBjb25jdXJyZW5jeTogY29uY3VycmVuY3ksXG4gICAgICAgIHNhdHVyYXRlZDogX25vb3AsXG4gICAgICAgIHVuc2F0dXJhdGVkOiBfbm9vcCxcbiAgICAgICAgYnVmZmVyOiBjb25jdXJyZW5jeSAvIDQsXG4gICAgICAgIGVtcHR5OiBfbm9vcCxcbiAgICAgICAgZHJhaW46IF9ub29wLFxuICAgICAgICBlcnJvcjogX25vb3AsXG4gICAgICAgIHN0YXJ0ZWQ6IGZhbHNlLFxuICAgICAgICBwYXVzZWQ6IGZhbHNlLFxuICAgICAgICBwdXNoOiBmdW5jdGlvbiBwdXNoKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBfaW5zZXJ0KGRhdGEsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgICAgIH0sXG4gICAgICAgIGtpbGw6IGZ1bmN0aW9uIGtpbGwoKSB7XG4gICAgICAgICAgICB3b3JrZXJzID0gMDtcbiAgICAgICAgICAgIHEuZHJhaW4gPSBfbm9vcDtcbiAgICAgICAgICAgIHEuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcS5fdGFza3MgPSBbXTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5zaGlmdDogZnVuY3Rpb24gdW5zaGlmdChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgX2luc2VydChkYXRhLCB0cnVlLCBjYWxsYmFjayk7XG4gICAgICAgIH0sXG4gICAgICAgIHByb2Nlc3M6IGZ1bmN0aW9uIHByb2Nlc3MoKSB7XG4gICAgICAgICAgICB3aGlsZSAoIXEucGF1c2VkICYmIHdvcmtlcnMgPCBxLmNvbmN1cnJlbmN5ICYmIHEuX3Rhc2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciB0YXNrID0gcS5fdGFza3Muc2hpZnQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChxLl90YXNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcS5lbXB0eSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdvcmtlcnMgKz0gMTtcblxuICAgICAgICAgICAgICAgIGlmICh3b3JrZXJzID09PSBxLmNvbmN1cnJlbmN5KSB7XG4gICAgICAgICAgICAgICAgICAgIHEuc2F0dXJhdGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd29ya2VyKHRhc2suZGF0YSwgb25seU9uY2UoX25leHQodGFzaykpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbGVuZ3RoOiBmdW5jdGlvbiBsZW5ndGgoKSB7XG4gICAgICAgICAgICByZXR1cm4gcS5fdGFza3MubGVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBydW5uaW5nOiBmdW5jdGlvbiBydW5uaW5nKCkge1xuICAgICAgICAgICAgcmV0dXJuIHdvcmtlcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGlkbGU6IGZ1bmN0aW9uIGlkbGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gcS5fdGFza3MubGVuZ3RoICsgd29ya2VycyA9PT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgICAgICAgaWYgKHEucGF1c2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBxLnBhdXNlZCA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3VtZTogZnVuY3Rpb24gcmVzdW1lKCkge1xuICAgICAgICAgICAgaWYgKHEucGF1c2VkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcS5wYXVzZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gTmVlZCB0byBjYWxsIHEucHJvY2VzcyBvbmNlIHBlciBjb25jdXJyZW50XG4gICAgICAgICAgICAvLyB3b3JrZXIgdG8gcHJlc2VydmUgZnVsbCBjb25jdXJyZW5jeSBhZnRlciBwYXVzZVxuICAgICAgICAgICAgZm9yICh2YXIgdyA9IDE7IHcgPD0gcS5jb25jdXJyZW5jeTsgdysrKSB7XG4gICAgICAgICAgICAgICAgcS5wcm9jZXNzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX2luc2VydChkYXRhLCBpbnNlcnRBdEZyb250LCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndGFzayBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHEuc3RhcnRlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKGRhdGEgPT0gbnVsbCAmJiBxLmlkbGUoKSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICAgICAgLy8gY2FsbCBkcmFpbiBpbW1lZGlhdGVseSBpZiB0aGVyZSBhcmUgbm8gdGFza3NcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBxLmRyYWluKCk7XG4gICAgICAgICAgICB9LCAxKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGl0ZW0gPSB7XG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgY2FsbGJhY2s6IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyA/IGNhbGxiYWNrIDogX25vb3BcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoaW5zZXJ0QXRGcm9udCkge1xuICAgICAgICAgICAgcS5fdGFza3MudW5zaGlmdChpdGVtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHEuX3Rhc2tzLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBxLnByb2Nlc3MoKTtcbiAgICAgICAgfSwgMSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX25leHQodGFzaykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICAgIHdvcmtlcnMgLT0gMTtcblxuICAgICAgICAgICAgdGFzay5jYWxsYmFjay5hcHBseSh0YXNrLCBhcmd1bWVudHMpO1xuXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzWzBdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgICAgICAgICAgcS5lcnJvcihhcmd1bWVudHNbMF0sIHRhc2suZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh3b3JrZXJzIDw9IHEuY29uY3VycmVuY3kgLSBxLmJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHEudW5zYXR1cmF0ZWQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHEuaWRsZSgpKSB7XG4gICAgICAgICAgICAgICAgcS5kcmFpbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBxLnByb2Nlc3MoKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gcTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzeW5jLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZW5jb2RlQmluYXJ5ID0gZW5jb2RlQmluYXJ5O1xudmFyIF9rZXlTdHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG4vKipcbiAqIEVuY29kZXMgYmluYXJ5IGludG8gYmFzZTY0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dCBUaGUgaW5wdXQgZGF0YSB0byBlbmNvZGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCBiYXNlNjQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGVuY29kZUJpbmFyeShpbnB1dCkge1xuICAgIHZhciBvdXRwdXQgPSAnJztcbiAgICB2YXIgaW54ID0gMDtcblxuICAgIHdoaWxlIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgLy8gRmlsbCBieXRlIGJ1ZmZlciBhcnJheVxuICAgICAgICB2YXIgYnl0ZWJ1ZmZlciA9IFswLCAwLCAwXTtcbiAgICAgICAgdmFyIGVuY29kZWRDaGFySW5kZXhlcyA9IFswLCAwLCAwLCAwXTtcblxuICAgICAgICBmb3IgKHZhciBqbnggPSAwOyBqbnggPCBieXRlYnVmZmVyLmxlbmd0aDsgKytqbngpIHtcbiAgICAgICAgICAgIGlmIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBhd2F5IGhpZ2gtb3JkZXIgYnl0ZSwgYXMgZG9jdW1lbnRlZCBhdDpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9Fbi9Vc2luZ19YTUxIdHRwUmVxdWVzdCNIYW5kbGluZ19iaW5hcnlfZGF0YVxuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IGlucHV0LmNoYXJDb2RlQXQoaW54KyspICYgMHhmZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBlYWNoIGVuY29kZWQgY2hhcmFjdGVyLCA2IGJpdHMgYXQgYSB0aW1lXG4gICAgICAgIC8vIGluZGV4IDE6IGZpcnN0IDYgYml0c1xuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMF0gPSBieXRlYnVmZmVyWzBdID4+IDI7XG5cbiAgICAgICAgLy8gaW5kZXggMjogc2Vjb25kIDYgYml0cyAoMiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAxICsgNCBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDIpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1sxXSA9IChieXRlYnVmZmVyWzBdICYgMHgzKSA8PCA0IHwgYnl0ZWJ1ZmZlclsxXSA+PiA0O1xuXG4gICAgICAgIC8vIGluZGV4IDM6IHRoaXJkIDYgYml0cyAoNCBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAyICsgMiBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDMpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IChieXRlYnVmZmVyWzFdICYgMHgwZikgPDwgMiB8IGJ5dGVidWZmZXJbMl0gPj4gNjtcblxuICAgICAgICAvLyBpbmRleCAzOiBmb3J0aCA2IGJpdHMgKDYgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMylcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gYnl0ZWJ1ZmZlclsyXSAmIDB4M2Y7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgcGFkZGluZyBoYXBwZW5lZCwgYW5kIGFkanVzdCBhY2NvcmRpbmdseVxuICAgICAgICB2YXIgcGFkZGluZ0J5dGVzID0gaW54IC0gKGlucHV0Lmxlbmd0aCAtIDEpO1xuXG4gICAgICAgIHN3aXRjaCAocGFkZGluZ0J5dGVzKSB7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgLy8gU2V0IGxhc3QgMiBjaGFyYWN0ZXJzIHRvIHBhZGRpbmcgY2hhclxuICAgICAgICAgICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IDY0O1xuICAgICAgICAgICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IDY0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgLy8gU2V0IGxhc3QgY2hhcmFjdGVyIHRvIHBhZGRpbmcgY2hhclxuICAgICAgICAgICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IDY0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBObyBwYWRkaW5nIC0gcHJvY2VlZFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm93IHdlIHdpbGwgZ3JhYiBlYWNoIGFwcHJvcHJpYXRlIGNoYXJhY3RlciBvdXQgb2Ygb3VyIGtleXN0cmluZ1xuICAgICAgICAvLyBiYXNlZCBvbiBvdXIgaW5kZXggYXJyYXkgYW5kIGFwcGVuZCBpdCB0byB0aGUgb3V0cHV0IHN0cmluZ1xuICAgICAgICBmb3IgKHZhciBfam54ID0gMDsgX2pueCA8IGVuY29kZWRDaGFySW5kZXhlcy5sZW5ndGg7ICsrX2pueCkge1xuICAgICAgICAgICAgb3V0cHV0ICs9IF9rZXlTdHIuY2hhckF0KGVuY29kZWRDaGFySW5kZXhlc1tfam54XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuXG4vLyBCYWNrd2FyZHMgY29tcGF0XG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZW5jb2RlQmluYXJ5OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iNjQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNwcml0ZXNoZWV0UGFyc2VyKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIHZhciBpbWFnZVJlc291cmNlTmFtZSA9IHJlc291cmNlLm5hbWUgKyAnX2ltYWdlJztcblxuICAgICAgICAvLyBza2lwIGlmIG5vIGRhdGEsIGl0cyBub3QganNvbiwgaXQgaXNuJ3Qgc3ByaXRlc2hlZXQgZGF0YSwgb3IgdGhlIGltYWdlIHJlc291cmNlIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGlmICghcmVzb3VyY2UuZGF0YSB8fCByZXNvdXJjZS50eXBlICE9PSBfcmVzb3VyY2VMb2FkZXIuUmVzb3VyY2UuVFlQRS5KU09OIHx8ICFyZXNvdXJjZS5kYXRhLmZyYW1lcyB8fCB0aGlzLnJlc291cmNlc1tpbWFnZVJlc291cmNlTmFtZV0pIHtcbiAgICAgICAgICAgIG5leHQoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvYWRPcHRpb25zID0ge1xuICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGEsXG4gICAgICAgICAgICBwYXJlbnRSZXNvdXJjZTogcmVzb3VyY2VcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmVzb3VyY2VQYXRoID0gZ2V0UmVzb3VyY2VQYXRoKHJlc291cmNlLCB0aGlzLmJhc2VVcmwpO1xuXG4gICAgICAgIC8vIGxvYWQgdGhlIGltYWdlIGZvciB0aGlzIHNoZWV0XG4gICAgICAgIHRoaXMuYWRkKGltYWdlUmVzb3VyY2VOYW1lLCByZXNvdXJjZVBhdGgsIGxvYWRPcHRpb25zLCBmdW5jdGlvbiBvbkltYWdlTG9hZChyZXMpIHtcbiAgICAgICAgICAgIGlmIChyZXMuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBuZXh0KHJlcy5lcnJvcik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzcHJpdGVzaGVldCA9IG5ldyBfY29yZS5TcHJpdGVzaGVldChyZXMudGV4dHVyZS5iYXNlVGV4dHVyZSwgcmVzb3VyY2UuZGF0YSwgcmVzb3VyY2UudXJsKTtcblxuICAgICAgICAgICAgc3ByaXRlc2hlZXQucGFyc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLnNwcml0ZXNoZWV0ID0gc3ByaXRlc2hlZXQ7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZXMgPSBzcHJpdGVzaGVldC50ZXh0dXJlcztcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn07XG5cbmV4cG9ydHMuZ2V0UmVzb3VyY2VQYXRoID0gZ2V0UmVzb3VyY2VQYXRoO1xuXG52YXIgX3Jlc291cmNlTG9hZGVyID0gcmVxdWlyZSgncmVzb3VyY2UtbG9hZGVyJyk7XG5cbnZhciBfdXJsID0gcmVxdWlyZSgndXJsJyk7XG5cbnZhciBfdXJsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VybCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0UmVzb3VyY2VQYXRoKHJlc291cmNlLCBiYXNlVXJsKSB7XG4gICAgLy8gUHJlcGVuZCB1cmwgcGF0aCB1bmxlc3MgdGhlIHJlc291cmNlIGltYWdlIGlzIGEgZGF0YSB1cmxcbiAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKSB7XG4gICAgICAgIHJldHVybiByZXNvdXJjZS5kYXRhLm1ldGEuaW1hZ2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIF91cmwyLmRlZmF1bHQucmVzb2x2ZShyZXNvdXJjZS51cmwucmVwbGFjZShiYXNlVXJsLCAnJyksIHJlc291cmNlLmRhdGEubWV0YS5pbWFnZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGVzaGVldFBhcnNlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gdGV4dHVyZVBhcnNlcihyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICAvLyBjcmVhdGUgYSBuZXcgdGV4dHVyZSBpZiB0aGUgZGF0YSBpcyBhbiBJbWFnZSBvYmplY3RcbiAgICAgICAgaWYgKHJlc291cmNlLmRhdGEgJiYgcmVzb3VyY2UudHlwZSA9PT0gX3Jlc291cmNlTG9hZGVyLlJlc291cmNlLlRZUEUuSU1BR0UpIHtcbiAgICAgICAgICAgIHJlc291cmNlLnRleHR1cmUgPSBfVGV4dHVyZTIuZGVmYXVsdC5mcm9tTG9hZGVyKHJlc291cmNlLmRhdGEsIHJlc291cmNlLnVybCwgcmVzb3VyY2UubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCgpO1xuICAgIH07XG59O1xuXG52YXIgX3Jlc291cmNlTG9hZGVyID0gcmVxdWlyZSgncmVzb3VyY2UtbG9hZGVyJyk7XG5cbnZhciBfVGV4dHVyZSA9IHJlcXVpcmUoJy4uL2NvcmUvdGV4dHVyZXMvVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0dXJlUGFyc2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9NZXNoMiA9IHJlcXVpcmUoJy4vTWVzaCcpO1xuXG52YXIgX01lc2gzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaDIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIFBsYW5lIGFsbG93cyB5b3UgdG8gZHJhdyBhIHRleHR1cmUgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVtIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzXG4gKlxuICpgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogbGV0IFBsYW5lID0gbmV3IFBJWEkuUGxhbmUoUElYSS5UZXh0dXJlLmZyb21JbWFnZShcInNuYWtlLnBuZ1wiKSwgcG9pbnRzKTtcbiAqICBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkubWVzaC5NZXNoXG4gKiBAbWVtYmVyb2YgUElYSS5tZXNoXG4gKlxuICovXG52YXIgUGxhbmUgPSBmdW5jdGlvbiAoX01lc2gpIHtcbiAgICBfaW5oZXJpdHMoUGxhbmUsIF9NZXNoKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBQbGFuZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ZlcnRpY2VzWD0xMF0gLSBUaGUgbnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoZSB4LWF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ZlcnRpY2VzWT0xMF0gLSBUaGUgbnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoZSB5LWF4aXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQbGFuZSh0ZXh0dXJlLCB2ZXJ0aWNlc1gsIHZlcnRpY2VzWSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGxhbmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja2VyIGZvciBpZiB0aGUgUGxhbmUgaXMgcmVhZHkgdG8gYmUgZHJhd24uIE5lZWRlZCBiZWNhdXNlIE1lc2ggY3RvciBjYW5cbiAgICAgICAgICogY2FsbCBfb25UZXh0dXJlVXBkYXRlZCB3aGljaCBjb3VsZCBjYWxsIHJlZnJlc2ggdG9vIGVhcmx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX01lc2guY2FsbCh0aGlzLCB0ZXh0dXJlKSk7XG5cbiAgICAgICAgX3RoaXMuX3JlYWR5ID0gdHJ1ZTtcblxuICAgICAgICBfdGhpcy52ZXJ0aWNlc1ggPSB2ZXJ0aWNlc1ggfHwgMTA7XG4gICAgICAgIF90aGlzLnZlcnRpY2VzWSA9IHZlcnRpY2VzWSB8fCAxMDtcblxuICAgICAgICBfdGhpcy5kcmF3TW9kZSA9IF9NZXNoMy5kZWZhdWx0LkRSQVdfTU9ERVMuVFJJQU5HTEVTO1xuICAgICAgICBfdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgcGxhbmUgY29vcmRpbmF0ZXNcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBQbGFuZS5wcm90b3R5cGUuX3JlZnJlc2ggPSBmdW5jdGlvbiBfcmVmcmVzaCgpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgdG90YWwgPSB0aGlzLnZlcnRpY2VzWCAqIHRoaXMudmVydGljZXNZO1xuICAgICAgICB2YXIgdmVydHMgPSBbXTtcbiAgICAgICAgdmFyIGNvbG9ycyA9IFtdO1xuICAgICAgICB2YXIgdXZzID0gW107XG4gICAgICAgIHZhciBpbmRpY2VzID0gW107XG5cbiAgICAgICAgdmFyIHNlZ21lbnRzWCA9IHRoaXMudmVydGljZXNYIC0gMTtcbiAgICAgICAgdmFyIHNlZ21lbnRzWSA9IHRoaXMudmVydGljZXNZIC0gMTtcblxuICAgICAgICB2YXIgc2l6ZVggPSB0ZXh0dXJlLndpZHRoIC8gc2VnbWVudHNYO1xuICAgICAgICB2YXIgc2l6ZVkgPSB0ZXh0dXJlLmhlaWdodCAvIHNlZ21lbnRzWTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB4ID0gaSAlIHRoaXMudmVydGljZXNYO1xuICAgICAgICAgICAgdmFyIHkgPSBpIC8gdGhpcy52ZXJ0aWNlc1ggfCAwO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHggKiBzaXplWCwgeSAqIHNpemVZKTtcblxuICAgICAgICAgICAgdXZzLnB1c2goeCAvIHNlZ21lbnRzWCwgeSAvIHNlZ21lbnRzWSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAgY29uc1xuXG4gICAgICAgIHZhciB0b3RhbFN1YiA9IHNlZ21lbnRzWCAqIHNlZ21lbnRzWTtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdG90YWxTdWI7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciB4cG9zID0gX2kgJSBzZWdtZW50c1g7XG4gICAgICAgICAgICB2YXIgeXBvcyA9IF9pIC8gc2VnbWVudHNYIHwgMDtcblxuICAgICAgICAgICAgdmFyIHZhbHVlID0geXBvcyAqIHRoaXMudmVydGljZXNYICsgeHBvcztcbiAgICAgICAgICAgIHZhciB2YWx1ZTIgPSB5cG9zICogdGhpcy52ZXJ0aWNlc1ggKyB4cG9zICsgMTtcbiAgICAgICAgICAgIHZhciB2YWx1ZTMgPSAoeXBvcyArIDEpICogdGhpcy52ZXJ0aWNlc1ggKyB4cG9zO1xuICAgICAgICAgICAgdmFyIHZhbHVlNCA9ICh5cG9zICsgMSkgKiB0aGlzLnZlcnRpY2VzWCArIHhwb3MgKyAxO1xuXG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godmFsdWUsIHZhbHVlMiwgdmFsdWUzKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2YWx1ZTIsIHZhbHVlNCwgdmFsdWUzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGluZGljZXMpXG4gICAgICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRzKTtcbiAgICAgICAgdGhpcy51dnMgPSBuZXcgRmxvYXQzMkFycmF5KHV2cyk7XG4gICAgICAgIHRoaXMuY29sb3JzID0gbmV3IEZsb2F0MzJBcnJheShjb2xvcnMpO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoaW5kaWNlcyk7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICB0aGlzLmluZGV4RGlydHkrKztcblxuICAgICAgICB0aGlzLm11bHRpcGx5VXZzKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRleHR1cmUgVVZzIHdoZW4gbmV3IHRleHR1cmUgaXMgc2V0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBQbGFuZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uIF9vblRleHR1cmVVcGRhdGUoKSB7XG4gICAgICAgIF9NZXNoMy5kZWZhdWx0LnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLy8gd2FpdCBmb3IgdGhlIFBsYW5lIGN0b3IgdG8gZmluaXNoIGJlZm9yZSBjYWxsaW5nIHJlZnJlc2hcbiAgICAgICAgaWYgKHRoaXMuX3JlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gUGxhbmU7XG59KF9NZXNoMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGxhbmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QbGFuZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDb3VudExpbWl0ZXIgbGltaXRzIHRoZSBudW1iZXIgb2YgaXRlbXMgaGFuZGxlZCBieSBhIHtAbGluayBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmV9IHRvIGEgc3BlY2lmaWVkXG4gKiBudW1iZXIgb2YgaXRlbXMgcGVyIGZyYW1lLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvdW50TGltaXRlciA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhJdGVtc1BlckZyYW1lIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAqL1xuICBmdW5jdGlvbiBDb3VudExpbWl0ZXIobWF4SXRlbXNQZXJGcmFtZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb3VudExpbWl0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1heEl0ZW1zUGVyRnJhbWUgPSBtYXhJdGVtc1BlckZyYW1lO1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgaW4gdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuaXRlbXNMZWZ0ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gICAqL1xuXG5cbiAgQ291bnRMaW1pdGVyLnByb3RvdHlwZS5iZWdpbkZyYW1lID0gZnVuY3Rpb24gYmVnaW5GcmFtZSgpIHtcbiAgICB0aGlzLml0ZW1zTGVmdCA9IHRoaXMubWF4SXRlbXNQZXJGcmFtZTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICAgKi9cblxuXG4gIENvdW50TGltaXRlci5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkID0gZnVuY3Rpb24gYWxsb3dlZFRvVXBsb2FkKCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1zTGVmdC0tID4gMDtcbiAgfTtcblxuICByZXR1cm4gQ291bnRMaW1pdGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDb3VudExpbWl0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db3VudExpbWl0ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBDb3B5cmlnaHQgMjAxMyBCYXNhcmF0IEFsaSBTeWVkLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIE1JVCBvcGVuIHNvdXJjZSBsaWNlbnNlIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8vXG4vLyBPcmdpbmFsIGphdmFzY3JpcHQgY29kZSB3YXMgYnkgTWF1cmljaW8gU2FudG9zXG4vL1xudmFyIF9hcnJheXMgPSByZXF1aXJlKFwiLi9hcnJheXNcIik7XG5leHBvcnRzLmFycmF5cyA9IF9hcnJheXM7XG52YXIgQmFnXzEgPSByZXF1aXJlKFwiLi9CYWdcIik7XG5leHBvcnRzLkJhZyA9IEJhZ18xLmRlZmF1bHQ7XG52YXIgQlNUcmVlXzEgPSByZXF1aXJlKFwiLi9CU1RyZWVcIik7XG5leHBvcnRzLkJTVHJlZSA9IEJTVHJlZV8xLmRlZmF1bHQ7XG52YXIgQlNUcmVlS1ZfMSA9IHJlcXVpcmUoXCIuL0JTVHJlZUtWXCIpO1xuZXhwb3J0cy5CU1RyZWVLViA9IEJTVHJlZUtWXzEuZGVmYXVsdDtcbnZhciBEaWN0aW9uYXJ5XzEgPSByZXF1aXJlKFwiLi9EaWN0aW9uYXJ5XCIpO1xuZXhwb3J0cy5EaWN0aW9uYXJ5ID0gRGljdGlvbmFyeV8xLmRlZmF1bHQ7XG52YXIgSGVhcF8xID0gcmVxdWlyZShcIi4vSGVhcFwiKTtcbmV4cG9ydHMuSGVhcCA9IEhlYXBfMS5kZWZhdWx0O1xudmFyIExpbmtlZERpY3Rpb25hcnlfMSA9IHJlcXVpcmUoXCIuL0xpbmtlZERpY3Rpb25hcnlcIik7XG5leHBvcnRzLkxpbmtlZERpY3Rpb25hcnkgPSBMaW5rZWREaWN0aW9uYXJ5XzEuZGVmYXVsdDtcbnZhciBMaW5rZWRMaXN0XzEgPSByZXF1aXJlKFwiLi9MaW5rZWRMaXN0XCIpO1xuZXhwb3J0cy5MaW5rZWRMaXN0ID0gTGlua2VkTGlzdF8xLmRlZmF1bHQ7XG52YXIgTXVsdGlEaWN0aW9uYXJ5XzEgPSByZXF1aXJlKFwiLi9NdWx0aURpY3Rpb25hcnlcIik7XG5leHBvcnRzLk11bHRpRGljdGlvbmFyeSA9IE11bHRpRGljdGlvbmFyeV8xLmRlZmF1bHQ7XG52YXIgRmFjdG9yeURpY3Rpb25hcnlfMSA9IHJlcXVpcmUoXCIuL0ZhY3RvcnlEaWN0aW9uYXJ5XCIpO1xuZXhwb3J0cy5GYWN0b3J5RGljdGlvbmFyeSA9IEZhY3RvcnlEaWN0aW9uYXJ5XzEuZGVmYXVsdDtcbnZhciBGYWN0b3J5RGljdGlvbmFyeV8yID0gcmVxdWlyZShcIi4vRmFjdG9yeURpY3Rpb25hcnlcIik7XG5leHBvcnRzLkRlZmF1bHREaWN0aW9uYXJ5ID0gRmFjdG9yeURpY3Rpb25hcnlfMi5kZWZhdWx0O1xudmFyIFF1ZXVlXzEgPSByZXF1aXJlKFwiLi9RdWV1ZVwiKTtcbmV4cG9ydHMuUXVldWUgPSBRdWV1ZV8xLmRlZmF1bHQ7XG52YXIgUHJpb3JpdHlRdWV1ZV8xID0gcmVxdWlyZShcIi4vUHJpb3JpdHlRdWV1ZVwiKTtcbmV4cG9ydHMuUHJpb3JpdHlRdWV1ZSA9IFByaW9yaXR5UXVldWVfMS5kZWZhdWx0O1xudmFyIFNldF8xID0gcmVxdWlyZShcIi4vU2V0XCIpO1xuZXhwb3J0cy5TZXQgPSBTZXRfMS5kZWZhdWx0O1xudmFyIFN0YWNrXzEgPSByZXF1aXJlKFwiLi9TdGFja1wiKTtcbmV4cG9ydHMuU3RhY2sgPSBTdGFja18xLmRlZmF1bHQ7XG52YXIgTXVsdGlSb290VHJlZV8xID0gcmVxdWlyZShcIi4vTXVsdGlSb290VHJlZVwiKTtcbmV4cG9ydHMuTXVsdGlSb290VHJlZSA9IE11bHRpUm9vdFRyZWVfMS5kZWZhdWx0O1xudmFyIF91dGlsID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbmV4cG9ydHMudXRpbCA9IF91dGlsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG52YXIgYXJyYXlzID0gcmVxdWlyZShcIi4vYXJyYXlzXCIpO1xudmFyIERpY3Rpb25hcnlfMSA9IHJlcXVpcmUoXCIuL0RpY3Rpb25hcnlcIik7XG52YXIgU2V0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gZW1wdHkgc2V0LlxuICAgICAqIEBjbGFzcyA8cD5BIHNldCBpcyBhIGRhdGEgc3RydWN0dXJlIHRoYXQgY29udGFpbnMgbm8gZHVwbGljYXRlIGl0ZW1zLjwvcD5cbiAgICAgKiA8cD5JZiB0aGUgaW5zZXJ0ZWQgZWxlbWVudHMgYXJlIGN1c3RvbSBvYmplY3RzIGEgZnVuY3Rpb25cbiAgICAgKiB3aGljaCBjb252ZXJ0cyBlbGVtZW50cyB0byBzdHJpbmdzIG11c3QgYmUgcHJvdmlkZWQuIEV4YW1wbGU6PC9wPlxuICAgICAqXG4gICAgICogPHByZT5cbiAgICAgKiBmdW5jdGlvbiBwZXRUb1N0cmluZyhwZXQpIHtcbiAgICAgKiAgcmV0dXJuIHBldC5uYW1lO1xuICAgICAqIH1cbiAgICAgKiA8L3ByZT5cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oT2JqZWN0KTpzdHJpbmc9fSB0b1N0cmluZ0Z1bmN0aW9uIG9wdGlvbmFsIGZ1bmN0aW9uIHVzZWRcbiAgICAgKiB0byBjb252ZXJ0IGVsZW1lbnRzIHRvIHN0cmluZ3MuIElmIHRoZSBlbGVtZW50cyBhcmVuJ3Qgc3RyaW5ncyBvciBpZiB0b1N0cmluZygpXG4gICAgICogaXMgbm90IGFwcHJvcHJpYXRlLCBhIGN1c3RvbSBmdW5jdGlvbiB3aGljaCByZWNlaXZlcyBhbiBvYmplY3QgYW5kIHJldHVybnMgYVxuICAgICAqIHVuaXF1ZSBzdHJpbmcgbXVzdCBiZSBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZXQodG9TdHJpbmdGdW5jdGlvbikge1xuICAgICAgICB0aGlzLmRpY3Rpb25hcnkgPSBuZXcgRGljdGlvbmFyeV8xLmRlZmF1bHQodG9TdHJpbmdGdW5jdGlvbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHNldCBjb250YWlucyB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgZWxlbWVudCB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhpcyBzZXQgY29udGFpbnMgdGhlIHNwZWNpZmllZCBlbGVtZW50LFxuICAgICAqIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBTZXQucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGljdGlvbmFyeS5jb250YWluc0tleShlbGVtZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIHNwZWNpZmllZCBlbGVtZW50IHRvIHRoaXMgc2V0IGlmIGl0IGlzIG5vdCBhbHJlYWR5IHByZXNlbnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgdGhlIGVsZW1lbnQgdG8gaW5zZXJ0LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhpcyBzZXQgZGlkIG5vdCBhbHJlYWR5IGNvbnRhaW4gdGhlIHNwZWNpZmllZCBlbGVtZW50LlxuICAgICAqL1xuICAgIFNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGFpbnMoZWxlbWVudCkgfHwgdXRpbC5pc1VuZGVmaW5lZChlbGVtZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kaWN0aW9uYXJ5LnNldFZhbHVlKGVsZW1lbnQsIGVsZW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFuIGludGVyc2VjaW9uIGJldHdlZW4gdGhpcyBhbmQgYW5vdGhlciBzZXQuXG4gICAgICogUmVtb3ZlcyBhbGwgdmFsdWVzIHRoYXQgYXJlIG5vdCBwcmVzZW50IHRoaXMgc2V0IGFuZCB0aGUgZ2l2ZW4gc2V0LlxuICAgICAqIEBwYXJhbSB7Y29sbGVjdGlvbnMuU2V0fSBvdGhlclNldCBvdGhlciBzZXQuXG4gICAgICovXG4gICAgU2V0LnByb3RvdHlwZS5pbnRlcnNlY3Rpb24gPSBmdW5jdGlvbiAob3RoZXJTZXQpIHtcbiAgICAgICAgdmFyIHNldCA9IHRoaXM7XG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKCFvdGhlclNldC5jb250YWlucyhlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHNldC5yZW1vdmUoZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHVuaW9uIGJldHdlZW4gdGhpcyBhbmQgYW5vdGhlciBzZXQuXG4gICAgICogQWRkcyBhbGwgdmFsdWVzIGZyb20gdGhlIGdpdmVuIHNldCB0byB0aGlzIHNldC5cbiAgICAgKiBAcGFyYW0ge2NvbGxlY3Rpb25zLlNldH0gb3RoZXJTZXQgb3RoZXIgc2V0LlxuICAgICAqL1xuICAgIFNldC5wcm90b3R5cGUudW5pb24gPSBmdW5jdGlvbiAob3RoZXJTZXQpIHtcbiAgICAgICAgdmFyIHNldCA9IHRoaXM7XG4gICAgICAgIG90aGVyU2V0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHNldC5hZGQoZWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGlzIGFuZCBhbm90aGVyIHNldC5cbiAgICAgKiBSZW1vdmVzIGZyb20gdGhpcyBzZXQgYWxsIHRoZSB2YWx1ZXMgdGhhdCBhcmUgcHJlc2VudCBpbiB0aGUgZ2l2ZW4gc2V0LlxuICAgICAqIEBwYXJhbSB7Y29sbGVjdGlvbnMuU2V0fSBvdGhlclNldCBvdGhlciBzZXQuXG4gICAgICovXG4gICAgU2V0LnByb3RvdHlwZS5kaWZmZXJlbmNlID0gZnVuY3Rpb24gKG90aGVyU2V0KSB7XG4gICAgICAgIHZhciBzZXQgPSB0aGlzO1xuICAgICAgICBvdGhlclNldC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICBzZXQucmVtb3ZlKGVsZW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIHNldCBjb250YWlucyBhbGwgdGhlIGVsZW1lbnRzIGluIHRoaXMgc2V0LlxuICAgICAqIEBwYXJhbSB7Y29sbGVjdGlvbnMuU2V0fSBvdGhlclNldCBvdGhlciBzZXQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGlzIHNldCBpcyBhIHN1YnNldCBvZiB0aGUgZ2l2ZW4gc2V0LlxuICAgICAqL1xuICAgIFNldC5wcm90b3R5cGUuaXNTdWJzZXRPZiA9IGZ1bmN0aW9uIChvdGhlclNldCkge1xuICAgICAgICBpZiAodGhpcy5zaXplKCkgPiBvdGhlclNldC5zaXplKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNTdWIgPSB0cnVlO1xuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmICghb3RoZXJTZXQuY29udGFpbnMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICBpc1N1YiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGlzU3ViO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgZnJvbSB0aGlzIHNldCBpZiBpdCBpcyBwcmVzZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhpcyBzZXQgY29udGFpbmVkIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBTZXQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5jb250YWlucyhlbGVtZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kaWN0aW9uYXJ5LnJlbW92ZShlbGVtZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gb25jZSBmb3IgZWFjaCBlbGVtZW50XG4gICAgICogcHJlc2VudCBpbiB0aGlzIHNldC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKE9iamVjdCk6Kn0gY2FsbGJhY2sgZnVuY3Rpb24gdG8gZXhlY3V0ZSwgaXQgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50czogdGhlIGVsZW1lbnQuIFRvIGJyZWFrIHRoZSBpdGVyYXRpb24geW91IGNhblxuICAgICAqIG9wdGlvbmFsbHkgcmV0dXJuIGZhbHNlLlxuICAgICAqL1xuICAgIFNldC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmRpY3Rpb25hcnkuZm9yRWFjaChmdW5jdGlvbiAoaywgdikge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHYpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyBhbGwgb2YgdGhlIGVsZW1lbnRzIGluIHRoaXMgc2V0IGluIGFyYml0cmFyeSBvcmRlci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gYW4gYXJyYXkgY29udGFpbmluZyBhbGwgb2YgdGhlIGVsZW1lbnRzIGluIHRoaXMgc2V0LlxuICAgICAqL1xuICAgIFNldC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGljdGlvbmFyeS52YWx1ZXMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHNldCBjb250YWlucyBubyBlbGVtZW50cy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoaXMgc2V0IGNvbnRhaW5zIG5vIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIFNldC5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGljdGlvbmFyeS5pc0VtcHR5KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhpcyBzZXQuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoaXMgc2V0LlxuICAgICAqL1xuICAgIFNldC5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGljdGlvbmFyeS5zaXplKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBvZiB0aGUgZWxlbWVudHMgZnJvbSB0aGlzIHNldC5cbiAgICAgKi9cbiAgICBTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpY3Rpb25hcnkuY2xlYXIoKTtcbiAgICB9O1xuICAgIC8qXG4gICAgKiBQcm92aWRlcyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBmb3IgZGlzcGxheVxuICAgICovXG4gICAgU2V0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5cy50b1N0cmluZyh0aGlzLnRvQXJyYXkoKSk7XG4gICAgfTtcbiAgICByZXR1cm4gU2V0O1xufSgpKTsgLy8gZW5kIG9mIFNldFxuZXhwb3J0cy5kZWZhdWx0ID0gU2V0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2V0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHV0aWwgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xudmFyIFF1ZXVlXzEgPSByZXF1aXJlKFwiLi9RdWV1ZVwiKTtcbi8qKlxuICogR2VuZXJhbCBiaW5hcnkgc2VhcmNoIHRyZWUgaW1wbGVtZW50YXRpb24uXG4gKlxuICogVGhpcyBpbnRlcmZhY2UgYWxsb3dzIG9uZSB0byBzZWFyY2ggZWxlbWVudHMgdXNpbmcgYSBzdWJzZXQgb2YgdGhlaXIgYXR0cmlidXRlcyAodGh1cyB0aGVcbiAqIHRyZWUgY2FuIGJlIHVzZWQgYXMgYW4gaW5kZXggZm9yIGNvbXBsZXggb2JqZWN0cykuXG4gKiBUaGUgYXR0cmlidXRlcyByZXF1aXJlZCB0byBkZWZpbmUgYW4gb3JkZXJpbmcgaW4gdGhlIHRyZWUgbXVzdCBiZSBkZWZpbmVkIGluIHRoZSB0eXBlIEsuXG4gKiBBbnkgYWRkaXRpb25hbCBhdHRyaWJ1dGUgbXVzdCBiZSBkZWZpbmVkIGluIHRoZSB0eXBlIFYuXG4gKlxuICogQHNlZSBCU1RyZWVcbiAqL1xudmFyIEJTVHJlZUtWID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gZW1wdHkgYmluYXJ5IHNlYXJjaCB0cmVlLlxuICAgICAqIEBjbGFzcyA8cD5BIGJpbmFyeSBzZWFyY2ggdHJlZSBpcyBhIGJpbmFyeSB0cmVlIGluIHdoaWNoIGVhY2hcbiAgICAgKiBpbnRlcm5hbCBub2RlIHN0b3JlcyBhbiBlbGVtZW50IHN1Y2ggdGhhdCB0aGUgZWxlbWVudHMgc3RvcmVkIGluIHRoZVxuICAgICAqIGxlZnQgc3VidHJlZSBhcmUgbGVzcyB0aGFuIGl0IGFuZCB0aGUgZWxlbWVudHNcbiAgICAgKiBzdG9yZWQgaW4gdGhlIHJpZ2h0IHN1YnRyZWUgYXJlIGdyZWF0ZXIuPC9wPlxuICAgICAqIDxwPkZvcm1hbGx5LCBhIGJpbmFyeSBzZWFyY2ggdHJlZSBpcyBhIG5vZGUtYmFzZWQgYmluYXJ5IHRyZWUgZGF0YSBzdHJ1Y3R1cmUgd2hpY2hcbiAgICAgKiBoYXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOjwvcD5cbiAgICAgKiA8dWw+XG4gICAgICogPGxpPlRoZSBsZWZ0IHN1YnRyZWUgb2YgYSBub2RlIGNvbnRhaW5zIG9ubHkgbm9kZXMgd2l0aCBlbGVtZW50cyBsZXNzXG4gICAgICogdGhhbiB0aGUgbm9kZSdzIGVsZW1lbnQ8L2xpPlxuICAgICAqIDxsaT5UaGUgcmlnaHQgc3VidHJlZSBvZiBhIG5vZGUgY29udGFpbnMgb25seSBub2RlcyB3aXRoIGVsZW1lbnRzIGdyZWF0ZXJcbiAgICAgKiB0aGFuIHRoZSBub2RlJ3MgZWxlbWVudDwvbGk+XG4gICAgICogPGxpPkJvdGggdGhlIGxlZnQgYW5kIHJpZ2h0IHN1YnRyZWVzIG11c3QgYWxzbyBiZSBiaW5hcnkgc2VhcmNoIHRyZWVzLjwvbGk+XG4gICAgICogPC91bD5cbiAgICAgKiA8cD5JZiB0aGUgaW5zZXJ0ZWQgZWxlbWVudHMgYXJlIGN1c3RvbSBvYmplY3RzIGEgY29tcGFyZSBmdW5jdGlvbiBtdXN0XG4gICAgICogYmUgcHJvdmlkZWQgYXQgY29uc3RydWN0aW9uIHRpbWUsIG90aGVyd2lzZSB0aGUgPD0sID09PSBhbmQgPj0gb3BlcmF0b3JzIGFyZVxuICAgICAqIHVzZWQgdG8gY29tcGFyZSBlbGVtZW50cy4gRXhhbXBsZTo8L3A+XG4gICAgICogPHByZT5cbiAgICAgKiBmdW5jdGlvbiBjb21wYXJlKGEsIGIpIHtcbiAgICAgKiAgaWYgKGEgaXMgbGVzcyB0aGFuIGIgYnkgc29tZSBvcmRlcmluZyBjcml0ZXJpb24pIHtcbiAgICAgKiAgICAgcmV0dXJuIC0xO1xuICAgICAqICB9IGlmIChhIGlzIGdyZWF0ZXIgdGhhbiBiIGJ5IHRoZSBvcmRlcmluZyBjcml0ZXJpb24pIHtcbiAgICAgKiAgICAgcmV0dXJuIDE7XG4gICAgICogIH1cbiAgICAgKiAgLy8gYSBtdXN0IGJlIGVxdWFsIHRvIGJcbiAgICAgKiAgcmV0dXJuIDA7XG4gICAgICogfVxuICAgICAqIDwvcHJlPlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oT2JqZWN0LE9iamVjdCk6bnVtYmVyPX0gY29tcGFyZUZ1bmN0aW9uIG9wdGlvbmFsXG4gICAgICogZnVuY3Rpb24gdXNlZCB0byBjb21wYXJlIHR3byBlbGVtZW50cy4gTXVzdCByZXR1cm4gYSBuZWdhdGl2ZSBpbnRlZ2VyLFxuICAgICAqIHplcm8sIG9yIGEgcG9zaXRpdmUgaW50ZWdlciBhcyB0aGUgZmlyc3QgYXJndW1lbnQgaXMgbGVzcyB0aGFuLCBlcXVhbCB0byxcbiAgICAgKiBvciBncmVhdGVyIHRoYW4gdGhlIHNlY29uZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCU1RyZWVLVihjb21wYXJlRnVuY3Rpb24pIHtcbiAgICAgICAgdGhpcy5yb290ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb21wYXJlID0gY29tcGFyZUZ1bmN0aW9uIHx8IHV0aWwuZGVmYXVsdENvbXBhcmU7XG4gICAgICAgIHRoaXMubkVsZW1lbnRzID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgdG8gdGhpcyB0cmVlIGlmIGl0IGlzIG5vdCBhbHJlYWR5IHByZXNlbnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgdGhlIGVsZW1lbnQgdG8gaW5zZXJ0LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhpcyB0cmVlIGRpZCBub3QgYWxyZWFkeSBjb250YWluIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBCU1RyZWVLVi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHV0aWwuaXNVbmRlZmluZWQoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbnNlcnROb2RlKHRoaXMuY3JlYXRlTm9kZShlbGVtZW50KSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubkVsZW1lbnRzKys7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBvZiB0aGUgZWxlbWVudHMgZnJvbSB0aGlzIHRyZWUuXG4gICAgICovXG4gICAgQlNUcmVlS1YucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJvb3QgPSBudWxsO1xuICAgICAgICB0aGlzLm5FbGVtZW50cyA9IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB0cmVlIGNvbnRhaW5zIG5vIGVsZW1lbnRzLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhpcyB0cmVlIGNvbnRhaW5zIG5vIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIEJTVHJlZUtWLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uRWxlbWVudHMgPT09IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhpcyB0cmVlLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGlzIHRyZWUuXG4gICAgICovXG4gICAgQlNUcmVlS1YucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5FbGVtZW50cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHRyZWUgY29udGFpbnMgdGhlIHNwZWNpZmllZCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IGVsZW1lbnQgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoaXMgdHJlZSBjb250YWlucyB0aGUgc3BlY2lmaWVkIGVsZW1lbnQsXG4gICAgICogZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIEJTVHJlZUtWLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGlmICh1dGlsLmlzVW5kZWZpbmVkKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoTm9kZSh0aGlzLnJvb3QsIGVsZW1lbnQpICE9PSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9va3MgZm9yIHRoZSB2YWx1ZSB3aXRoIHRoZSBwcm92aWRlZCBzZWFyY2gga2V5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IFRoZSBrZXkgdG8gbG9vayBmb3JcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSB2YWx1ZSBmb3VuZCBvciB1bmRlZmluZWQgaWYgaXQgd2FzIG5vdCBmb3VuZC5cbiAgICAgKi9cbiAgICBCU1RyZWVLVi5wcm90b3R5cGUuc2VhcmNoID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHJldCA9IHRoaXMuc2VhcmNoTm9kZSh0aGlzLnJvb3QsIGVsZW1lbnQpO1xuICAgICAgICBpZiAocmV0ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQuZWxlbWVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBlbGVtZW50IGZyb20gdGhpcyB0cmVlIGlmIGl0IGlzIHByZXNlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGlzIHRyZWUgY29udGFpbmVkIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBCU1RyZWVLVi5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLnNlYXJjaE5vZGUodGhpcy5yb290LCBlbGVtZW50KTtcbiAgICAgICAgaWYgKG5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZU5vZGUobm9kZSk7XG4gICAgICAgIHRoaXMubkVsZW1lbnRzLS07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIG9uY2UgZm9yIGVhY2ggZWxlbWVudCBwcmVzZW50IGluIHRoaXMgdHJlZSBpblxuICAgICAqIGluLW9yZGVyLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oT2JqZWN0KToqfSBjYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlLCBpdCBpcyBpbnZva2VkIHdpdGggb25lXG4gICAgICogYXJndW1lbnQ6IHRoZSBlbGVtZW50IHZhbHVlLCB0byBicmVhayB0aGUgaXRlcmF0aW9uIHlvdSBjYW4gb3B0aW9uYWxseSByZXR1cm4gZmFsc2UuXG4gICAgICovXG4gICAgQlNUcmVlS1YucHJvdG90eXBlLmlub3JkZXJUcmF2ZXJzYWwgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5pbm9yZGVyVHJhdmVyc2FsQXV4KHRoaXMucm9vdCwgY2FsbGJhY2ssIHtcbiAgICAgICAgICAgIHN0b3A6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIG9uY2UgZm9yIGVhY2ggZWxlbWVudCBwcmVzZW50IGluIHRoaXMgdHJlZSBpbiBwcmUtb3JkZXIuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihPYmplY3QpOip9IGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGV4ZWN1dGUsIGl0IGlzIGludm9rZWQgd2l0aCBvbmVcbiAgICAgKiBhcmd1bWVudDogdGhlIGVsZW1lbnQgdmFsdWUsIHRvIGJyZWFrIHRoZSBpdGVyYXRpb24geW91IGNhbiBvcHRpb25hbGx5IHJldHVybiBmYWxzZS5cbiAgICAgKi9cbiAgICBCU1RyZWVLVi5wcm90b3R5cGUucHJlb3JkZXJUcmF2ZXJzYWwgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5wcmVvcmRlclRyYXZlcnNhbEF1eCh0aGlzLnJvb3QsIGNhbGxiYWNrLCB7XG4gICAgICAgICAgICBzdG9wOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBwcm92aWRlZCBmdW5jdGlvbiBvbmNlIGZvciBlYWNoIGVsZW1lbnQgcHJlc2VudCBpbiB0aGlzIHRyZWUgaW4gcG9zdC1vcmRlci5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKE9iamVjdCk6Kn0gY2FsbGJhY2sgZnVuY3Rpb24gdG8gZXhlY3V0ZSwgaXQgaXMgaW52b2tlZCB3aXRoIG9uZVxuICAgICAqIGFyZ3VtZW50OiB0aGUgZWxlbWVudCB2YWx1ZSwgdG8gYnJlYWsgdGhlIGl0ZXJhdGlvbiB5b3UgY2FuIG9wdGlvbmFsbHkgcmV0dXJuIGZhbHNlLlxuICAgICAqL1xuICAgIEJTVHJlZUtWLnByb3RvdHlwZS5wb3N0b3JkZXJUcmF2ZXJzYWwgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5wb3N0b3JkZXJUcmF2ZXJzYWxBdXgodGhpcy5yb290LCBjYWxsYmFjaywge1xuICAgICAgICAgICAgc3RvcDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gb25jZSBmb3IgZWFjaCBlbGVtZW50IHByZXNlbnQgaW4gdGhpcyB0cmVlIGluXG4gICAgICogbGV2ZWwtb3JkZXIuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihPYmplY3QpOip9IGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGV4ZWN1dGUsIGl0IGlzIGludm9rZWQgd2l0aCBvbmVcbiAgICAgKiBhcmd1bWVudDogdGhlIGVsZW1lbnQgdmFsdWUsIHRvIGJyZWFrIHRoZSBpdGVyYXRpb24geW91IGNhbiBvcHRpb25hbGx5IHJldHVybiBmYWxzZS5cbiAgICAgKi9cbiAgICBCU1RyZWVLVi5wcm90b3R5cGUubGV2ZWxUcmF2ZXJzYWwgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5sZXZlbFRyYXZlcnNhbEF1eCh0aGlzLnJvb3QsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1pbmltdW0gZWxlbWVudCBvZiB0aGlzIHRyZWUuXG4gICAgICogQHJldHVybiB7Kn0gdGhlIG1pbmltdW0gZWxlbWVudCBvZiB0aGlzIHRyZWUgb3IgdW5kZWZpbmVkIGlmIHRoaXMgdHJlZSBpc1xuICAgICAqIGlzIGVtcHR5LlxuICAgICAqL1xuICAgIEJTVHJlZUtWLnByb3RvdHlwZS5taW5pbXVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pc0VtcHR5KCkgfHwgdGhpcy5yb290ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm1pbmltdW1BdXgodGhpcy5yb290KS5lbGVtZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWF4aW11bSBlbGVtZW50IG9mIHRoaXMgdHJlZS5cbiAgICAgKiBAcmV0dXJuIHsqfSB0aGUgbWF4aW11bSBlbGVtZW50IG9mIHRoaXMgdHJlZSBvciB1bmRlZmluZWQgaWYgdGhpcyB0cmVlIGlzXG4gICAgICogaXMgZW1wdHkuXG4gICAgICovXG4gICAgQlNUcmVlS1YucHJvdG90eXBlLm1heGltdW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkoKSB8fCB0aGlzLnJvb3QgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubWF4aW11bUF1eCh0aGlzLnJvb3QpLmVsZW1lbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gb25jZSBmb3IgZWFjaCBlbGVtZW50IHByZXNlbnQgaW4gdGhpcyB0cmVlIGluIGlub3JkZXIuXG4gICAgICogRXF1aXZhbGVudCB0byBpbm9yZGVyVHJhdmVyc2FsLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oT2JqZWN0KToqfSBjYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlLCBpdCBpc1xuICAgICAqIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6IHRoZSBlbGVtZW50IHZhbHVlLCB0byBicmVhayB0aGUgaXRlcmF0aW9uIHlvdSBjYW5cbiAgICAgKiBvcHRpb25hbGx5IHJldHVybiBmYWxzZS5cbiAgICAgKi9cbiAgICBCU1RyZWVLVi5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmlub3JkZXJUcmF2ZXJzYWwoY2FsbGJhY2spO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGUgZWxlbWVudHMgaW4gdGhpcyB0cmVlIGluIGluLW9yZGVyLlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGUgZWxlbWVudHMgaW4gdGhpcyB0cmVlIGluIGluLW9yZGVyLlxuICAgICAqL1xuICAgIEJTVHJlZUtWLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICAgICAgdGhpcy5pbm9yZGVyVHJhdmVyc2FsKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICBhcnJheS5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBoZWlnaHQgb2YgdGhpcyB0cmVlLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gdGhlIGhlaWdodCBvZiB0aGlzIHRyZWUgb3IgLTEgaWYgaXMgZW1wdHkuXG4gICAgICovXG4gICAgQlNUcmVlS1YucHJvdG90eXBlLmhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0QXV4KHRoaXMucm9vdCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAqIEBwcml2YXRlXG4gICAgKi9cbiAgICBCU1RyZWVLVi5wcm90b3R5cGUuc2VhcmNoTm9kZSA9IGZ1bmN0aW9uIChub2RlLCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBjbXAgPSAxO1xuICAgICAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCAmJiBjbXAgIT09IDApIHtcbiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShlbGVtZW50LCBub2RlLmVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKGNtcCA8IDApIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5sZWZ0Q2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjbXAgPiAwKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHRDaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIEJTVHJlZUtWLnByb3RvdHlwZS50cmFuc3BsYW50ID0gZnVuY3Rpb24gKG4xLCBuMikge1xuICAgICAgICBpZiAobjEucGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBuMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuMSA9PT0gbjEucGFyZW50LmxlZnRDaCkge1xuICAgICAgICAgICAgbjEucGFyZW50LmxlZnRDaCA9IG4yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbjEucGFyZW50LnJpZ2h0Q2ggPSBuMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobjIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG4yLnBhcmVudCA9IG4xLnBhcmVudDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgKiBAcHJpdmF0ZVxuICAgICovXG4gICAgQlNUcmVlS1YucHJvdG90eXBlLnJlbW92ZU5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5sZWZ0Q2ggPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwbGFudChub2RlLCBub2RlLnJpZ2h0Q2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUucmlnaHRDaCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy50cmFuc3BsYW50KG5vZGUsIG5vZGUubGVmdENoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB5ID0gdGhpcy5taW5pbXVtQXV4KG5vZGUucmlnaHRDaCk7XG4gICAgICAgICAgICBpZiAoeS5wYXJlbnQgIT09IG5vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcGxhbnQoeSwgeS5yaWdodENoKTtcbiAgICAgICAgICAgICAgICB5LnJpZ2h0Q2ggPSBub2RlLnJpZ2h0Q2g7XG4gICAgICAgICAgICAgICAgeS5yaWdodENoLnBhcmVudCA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRyYW5zcGxhbnQobm9kZSwgeSk7XG4gICAgICAgICAgICB5LmxlZnRDaCA9IG5vZGUubGVmdENoO1xuICAgICAgICAgICAgeS5sZWZ0Q2gucGFyZW50ID0geTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgKiBAcHJpdmF0ZVxuICAgICovXG4gICAgQlNUcmVlS1YucHJvdG90eXBlLmlub3JkZXJUcmF2ZXJzYWxBdXggPSBmdW5jdGlvbiAobm9kZSwgY2FsbGJhY2ssIHNpZ25hbCkge1xuICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCB8fCBzaWduYWwuc3RvcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5vcmRlclRyYXZlcnNhbEF1eChub2RlLmxlZnRDaCwgY2FsbGJhY2ssIHNpZ25hbCk7XG4gICAgICAgIGlmIChzaWduYWwuc3RvcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNpZ25hbC5zdG9wID0gY2FsbGJhY2sobm9kZS5lbGVtZW50KSA9PT0gZmFsc2U7XG4gICAgICAgIGlmIChzaWduYWwuc3RvcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5vcmRlclRyYXZlcnNhbEF1eChub2RlLnJpZ2h0Q2gsIGNhbGxiYWNrLCBzaWduYWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgKiBAcHJpdmF0ZVxuICAgICovXG4gICAgQlNUcmVlS1YucHJvdG90eXBlLmxldmVsVHJhdmVyc2FsQXV4ID0gZnVuY3Rpb24gKG5vZGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBxdWV1ZSA9IG5ldyBRdWV1ZV8xLmRlZmF1bHQoKTtcbiAgICAgICAgaWYgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXVlLmVucXVldWUobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IHF1ZXVlLmRlcXVldWUoKSB8fCBudWxsO1xuICAgICAgICB3aGlsZSAobm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2sobm9kZS5lbGVtZW50KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZS5sZWZ0Q2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZS5lbnF1ZXVlKG5vZGUubGVmdENoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlLnJpZ2h0Q2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZS5lbnF1ZXVlKG5vZGUucmlnaHRDaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlID0gcXVldWUuZGVxdWV1ZSgpIHx8IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIEJTVHJlZUtWLnByb3RvdHlwZS5wcmVvcmRlclRyYXZlcnNhbEF1eCA9IGZ1bmN0aW9uIChub2RlLCBjYWxsYmFjaywgc2lnbmFsKSB7XG4gICAgICAgIGlmIChub2RlID09PSBudWxsIHx8IHNpZ25hbC5zdG9wKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2lnbmFsLnN0b3AgPSBjYWxsYmFjayhub2RlLmVsZW1lbnQpID09PSBmYWxzZTtcbiAgICAgICAgaWYgKHNpZ25hbC5zdG9wKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcmVvcmRlclRyYXZlcnNhbEF1eChub2RlLmxlZnRDaCwgY2FsbGJhY2ssIHNpZ25hbCk7XG4gICAgICAgIGlmIChzaWduYWwuc3RvcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlb3JkZXJUcmF2ZXJzYWxBdXgobm9kZS5yaWdodENoLCBjYWxsYmFjaywgc2lnbmFsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIEJTVHJlZUtWLnByb3RvdHlwZS5wb3N0b3JkZXJUcmF2ZXJzYWxBdXggPSBmdW5jdGlvbiAobm9kZSwgY2FsbGJhY2ssIHNpZ25hbCkge1xuICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCB8fCBzaWduYWwuc3RvcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9zdG9yZGVyVHJhdmVyc2FsQXV4KG5vZGUubGVmdENoLCBjYWxsYmFjaywgc2lnbmFsKTtcbiAgICAgICAgaWYgKHNpZ25hbC5zdG9wKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3N0b3JkZXJUcmF2ZXJzYWxBdXgobm9kZS5yaWdodENoLCBjYWxsYmFjaywgc2lnbmFsKTtcbiAgICAgICAgaWYgKHNpZ25hbC5zdG9wKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2lnbmFsLnN0b3AgPSBjYWxsYmFjayhub2RlLmVsZW1lbnQpID09PSBmYWxzZTtcbiAgICB9O1xuICAgIEJTVHJlZUtWLnByb3RvdHlwZS5taW5pbXVtQXV4ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgd2hpbGUgKG5vZGUgIT0gbnVsbCAmJiBub2RlLmxlZnRDaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUubGVmdENoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH07XG4gICAgQlNUcmVlS1YucHJvdG90eXBlLm1heGltdW1BdXggPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB3aGlsZSAobm9kZSAhPSBudWxsICYmIG5vZGUucmlnaHRDaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHRDaDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAgKiBAcHJpdmF0ZVxuICAgICAgKi9cbiAgICBCU1RyZWVLVi5wcm90b3R5cGUuaGVpZ2h0QXV4ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5oZWlnaHRBdXgobm9kZS5sZWZ0Q2gpLCB0aGlzLmhlaWdodEF1eChub2RlLnJpZ2h0Q2gpKSArIDE7XG4gICAgfTtcbiAgICAvKlxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIEJTVHJlZUtWLnByb3RvdHlwZS5pbnNlcnROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IG51bGw7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMucm9vdDtcbiAgICAgICAgd2hpbGUgKHBvc2l0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgY21wID0gdGhpcy5jb21wYXJlKG5vZGUuZWxlbWVudCwgcG9zaXRpb24uZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAoY21wID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjbXAgPCAwKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gcG9zaXRpb247XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbi5sZWZ0Q2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwb3NpdGlvbjtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uLnJpZ2h0Q2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIHRyZWUgaXMgZW1wdHlcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jb21wYXJlKG5vZGUuZWxlbWVudCwgcGFyZW50LmVsZW1lbnQpIDwgMCkge1xuICAgICAgICAgICAgcGFyZW50LmxlZnRDaCA9IG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnQucmlnaHRDaCA9IG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAqIEBwcml2YXRlXG4gICAgKi9cbiAgICBCU1RyZWVLVi5wcm90b3R5cGUuY3JlYXRlTm9kZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgbGVmdENoOiBudWxsLFxuICAgICAgICAgICAgcmlnaHRDaDogbnVsbCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbFxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIEJTVHJlZUtWO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJTVHJlZUtWO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QlNUcmVlS1YuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTGlua2VkTGlzdF8xID0gcmVxdWlyZShcIi4vTGlua2VkTGlzdFwiKTtcbnZhciBRdWV1ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGVtcHR5IHF1ZXVlLlxuICAgICAqIEBjbGFzcyBBIHF1ZXVlIGlzIGEgRmlyc3QtSW4tRmlyc3QtT3V0IChGSUZPKSBkYXRhIHN0cnVjdHVyZSwgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBhZGRlZCB0byB0aGUgcXVldWUgd2lsbCBiZSB0aGUgZmlyc3Qgb25lIHRvIGJlIHJlbW92ZWQuIFRoaXNcbiAgICAgKiBpbXBsZW1lbnRhdGlvbiB1c2VzIGEgbGlua2VkIGxpc3QgYXMgYSBjb250YWluZXIuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gUXVldWUoKSB7XG4gICAgICAgIHRoaXMubGlzdCA9IG5ldyBMaW5rZWRMaXN0XzEuZGVmYXVsdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHRoZSBzcGVjaWZpZWQgZWxlbWVudCBpbnRvIHRoZSBlbmQgb2YgdGhpcyBxdWV1ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbSB0aGUgZWxlbWVudCB0byBpbnNlcnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgZWxlbWVudCB3YXMgaW5zZXJ0ZWQsIG9yIGZhbHNlIGlmIGl0IGlzIHVuZGVmaW5lZC5cbiAgICAgKi9cbiAgICBRdWV1ZS5wcm90b3R5cGUuZW5xdWV1ZSA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3QuYWRkKGVsZW0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgaW50byB0aGUgZW5kIG9mIHRoaXMgcXVldWUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVsZW0gdGhlIGVsZW1lbnQgdG8gaW5zZXJ0LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIGVsZW1lbnQgd2FzIGluc2VydGVkLCBvciBmYWxzZSBpZiBpdCBpcyB1bmRlZmluZWQuXG4gICAgICovXG4gICAgUXVldWUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3QuYWRkKGVsZW0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGFuZCByZW1vdmVzIHRoZSBoZWFkIG9mIHRoaXMgcXVldWUuXG4gICAgICogQHJldHVybiB7Kn0gdGhlIGhlYWQgb2YgdGhpcyBxdWV1ZSwgb3IgdW5kZWZpbmVkIGlmIHRoaXMgcXVldWUgaXMgZW1wdHkuXG4gICAgICovXG4gICAgUXVldWUucHJvdG90eXBlLmRlcXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmxpc3Quc2l6ZSgpICE9PSAwKSB7XG4gICAgICAgICAgICB2YXIgZWwgPSB0aGlzLmxpc3QuZmlyc3QoKTtcbiAgICAgICAgICAgIHRoaXMubGlzdC5yZW1vdmVFbGVtZW50QXRJbmRleCgwKTtcbiAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzLCBidXQgZG9lcyBub3QgcmVtb3ZlLCB0aGUgaGVhZCBvZiB0aGlzIHF1ZXVlLlxuICAgICAqIEByZXR1cm4geyp9IHRoZSBoZWFkIG9mIHRoaXMgcXVldWUsIG9yIHVuZGVmaW5lZCBpZiB0aGlzIHF1ZXVlIGlzIGVtcHR5LlxuICAgICAqL1xuICAgIFF1ZXVlLnByb3RvdHlwZS5wZWVrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5saXN0LnNpemUoKSAhPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdC5maXJzdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhpcyBxdWV1ZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhpcyBxdWV1ZS5cbiAgICAgKi9cbiAgICBRdWV1ZS5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdC5zaXplKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBxdWV1ZSBjb250YWlucyB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAgICogPHA+SWYgdGhlIGVsZW1lbnRzIGluc2lkZSB0aGlzIHN0YWNrIGFyZVxuICAgICAqIG5vdCBjb21wYXJhYmxlIHdpdGggdGhlID09PSBvcGVyYXRvciwgYSBjdXN0b20gZXF1YWxzIGZ1bmN0aW9uIHNob3VsZCBiZVxuICAgICAqIHByb3ZpZGVkIHRvIHBlcmZvcm0gc2VhcmNoZXMsIHRoZSBmdW5jdGlvbiBtdXN0IHJlY2VpdmUgdHdvIGFyZ3VtZW50cyBhbmRcbiAgICAgKiByZXR1cm4gdHJ1ZSBpZiB0aGV5IGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLiBFeGFtcGxlOjwvcD5cbiAgICAgKlxuICAgICAqIDxwcmU+XG4gICAgICogY29uc3QgcGV0c0FyZUVxdWFsQnlOYW1lIChwZXQxLCBwZXQyKSB7XG4gICAgICogIHJldHVybiBwZXQxLm5hbWUgPT09IHBldDIubmFtZTtcbiAgICAgKiB9XG4gICAgICogPC9wcmU+XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVsZW0gZWxlbWVudCB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oT2JqZWN0LE9iamVjdCk6Ym9vbGVhbj19IGVxdWFsc0Z1bmN0aW9uIG9wdGlvbmFsXG4gICAgICogZnVuY3Rpb24gdG8gY2hlY2sgaWYgdHdvIGVsZW1lbnRzIGFyZSBlcXVhbC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoaXMgcXVldWUgY29udGFpbnMgdGhlIHNwZWNpZmllZCBlbGVtZW50LFxuICAgICAqIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBRdWV1ZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoZWxlbSwgZXF1YWxzRnVuY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdC5jb250YWlucyhlbGVtLCBlcXVhbHNGdW5jdGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhpcyBxdWV1ZSBpcyBlbXB0eS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGFuZCBvbmx5IGlmIHRoaXMgcXVldWUgY29udGFpbnMgbm8gaXRlbXM7IGZhbHNlXG4gICAgICogb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFF1ZXVlLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saXN0LnNpemUoKSA8PSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgb2YgdGhlIGVsZW1lbnRzIGZyb20gdGhpcyBxdWV1ZS5cbiAgICAgKi9cbiAgICBRdWV1ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGlzdC5jbGVhcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIG9uY2UgZm9yIGVhY2ggZWxlbWVudCBwcmVzZW50IGluIHRoaXMgcXVldWUgaW5cbiAgICAgKiBGSUZPIG9yZGVyLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oT2JqZWN0KToqfSBjYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlLCBpdCBpc1xuICAgICAqIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6IHRoZSBlbGVtZW50IHZhbHVlLCB0byBicmVhayB0aGUgaXRlcmF0aW9uIHlvdSBjYW5cbiAgICAgKiBvcHRpb25hbGx5IHJldHVybiBmYWxzZS5cbiAgICAgKi9cbiAgICBRdWV1ZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmxpc3QuZm9yRWFjaChjYWxsYmFjayk7XG4gICAgfTtcbiAgICByZXR1cm4gUXVldWU7XG59KCkpOyAvLyBFbmQgb2YgcXVldWVcbmV4cG9ydHMuZGVmYXVsdCA9IFF1ZXVlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UXVldWUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY29sbGVjdGlvbnMgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xudmFyIGFycmF5cyA9IHJlcXVpcmUoXCIuL2FycmF5c1wiKTtcbnZhciBIZWFwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gZW1wdHkgSGVhcC5cbiAgICAgKiBAY2xhc3NcbiAgICAgKiA8cD5BIGhlYXAgaXMgYSBiaW5hcnkgdHJlZSwgd2hlcmUgdGhlIG5vZGVzIG1haW50YWluIHRoZSBoZWFwIHByb3BlcnR5OlxuICAgICAqIGVhY2ggbm9kZSBpcyBzbWFsbGVyIHRoYW4gZWFjaCBvZiBpdHMgY2hpbGRyZW4gYW5kIHRoZXJlZm9yZSBhIE1pbkhlYXBcbiAgICAgKiBUaGlzIGltcGxlbWVudGF0aW9uIHVzZXMgYW4gYXJyYXkgdG8gc3RvcmUgZWxlbWVudHMuPC9wPlxuICAgICAqIDxwPklmIHRoZSBpbnNlcnRlZCBlbGVtZW50cyBhcmUgY3VzdG9tIG9iamVjdHMgYSBjb21wYXJlIGZ1bmN0aW9uIG11c3QgYmUgcHJvdmlkZWQsXG4gICAgICogIGF0IGNvbnN0cnVjdGlvbiB0aW1lLCBvdGhlcndpc2UgdGhlIDw9LCA9PT0gYW5kID49IG9wZXJhdG9ycyBhcmVcbiAgICAgKiB1c2VkIHRvIGNvbXBhcmUgZWxlbWVudHMuIEV4YW1wbGU6PC9wPlxuICAgICAqXG4gICAgICogPHByZT5cbiAgICAgKiBmdW5jdGlvbiBjb21wYXJlKGEsIGIpIHtcbiAgICAgKiAgaWYgKGEgaXMgbGVzcyB0aGFuIGIgYnkgc29tZSBvcmRlcmluZyBjcml0ZXJpb24pIHtcbiAgICAgKiAgICAgcmV0dXJuIC0xO1xuICAgICAqICB9IGlmIChhIGlzIGdyZWF0ZXIgdGhhbiBiIGJ5IHRoZSBvcmRlcmluZyBjcml0ZXJpb24pIHtcbiAgICAgKiAgICAgcmV0dXJuIDE7XG4gICAgICogIH1cbiAgICAgKiAgLy8gYSBtdXN0IGJlIGVxdWFsIHRvIGJcbiAgICAgKiAgcmV0dXJuIDA7XG4gICAgICogfVxuICAgICAqIDwvcHJlPlxuICAgICAqXG4gICAgICogPHA+SWYgYSBNYXgtSGVhcCBpcyB3YW50ZWQgKGdyZWF0ZXIgZWxlbWVudHMgb24gdG9wKSB5b3UgY2FuIGEgcHJvdmlkZSBhXG4gICAgICogcmV2ZXJzZSBjb21wYXJlIGZ1bmN0aW9uIHRvIGFjY29tcGxpc2ggdGhhdCBiZWhhdmlvci4gRXhhbXBsZTo8L3A+XG4gICAgICpcbiAgICAgKiA8cHJlPlxuICAgICAqIGZ1bmN0aW9uIHJldmVyc2VDb21wYXJlKGEsIGIpIHtcbiAgICAgKiAgaWYgKGEgaXMgbGVzcyB0aGFuIGIgYnkgc29tZSBvcmRlcmluZyBjcml0ZXJpb24pIHtcbiAgICAgKiAgICAgcmV0dXJuIDE7XG4gICAgICogIH0gaWYgKGEgaXMgZ3JlYXRlciB0aGFuIGIgYnkgdGhlIG9yZGVyaW5nIGNyaXRlcmlvbikge1xuICAgICAqICAgICByZXR1cm4gLTE7XG4gICAgICogIH1cbiAgICAgKiAgLy8gYSBtdXN0IGJlIGVxdWFsIHRvIGJcbiAgICAgKiAgcmV0dXJuIDA7XG4gICAgICogfVxuICAgICAqIDwvcHJlPlxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihPYmplY3QsT2JqZWN0KTpudW1iZXI9fSBjb21wYXJlRnVuY3Rpb24gb3B0aW9uYWxcbiAgICAgKiBmdW5jdGlvbiB1c2VkIHRvIGNvbXBhcmUgdHdvIGVsZW1lbnRzLiBNdXN0IHJldHVybiBhIG5lZ2F0aXZlIGludGVnZXIsXG4gICAgICogemVybywgb3IgYSBwb3NpdGl2ZSBpbnRlZ2VyIGFzIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBsZXNzIHRoYW4sIGVxdWFsIHRvLFxuICAgICAqIG9yIGdyZWF0ZXIgdGhhbiB0aGUgc2Vjb25kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEhlYXAoY29tcGFyZUZ1bmN0aW9uKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBcnJheSB1c2VkIHRvIHN0b3JlIHRoZSBlbGVtZW50cyBvZiB0aGUgaGVhcC5cbiAgICAgICAgICogQHR5cGUge0FycmF5LjxPYmplY3Q+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgICAgIHRoaXMuY29tcGFyZSA9IGNvbXBhcmVGdW5jdGlvbiB8fCBjb2xsZWN0aW9ucy5kZWZhdWx0Q29tcGFyZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxlZnQgY2hpbGQgb2YgdGhlIG5vZGUgYXQgdGhlIGdpdmVuIGluZGV4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBub2RlSW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIGdldCB0aGUgbGVmdCBjaGlsZFxuICAgICAqIGZvci5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgbGVmdCBjaGlsZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEhlYXAucHJvdG90eXBlLmxlZnRDaGlsZEluZGV4ID0gZnVuY3Rpb24gKG5vZGVJbmRleCkge1xuICAgICAgICByZXR1cm4gKDIgKiBub2RlSW5kZXgpICsgMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSByaWdodCBjaGlsZCBvZiB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG5vZGVJbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgdG8gZ2V0IHRoZSByaWdodCBjaGlsZFxuICAgICAqIGZvci5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgcmlnaHQgY2hpbGQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBIZWFwLnByb3RvdHlwZS5yaWdodENoaWxkSW5kZXggPSBmdW5jdGlvbiAobm9kZUluZGV4KSB7XG4gICAgICAgIHJldHVybiAoMiAqIG5vZGVJbmRleCkgKyAyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIHBhcmVudCBvZiB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG5vZGVJbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgdG8gZ2V0IHRoZSBwYXJlbnQgZm9yLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSBwYXJlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBIZWFwLnByb3RvdHlwZS5wYXJlbnRJbmRleCA9IGZ1bmN0aW9uIChub2RlSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKG5vZGVJbmRleCAtIDEpIC8gMik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgc21hbGxlciBjaGlsZCBub2RlIChpZiBpdCBleGlzdHMpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0Q2hpbGQgbGVmdCBjaGlsZCBpbmRleC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmlnaHRDaGlsZCByaWdodCBjaGlsZCBpbmRleC5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBpbmRleCB3aXRoIHRoZSBtaW5pbXVtIHZhbHVlIG9yIC0xIGlmIGl0IGRvZXNuJ3RcbiAgICAgKiBleGlzdHMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBIZWFwLnByb3RvdHlwZS5taW5JbmRleCA9IGZ1bmN0aW9uIChsZWZ0Q2hpbGQsIHJpZ2h0Q2hpbGQpIHtcbiAgICAgICAgaWYgKHJpZ2h0Q2hpbGQgPj0gdGhpcy5kYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGxlZnRDaGlsZCA+PSB0aGlzLmRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZnRDaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbXBhcmUodGhpcy5kYXRhW2xlZnRDaGlsZF0sIHRoaXMuZGF0YVtyaWdodENoaWxkXSkgPD0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0Q2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmlnaHRDaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTW92ZXMgdGhlIG5vZGUgYXQgdGhlIGdpdmVuIGluZGV4IHVwIHRvIGl0cyBwcm9wZXIgcGxhY2UgaW4gdGhlIGhlYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBtb3ZlIHVwLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSGVhcC5wcm90b3R5cGUuc2lmdFVwID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudEluZGV4KGluZGV4KTtcbiAgICAgICAgd2hpbGUgKGluZGV4ID4gMCAmJiB0aGlzLmNvbXBhcmUodGhpcy5kYXRhW3BhcmVudF0sIHRoaXMuZGF0YVtpbmRleF0pID4gMCkge1xuICAgICAgICAgICAgYXJyYXlzLnN3YXAodGhpcy5kYXRhLCBwYXJlbnQsIGluZGV4KTtcbiAgICAgICAgICAgIGluZGV4ID0gcGFyZW50O1xuICAgICAgICAgICAgcGFyZW50ID0gdGhpcy5wYXJlbnRJbmRleChpbmRleCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleCBkb3duIHRvIGl0cyBwcm9wZXIgcGxhY2UgaW4gdGhlIGhlYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG5vZGVJbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgdG8gbW92ZSBkb3duLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSGVhcC5wcm90b3R5cGUuc2lmdERvd24gPSBmdW5jdGlvbiAobm9kZUluZGV4KSB7XG4gICAgICAgIC8vc21hbGxlciBjaGlsZCBpbmRleFxuICAgICAgICB2YXIgbWluID0gdGhpcy5taW5JbmRleCh0aGlzLmxlZnRDaGlsZEluZGV4KG5vZGVJbmRleCksIHRoaXMucmlnaHRDaGlsZEluZGV4KG5vZGVJbmRleCkpO1xuICAgICAgICB3aGlsZSAobWluID49IDAgJiYgdGhpcy5jb21wYXJlKHRoaXMuZGF0YVtub2RlSW5kZXhdLCB0aGlzLmRhdGFbbWluXSkgPiAwKSB7XG4gICAgICAgICAgICBhcnJheXMuc3dhcCh0aGlzLmRhdGEsIG1pbiwgbm9kZUluZGV4KTtcbiAgICAgICAgICAgIG5vZGVJbmRleCA9IG1pbjtcbiAgICAgICAgICAgIG1pbiA9IHRoaXMubWluSW5kZXgodGhpcy5sZWZ0Q2hpbGRJbmRleChub2RlSW5kZXgpLCB0aGlzLnJpZ2h0Q2hpbGRJbmRleChub2RlSW5kZXgpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGJ1dCBkb2VzIG5vdCByZW1vdmUgdGhlIHJvb3QgZWxlbWVudCBvZiB0aGlzIGhlYXAuXG4gICAgICogQHJldHVybiB7Kn0gVGhlIHZhbHVlIGF0IHRoZSByb290IG9mIHRoZSBoZWFwLiBSZXR1cm5zIHVuZGVmaW5lZCBpZiB0aGVcbiAgICAgKiBoZWFwIGlzIGVtcHR5LlxuICAgICAqL1xuICAgIEhlYXAucHJvdG90eXBlLnBlZWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVswXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIGdpdmVuIGVsZW1lbnQgaW50byB0aGUgaGVhcC5cbiAgICAgKiBAcGFyYW0geyp9IGVsZW1lbnQgdGhlIGVsZW1lbnQuXG4gICAgICogQHJldHVybiB0cnVlIGlmIHRoZSBlbGVtZW50IHdhcyBhZGRlZCBvciBmYWxzIGlmIGl0IGlzIHVuZGVmaW5lZC5cbiAgICAgKi9cbiAgICBIZWFwLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBpZiAoY29sbGVjdGlvbnMuaXNVbmRlZmluZWQoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRhdGEucHVzaChlbGVtZW50KTtcbiAgICAgICAgdGhpcy5zaWZ0VXAodGhpcy5kYXRhLmxlbmd0aCAtIDEpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbmQgcmVtb3ZlcyB0aGUgcm9vdCBlbGVtZW50IG9mIHRoaXMgaGVhcC5cbiAgICAgKiBAcmV0dXJuIHsqfSBUaGUgdmFsdWUgcmVtb3ZlZCBmcm9tIHRoZSByb290IG9mIHRoZSBoZWFwLiBSZXR1cm5zXG4gICAgICogdW5kZWZpbmVkIGlmIHRoZSBoZWFwIGlzIGVtcHR5LlxuICAgICAqL1xuICAgIEhlYXAucHJvdG90eXBlLnJlbW92ZVJvb3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IHRoaXMuZGF0YVswXTtcbiAgICAgICAgICAgIHRoaXMuZGF0YVswXSA9IHRoaXMuZGF0YVt0aGlzLmRhdGEubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB0aGlzLmRhdGEuc3BsaWNlKHRoaXMuZGF0YS5sZW5ndGggLSAxLCAxKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2lmdERvd24oMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBoZWFwIGNvbnRhaW5zIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCBlbGVtZW50IHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGlzIEhlYXAgY29udGFpbnMgdGhlIHNwZWNpZmllZCBlbGVtZW50LCBmYWxzZVxuICAgICAqIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBIZWFwLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHZhciBlcXVGID0gY29sbGVjdGlvbnMuY29tcGFyZVRvRXF1YWxzKHRoaXMuY29tcGFyZSk7XG4gICAgICAgIHJldHVybiBhcnJheXMuY29udGFpbnModGhpcy5kYXRhLCBlbGVtZW50LCBlcXVGKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGlzIGhlYXAuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoaXMgaGVhcC5cbiAgICAgKi9cbiAgICBIZWFwLnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGlzIGhlYXAgaXMgZW1wdHkuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBhbmQgb25seSBpZiB0aGlzIGhlYXAgY29udGFpbnMgbm8gaXRlbXM7IGZhbHNlXG4gICAgICogb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIEhlYXAucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoIDw9IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBvZiB0aGUgZWxlbWVudHMgZnJvbSB0aGlzIGhlYXAuXG4gICAgICovXG4gICAgSGVhcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGF0YS5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIG9uY2UgZm9yIGVhY2ggZWxlbWVudCBwcmVzZW50IGluIHRoaXMgaGVhcCBpblxuICAgICAqIG5vIHBhcnRpY3VsYXIgb3JkZXIuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihPYmplY3QpOip9IGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGV4ZWN1dGUsIGl0IGlzXG4gICAgICogaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogdGhlIGVsZW1lbnQgdmFsdWUsIHRvIGJyZWFrIHRoZSBpdGVyYXRpb24geW91IGNhblxuICAgICAqIG9wdGlvbmFsbHkgcmV0dXJuIGZhbHNlLlxuICAgICAqL1xuICAgIEhlYXAucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgYXJyYXlzLmZvckVhY2godGhpcy5kYXRhLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICByZXR1cm4gSGVhcDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBIZWFwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SGVhcC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIERpY3Rpb25hcnlfMSA9IHJlcXVpcmUoXCIuL0RpY3Rpb25hcnlcIik7XG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG52YXIgRmFjdG9yeURpY3Rpb25hcnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZhY3RvcnlEaWN0aW9uYXJ5LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gZW1wdHkgZGljdGlvbmFyeS5cbiAgICAgKiBAY2xhc3MgPHA+RGljdGlvbmFyaWVzIG1hcCBrZXlzIHRvIHZhbHVlczsgZWFjaCBrZXkgY2FuIG1hcCB0byBhdCBtb3N0IG9uZSB2YWx1ZS5cbiAgICAgKiBUaGlzIGltcGxlbWVudGF0aW9uIGFjY2VwdHMgYW55IGtpbmQgb2Ygb2JqZWN0cyBhcyBrZXlzLjwvcD5cbiAgICAgKlxuICAgICAqIDxwPlRoZSBkZWZhdWx0IGZhY3RvcnkgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIG5ldyBvYmplY3Qgb2YgdGhlIHByb3ZpZGVkXG4gICAgICogdHlwZS4gRXhhbXBsZTo8L3A+XG4gICAgICogPHByZT5cbiAgICAgKiBmdW5jdGlvbiBwZXRGYWN0b3J5KCkge1xuICAgICAqICByZXR1cm4gbmV3IFBldCgpO1xuICAgICAqIH1cbiAgICAgKiA8L3ByZT5cbiAgICAgKlxuICAgICAqIDxwPklmIHRoZSBrZXlzIGFyZSBjdXN0b20gb2JqZWN0cyBhIGZ1bmN0aW9uIHdoaWNoIGNvbnZlcnRzIGtleXMgdG8gdW5pcXVlXG4gICAgICogc3RyaW5ncyBtdXN0IGJlIHByb3ZpZGVkLiBFeGFtcGxlOjwvcD5cbiAgICAgKiA8cHJlPlxuICAgICAqIGZ1bmN0aW9uIHBldFRvU3RyaW5nKHBldCkge1xuICAgICAqICByZXR1cm4gcGV0Lm5hbWU7XG4gICAgICogfVxuICAgICAqIDwvcHJlPlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKTpWPX0gZGVmYXVsdEZhY3RvcnlGdW5jdGlvbiBmdW5jdGlvbiB1c2VkIHRvIGNyZWF0ZSBhXG4gICAgICogZGVmYXVsdCBvYmplY3QuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihPYmplY3QpOnN0cmluZz19IHRvU3RyRnVuY3Rpb24gb3B0aW9uYWwgZnVuY3Rpb24gdXNlZFxuICAgICAqIHRvIGNvbnZlcnQga2V5cyB0byBzdHJpbmdzLiBJZiB0aGUga2V5cyBhcmVuJ3Qgc3RyaW5ncyBvciBpZiB0b1N0cmluZygpXG4gICAgICogaXMgbm90IGFwcHJvcHJpYXRlLCBhIGN1c3RvbSBmdW5jdGlvbiB3aGljaCByZWNlaXZlcyBhIGtleSBhbmQgcmV0dXJucyBhXG4gICAgICogdW5pcXVlIHN0cmluZyBtdXN0IGJlIHByb3ZpZGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZhY3RvcnlEaWN0aW9uYXJ5KGRlZmF1bHRGYWN0b3J5RnVuY3Rpb24sIHRvU3RyRnVuY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdG9TdHJGdW5jdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVmYXVsdEZhY3RvcnlGdW5jdGlvbiA9IGRlZmF1bHRGYWN0b3J5RnVuY3Rpb247XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXNzb2NpYXRlcyB0aGUgc3BlY2lmaWVkIGRlZmF1bHQgdmFsdWUgd2l0aCB0aGUgc3BlY2lmaWVkIGtleSBpbiB0aGlzIGRpY3Rpb25hcnksXG4gICAgICogaWYgaXQgZGlkbid0IGNvbnRhaW4gdGhlIGtleSB5ZXQuIElmIHRoZSBrZXkgZXhpc3RlZCwgdGhlIGV4aXN0aW5nIHZhbHVlIHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0ga2V5IGtleSB3aXRoIHdoaWNoIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgdG8gYmVcbiAgICAgKiBhc3NvY2lhdGVkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0VmFsdWUgZGVmYXVsdCB2YWx1ZSB0byBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIHNwZWNpZmllZCBrZXkuXG4gICAgICogQHJldHVybiB7Kn0gcHJldmlvdXMgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQga2V5LCBvciB0aGUgZGVmYXVsdCB2YWx1ZSxcbiAgICAgKiBpZiB0aGUga2V5IGRpZG4ndCBleGlzdCB5ZXQuXG4gICAgICovXG4gICAgRmFjdG9yeURpY3Rpb25hcnkucHJvdG90eXBlLnNldERlZmF1bHQgPSBmdW5jdGlvbiAoa2V5LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IF9zdXBlci5wcm90b3R5cGUuZ2V0VmFsdWUuY2FsbCh0aGlzLCBrZXkpO1xuICAgICAgICBpZiAodXRpbC5pc1VuZGVmaW5lZChjdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLnNldFZhbHVlKGtleSwgZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRWYWx1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIHRvIHdoaWNoIHRoaXMgZGljdGlvbmFyeSBtYXBzIHRoZSBzcGVjaWZpZWQga2V5LlxuICAgICAqIFJldHVybnMgYSBkZWZhdWx0IHZhbHVlIGNyZWF0ZWQgYnkgdGhlIGZhY3RvcnkgcGFzc2VkIGluIHRoZSBjb25zdHJ1Y3RvcixcbiAgICAgKiBpZiB0aGlzIGRpY3Rpb25hcnkgY29udGFpbnMgbm8gbWFwcGluZyBmb3IgdGhpcyBrZXkuIFRoZSBtaXNzaW5nIGtleSB3aWxsXG4gICAgICogYXV0b21hdGljYWxseSBiZSBhZGRlZCB0byB0aGUgZGljdGlvbmFyeS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0ga2V5IGtleSB3aG9zZSBhc3NvY2lhdGVkIHZhbHVlIGlzIHRvIGJlIHJldHVybmVkLlxuICAgICAqIEByZXR1cm4geyp9IHRoZSB2YWx1ZSB0byB3aGljaCB0aGlzIGRpY3Rpb25hcnkgbWFwcyB0aGUgc3BlY2lmaWVkIGtleSBvclxuICAgICAqIGEgZGVmYXVsdCB2YWx1ZSBpZiB0aGUgbWFwIGNvbnRhaW5zIG5vIG1hcHBpbmcgZm9yIHRoaXMga2V5LlxuICAgICAqL1xuICAgIEZhY3RvcnlEaWN0aW9uYXJ5LnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RGVmYXVsdChrZXksIHRoaXMuZGVmYXVsdEZhY3RvcnlGdW5jdGlvbigpKTtcbiAgICB9O1xuICAgIHJldHVybiBGYWN0b3J5RGljdGlvbmFyeTtcbn0oRGljdGlvbmFyeV8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEZhY3RvcnlEaWN0aW9uYXJ5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmFjdG9yeURpY3Rpb25hcnkuanMubWFwIiwiaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAncGl4aS5qcydcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gJy4vR2FtZU9iamVjdCdcbmltcG9ydCBGdWxsTmFtZSBmcm9tICcuL0Z1bGxOYW1lJ1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29udGFpbmVyQWN0b3I8VFN0YWdlPiBleHRlbmRzIENvbnRhaW5lclxuICBpbXBsZW1lbnRzIEdhbWVPYmplY3Q8VFN0YWdlPiB7XG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IGZ1bGxOYW1lOiBGdWxsTmFtZSkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLm5hbWUgPSBmdWxsTmFtZS50b1N0cmluZygpXG4gIH1cblxuICBhYnN0cmFjdCB1cGRhdGUoZGVsdGFUaW1lOiBudW1iZXIsIHN0YWdlOiBUU3RhZ2UpOiB2b2lkXG59XG4iLCJpbXBvcnQgeyBTcHJpdGUsIFRleHQsIFRleHRTdHlsZSwgQ29udGFpbmVyIH0gZnJvbSAncGl4aS5qcydcbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi4vZW5naW5lL1BsYXllcidcbmltcG9ydCBCaXJkIGZyb20gJy4vQmlyZCdcbmltcG9ydCBXb3JsZCBmcm9tICcuL1dvcmxkJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFNjb3JlTGFiZWwge1xuICByZW5kZXJTY29yZShwbGF5ZXI6IFBsYXllcik6IHZvaWRcbn1cblxuZXhwb3J0IGNsYXNzIEF0dGFjaGVkU2NvcmVMYWJlbCBleHRlbmRzIFRleHQgaW1wbGVtZW50cyBTY29yZUxhYmVsIHtcbiAgY29uc3RydWN0b3IoYmlyZDogQmlyZCkge1xuICAgIGNvbnN0IHN0eWxlID0gbmV3IFRleHRTdHlsZSh7XG4gICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgICAgZm9udFNpemU6IDE2LFxuICAgICAgZmlsbDogWycjZWZlZWFjJywgJyNkNmQzMGUnXSxcbiAgICAgIHN0cm9rZTogJyMzMzMzMzMnLFxuICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAxXG4gICAgfSlcblxuICAgIHN1cGVyKCcnLCBzdHlsZSlcblxuICAgIHRoaXMuYW5jaG9yLnNldCgwLjUsIDApXG4gICAgdGhpcy54ID0gMFxuICAgIHRoaXMueSA9IGJpcmQuYmlyZFNwcml0ZS5oZWlnaHQgLyAyICsgMTBcbiAgICBiaXJkLmFkZENoaWxkKHRoaXMpXG4gIH1cblxuICByZW5kZXJTY29yZShwbGF5ZXI6IFBsYXllcik6IHZvaWQge1xuICAgIGNvbnN0IHsgc2NvcmUsIHBpcGVDb3VudCwgZGVhdGggfSA9IHBsYXllclxuICAgIHRoaXMudGV4dCA9IGBTOiAke01hdGgucm91bmQoc2NvcmUpfVxcblA6ICR7cGlwZUNvdW50fSBMOiAke2RlYXRofWBcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRml4ZWRTY29yZUxhYmVsIGV4dGVuZHMgQ29udGFpbmVyIGltcGxlbWVudHMgU2NvcmVMYWJlbCB7XG4gIHJlYWRvbmx5IGxlZnRMYWJlbDogVGV4dFxuICByZWFkb25seSByaWdodExhYmVsOiBUZXh0XG5cbiAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgc3VwZXIoKVxuXG4gICAgdGhpcy54ID0gMFxuICAgIHRoaXMueSA9IDBcblxuICAgIHRoaXMubGVmdExhYmVsID0gbmV3IFRleHQoXG4gICAgICAnJyxcbiAgICAgIG5ldyBUZXh0U3R5bGUoe1xuICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgICAgICBmb250U2l6ZTogMTYsXG4gICAgICAgIGZpbGw6IFsnI2VmZWVhYycsICcjZDZkMzBlJ10sXG4gICAgICAgIHN0cm9rZTogJyMzMzMzMzMnLFxuICAgICAgICBzdHJva2VUaGlja25lc3M6IDFcbiAgICAgIH0pXG4gICAgKVxuXG4gICAgdGhpcy5sZWZ0TGFiZWwuYW5jaG9yLnNldCgwLCAwKVxuICAgIHRoaXMubGVmdExhYmVsLnggPSA1XG4gICAgdGhpcy5sZWZ0TGFiZWwueSA9IDVcbiAgICB0aGlzLmFkZENoaWxkKHRoaXMubGVmdExhYmVsKVxuXG4gICAgdGhpcy5yaWdodExhYmVsID0gbmV3IFRleHQoXG4gICAgICAnJyxcbiAgICAgIG5ldyBUZXh0U3R5bGUoe1xuICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgICAgICBmb250U2l6ZTogMTYsXG4gICAgICAgIGZpbGw6IFsnI2JjZmZmOScsICcjMGFjZWJjJ10sXG4gICAgICAgIHN0cm9rZTogJyMzMzMzMzMnLFxuICAgICAgICBzdHJva2VUaGlja25lc3M6IDFcbiAgICAgIH0pXG4gICAgKVxuXG4gICAgdGhpcy5yaWdodExhYmVsLmFuY2hvci5zZXQoMSwgMClcbiAgICB0aGlzLnJpZ2h0TGFiZWwueCA9IHdvcmxkLnNjcmVlbi53aWR0aCAtIDVcbiAgICB0aGlzLnJpZ2h0TGFiZWwueSA9IDVcbiAgICB0aGlzLmFkZENoaWxkKHRoaXMucmlnaHRMYWJlbClcbiAgfVxuXG4gIHJlbmRlclNjb3JlKHBsYXllcjogUGxheWVyKTogdm9pZCB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZSxcbiAgICAgIHNjb3JlLFxuICAgICAgcGlwZUNvdW50LFxuICAgICAgZGlzdGFuY2UsXG4gICAgICBkZWF0aCxcbiAgICAgIGJlc3RTY29yZSxcbiAgICAgIGJlc3REaXN0YW5jZSxcbiAgICAgIGJlc3RQaXBlQ291bnRcbiAgICB9ID0gcGxheWVyXG5cbiAgICB0aGlzLmxlZnRMYWJlbC50ZXh0ID0gW1xuICAgICAgYCAgICAke25hbWV9IFske2RlYXRofSBnZW5dYCxcbiAgICAgIGAgICAgICAgIFNjb3JlOiAke01hdGgucm91bmQoc2NvcmUpfWAsXG4gICAgICBgICAgICAgICAgUGlwZTogJHtwaXBlQ291bnR9YCxcbiAgICAgIGAgICAgIERpc3RhbmNlOiAke01hdGgucm91bmQoZGlzdGFuY2UpfWBcbiAgICBdLmpvaW4oJ1xcbicpXG5cbiAgICB0aGlzLnJpZ2h0TGFiZWwudGV4dCA9IFtcbiAgICAgIGAgICBCZXN0IFNjb3JlOiAke01hdGgucm91bmQoYmVzdFNjb3JlKX1gLFxuICAgICAgYCAgICBCZXN0IFBpcGU6ICR7YmVzdFBpcGVDb3VudH1gLFxuICAgICAgYEJlc3QgRGlzdGFuY2U6ICR7TWF0aC5yb3VuZChiZXN0RGlzdGFuY2UpfWBcbiAgICBdLmpvaW4oJ1xcbicpXG4gIH1cbn1cbiIsImltcG9ydCAnLi9wYXRjaGVzJ1xuXG5pbXBvcnQgeyBBcHBsaWNhdGlvbiB9IGZyb20gJ3BpeGkuanMnXG5jb25zdCBhcHAgPSBuZXcgQXBwbGljYXRpb24oeyB3aWR0aDogODAwLCBoZWlnaHQ6IDYwMCB9KVxuXG5jb25zdCB7IGxvYWRlciB9ID0gYXBwXG5cbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpXG5cbmltcG9ydCBiaXJkSW1hZ2UgZnJvbSAnLi93b3JsZC9iaXJkLnBuZydcbmltcG9ydCB0b3BQaXBlSW1hZ2UgZnJvbSAnLi93b3JsZC90b3BQaXBlLnBuZydcbmltcG9ydCBib3R0b21QaXBlSW1hZ2UgZnJvbSAnLi93b3JsZC9ib3R0b21QaXBlLnBuZydcblxubG9hZGVyXG4gIC5hZGQoeyBuYW1lOiAnYmlyZCcsIHVybDogYmlyZEltYWdlIH0pXG4gIC5hZGQoeyBuYW1lOiAndG9wUGlwZScsIHVybDogdG9wUGlwZUltYWdlIH0pXG4gIC5hZGQoeyBuYW1lOiAnYm90dG9tUGlwZScsIHVybDogYm90dG9tUGlwZUltYWdlIH0pXG5cbmltcG9ydCBDb25zb2xlT2JzZXJ2ZXIgZnJvbSAnLi9vYnNlcnZlci9jb25zb2xlT2JzZXJ2ZXInXG5uZXcgQ29uc29sZU9ic2VydmVyKClcblxuaW1wb3J0IEdhbWUgZnJvbSAnLi9lbmdpbmUvR2FtZSdcblxuY29uc3QgZ2FtZSA9IG5ldyBHYW1lKGFwcClcblxuZ2FtZS5ydW4oKVxuIiwiaW1wb3J0ICcuL1JlY3RhbmdsZS1vdmVybGFwcydcbiIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcydcblxuZGVjbGFyZSBtb2R1bGUgJ3BpeGkuanMnIHtcbiAgaW50ZXJmYWNlIFJlY3RhbmdsZSB7XG4gICAgb3ZlcmxhcHMoYW5vdGhlcjogUmVjdGFuZ2xlKTogYm9vbGVhblxuICB9XG59XG5cblBJWEkuUmVjdGFuZ2xlLnByb3RvdHlwZS5vdmVybGFwcyA9IGZ1bmN0aW9uIG92ZXJsYXBzKFxuICBhbm90aGVyOiBQSVhJLlJlY3RhbmdsZVxuKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgdGhpcy5sZWZ0IDwgYW5vdGhlci5yaWdodCAmJlxuICAgIHRoaXMucmlnaHQgPiBhbm90aGVyLmxlZnQgJiZcbiAgICB0aGlzLnRvcCA8IGFub3RoZXIuYm90dG9tICYmXG4gICAgdGhpcy5ib3R0b20gPiBhbm90aGVyLnRvcFxuICApXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4vT2JqZWN0LmFzc2lnbicpO1xuXG5yZXF1aXJlKCcuL3JlcXVlc3RBbmltYXRpb25GcmFtZScpO1xuXG5yZXF1aXJlKCcuL01hdGguc2lnbicpO1xuXG5yZXF1aXJlKCcuL051bWJlci5pc0ludGVnZXInKTtcblxuaWYgKCF3aW5kb3cuQXJyYXlCdWZmZXIpIHtcbiAgICB3aW5kb3cuQXJyYXlCdWZmZXIgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuRmxvYXQzMkFycmF5KSB7XG4gICAgd2luZG93LkZsb2F0MzJBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50MzJBcnJheSkge1xuICAgIHdpbmRvdy5VaW50MzJBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50MTZBcnJheSkge1xuICAgIHdpbmRvdy5VaW50MTZBcnJheSA9IEFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuaWYgKCFPYmplY3QuYXNzaWduKSB7XG4gICAgT2JqZWN0LmFzc2lnbiA9IF9vYmplY3RBc3NpZ24yLmRlZmF1bHQ7XG59IC8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL29iamVjdC1hc3NpZ25cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ25cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdC5hc3NpZ24uanMubWFwIiwiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHA6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xNTc5NjcxXG4vLyBodHRwOi8vdXBkYXRlcy5odG1sNXJvY2tzLmNvbS8yMDEyLzA1L3JlcXVlc3RBbmltYXRpb25GcmFtZS1BUEktbm93LXdpdGgtc3ViLW1pbGxpc2Vjb25kLXByZWNpc2lvblxuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vdGltaGFsbC80MDc4NjE0XG4vLyBodHRwczovL2dpdGh1Yi5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvdHJlZS9tYXN0ZXIvcG9seWZpbGxzL3JlcXVlc3RBbmltYXRpb25GcmFtZVxuXG4vLyBFeHBlY3RlZCB0byBiZSB1c2VkIHdpdGggQnJvd3NlcmZpeVxuLy8gQnJvd3NlcmlmeSBhdXRvbWF0aWNhbGx5IGRldGVjdHMgdGhlIHVzZSBvZiBgZ2xvYmFsYCBhbmQgcGFzc2VzIHRoZVxuLy8gY29ycmVjdCByZWZlcmVuY2Ugb2YgYGdsb2JhbGAsIGBzZWxmYCwgYW5kIGZpbmFsbHkgYHdpbmRvd2BcblxudmFyIE9ORV9GUkFNRV9USU1FID0gMTY7XG5cbi8vIERhdGUubm93XG5pZiAoIShEYXRlLm5vdyAmJiBEYXRlLnByb3RvdHlwZS5nZXRUaW1lKSkge1xuICAgIERhdGUubm93ID0gZnVuY3Rpb24gbm93KCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcbn1cblxuLy8gcGVyZm9ybWFuY2Uubm93XG5pZiAoIShnbG9iYWwucGVyZm9ybWFuY2UgJiYgZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdykpIHtcbiAgICB2YXIgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgIGlmICghZ2xvYmFsLnBlcmZvcm1hbmNlKSB7XG4gICAgICAgIGdsb2JhbC5wZXJmb3JtYW5jZSA9IHt9O1xuICAgIH1cblxuICAgIGdsb2JhbC5wZXJmb3JtYW5jZS5ub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgIH07XG59XG5cbi8vIHJlcXVlc3RBbmltYXRpb25GcmFtZVxudmFyIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbnZhciB2ZW5kb3JzID0gWydtcycsICdtb3onLCAnd2Via2l0JywgJ28nXTtcblxuZm9yICh2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZTsgKyt4KSB7XG4gICAgdmFyIHAgPSB2ZW5kb3JzW3hdO1xuXG4gICAgZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGdsb2JhbFtwICsgJ1JlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgIGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGdsb2JhbFtwICsgJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ10gfHwgZ2xvYmFsW3AgKyAnQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG59XG5cbmlmICghZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgIGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihjYWxsYmFjayArICdpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGRlbGF5ID0gT05FX0ZSQU1FX1RJTUUgKyBsYXN0VGltZSAtIGN1cnJlbnRUaW1lO1xuXG4gICAgICAgIGlmIChkZWxheSA8IDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RUaW1lID0gY3VycmVudFRpbWU7XG5cbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY2FsbGJhY2socGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgfTtcbn1cblxuaWYgKCFnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUpIHtcbiAgICBnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChpZCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcXVlc3RBbmltYXRpb25GcmFtZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc2lnblxuXG5pZiAoIU1hdGguc2lnbikge1xuICAgIE1hdGguc2lnbiA9IGZ1bmN0aW9uIG1hdGhTaWduKHgpIHtcbiAgICAgICAgeCA9IE51bWJlcih4KTtcblxuICAgICAgICBpZiAoeCA9PT0gMCB8fCBpc05hTih4KSkge1xuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geCA+IDAgPyAxIDogLTE7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hdGguc2lnbi5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvaXNJbnRlZ2VyXG5cbmlmICghTnVtYmVyLmlzSW50ZWdlcikge1xuICAgIE51bWJlci5pc0ludGVnZXIgPSBmdW5jdGlvbiBudW1iZXJJc0ludGVnZXIodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TnVtYmVyLmlzSW50ZWdlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfUmVjdGFuZ2xlID0gcmVxdWlyZSgnLi9SZWN0YW5nbGUnKTtcblxudmFyIF9SZWN0YW5nbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVjdGFuZ2xlKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIENpcmNsZSBvYmplY3QgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0c1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENpcmNsZSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGNpcmNsZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXM9MF0gLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICovXG4gIGZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICB2YXIgcmFkaXVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENpcmNsZSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkNJUkNcbiAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICovXG4gICAgdGhpcy50eXBlID0gX2NvbnN0LlNIQVBFUy5DSVJDO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIENpcmNsZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLkNpcmNsZX0gYSBjb3B5IG9mIHRoZSBDaXJjbGVcbiAgICovXG5cblxuICBDaXJjbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBDaXJjbGUodGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBjaXJjbGVcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIENpcmNsZVxuICAgKi9cblxuXG4gIENpcmNsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyh4LCB5KSB7XG4gICAgaWYgKHRoaXMucmFkaXVzIDw9IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgcjIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgIHZhciBkeCA9IHRoaXMueCAtIHg7XG4gICAgdmFyIGR5ID0gdGhpcy55IC0geTtcblxuICAgIGR4ICo9IGR4O1xuICAgIGR5ICo9IGR5O1xuXG4gICAgcmV0dXJuIGR4ICsgZHkgPD0gcjI7XG4gIH07XG5cbiAgLyoqXG4gICogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGNpcmNsZSBhcyBhIFJlY3RhbmdsZSBvYmplY3RcbiAgKlxuICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAgKi9cblxuXG4gIENpcmNsZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gZ2V0Qm91bmRzKCkge1xuICAgIHJldHVybiBuZXcgX1JlY3RhbmdsZTIuZGVmYXVsdCh0aGlzLnggLSB0aGlzLnJhZGl1cywgdGhpcy55IC0gdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzICogMiwgdGhpcy5yYWRpdXMgKiAyKTtcbiAgfTtcblxuICByZXR1cm4gQ2lyY2xlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDaXJjbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaXJjbGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1JlY3RhbmdsZSA9IHJlcXVpcmUoJy4vUmVjdGFuZ2xlJyk7XG5cbnZhciBfUmVjdGFuZ2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlY3RhbmdsZSk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBFbGxpcHNlIG9iamVjdCBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRWxsaXBzZSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGVsbGlwc2VcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgZWxsaXBzZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW2hhbGZXaWR0aD0wXSAtIFRoZSBoYWxmIHdpZHRoIG9mIHRoaXMgZWxsaXBzZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW2hhbGZIZWlnaHQ9MF0gLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhpcyBlbGxpcHNlXG4gICAqL1xuICBmdW5jdGlvbiBFbGxpcHNlKCkge1xuICAgIHZhciB4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgIHZhciBoYWxmV2lkdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgdmFyIGhhbGZIZWlnaHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWxsaXBzZSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSBoYWxmV2lkdGg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gaGFsZkhlaWdodDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5FTElQXG4gICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IF9jb25zdC5TSEFQRVMuRUxJUDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBFbGxpcHNlIGluc3RhbmNlXG4gICAqXG4gICAqIEByZXR1cm4ge1BJWEkuRWxsaXBzZX0gYSBjb3B5IG9mIHRoZSBlbGxpcHNlXG4gICAqL1xuXG5cbiAgRWxsaXBzZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IEVsbGlwc2UodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkcyBhcmUgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgKi9cblxuXG4gIEVsbGlwc2UucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMoeCwgeSkge1xuICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIG5vcm1hbGl6ZSB0aGUgY29vcmRzIHRvIGFuIGVsbGlwc2Ugd2l0aCBjZW50ZXIgMCwwXG4gICAgdmFyIG5vcm14ID0gKHggLSB0aGlzLngpIC8gdGhpcy53aWR0aDtcbiAgICB2YXIgbm9ybXkgPSAoeSAtIHRoaXMueSkgLyB0aGlzLmhlaWdodDtcblxuICAgIG5vcm14ICo9IG5vcm14O1xuICAgIG5vcm15ICo9IG5vcm15O1xuXG4gICAgcmV0dXJuIG5vcm14ICsgbm9ybXkgPD0gMTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGVsbGlwc2UgYXMgYSBSZWN0YW5nbGUgb2JqZWN0XG4gICAqXG4gICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAgICovXG5cblxuICBFbGxpcHNlLnByb3RvdHlwZS5nZXRCb3VuZHMgPSBmdW5jdGlvbiBnZXRCb3VuZHMoKSB7XG4gICAgcmV0dXJuIG5ldyBfUmVjdGFuZ2xlMi5kZWZhdWx0KHRoaXMueCAtIHRoaXMud2lkdGgsIHRoaXMueSAtIHRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH07XG5cbiAgcmV0dXJuIEVsbGlwc2U7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEVsbGlwc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FbGxpcHNlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9Qb2ludCA9IHJlcXVpcmUoJy4uL1BvaW50Jyk7XG5cbnZhciBfUG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9pbnQpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQb2x5Z29uID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfG51bWJlcltdfSBwb2ludHMgLSBUaGlzIGNhbiBiZSBhbiBhcnJheSBvZiBQb2ludHNcbiAgICAgKiAgdGhhdCBmb3JtIHRoZSBwb2x5Z29uLCBhIGZsYXQgYXJyYXkgb2YgbnVtYmVycyB0aGF0IHdpbGwgYmUgaW50ZXJwcmV0ZWQgYXMgW3gseSwgeCx5LCAuLi5dLCBvclxuICAgICAqICB0aGUgYXJndW1lbnRzIHBhc3NlZCBjYW4gYmUgYWxsIHRoZSBwb2ludHMgb2YgdGhlIHBvbHlnb24gZS5nLlxuICAgICAqICBgbmV3IFBJWEkuUG9seWdvbihuZXcgUElYSS5Qb2ludCgpLCBuZXcgUElYSS5Qb2ludCgpLCAuLi4pYCwgb3IgdGhlIGFyZ3VtZW50cyBwYXNzZWQgY2FuIGJlIGZsYXRcbiAgICAgKiAgeCx5IHZhbHVlcyBlLmcuIGBuZXcgUG9seWdvbih4LHksIHgseSwgeCx5LCAuLi4pYCB3aGVyZSBgeGAgYW5kIGB5YCBhcmUgTnVtYmVycy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQb2x5Z29uKCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcG9pbnRzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICBwb2ludHNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9seWdvbik7XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocG9pbnRzWzBdKSkge1xuICAgICAgICAgICAgcG9pbnRzID0gcG9pbnRzWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhpcyBpcyBhbiBhcnJheSBvZiBwb2ludHMsIGNvbnZlcnQgaXQgdG8gYSBmbGF0IGFycmF5IG9mIG51bWJlcnNcbiAgICAgICAgaWYgKHBvaW50c1swXSBpbnN0YW5jZW9mIF9Qb2ludDIuZGVmYXVsdCkge1xuICAgICAgICAgICAgdmFyIHAgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gcG9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwLnB1c2gocG9pbnRzW2ldLngsIHBvaW50c1tpXS55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcG9pbnRzID0gcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgdGhlIHBvaW50cyBvZiB0aGlzIHBvbHlnb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5QT0xZXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IF9jb25zdC5TSEFQRVMuUE9MWTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2x5Z29uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvbHlnb259IGEgY29weSBvZiB0aGUgcG9seWdvblxuICAgICAqL1xuXG5cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IFBvbHlnb24odGhpcy5wb2ludHMuc2xpY2UoKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgcG9seWdvbiwgYWRkaW5nIHBvaW50cyBpZiBuZWNlc3NhcnkuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgICAgIC8vIGNsb3NlIHRoZSBwb2x5IGlmIHRoZSB2YWx1ZSBpcyB0cnVlIVxuICAgICAgICBpZiAocG9pbnRzWzBdICE9PSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdIHx8IHBvaW50c1sxXSAhPT0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2gocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgcG9seWdvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBwb2x5Z29uXG4gICAgICovXG5cblxuICAgIFBvbHlnb24ucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMoeCwgeSkge1xuICAgICAgICB2YXIgaW5zaWRlID0gZmFsc2U7XG5cbiAgICAgICAgLy8gdXNlIHNvbWUgcmF5Y2FzdGluZyB0byB0ZXN0IGhpdHNcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N1YnN0YWNrL3BvaW50LWluLXBvbHlnb24vYmxvYi9tYXN0ZXIvaW5kZXguanNcbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMucG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBsZW5ndGggLSAxOyBpIDwgbGVuZ3RoOyBqID0gaSsrKSB7XG4gICAgICAgICAgICB2YXIgeGkgPSB0aGlzLnBvaW50c1tpICogMl07XG4gICAgICAgICAgICB2YXIgeWkgPSB0aGlzLnBvaW50c1tpICogMiArIDFdO1xuICAgICAgICAgICAgdmFyIHhqID0gdGhpcy5wb2ludHNbaiAqIDJdO1xuICAgICAgICAgICAgdmFyIHlqID0gdGhpcy5wb2ludHNbaiAqIDIgKyAxXTtcbiAgICAgICAgICAgIHZhciBpbnRlcnNlY3QgPSB5aSA+IHkgIT09IHlqID4geSAmJiB4IDwgKHhqIC0geGkpICogKCh5IC0geWkpIC8gKHlqIC0geWkpKSArIHhpO1xuXG4gICAgICAgICAgICBpZiAoaW50ZXJzZWN0KSB7XG4gICAgICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnNpZGU7XG4gICAgfTtcblxuICAgIHJldHVybiBQb2x5Z29uO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQb2x5Z29uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9seWdvbi5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBSb3VuZGVkIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSB0aGF0IGhhcyBuaWNlIHJvdW5kZWQgY29ybmVycywgYXMgaW5kaWNhdGVkIGJ5IGl0c1xuICogdG9wLWxlZnQgY29ybmVyIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0IGFuZCBpdHMgcmFkaXVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJvdW5kZWRSZWN0YW5nbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFRoZSBvdmVyYWxsIHdpZHRoIG9mIHRoaXMgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBvdmVyYWxsIGhlaWdodCBvZiB0aGlzIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXM9MjBdIC0gQ29udHJvbHMgdGhlIHJhZGl1cyBvZiB0aGUgcm91bmRlZCBjb3JuZXJzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUm91bmRlZFJlY3RhbmdsZSgpIHtcbiAgICAgICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG4gICAgICAgIHZhciByYWRpdXMgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDIwO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb3VuZGVkUmVjdGFuZ2xlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDIwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5SUkVDXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IF9jb25zdC5TSEFQRVMuUlJFQztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBhIGNvcHkgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICovXG5cblxuICAgIFJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUm91bmRlZFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMucmFkaXVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqL1xuXG5cbiAgICBSb3VuZGVkUmVjdGFuZ2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCkge1xuICAgICAgICAgICAgaWYgKHkgPj0gdGhpcy55ICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgKyB0aGlzLnJhZGl1cyAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMgfHwgeCA+PSB0aGlzLnggKyB0aGlzLnJhZGl1cyAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgdmFyIGR5ID0geSAtICh0aGlzLnkgKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgdmFyIHJhZGl1czIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgaWYgKGR4ICogZHggKyBkeSAqIGR5IDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLndpZHRoIC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmIChkeCAqIGR4ICsgZHkgKiBkeSA8PSByYWRpdXMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5oZWlnaHQgLSB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKGR4ICogZHggKyBkeSAqIGR5IDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKGR4ICogZHggKyBkeSAqIGR5IDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gUm91bmRlZFJlY3RhbmdsZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUm91bmRlZFJlY3RhbmdsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJvdW5kZWRSZWN0YW5nbGUuanMubWFwIiwiXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSB3ZWJHTCBDb250ZXh0XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmVcbiAqIEBwYXJhbSBjYW52YXMge0hUTUxDYW52YXNFbGVtZW50fSB0aGUgY2FudmFzIGVsZW1lbnQgdGhhdCB3ZSB3aWxsIGdldCB0aGUgY29udGV4dCBmcm9tXG4gKiBAcGFyYW0gb3B0aW9ucyB7T2JqZWN0fSBBbiBvcHRpb25zIG9iamVjdCB0aGF0IGdldHMgcGFzc2VkIGluIHRvIHRoZSBjYW52YXMgZWxlbWVudCBjb250YWluaW5nIHRoZSBjb250ZXh0IGF0dHJpYnV0ZXMsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L2dldENvbnRleHQgZm9yIHRoZSBvcHRpb25zIGF2YWlsYWJsZVxuICogQHJldHVybiB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSB0aGUgV2ViR0wgY29udGV4dFxuICovXG52YXIgY3JlYXRlQ29udGV4dCA9IGZ1bmN0aW9uKGNhbnZhcywgb3B0aW9ucylcbntcbiAgICB2YXIgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBvcHRpb25zKSB8fCBcbiAgICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBvcHRpb25zKTtcblxuICAgIGlmICghZ2wpXG4gICAge1xuICAgICAgICAvLyBmYWlsLCBub3QgYWJsZSB0byBnZXQgYSBjb250ZXh0XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgd2ViR0wuIFRyeSB1c2luZyB0aGUgY2FudmFzIHJlbmRlcmVyJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdsO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVDb250ZXh0O1xuIiwidmFyIEVNUFRZX0FSUkFZX0JVRkZFUiA9IG5ldyBBcnJheUJ1ZmZlcigwKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgd2ViR0wgYnVmZmVyXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHR5cGUge2dsLkFSUkFZX0JVRkZFUiB8IGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSfSBAbWF0XG4gKiBAcGFyYW0gZGF0YSB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gYW4gYXJyYXkgb2YgZGF0YVxuICogQHBhcmFtIGRyYXdUeXBlIHtnbC5TVEFUSUNfRFJBV3xnbC5EWU5BTUlDX0RSQVd8Z2wuU1RSRUFNX0RSQVd9XG4gKi9cbnZhciBCdWZmZXIgPSBmdW5jdGlvbihnbCwgdHlwZSwgZGF0YSwgZHJhd1R5cGUpXG57XG5cblx0LyoqXG4gICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgKi9cblx0dGhpcy5nbCA9IGdsO1xuXG5cdC8qKlxuICAgICAqIFRoZSBXZWJHTCBidWZmZXIsIGNyZWF0ZWQgdXBvbiBpbnN0YW50aWF0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTEJ1ZmZlcn1cbiAgICAgKi9cblx0dGhpcy5idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcblxuXHQvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbC5BUlJBWV9CVUZGRVJ8Z2wuRUxFTUVOVF9BUlJBWV9CVUZGRVJ9XG4gICAgICovXG5cdHRoaXMudHlwZSA9IHR5cGUgfHwgZ2wuQVJSQVlfQlVGRkVSO1xuXG5cdC8qKlxuICAgICAqIFRoZSBkcmF3IHR5cGUgb2YgdGhlIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2wuU1RBVElDX0RSQVd8Z2wuRFlOQU1JQ19EUkFXfGdsLlNUUkVBTV9EUkFXfVxuICAgICAqL1xuXHR0aGlzLmRyYXdUeXBlID0gZHJhd1R5cGUgfHwgZ2wuU1RBVElDX0RSQVc7XG5cblx0LyoqXG4gICAgICogVGhlIGRhdGEgaW4gdGhlIGJ1ZmZlciwgYXMgYSB0eXBlZCBhcnJheVxuICAgICAqXG4gICAgICogQG1lbWJlciB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld31cbiAgICAgKi9cblx0dGhpcy5kYXRhID0gRU1QVFlfQVJSQVlfQlVGRkVSO1xuXG5cdGlmKGRhdGEpXG5cdHtcblx0XHR0aGlzLnVwbG9hZChkYXRhKTtcblx0fVxuXG5cdHRoaXMuX3VwZGF0ZUlEID0gMDtcbn07XG5cbi8qKlxuICogVXBsb2FkcyB0aGUgYnVmZmVyIHRvIHRoZSBHUFVcbiAqIEBwYXJhbSBkYXRhIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBhbiBhcnJheSBvZiBkYXRhIHRvIHVwbG9hZFxuICogQHBhcmFtIG9mZnNldCB7TnVtYmVyfSBpZiBvbmx5IGEgc3Vic2V0IG9mIHRoZSBkYXRhIHNob3VsZCBiZSB1cGxvYWRlZCwgdGhpcyBpcyB0aGUgYW1vdW50IG9mIGRhdGEgdG8gc3VidHJhY3RcbiAqIEBwYXJhbSBkb250QmluZCB7Qm9vbGVhbn0gd2hldGhlciB0byBiaW5kIHRoZSBidWZmZXIgYmVmb3JlIHVwbG9hZGluZyBpdFxuICovXG5CdWZmZXIucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uKGRhdGEsIG9mZnNldCwgZG9udEJpbmQpXG57XG5cdC8vIHRvZG8gLSBuZWVkZWQ/XG5cdGlmKCFkb250QmluZCkgdGhpcy5iaW5kKCk7XG5cblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHRkYXRhID0gZGF0YSB8fCB0aGlzLmRhdGE7XG5cdG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG5cdGlmKHRoaXMuZGF0YS5ieXRlTGVuZ3RoID49IGRhdGEuYnl0ZUxlbmd0aClcblx0e1xuXHRcdGdsLmJ1ZmZlclN1YkRhdGEodGhpcy50eXBlLCBvZmZzZXQsIGRhdGEpO1xuXHR9XG5cdGVsc2Vcblx0e1xuXHRcdGdsLmJ1ZmZlckRhdGEodGhpcy50eXBlLCBkYXRhLCB0aGlzLmRyYXdUeXBlKTtcblx0fVxuXG5cdHRoaXMuZGF0YSA9IGRhdGE7XG59O1xuLyoqXG4gKiBCaW5kcyB0aGUgYnVmZmVyXG4gKlxuICovXG5CdWZmZXIucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cdGdsLmJpbmRCdWZmZXIodGhpcy50eXBlLCB0aGlzLmJ1ZmZlcik7XG59O1xuXG5CdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyID0gZnVuY3Rpb24oZ2wsIGRhdGEsIGRyYXdUeXBlKVxue1xuXHRyZXR1cm4gbmV3IEJ1ZmZlcihnbCwgZ2wuQVJSQVlfQlVGRkVSLCBkYXRhLCBkcmF3VHlwZSk7XG59O1xuXG5CdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIgPSBmdW5jdGlvbihnbCwgZGF0YSwgZHJhd1R5cGUpXG57XG5cdHJldHVybiBuZXcgQnVmZmVyKGdsLCBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgZGF0YSwgZHJhd1R5cGUpO1xufTtcblxuQnVmZmVyLmNyZWF0ZSA9IGZ1bmN0aW9uKGdsLCB0eXBlLCBkYXRhLCBkcmF3VHlwZSlcbntcblx0cmV0dXJuIG5ldyBCdWZmZXIoZ2wsIHR5cGUsIGRhdGEsIGRyYXdUeXBlKTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGJ1ZmZlclxuICpcbiAqL1xuQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKXtcblx0dGhpcy5nbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBCdWZmZXI7XG4iLCJcbnZhciBUZXh0dXJlID0gcmVxdWlyZSgnLi9HTFRleHR1cmUnKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgd2ViR0wgRnJhbWVidWZmZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZVxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gd2lkdGgge051bWJlcn0gdGhlIHdpZHRoIG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICogQHBhcmFtIGhlaWdodCB7TnVtYmVyfSB0aGUgaGVpZ2h0IG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICovXG52YXIgRnJhbWVidWZmZXIgPSBmdW5jdGlvbihnbCwgd2lkdGgsIGhlaWdodClcbntcbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAqL1xuICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFtZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMRnJhbWVidWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5mcmFtZWJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RlbmNpbCBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyYnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuc3RlbmNpbCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RlbmNpbCBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuZ2xDb3JlLkdMVGV4dHVyZX1cbiAgICAgKi9cbiAgICB0aGlzLnRleHR1cmUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSB3aWR0aCB8fCAxMDA7XG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodCB8fCAxMDA7XG59O1xuXG4vKipcbiAqIEFkZHMgYSB0ZXh0dXJlIHRvIHRoZSBmcmFtZSBidWZmZXJcbiAqIEBwYXJhbSB0ZXh0dXJlIHtQSVhJLmdsQ29yZS5HTFRleHR1cmV9XG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5lbmFibGVUZXh0dXJlID0gZnVuY3Rpb24odGV4dHVyZSlcbntcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZSB8fCBuZXcgVGV4dHVyZShnbCk7XG5cbiAgICB0aGlzLnRleHR1cmUuYmluZCgpO1xuXG4gICAgLy9nbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsICB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG5cbiAgICB0aGlzLmJpbmQoKTtcblxuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlLnRleHR1cmUsIDApO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXNlcyB0aGUgc3RlbmNpbCBidWZmZXJcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmVuYWJsZVN0ZW5jaWwgPSBmdW5jdGlvbigpXG57XG4gICAgaWYodGhpcy5zdGVuY2lsKXJldHVybjtcblxuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICB0aGlzLnN0ZW5jaWwgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcblxuICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCB0aGlzLnN0ZW5jaWwpO1xuXG4gICAgLy8gVE9ETy4uIHRoaXMgaXMgZGVwdGggQU5EIHN0ZW5jaWw/XG4gICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCB0aGlzLnN0ZW5jaWwpO1xuICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCAgdGhpcy53aWR0aCAgLCB0aGlzLmhlaWdodCApO1xuXG5cbn07XG5cbi8qKlxuICogRXJhc2VzIHRoZSBkcmF3aW5nIGFyZWEgYW5kIGZpbGxzIGl0IHdpdGggYSBjb2xvdXJcbiAqIEBwYXJhbSAgciB7TnVtYmVyfSB0aGUgcmVkIHZhbHVlIG9mIHRoZSBjbGVhcmluZyBjb2xvdXJcbiAqIEBwYXJhbSAgZyB7TnVtYmVyfSB0aGUgZ3JlZW4gdmFsdWUgb2YgdGhlIGNsZWFyaW5nIGNvbG91clxuICogQHBhcmFtICBiIHtOdW1iZXJ9IHRoZSBibHVlIHZhbHVlIG9mIHRoZSBjbGVhcmluZyBjb2xvdXJcbiAqIEBwYXJhbSAgYSB7TnVtYmVyfSB0aGUgYWxwaGEgdmFsdWUgb2YgdGhlIGNsZWFyaW5nIGNvbG91clxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiggciwgZywgYiwgYSApXG57XG4gICAgdGhpcy5iaW5kKCk7XG5cbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgZ2wuY2xlYXJDb2xvcihyLCBnLCBiLCBhKTtcbiAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XG59O1xuXG4vKipcbiAqIEJpbmRzIHRoZSBmcmFtZSBidWZmZXIgdG8gdGhlIFdlYkdMIGNvbnRleHRcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbigpXG57XG4gICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuZnJhbWVidWZmZXIgKTtcbn07XG5cbi8qKlxuICogVW5iaW5kcyB0aGUgZnJhbWUgYnVmZmVyIHRvIHRoZSBXZWJHTCBjb250ZXh0XG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbigpXG57XG4gICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwgKTtcbn07XG4vKipcbiAqIFJlc2l6ZXMgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgYnVmZmVyIHRvIHRoZSBnaXZlbiB3aWR0aCBhbmQgaGVpZ2h0XG4gKiBAcGFyYW0gIHdpZHRoICB7TnVtYmVyfSB0aGUgbmV3IHdpZHRoXG4gKiBAcGFyYW0gIGhlaWdodCB7TnVtYmVyfSB0aGUgbmV3IGhlaWdodFxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodClcbntcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgaWYgKCB0aGlzLnRleHR1cmUgKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlLnVwbG9hZERhdGEobnVsbCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgaWYgKCB0aGlzLnN0ZW5jaWwgKVxuICAgIHtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBzdGVuY2lsIGJ1ZmZlciB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCB0aGlzLnN0ZW5jaWwpO1xuICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGlzIGJ1ZmZlclxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKClcbntcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgLy9UT0RPXG4gICAgaWYodGhpcy50ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZyYW1lYnVmZmVyKTtcblxuICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgdGhpcy5zdGVuY2lsID0gbnVsbDtcbiAgICB0aGlzLnRleHR1cmUgPSBudWxsO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnJhbWUgYnVmZmVyIHdpdGggYSB0ZXh0dXJlIGNvbnRhaW5pbmcgdGhlIGdpdmVuIGRhdGFcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHdpZHRoIHtOdW1iZXJ9IHRoZSB3aWR0aCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAqIEBwYXJhbSBoZWlnaHQge051bWJlcn0gdGhlIGhlaWdodCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAqIEBwYXJhbSBkYXRhIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBhbiBhcnJheSBvZiBkYXRhXG4gKi9cbkZyYW1lYnVmZmVyLmNyZWF0ZVJHQkEgPSBmdW5jdGlvbihnbCwgd2lkdGgsIGhlaWdodCwgZGF0YSlcbntcbiAgICB2YXIgdGV4dHVyZSA9IFRleHR1cmUuZnJvbURhdGEoZ2wsIG51bGwsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHRleHR1cmUuZW5hYmxlTmVhcmVzdFNjYWxpbmcoKTtcbiAgICB0ZXh0dXJlLmVuYWJsZVdyYXBDbGFtcCgpO1xuXG4gICAgLy9ub3cgY3JlYXRlIHRoZSBmcmFtZWJ1ZmZlciBvYmplY3QgYW5kIGF0dGFjaCB0aGUgdGV4dHVyZSB0byBpdC5cbiAgICB2YXIgZmJvID0gbmV3IEZyYW1lYnVmZmVyKGdsLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICBmYm8uZW5hYmxlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAvL2Ziby5lbmFibGVTdGVuY2lsKCk7IC8vIGdldCB0aGlzIGJhY2sgb24gc29vbiFcblxuICAgIC8vZmJvLmVuYWJsZVN0ZW5jaWwoKTsgLy8gZ2V0IHRoaXMgYmFjayBvbiBzb29uIVxuXG4gICAgZmJvLnVuYmluZCgpO1xuXG4gICAgcmV0dXJuIGZibztcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZyYW1lIGJ1ZmZlciB3aXRoIGEgdGV4dHVyZSBjb250YWluaW5nIHRoZSBnaXZlbiBkYXRhXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqIEBwYXJhbSB3aWR0aCB7TnVtYmVyfSB0aGUgd2lkdGggb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gKiBAcGFyYW0gaGVpZ2h0IHtOdW1iZXJ9IHRoZSBoZWlnaHQgb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gKiBAcGFyYW0gZGF0YSB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gYW4gYXJyYXkgb2YgZGF0YVxuICovXG5GcmFtZWJ1ZmZlci5jcmVhdGVGbG9hdDMyID0gZnVuY3Rpb24oZ2wsIHdpZHRoLCBoZWlnaHQsIGRhdGEpXG57XG4gICAgLy8gY3JlYXRlIGEgbmV3IHRleHR1cmUuLlxuICAgIHZhciB0ZXh0dXJlID0gbmV3IFRleHR1cmUuZnJvbURhdGEoZ2wsIGRhdGEsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHRleHR1cmUuZW5hYmxlTmVhcmVzdFNjYWxpbmcoKTtcbiAgICB0ZXh0dXJlLmVuYWJsZVdyYXBDbGFtcCgpO1xuXG4gICAgLy9ub3cgY3JlYXRlIHRoZSBmcmFtZWJ1ZmZlciBvYmplY3QgYW5kIGF0dGFjaCB0aGUgdGV4dHVyZSB0byBpdC5cbiAgICB2YXIgZmJvID0gbmV3IEZyYW1lYnVmZmVyKGdsLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICBmYm8uZW5hYmxlVGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgIGZiby51bmJpbmQoKTtcblxuICAgIHJldHVybiBmYm87XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZyYW1lYnVmZmVyO1xuIiwiXG52YXIgY29tcGlsZVByb2dyYW0gPSByZXF1aXJlKCcuL3NoYWRlci9jb21waWxlUHJvZ3JhbScpLFxuXHRleHRyYWN0QXR0cmlidXRlcyA9IHJlcXVpcmUoJy4vc2hhZGVyL2V4dHJhY3RBdHRyaWJ1dGVzJyksXG5cdGV4dHJhY3RVbmlmb3JtcyA9IHJlcXVpcmUoJy4vc2hhZGVyL2V4dHJhY3RVbmlmb3JtcycpLFxuXHRzZXRQcmVjaXNpb24gPSByZXF1aXJlKCcuL3NoYWRlci9zZXRQcmVjaXNpb24nKSxcblx0Z2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0ID0gcmVxdWlyZSgnLi9zaGFkZXIvZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0Jyk7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHdlYkdMIFNoYWRlclxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAqIEBwYXJhbSB2ZXJ0ZXhTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gZnJhZ21lbnRTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIGZyYWdtZW50IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBwcmVjaXNpb24ge3N0cmluZ30gVGhlIGZsb2F0IHByZWNpc2lvbiBvZiB0aGUgc2hhZGVyLiBPcHRpb25zIGFyZSAnbG93cCcsICdtZWRpdW1wJyBvciAnaGlnaHAnLlxuICogQHBhcmFtIGF0dHJpYnV0ZUxvY2F0aW9ucyB7b2JqZWN0fSBBIGtleSB2YWx1ZSBwYWlyIHNob3dpbmcgd2hpY2ggbG9jYXRpb24gZWFjdCBhdHRyaWJ1dGUgc2hvdWxkIHNpdCBlZyB7cG9zaXRpb246MCwgdXZzOjF9XG4gKi9cbnZhciBTaGFkZXIgPSBmdW5jdGlvbihnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYywgcHJlY2lzaW9uLCBhdHRyaWJ1dGVMb2NhdGlvbnMpXG57XG5cdC8qKlxuXHQgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuXHQgKlxuXHQgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG5cdCAqL1xuXHR0aGlzLmdsID0gZ2w7XG5cblx0aWYocHJlY2lzaW9uKVxuXHR7XG5cdFx0dmVydGV4U3JjID0gc2V0UHJlY2lzaW9uKHZlcnRleFNyYywgcHJlY2lzaW9uKTtcblx0XHRmcmFnbWVudFNyYyA9IHNldFByZWNpc2lvbihmcmFnbWVudFNyYywgcHJlY2lzaW9uKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgc2hhZGVyIHByb2dyYW1cblx0ICpcblx0ICogQG1lbWJlciB7V2ViR0xQcm9ncmFtfVxuXHQgKi9cblx0Ly8gRmlyc3QgY29tcGlsZSB0aGUgcHJvZ3JhbS4uXG5cdHRoaXMucHJvZ3JhbSA9IGNvbXBpbGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBhdHRyaWJ1dGVMb2NhdGlvbnMpO1xuXG5cdC8qKlxuXHQgKiBUaGUgYXR0cmlidXRlcyBvZiB0aGUgc2hhZGVyIGFzIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllc1xuXHQgKiB7XG5cdCAqIFx0dHlwZSxcblx0ICogXHRzaXplLFxuXHQgKiBcdGxvY2F0aW9uLFxuXHQgKiBcdHBvaW50ZXJcblx0ICogfVxuXHQgKiBAbWVtYmVyIHtPYmplY3R9XG5cdCAqL1xuXHQvLyBuZXh0IGV4dHJhY3QgdGhlIGF0dHJpYnV0ZXNcblx0dGhpcy5hdHRyaWJ1dGVzID0gZXh0cmFjdEF0dHJpYnV0ZXMoZ2wsIHRoaXMucHJvZ3JhbSk7XG5cbiAgICB0aGlzLnVuaWZvcm1EYXRhID0gZXh0cmFjdFVuaWZvcm1zKGdsLCB0aGlzLnByb2dyYW0pO1xuXG5cdC8qKlxuXHQgKiBUaGUgdW5pZm9ybXMgb2YgdGhlIHNoYWRlciBhcyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXNcblx0ICoge1xuXHQgKiBcdGdsLFxuXHQgKiBcdGRhdGFcblx0ICogfVxuXHQgKiBAbWVtYmVyIHtPYmplY3R9XG5cdCAqL1xuXHR0aGlzLnVuaWZvcm1zID0gZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0KCBnbCwgdGhpcy51bmlmb3JtRGF0YSApO1xuXG59O1xuLyoqXG4gKiBVc2VzIHRoaXMgc2hhZGVyXG4gKiBcbiAqIEByZXR1cm4ge1BJWEkuZ2xDb3JlLkdMU2hhZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAqL1xuU2hhZGVyLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24oKVxue1xuXHR0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcblx0cmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoaXMgc2hhZGVyXG4gKiBUT0RPXG4gKi9cblNoYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKClcbntcblx0dGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcblx0dGhpcy51bmlmb3JtRGF0YSA9IG51bGw7XG5cdHRoaXMudW5pZm9ybXMgPSBudWxsO1xuXG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cdGdsLmRlbGV0ZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBTaGFkZXI7XG4iLCJcbi8vIHN0YXRlIG9iamVjdC8vXG52YXIgc2V0VmVydGV4QXR0cmliQXJyYXlzID0gcmVxdWlyZSggJy4vc2V0VmVydGV4QXR0cmliQXJyYXlzJyApO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byB3b3JrIHdpdGggV2ViR0wgVmVydGV4QXJyYXlPYmplY3RzICh2YW9zKVxuICogT25seSB3b3JrcyBpZiBXZWJHTCBleHRlbnNpb25zIGFyZSBlbmFibGVkICh0aGV5IHVzdWFsbHkgYXJlKVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gVmVydGV4QXJyYXlPYmplY3QoZ2wsIHN0YXRlKVxue1xuICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uID0gbnVsbDtcblxuICAgIGlmKCFWZXJ0ZXhBcnJheU9iamVjdC5GT1JDRV9OQVRJVkUpXG4gICAge1xuICAgICAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbiA9IGdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignTU9aX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpO1xuICAgIH1cblxuICAgIHRoaXMubmF0aXZlU3RhdGUgPSBzdGF0ZTtcblxuICAgIGlmKHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYXRpdmVWYW8gPSB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpO1xuXG4gICAgICAgIHZhciBtYXhBdHRyaWJzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9WRVJURVhfQVRUUklCUyk7XG5cbiAgICAgICAgLy8gVkFPIC0gb3ZlcndyaXRlIHRoZSBzdGF0ZS4uXG4gICAgICAgIHRoaXMubmF0aXZlU3RhdGUgPSB7XG4gICAgICAgICAgICB0ZW1wQXR0cmliU3RhdGU6IG5ldyBBcnJheShtYXhBdHRyaWJzKSxcbiAgICAgICAgICAgIGF0dHJpYlN0YXRlOiBuZXcgQXJyYXkobWF4QXR0cmlicylcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAqL1xuICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGF0dHJpYnV0ZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMuYXR0cmlidXRlcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7UElYSS5nbENvcmUuR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBIGJvb2xlYW4gZmxhZ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG59XG5cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFZlcnRleEFycmF5T2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBWZXJ0ZXhBcnJheU9iamVjdDtcblxuLyoqXG4qIFNvbWUgZGV2aWNlcyBiZWhhdmUgYSBiaXQgZnVubnkgd2hlbiB1c2luZyB0aGUgbmV3ZXIgZXh0ZW5zaW9ucyAoaW0gbG9va2luZyBhdCB5b3UgaXBhZCAyISlcbiogSWYgeW91IGZpbmQgb24gb2xkZXIgZGV2aWNlcyB0aGF0IHRoaW5ncyBoYXZlIGdvbmUgYSBiaXQgd2VpcmQgdGhlbiBzZXQgdGhpcyB0byB0cnVlLlxuKi9cbi8qKlxuICogTGV0cyB0aGUgVkFPIGtub3cgaWYgeW91IHNob3VsZCB1c2UgdGhlIFdlYkdMIGV4dGVuc2lvbiBvciB0aGUgbmF0aXZlIG1ldGhvZHMuXG4gKiBTb21lIGRldmljZXMgYmVoYXZlIGEgYml0IGZ1bm55IHdoZW4gdXNpbmcgdGhlIG5ld2VyIGV4dGVuc2lvbnMgKGltIGxvb2tpbmcgYXQgeW91IGlwYWQgMiEpXG4gKiBJZiB5b3UgZmluZCBvbiBvbGRlciBkZXZpY2VzIHRoYXQgdGhpbmdzIGhhdmUgZ29uZSBhIGJpdCB3ZWlyZCB0aGVuIHNldCB0aGlzIHRvIHRydWUuXG4gKiBAc3RhdGljXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IEZPUkNFX05BVElWRVxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5GT1JDRV9OQVRJVkUgPSBmYWxzZTtcblxuLyoqXG4gKiBCaW5kcyB0aGUgYnVmZmVyXG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24oKVxue1xuICAgIGlmKHRoaXMubmF0aXZlVmFvKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24uYmluZFZlcnRleEFycmF5T0VTKHRoaXMubmF0aXZlVmFvKTtcblxuICAgICAgICBpZih0aGlzLmRpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBVbmJpbmRzIHRoZSBidWZmZXJcbiAqL1xuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uKClcbntcbiAgICBpZih0aGlzLm5hdGl2ZVZhbylcbiAgICB7XG4gICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyhudWxsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogVXNlcyB0aGlzIHZhb1xuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbigpXG57XG5cbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgIHZhciBsYXN0QnVmZmVyID0gbnVsbDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIGF0dHJpYiA9IHRoaXMuYXR0cmlidXRlc1tpXTtcblxuICAgICAgICBpZihsYXN0QnVmZmVyICE9PSBhdHRyaWIuYnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWIuYnVmZmVyLmJpbmQoKTtcbiAgICAgICAgICAgIGxhc3RCdWZmZXIgPSBhdHRyaWIuYnVmZmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihhdHRyaWIuYXR0cmlidXRlLmxvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYi5hdHRyaWJ1dGUuc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWIudHlwZSB8fCBnbC5GTE9BVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWIubm9ybWFsaXplZCB8fCBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWIuc3RyaWRlIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmliLnN0YXJ0IHx8IDApO1xuICAgIH1cblxuICAgIHNldFZlcnRleEF0dHJpYkFycmF5cyhnbCwgdGhpcy5hdHRyaWJ1dGVzLCB0aGlzLm5hdGl2ZVN0YXRlKTtcblxuICAgIGlmKHRoaXMuaW5kZXhCdWZmZXIpXG4gICAge1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmJpbmQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBidWZmZXIgICAgIHtQSVhJLmdsLkdMQnVmZmVyfVxuICogQHBhcmFtIGF0dHJpYnV0ZSAgeyp9XG4gKiBAcGFyYW0gdHlwZSAgICAgICB7U3RyaW5nfVxuICogQHBhcmFtIG5vcm1hbGl6ZWQge0Jvb2xlYW59XG4gKiBAcGFyYW0gc3RyaWRlICAgICB7TnVtYmVyfVxuICogQHBhcmFtIHN0YXJ0ICAgICAge051bWJlcn1cbiAqL1xuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmFkZEF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGJ1ZmZlciwgYXR0cmlidXRlLCB0eXBlLCBub3JtYWxpemVkLCBzdHJpZGUsIHN0YXJ0KVxue1xuICAgIHRoaXMuYXR0cmlidXRlcy5wdXNoKHtcbiAgICAgICAgYnVmZmVyOiAgICAgYnVmZmVyLFxuICAgICAgICBhdHRyaWJ1dGU6ICBhdHRyaWJ1dGUsXG5cbiAgICAgICAgbG9jYXRpb246ICAgYXR0cmlidXRlLmxvY2F0aW9uLFxuICAgICAgICB0eXBlOiAgICAgICB0eXBlIHx8IHRoaXMuZ2wuRkxPQVQsXG4gICAgICAgIG5vcm1hbGl6ZWQ6IG5vcm1hbGl6ZWQgfHwgZmFsc2UsXG4gICAgICAgIHN0cmlkZTogICAgIHN0cmlkZSB8fCAwLFxuICAgICAgICBzdGFydDogICAgICBzdGFydCB8fCAwXG4gICAgfSk7XG5cbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIGJ1ZmZlciAgIHtQSVhJLmdsLkdMQnVmZmVyfVxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuYWRkSW5kZXggPSBmdW5jdGlvbihidWZmZXIvKiwgb3B0aW9ucyovKVxue1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBidWZmZXI7XG5cbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBVbmJpbmRzIHRoaXMgdmFvIGFuZCBkaXNhYmxlcyBpdFxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpXG57XG4gICAgLy8gdmFyIGdsID0gdGhpcy5nbDtcblxuICAgIC8vIFRPRE8gLSBzaG91bGQgdGhpcyBmdW5jdGlvbiB1bmJpbmQgYWZ0ZXIgY2xlYXI/XG4gICAgLy8gZm9yIG5vdywgbm8gYnV0IGxldHMgc2VlIHdoYXQgaGFwcGVucyBpbiB0aGUgcmVhbCB3b3JsZCFcbiAgICBpZih0aGlzLm5hdGl2ZVZhbylcbiAgICB7XG4gICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyh0aGlzLm5hdGl2ZVZhbyk7XG4gICAgfVxuXG4gICAgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQHBhcmFtIHR5cGUgIHtOdW1iZXJ9XG4gKiBAcGFyYW0gc2l6ZSAge051bWJlcn1cbiAqIEBwYXJhbSBzdGFydCB7TnVtYmVyfVxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKHR5cGUsIHNpemUsIHN0YXJ0KVxue1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICBpZih0aGlzLmluZGV4QnVmZmVyKVxuICAgIHtcbiAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKHR5cGUsIHNpemUgfHwgdGhpcy5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2wuVU5TSUdORURfU0hPUlQsIChzdGFydCB8fCAwKSAqIDIgKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgLy8gVE9ETyBuZWVkIGEgYmV0dGVyIHdheSB0byBjYWxjdWxhdGUgc2l6ZS4uXG4gICAgICAgIGdsLmRyYXdBcnJheXModHlwZSwgc3RhcnQsIHNpemUgfHwgdGhpcy5nZXRTaXplKCkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBEZXN0cm95IHRoaXMgdmFvXG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKVxue1xuICAgIC8vIGxvc2UgcmVmZXJlbmNlc1xuICAgIHRoaXMuZ2wgPSBudWxsO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG4gICAgdGhpcy5uYXRpdmVTdGF0ZSA9IG51bGw7XG5cbiAgICBpZih0aGlzLm5hdGl2ZVZhbylcbiAgICB7XG4gICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmRlbGV0ZVZlcnRleEFycmF5T0VTKHRoaXMubmF0aXZlVmFvKTtcbiAgICB9XG5cbiAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbiA9IG51bGw7XG4gICAgdGhpcy5uYXRpdmVWYW8gPSBudWxsO1xufTtcblxuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbigpXG57XG4gICAgdmFyIGF0dHJpYiA9IHRoaXMuYXR0cmlidXRlc1swXTtcbiAgICByZXR1cm4gYXR0cmliLmJ1ZmZlci5kYXRhLmxlbmd0aCAvICgoIGF0dHJpYi5zdHJpZGUvNCApIHx8IGF0dHJpYi5hdHRyaWJ1dGUuc2l6ZSk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY29tcGlsZVByb2dyYW06IHJlcXVpcmUoJy4vY29tcGlsZVByb2dyYW0nKSxcbiAgICBkZWZhdWx0VmFsdWU6IHJlcXVpcmUoJy4vZGVmYXVsdFZhbHVlJyksXG4gICAgZXh0cmFjdEF0dHJpYnV0ZXM6IHJlcXVpcmUoJy4vZXh0cmFjdEF0dHJpYnV0ZXMnKSxcbiAgICBleHRyYWN0VW5pZm9ybXM6IHJlcXVpcmUoJy4vZXh0cmFjdFVuaWZvcm1zJyksXG4gICAgZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0OiByZXF1aXJlKCcuL2dlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdCcpLFxuICAgIHNldFByZWNpc2lvbjogcmVxdWlyZSgnLi9zZXRQcmVjaXNpb24nKSxcbiAgICBtYXBTaXplOiByZXF1aXJlKCcuL21hcFNpemUnKSxcbiAgICBtYXBUeXBlOiByZXF1aXJlKCcuL21hcFR5cGUnKVxufTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXhSZWNvbW1lbmRlZFRleHR1cmVzO1xuXG52YXIgX2lzbW9iaWxlanMgPSByZXF1aXJlKCdpc21vYmlsZWpzJyk7XG5cbnZhciBfaXNtb2JpbGVqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc21vYmlsZWpzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gbWF4UmVjb21tZW5kZWRUZXh0dXJlcyhtYXgpIHtcbiAgICBpZiAoX2lzbW9iaWxlanMyLmRlZmF1bHQudGFibGV0IHx8IF9pc21vYmlsZWpzMi5kZWZhdWx0LnBob25lKSB7XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoZSByZXMgaXMgaXBob25lIDYgb3IgaGlnaGVyLi5cbiAgICAgICAgcmV0dXJuIDQ7XG4gICAgfVxuXG4gICAgLy8gZGVza3RvcCBzaG91bGQgYmUgb2tcbiAgICByZXR1cm4gbWF4O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF4UmVjb21tZW5kZWRUZXh0dXJlcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNhblVwbG9hZFNhbWVCdWZmZXI7XG5mdW5jdGlvbiBjYW5VcGxvYWRTYW1lQnVmZmVyKCkge1xuXHQvLyBVcGxvYWRpbmcgdGhlIHNhbWUgYnVmZmVyIG11bHRpcGxlIHRpbWVzIGluIGEgc2luZ2xlIGZyYW1lIGNhbiBjYXVzZSBwZXJmIGlzc3Vlcy5cblx0Ly8gQXBwYXJlbnQgb24gSU9TIHNvIG9ubHkgY2hlY2sgZm9yIHRoYXQgYXQgdGhlIG1vbWVudFxuXHQvLyB0aGlzIGNoZWNrIG1heSBiZWNvbWUgbW9yZSBjb21wbGV4IGlmIHRoaXMgaXNzdWUgcG9wcyB1cCBlbHNld2hlcmUuXG5cdHZhciBpb3MgPSAhIW5hdmlnYXRvci5wbGF0Zm9ybSAmJiAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xuXG5cdHJldHVybiAhaW9zO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuVXBsb2FkU2FtZUJ1ZmZlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbi8qKlxuICogTWl4aW5zIGZ1bmN0aW9uYWxpdHkgdG8gbWFrZSBhbiBvYmplY3QgaGF2ZSBcInBsdWdpbnNcIi5cbiAqXG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBwbHVnaW5UYXJnZXQubWl4aW4oTXlPYmplY3QpO1xuICpcbiAqIEBtaXhpblxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBUaGUgb2JqZWN0IHRvIG1peCBpbnRvLlxuICovXG5mdW5jdGlvbiBwbHVnaW5UYXJnZXQob2JqKSB7XG4gICAgb2JqLl9fcGx1Z2lucyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHBsdWdpbiB0byBhbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbHVnaW5OYW1lIC0gVGhlIGV2ZW50cyB0aGF0IHNob3VsZCBiZSBsaXN0ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3RvciAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhlIHBsdWdpbi5cbiAgICAgKi9cbiAgICBvYmoucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiByZWdpc3RlclBsdWdpbihwbHVnaW5OYW1lLCBjdG9yKSB7XG4gICAgICAgIG9iai5fX3BsdWdpbnNbcGx1Z2luTmFtZV0gPSBjdG9yO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZXMgYWxsIHRoZSBwbHVnaW5zIG9mIHRoaXMgb2JqZWN0XG4gICAgICpcbiAgICAgKi9cbiAgICBvYmoucHJvdG90eXBlLmluaXRQbHVnaW5zID0gZnVuY3Rpb24gaW5pdFBsdWdpbnMoKSB7XG4gICAgICAgIHRoaXMucGx1Z2lucyA9IHRoaXMucGx1Z2lucyB8fCB7fTtcblxuICAgICAgICBmb3IgKHZhciBvIGluIG9iai5fX3BsdWdpbnMpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXSA9IG5ldyBvYmouX19wbHVnaW5zW29dKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSBwbHVnaW5zIG9mIHRoaXMgb2JqZWN0XG4gICAgICpcbiAgICAgKi9cbiAgICBvYmoucHJvdG90eXBlLmRlc3Ryb3lQbHVnaW5zID0gZnVuY3Rpb24gZGVzdHJveVBsdWdpbnMoKSB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGx1Z2lucyA9IG51bGw7XG4gICAgfTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICAgIC8qKlxuICAgICAqIE1peGVzIGluIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBwbHVnaW5UYXJnZXQgaW50byBhbm90aGVyIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIFRoZSBvYmogdG8gbWl4IGludG9cbiAgICAgKi9cbiAgICBtaXhpbjogZnVuY3Rpb24gbWl4aW4ob2JqKSB7XG4gICAgICAgIHBsdWdpblRhcmdldChvYmopO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbHVnaW5UYXJnZXQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLm1peGluID0gbWl4aW47XG5leHBvcnRzLmRlbGF5TWl4aW4gPSBkZWxheU1peGluO1xuZXhwb3J0cy5wZXJmb3JtTWl4aW5zID0gcGVyZm9ybU1peGlucztcbi8qKlxuICogTWl4ZXMgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBmcm9tIGEgc291cmNlIG9iamVjdCB0byBhIHRhcmdldCBvYmplY3QuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gKiBAZnVuY3Rpb24gbWl4aW5cbiAqIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXQgVGhlIHByb3RvdHlwZSBvciBpbnN0YW5jZSB0aGF0IHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgc2hvdWxkIGJlIGFkZGVkIHRvLlxuICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9mIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgdG8gbWl4IGluLlxuICovXG5mdW5jdGlvbiBtaXhpbih0YXJnZXQsIHNvdXJjZSkge1xuICAgIGlmICghdGFyZ2V0IHx8ICFzb3VyY2UpIHJldHVybjtcbiAgICAvLyBpbiBFUzgvRVMyMDE3LCB0aGlzIHdvdWxkIGJlIHJlYWxseSBlYXN5OlxuICAgIC8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7XG5cbiAgICAvLyBnZXQgYWxsIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IGtleXNcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG5cbiAgICAvLyBsb29wIHRocm91Z2ggcHJvcGVydGllc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0ga2V5c1tpXTtcblxuICAgICAgICAvLyBTZXQgdGhlIHByb3BlcnR5IHVzaW5nIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIC0gdGhpcyB3b3JrcyBmb3IgYWNjZXNzb3JzIGFuZCBub3JtYWwgdmFsdWUgcHJvcGVydGllc1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBwcm9wZXJ0eU5hbWUpKTtcbiAgICB9XG59XG5cbnZhciBtaXhpbnMgPSBbXTtcblxuLyoqXG4gKiBRdWV1ZXMgYSBtaXhpbiB0byBiZSBoYW5kbGVkIHRvd2FyZHMgdGhlIGVuZCBvZiB0aGUgaW5pdGlhbGl6YXRpb24gb2YgUElYSSwgc28gdGhhdCBkZXByZWNhdGlvblxuICogY2FuIHRha2UgZWZmZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICogQGZ1bmN0aW9uIGRlbGF5TWl4aW5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gdGFyZ2V0IFRoZSBwcm90b3R5cGUgb3IgaW5zdGFuY2UgdGhhdCBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHNob3VsZCBiZSBhZGRlZCB0by5cbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvZiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHRvIG1peCBpbi5cbiAqL1xuZnVuY3Rpb24gZGVsYXlNaXhpbih0YXJnZXQsIHNvdXJjZSkge1xuICAgIG1peGlucy5wdXNoKHRhcmdldCwgc291cmNlKTtcbn1cblxuLyoqXG4gKiBIYW5kbGVzIGFsbCBtaXhpbnMgcXVldWVkIHZpYSBkZWxheU1peGluKCkuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gKiBAZnVuY3Rpb24gcGVyZm9ybU1peGluc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcGVyZm9ybU1peGlucygpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1peGlucy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBtaXhpbihtaXhpbnNbaV0sIG1peGluc1tpICsgMV0pO1xuICAgIH1cbiAgICBtaXhpbnMubGVuZ3RoID0gMDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLmpzLm1hcCIsIid1c2Ugc3RyaWN0J1xuXG4vKipcbiAqIFJlbW92ZSBhIHJhbmdlIG9mIGl0ZW1zIGZyb20gYW4gYXJyYXlcbiAqXG4gKiBAZnVuY3Rpb24gcmVtb3ZlSXRlbXNcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgdGFyZ2V0IGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJZHggVGhlIGluZGV4IHRvIGJlZ2luIHJlbW92aW5nIGZyb20gKGluY2x1c2l2ZSlcbiAqIEBwYXJhbSB7bnVtYmVyfSByZW1vdmVDb3VudCBIb3cgbWFueSBpdGVtcyB0byByZW1vdmVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZW1vdmVJdGVtcyAoYXJyLCBzdGFydElkeCwgcmVtb3ZlQ291bnQpIHtcbiAgdmFyIGksIGxlbmd0aCA9IGFyci5sZW5ndGhcblxuICBpZiAoc3RhcnRJZHggPj0gbGVuZ3RoIHx8IHJlbW92ZUNvdW50ID09PSAwKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICByZW1vdmVDb3VudCA9IChzdGFydElkeCArIHJlbW92ZUNvdW50ID4gbGVuZ3RoID8gbGVuZ3RoIC0gc3RhcnRJZHggOiByZW1vdmVDb3VudClcblxuICB2YXIgbGVuID0gbGVuZ3RoIC0gcmVtb3ZlQ291bnRcblxuICBmb3IgKGkgPSBzdGFydElkeDsgaSA8IGxlbjsgKytpKSB7XG4gICAgYXJyW2ldID0gYXJyW2kgKyByZW1vdmVDb3VudF1cbiAgfVxuXG4gIGFyci5sZW5ndGggPSBsZW5cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxuLyoqXG4gKiBDb3JyZWN0cyBQaXhpSlMgYmxlbmQsIHRha2VzIHByZW11bHRpcGxpZWQgYWxwaGEgaW50byBhY2NvdW50XG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2Rlc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyW10+fSBbYXJyYXldIC0gVGhlIGFycmF5IHRvIG91dHB1dCBpbnRvLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyW10+fSBNYXBwZWQgbW9kZXMuXG4gKi9cblxuZnVuY3Rpb24gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMoKSB7XG4gICAgdmFyIHBtID0gW107XG4gICAgdmFyIG5wbSA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzMjsgaSsrKSB7XG4gICAgICAgIHBtW2ldID0gaTtcbiAgICAgICAgbnBtW2ldID0gaTtcbiAgICB9XG5cbiAgICBwbVtfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgIHBtW19jb25zdC5CTEVORF9NT0RFUy5BRERfTlBNXSA9IF9jb25zdC5CTEVORF9NT0RFUy5BREQ7XG4gICAgcG1bX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl9OUE1dID0gX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTjtcblxuICAgIG5wbVtfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMXSA9IF9jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxfTlBNO1xuICAgIG5wbVtfY29uc3QuQkxFTkRfTU9ERVMuQUREXSA9IF9jb25zdC5CTEVORF9NT0RFUy5BRERfTlBNO1xuICAgIG5wbVtfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOXSA9IF9jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5fTlBNO1xuXG4gICAgdmFyIGFycmF5ID0gW107XG5cbiAgICBhcnJheS5wdXNoKG5wbSk7XG4gICAgYXJyYXkucHVzaChwbSk7XG5cbiAgICByZXR1cm4gYXJyYXk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2Rlcy5qcy5tYXAiLCIvKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMSBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqL1xuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmXG5cdFx0IWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdCFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoXG5cdFx0ZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbFxuXHQpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuXG5cdCAqIEBuYW1lIHB1bnljb2RlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0dmFyIHB1bnljb2RlLFxuXG5cdC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi9cblx0bWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG5cdC8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi9cblx0YmFzZSA9IDM2LFxuXHR0TWluID0gMSxcblx0dE1heCA9IDI2LFxuXHRza2V3ID0gMzgsXG5cdGRhbXAgPSA3MDAsXG5cdGluaXRpYWxCaWFzID0gNzIsXG5cdGluaXRpYWxOID0gMTI4LCAvLyAweDgwXG5cdGRlbGltaXRlciA9ICctJywgLy8gJ1xceDJEJ1xuXG5cdC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG5cdHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLFxuXHRyZWdleE5vbkFTQ0lJID0gL1teXFx4MjAtXFx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnNcblx0cmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG5cdC8qKiBFcnJvciBtZXNzYWdlcyAqL1xuXHRlcnJvcnMgPSB7XG5cdFx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0XHQnbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLFxuXHRcdCdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnXG5cdH0sXG5cblx0LyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqL1xuXHRiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sXG5cdGZsb29yID0gTWF0aC5mbG9vcixcblx0c3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcblxuXHQvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovXG5cdGtleTtcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG5cdCAqIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR3aGlsZSAobGVuZ3RoLS0pIHtcblx0XHRcdHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsXG5cdCAqIGFkZHJlc3Nlcy5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5XG5cdCAqIGNoYXJhY3Rlci5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2tcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikge1xuXHRcdHZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpO1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZVxuXHRcdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdFx0c3RyaW5nID0gcGFydHNbMV07XG5cdFx0fVxuXHRcdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdcXHgyRScpO1xuXHRcdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0XHR2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7XG5cdFx0cmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuXHQgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG5cdCAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG5cdCAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuXHQgKiBtYXRjaGluZyBVVEYtMTYuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYFxuXHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZGVjb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBjb3VudGVyID0gMCxcblx0XHQgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBlbmNvZGVcblx0ICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuXHRcdHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdFx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHRcdH1cblx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuXG5cdCAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmXG5cdCAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gMjI7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gNjU7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gOTc7XG5cdFx0fVxuXHRcdHJldHVybiBiYXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG5cdCAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpc1xuXHQgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuXHQgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdFx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0XHQvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcblx0XHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG5cdCAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjQuMScsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHtcblx0XHRcdC8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0Zm9yIChrZXkgaW4gcHVueWNvZGUpIHtcblx0XHRcdFx0cHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHQvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNTdHJpbmc6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ3N0cmluZyc7XG4gIH0sXG4gIGlzT2JqZWN0OiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09PSBudWxsO1xuICB9LFxuICBpc051bGxPclVuZGVmaW5lZDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PSBudWxsO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLmRlY29kZSA9IGV4cG9ydHMucGFyc2UgPSByZXF1aXJlKCcuL2RlY29kZScpO1xuZXhwb3J0cy5lbmNvZGUgPSBleHBvcnRzLnN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vZW5jb2RlJyk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBJZiBvYmouaGFzT3duUHJvcGVydHkgaGFzIGJlZW4gb3ZlcnJpZGRlbiwgdGhlbiBjYWxsaW5nXG4vLyBvYmouaGFzT3duUHJvcGVydHkocHJvcCkgd2lsbCBicmVhay5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2lzc3Vlcy8xNzA3XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG1hcChvYmplY3RLZXlzKG9iaiksIGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBtYXAob2JqW2tdLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5mdW5jdGlvbiBtYXAgKHhzLCBmKSB7XG4gIGlmICh4cy5tYXApIHJldHVybiB4cy5tYXAoZik7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgIHJlcy5wdXNoKGYoeHNbaV0sIGkpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHJlcy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfVGlja2VyTGlzdGVuZXIgPSByZXF1aXJlKCcuL1RpY2tlckxpc3RlbmVyJyk7XG5cbnZhciBfVGlja2VyTGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGlja2VyTGlzdGVuZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEEgVGlja2VyIGNsYXNzIHRoYXQgcnVucyBhbiB1cGRhdGUgbG9vcCB0aGF0IG90aGVyIG9iamVjdHMgbGlzdGVuIHRvLlxuICogVGhpcyBjbGFzcyBpcyBjb21wb3NlZCBhcm91bmQgbGlzdGVuZXJzXG4gKiBtZWFudCBmb3IgZXhlY3V0aW9uIG9uIHRoZSBuZXh0IHJlcXVlc3RlZCBhbmltYXRpb24gZnJhbWUuXG4gKiBBbmltYXRpb24gZnJhbWVzIGFyZSByZXF1ZXN0ZWQgb25seSB3aGVuIG5lY2Vzc2FyeSxcbiAqIGUuZy4gV2hlbiB0aGUgdGlja2VyIGlzIHN0YXJ0ZWQgYW5kIHRoZSBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS50aWNrZXJcbiAqL1xudmFyIFRpY2tlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpY2tlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlja2VyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZpcnN0IGxpc3RlbmVyLiBBbGwgbmV3IGxpc3RlbmVycyBhZGRlZCBhcmUgY2hhaW5lZCBvbiB0aGlzLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWFkID0gbmV3IF9UaWNrZXJMaXN0ZW5lcjIuZGVmYXVsdChudWxsLCBudWxsLCBJbmZpbml0eSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGN1cnJlbnQgZnJhbWUgcmVxdWVzdCBJRFxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdmFsdWUgbWFuYWdlZCBieSBtaW5GUFMgcHJvcGVydHkgc2V0dGVyIGFuZCBnZXR0ZXIuXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIG1heGltdW0gYWxsb3dlZCBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMTAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIHRpY2tlciBzaG91bGQgaW52b2tlIHRoZSBtZXRob2RcbiAgICAgICAgICoge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNzdGFydH0gYXV0b21hdGljYWxseVxuICAgICAgICAgKiB3aGVuIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9TdGFydCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsYXIgdGltZSB2YWx1ZSBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI21pbkZQU31cbiAgICAgICAgICogYW5kIGlzIHNjYWxlZCB3aXRoIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjc3BlZWR9LlxuICAgICAgICAgKiAqKk5vdGU6KiogVGhlIGNhcCBtYXkgYmUgZXhjZWVkZWQgYnkgc2NhbGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbHRhVGltZSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbWUgZWxhcHNlZCBpbiBtaWxsaXNlY29uZHMgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIE9wcG9zZWQgdG8gd2hhdCB0aGUgc2NhbGFyIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjZGVsdGFUaW1lfVxuICAgICAgICAgKiBpcyBiYXNlZCwgdGhpcyB2YWx1ZSBpcyBuZWl0aGVyIGNhcHBlZCBub3Igc2NhbGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqIERlZmF1bHRzIHRvIHRhcmdldCBmcmFtZSB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTYuNjZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZWxhcHNlZE1TID0gMSAvIF9zZXR0aW5nczIuZGVmYXVsdC5UQVJHRVRfRlBNUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3QgdGltZSB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3VwZGF0ZX0gd2FzIGludm9rZWQuXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgYWxzbyByZXNldCBpbnRlcm5hbGx5IG91dHNpZGUgb2YgaW52b2tpbmdcbiAgICAgICAgICogdXBkYXRlLCBidXQgb25seSB3aGVuIGEgbmV3IGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWQuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGYWN0b3Igb2YgY3VycmVudCB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFNjYWxlcyB0aWNrZXIuZGVsdGFUaW1lIHRvIHdoYXQgd291bGQgYmVcbiAgICAgICAgICogLy8gdGhlIGVxdWl2YWxlbnQgb2YgYXBwcm94aW1hdGVseSAxMjAgRlBTXG4gICAgICAgICAqIHRpY2tlci5zcGVlZCA9IDI7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zcGVlZCA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQuXG4gICAgICAgICAqIGB0cnVlYCBpZiB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3N0YXJ0fSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICAgICAqIGBmYWxzZWAgaWYge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNzdG9wfSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICAgICAqIFdoaWxlIGBmYWxzZWAsIHRoaXMgdmFsdWUgbWF5IGNoYW5nZSB0byBgdHJ1ZWAgaW4gdGhlXG4gICAgICAgICAqIGV2ZW50IG9mIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjYXV0b1N0YXJ0fSBiZWluZyBgdHJ1ZWBcbiAgICAgICAgICogYW5kIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdGljayBtZXRob2QgYm91bmQgdG8gdGlja2VyIGluc3RhbmNlLlxuICAgICAgICAgKiBUaGlzIGlzIGJlY2F1c2UgaW4gZWFybHkgMjAxNSwgRnVuY3Rpb24uYmluZFxuICAgICAgICAgKiBpcyBzdGlsbCA2MCUgc2xvd2VyIGluIGhpZ2ggcGVyZm9ybWFuY2Ugc2NlbmFyaW9zLlxuICAgICAgICAgKiBBbHNvIHNlcGFyYXRpbmcgZnJhbWUgcmVxdWVzdHMgZnJvbSB1cGRhdGUgbWV0aG9kXG4gICAgICAgICAqIHNvIGxpc3RlbmVycyBtYXkgYmUgY2FsbGVkIGF0IGFueSB0aW1lIGFuZCB3aXRoXG4gICAgICAgICAqIGFueSBhbmltYXRpb24gQVBJLCBqdXN0IGludm9rZSB0aWNrZXIudXBkYXRlKHRpbWUpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGljayA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgICAgICBfdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKF90aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBJbnZva2UgbGlzdGVuZXJzIG5vd1xuICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZSh0aW1lKTtcbiAgICAgICAgICAgICAgICAvLyBMaXN0ZW5lciBzaWRlIGVmZmVjdHMgbWF5IGhhdmUgbW9kaWZpZWQgdGlja2VyIHN0YXRlLlxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGFydGVkICYmIF90aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgX3RoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLl90aWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgYSBmcmFtZSBoYXMgbm90IGFscmVhZHkgYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWxcbiAgICAgKiBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuX3JlcXVlc3RJZk5lZWRlZCA9IGZ1bmN0aW9uIF9yZXF1ZXN0SWZOZWVkZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2FsbGJhY2tzIGdldCBjb3JyZWN0IGRlbHRhXG4gICAgICAgICAgICB0aGlzLmxhc3RUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSBjYW5jZWxzIGEgcGVuZGluZyBhbmltYXRpb24gZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLl9jYW5jZWxJZk5lZWRlZCA9IGZ1bmN0aW9uIF9jYW5jZWxJZk5lZWRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RJZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVxdWVzdElkKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgdGhlIHRpY2tlciBoYXMgYmVlbiBzdGFydGVkIGl0IGNoZWNrcyBpZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeVxuICAgICAqIGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsIGVtaXR0ZXIgaGFzIGxpc3RlbmVycy4gSWYgdGhlc2VcbiAgICAgKiBjb25kaXRpb25zIGFyZSBtZXQsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC4gSWYgdGhlIHRpY2tlciBoYXMgbm90XG4gICAgICogYmVlbiBzdGFydGVkLCBidXQgYXV0b1N0YXJ0IGlzIGB0cnVlYCwgdGhlbiB0aGUgdGlja2VyIHN0YXJ0cyBub3csXG4gICAgICogYW5kIGNvbnRpbnVlcyB3aXRoIHRoZSBwcmV2aW91cyBjb25kaXRpb25zIHRvIHJlcXVlc3QgYSBuZXcgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLl9zdGFydElmUG9zc2libGUgPSBmdW5jdGlvbiBfc3RhcnRJZlBvc3NpYmxlKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmF1dG9TdGFydCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgaGFuZGxlciBmb3IgdGljayBldmVudHMuIENhbGxzIGNvbnRpbnVvdXNseSB1bmxlc3NcbiAgICAgKiBpdCBpcyByZW1vdmVkIG9yIHRoZSB0aWNrZXIgaXMgc3RvcHBlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciB1cGRhdGVzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PVBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHJldHVybnMge1BJWEkudGlja2VyLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChmbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgcHJpb3JpdHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IF9jb25zdC5VUERBVEVfUFJJT1JJVFkuTk9STUFMO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRMaXN0ZW5lcihuZXcgX1RpY2tlckxpc3RlbmVyMi5kZWZhdWx0KGZuLCBjb250ZXh0LCBwcmlvcml0eSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBoYW5kbGVyIGZvciB0aGUgdGljayBldmVudCB3aGljaCBpcyBvbmx5IGV4ZWN1dGUgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PVBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHJldHVybnMge1BJWEkudGlja2VyLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLmFkZE9uY2UgPSBmdW5jdGlvbiBhZGRPbmNlKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBwcmlvcml0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogX2NvbnN0LlVQREFURV9QUklPUklUWS5OT1JNQUw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBfVGlja2VyTGlzdGVuZXIyLmRlZmF1bHQoZm4sIGNvbnRleHQsIHByaW9yaXR5LCB0cnVlKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsbHkgYWRkcyB0aGUgZXZlbnQgaGFuZGxlciBzbyB0aGF0IGl0IGNhbiBiZSBzb3J0ZWQgYnkgcHJpb3JpdHkuXG4gICAgICogUHJpb3JpdHkgYWxsb3dzIGNlcnRhaW4gaGFuZGxlciAodXNlciwgQW5pbWF0ZWRTcHJpdGUsIEludGVyYWN0aW9uKSB0byBiZSBydW5cbiAgICAgKiBiZWZvcmUgdGhlIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUaWNrZXJMaXN0ZW5lcn0gbGlzdGVuZXIgLSBDdXJyZW50IGxpc3RlbmVyIGJlaW5nIGFkZGVkLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLnRpY2tlci5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5fYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBfYWRkTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgLy8gRm9yIGF0dGFjaGluZyB0byBoZWFkXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5faGVhZC5uZXh0O1xuICAgICAgICB2YXIgcHJldmlvdXMgPSB0aGlzLl9oZWFkO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgZmlyc3QgaXRlbVxuICAgICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gR28gZnJvbSBoaWdoZXN0IHRvIGxvd2VzdCBwcmlvcml0eVxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIucHJpb3JpdHkgPiBjdXJyZW50LnByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldmlvdXMgPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vdCB5ZXQgY29ubmVjdGVkXG4gICAgICAgICAgICBpZiAoIWxpc3RlbmVyLnByZXZpb3VzKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdGFydElmUG9zc2libGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbnkgaGFuZGxlcnMgbWF0Y2hpbmcgdGhlIGZ1bmN0aW9uIGFuZCBjb250ZXh0IHBhcmFtZXRlcnMuXG4gICAgICogSWYgbm8gaGFuZGxlcnMgYXJlIGxlZnQgYWZ0ZXIgcmVtb3ZpbmcsIHRoZW4gaXQgY2FuY2VscyB0aGUgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgcmVtb3ZlZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0IHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcmV0dXJucyB7UElYSS50aWNrZXIuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcblxuICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgbWF0Y2gsIGxldHMgcmVtb3ZlIGl0XG4gICAgICAgICAgICAvLyBubyBicmVhayB0byBkZWxldGUgYWxsIHBvc3NpYmxlIG1hdGNoZXNcbiAgICAgICAgICAgIC8vIGluY2FzZSBhIGxpc3RlbmVyIHdhcyBhZGRlZCAyKyB0aW1lc1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm1hdGNoKGZuLCBjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgbGlzdGVuZXJzXG4gICAgICogYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgcmVxdWVzdGVkXG4gICAgICogYW4gYW5pbWF0aW9uIGZyYW1lIGl0IGlzIGNhbmNlbGVkIGF0IHRoaXMgcG9pbnQuXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSB0aWNrZXIgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLiBDYWxsaW5nXG4gICAgICogdGhpcyBtZXRob2QgcmVtb3ZlcyBhbGwgcmVmZXJlbmNlcyB0byBpbnRlcm5hbCBldmVudHMuXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgIHZhciBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcblxuICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2hlYWQuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9oZWFkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYW4gdXBkYXRlLiBBbiB1cGRhdGUgZW50YWlscyBzZXR0aW5nIHRoZVxuICAgICAqIGN1cnJlbnQge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNlbGFwc2VkTVN9LFxuICAgICAqIHRoZSBjdXJyZW50IHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjZGVsdGFUaW1lfSxcbiAgICAgKiBpbnZva2luZyBhbGwgbGlzdGVuZXJzIHdpdGggY3VycmVudCBkZWx0YVRpbWUsXG4gICAgICogYW5kIHRoZW4gZmluYWxseSBzZXR0aW5nIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjbGFzdFRpbWV9XG4gICAgICogd2l0aCB0aGUgdmFsdWUgb2YgY3VycmVudFRpbWUgdGhhdCB3YXMgcHJvdmlkZWQuXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBieSBhbmltYXRpb25cbiAgICAgKiBmcmFtZSBjYWxsYmFja3MgaWYgdGhlIHRpY2tlciBpbnN0YW5jZSBoYXMgYmVlbiBzdGFydGVkXG4gICAgICogYW5kIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2N1cnJlbnRUaW1lPXBlcmZvcm1hbmNlLm5vdygpXSAtIHRoZSBjdXJyZW50IHRpbWUgb2YgZXhlY3V0aW9uXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgICAgIHZhciBlbGFwc2VkTVMgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gSWYgdGhlIGRpZmZlcmVuY2UgaW4gdGltZSBpcyB6ZXJvIG9yIG5lZ2F0aXZlLCB3ZSBpZ25vcmUgbW9zdCBvZiB0aGUgd29yayBkb25lIGhlcmUuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHZhbGlkIGRpZmZlcmVuY2UsIHRoZW4gc2hvdWxkIGJlIG5vIHJlYXNvbiB0byBsZXQgYW55b25lIGtub3cgYWJvdXQgaXQuXG4gICAgICAgIC8vIEEgemVybyBkZWx0YSwgaXMgZXhhY3RseSB0aGF0LCBub3RoaW5nIHNob3VsZCB1cGRhdGUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBkaWZmZXJlbmNlIGluIHRpbWUgY2FuIGJlIG5lZ2F0aXZlLCBhbmQgbm8gdGhpcyBkb2VzIG5vdCBtZWFuIHRpbWUgdHJhdmVsaW5nLlxuICAgICAgICAvLyBUaGlzIGNhbiBiZSB0aGUgcmVzdWx0IG9mIGEgcmFjZSBjb25kaXRpb24gYmV0d2VlbiB3aGVuIGFuIGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWRcbiAgICAgICAgLy8gb24gdGhlIGN1cnJlbnQgSmF2YVNjcmlwdCBlbmdpbmUgZXZlbnQgbG9vcCwgYW5kIHdoZW4gdGhlIHRpY2tlcidzIHN0YXJ0IG1ldGhvZCBpcyBpbnZva2VkXG4gICAgICAgIC8vICh3aGljaCBpbnZva2VzIHRoZSBpbnRlcm5hbCBfcmVxdWVzdElmTmVlZGVkIG1ldGhvZCkuIElmIGEgZnJhbWUgaXMgcmVxdWVzdGVkIGJlZm9yZVxuICAgICAgICAvLyBfcmVxdWVzdElmTmVlZGVkIGlzIGludm9rZWQsIHRoZW4gdGhlIGNhbGxiYWNrIGZvciB0aGUgYW5pbWF0aW9uIGZyYW1lIHRoZSB0aWNrZXIgcmVxdWVzdHMsXG4gICAgICAgIC8vIGNhbiByZWNlaXZlIGEgdGltZSBhcmd1bWVudCB0aGF0IGNhbiBiZSBsZXNzIHRoYW4gdGhlIGxhc3RUaW1lIHZhbHVlIHRoYXQgd2FzIHNldCB3aXRoaW5cbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZC4gVGhpcyBkaWZmZXJlbmNlIGlzIGluIG1pY3Jvc2Vjb25kcywgYnV0IHRoaXMgaXMgZW5vdWdoIHRvIGNhdXNlIHByb2JsZW1zLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGNoZWNrIGNvdmVycyB0aGlzIGJyb3dzZXIgZW5naW5lIHRpbWluZyBpc3N1ZSwgYXMgd2VsbCBhcyBpZiBjb25zdW1lcnMgcGFzcyBhbiBpbnZhbGlkXG4gICAgICAgIC8vIGN1cnJlbnRUaW1lIHZhbHVlLiBUaGlzIG1heSBoYXBwZW4gaWYgY29uc3VtZXJzIG9wdC1vdXQgb2YgdGhlIGF1dG9TdGFydCwgYW5kIHVwZGF0ZSB0aGVtc2VsdmVzLlxuXG4gICAgICAgIGlmIChjdXJyZW50VGltZSA+IHRoaXMubGFzdFRpbWUpIHtcbiAgICAgICAgICAgIC8vIFNhdmUgdW5jYXBwZWQgZWxhcHNlZE1TIGZvciBtZWFzdXJlbWVudFxuICAgICAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5lbGFwc2VkTVMgPSBjdXJyZW50VGltZSAtIHRoaXMubGFzdFRpbWU7XG5cbiAgICAgICAgICAgIC8vIGNhcCB0aGUgbWlsbGlzZWNvbmRzIGVsYXBzZWQgdXNlZCBmb3IgZGVsdGFUaW1lXG4gICAgICAgICAgICBpZiAoZWxhcHNlZE1TID4gdGhpcy5fbWF4RWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IGVsYXBzZWRNUyAqIF9zZXR0aW5nczIuZGVmYXVsdC5UQVJHRVRfRlBNUyAqIHRoaXMuc3BlZWQ7XG5cbiAgICAgICAgICAgIC8vIENhY2hlIGEgbG9jYWwgcmVmZXJlbmNlLCBpbi1jYXNlIHRpY2tlciBpcyBkZXN0cm95ZWRcbiAgICAgICAgICAgIC8vIGR1cmluZyB0aGUgZW1pdCwgd2UgY2FuIHN0aWxsIGNoZWNrIGZvciBoZWFkLm5leHRcbiAgICAgICAgICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcblxuICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBhZGRlZCB0byBpbnRlcm5hbCBlbWl0dGVyXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBoZWFkLm5leHQ7XG5cbiAgICAgICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZW1pdCh0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVsdGFUaW1lID0gdGhpcy5lbGFwc2VkTVMgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWVzIHBlciBzZWNvbmQgYXQgd2hpY2ggdGhpcyB0aWNrZXIgaXMgcnVubmluZy5cbiAgICAgKiBUaGUgZGVmYXVsdCBpcyBhcHByb3hpbWF0ZWx5IDYwIGluIG1vc3QgbW9kZXJuIGJyb3dzZXJzLlxuICAgICAqICoqTm90ZToqKiBUaGlzIGRvZXMgbm90IGZhY3RvciBpbiB0aGUgdmFsdWUgb2ZcbiAgICAgKiB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3NwZWVkfSwgd2hpY2ggaXMgc3BlY2lmaWNcbiAgICAgKiB0byBzY2FsaW5nIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjZGVsdGFUaW1lfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFRpY2tlciwgW3tcbiAgICAgICAga2V5OiAnRlBTJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuZWxhcHNlZE1TO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyBhbGxvd2VkIHRvXG4gICAgICAgICAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjdXBkYXRlfS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyB1c2VkIHRvIGNhcCB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2RlbHRhVGltZX0sXG4gICAgICAgICAqIGJ1dCBkb2VzIG5vdCBlZmZlY3QgdGhlIG1lYXN1cmVkIHZhbHVlIG9mIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjRlBTfS5cbiAgICAgICAgICogV2hlbiBzZXR0aW5nIHRoaXMgcHJvcGVydHkgaXQgaXMgY2xhbXBlZCB0byBhIHZhbHVlIGJldHdlZW5cbiAgICAgICAgICogYDBgIGFuZCBgUElYSS5zZXR0aW5ncy5UQVJHRVRfRlBNUyAqIDEwMDBgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdtaW5GUFMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmcHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICAvLyBDbGFtcDogMCB0byBUQVJHRVRfRlBNU1xuICAgICAgICAgICAgdmFyIG1pbkZQTVMgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBmcHMpIC8gMTAwMCwgX3NldHRpbmdzMi5kZWZhdWx0LlRBUkdFVF9GUE1TKTtcblxuICAgICAgICAgICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMSAvIG1pbkZQTVM7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGlja2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUaWNrZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWNrZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogSW50ZXJuYWwgY2xhc3MgZm9yIGhhbmRsaW5nIHRoZSBwcmlvcml0eSBzb3J0aW5nIG9mIHRpY2tlciBoYW5kbGVycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS50aWNrZXJcbiAqL1xudmFyIFRpY2tlckxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb250ZXh0PW51bGxdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PTBdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29uY2U9ZmFsc2VdIC0gSWYgdGhlIGhhbmRsZXIgc2hvdWxkIGZpcmUgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpY2tlckxpc3RlbmVyKGZuKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBudWxsO1xuICAgICAgICB2YXIgcHJpb3JpdHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciBvbmNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlja2VyTGlzdGVuZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGFuZGxlciBmdW5jdGlvbiB0byBleGVjdXRlLlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZm4gPSBmbjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbGxpbmcgdG8gZXhlY3V0ZS5cbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBwcmlvcml0eS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIHNob3VsZCBvbmx5IGV4ZWN1dGUgb25jZS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25jZSA9IG9uY2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuZXh0IGl0ZW0gaW4gY2hhaW4uXG4gICAgICAgICAqIEBtZW1iZXIge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByZXZpb3VzIGl0ZW0gaW4gY2hhaW4uXG4gICAgICAgICAqIEBtZW1iZXIge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGlzIGxpc3RlbmVyIGhhcyBiZWVuIGRlc3Ryb3llZCBhbHJlYWR5LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2ltcGxlIGNvbXBhcmUgZnVuY3Rpb24gdG8gZmlndXJlIG91dCBpZiBhIGZ1bmN0aW9uIGFuZCBjb250ZXh0IG1hdGNoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb250ZXh0IC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGxpc3RlbmVyIG1hdGNoIHRoZSBhcmd1bWVudHNcbiAgICAgKi9cblxuXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24gbWF0Y2goZm4sIGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dCA9IGNvbnRleHQgfHwgbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcy5mbiA9PT0gZm4gJiYgdGhpcy5jb250ZXh0ID09PSBjb250ZXh0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbWl0IGJ5IGNhbGxpbmcgdGhlIGN1cnJlbnQgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgc2luY2UgdGhlIGxhc3QgZW1pdC5cbiAgICAgKiBAcmV0dXJuIHtUaWNrZXJMaXN0ZW5lcn0gTmV4dCB0aWNrZXJcbiAgICAgKi9cblxuXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGRlbHRhVGltZSkge1xuICAgICAgICBpZiAodGhpcy5mbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm4uY2FsbCh0aGlzLmNvbnRleHQsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZm4oZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWRpcmVjdCA9IHRoaXMubmV4dDtcblxuICAgICAgICBpZiAodGhpcy5vbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTb2Z0LWRlc3Ryb3lpbmcgc2hvdWxkIHJlbW92ZVxuICAgICAgICAvLyB0aGUgbmV4dCByZWZlcmVuY2VcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWRpcmVjdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0byB0aGUgbGlzdC5cbiAgICAgKiBAcGFyYW0ge1RpY2tlckxpc3RlbmVyfSBwcmV2aW91cyAtIElucHV0IG5vZGUsIHByZXZpb3VzIGxpc3RlbmVyXG4gICAgICovXG5cblxuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gY29ubmVjdChwcmV2aW91cykge1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gcHJldmlvdXM7XG4gICAgICAgIGlmIChwcmV2aW91cy5uZXh0KSB7XG4gICAgICAgICAgICBwcmV2aW91cy5uZXh0LnByZXZpb3VzID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5leHQgPSBwcmV2aW91cy5uZXh0O1xuICAgICAgICBwcmV2aW91cy5uZXh0ID0gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGFyZCA9IGZhbHNlXSBgdHJ1ZWAgdG8gcmVtb3ZlIHRoZSBgbmV4dGAgcmVmZXJlbmNlLCB0aGlzXG4gICAgICogICAgICAgIGlzIGNvbnNpZGVyZWQgYSBoYXJkIGRlc3Ryb3kuIFNvZnQgZGVzdHJveSBtYWludGFpbnMgdGhlIG5leHQgcmVmZXJlbmNlLlxuICAgICAqIEByZXR1cm4ge1RpY2tlckxpc3RlbmVyfSBUaGUgbGlzdGVuZXIgdG8gcmVkaXJlY3Qgd2hpbGUgZW1pdHRpbmcgb3IgcmVtb3ZpbmcuXG4gICAgICovXG5cblxuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdmFyIGhhcmQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZm4gPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuXG4gICAgICAgIC8vIERpc2Nvbm5lY3QsIGhvb2sgdXAgbmV4dCBhbmQgcHJldmlvdXNcbiAgICAgICAgaWYgKHRoaXMucHJldmlvdXMpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXMubmV4dCA9IHRoaXMubmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5leHQpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dC5wcmV2aW91cyA9IHRoaXMucHJldmlvdXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWRpcmVjdCB0byB0aGUgbmV4dCBpdGVtXG4gICAgICAgIHZhciByZWRpcmVjdCA9IHRoaXMubmV4dDtcblxuICAgICAgICAvLyBSZW1vdmUgcmVmZXJlbmNlc1xuICAgICAgICB0aGlzLm5leHQgPSBoYXJkID8gbnVsbCA6IHJlZGlyZWN0O1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gcmVkaXJlY3Q7XG4gICAgfTtcblxuICAgIHJldHVybiBUaWNrZXJMaXN0ZW5lcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGlja2VyTGlzdGVuZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWNrZXJMaXN0ZW5lci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyJyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyZXIpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vLi4vbWF0aCcpO1xuXG52YXIgX0NhbnZhc1RpbnRlciA9IHJlcXVpcmUoJy4vQ2FudmFzVGludGVyJyk7XG5cbnZhciBfQ2FudmFzVGludGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1RpbnRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBjYW52YXNSZW5kZXJXb3JsZFRyYW5zZm9ybSA9IG5ldyBfbWF0aC5NYXRyaXgoKTtcblxuLyoqXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0IHRoZXkgbm93XG4gKiBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBDYW52YXNTcHJpdGVSZW5kZXJlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvbWFzdGVyL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nMmQvQ2FudmFzU3ByaXRlUmVuZGVyZXIuamF2YVxuICovXG5cbi8qKlxuICogUmVuZGVyZXIgZGVkaWNhdGVkIHRvIGRyYXdpbmcgYW5kIGJhdGNoaW5nIHNwcml0ZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgQ2FudmFzU3ByaXRlUmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC1UaGUgcmVuZGVyZXIgc3ByaXRlIHRoaXMgYmF0Y2ggd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1Nwcml0ZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNTcHJpdGVSZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgc3ByaXRlIHRvIHJlbmRlciB3aGVuIHVzaW5nIHRoaXMgc3ByaXRlYmF0Y2hcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihzcHJpdGUpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgdmFyIHdpZHRoID0gdGV4dHVyZS5fZnJhbWUud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIHd0ID0gc3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGR4ID0gMDtcbiAgICAgICAgdmFyIGR5ID0gMDtcblxuICAgICAgICBpZiAodGV4dHVyZS5vcmlnLndpZHRoIDw9IDAgfHwgdGV4dHVyZS5vcmlnLmhlaWdodCA8PSAwIHx8ICF0ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuc2V0QmxlbmRNb2RlKHNwcml0ZS5ibGVuZE1vZGUpO1xuXG4gICAgICAgIC8vICBJZ25vcmUgbnVsbCBzb3VyY2VzXG4gICAgICAgIGlmICh0ZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZW5kZXJlci5jb250ZXh0Lmdsb2JhbEFscGhhID0gc3ByaXRlLndvcmxkQWxwaGE7XG5cbiAgICAgICAgICAgIC8vIElmIHNtb290aGluZ0VuYWJsZWQgaXMgc3VwcG9ydGVkIGFuZCB3ZSBuZWVkIHRvIGNoYW5nZSB0aGUgc21vb3RoaW5nIHByb3BlcnR5IGZvciBzcHJpdGUgdGV4dHVyZVxuICAgICAgICAgICAgdmFyIHNtb290aGluZ0VuYWJsZWQgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnNjYWxlTW9kZSA9PT0gX2NvbnN0LlNDQUxFX01PREVTLkxJTkVBUjtcblxuICAgICAgICAgICAgaWYgKHJlbmRlcmVyLnNtb290aFByb3BlcnR5ICYmIHJlbmRlcmVyLmNvbnRleHRbcmVuZGVyZXIuc21vb3RoUHJvcGVydHldICE9PSBzbW9vdGhpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dFtyZW5kZXJlci5zbW9vdGhQcm9wZXJ0eV0gPSBzbW9vdGhpbmdFbmFibGVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGV4dHVyZS50cmltKSB7XG4gICAgICAgICAgICAgICAgZHggPSB0ZXh0dXJlLnRyaW0ud2lkdGggLyAyICsgdGV4dHVyZS50cmltLnggLSBzcHJpdGUuYW5jaG9yLnggKiB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgICAgICAgICAgZHkgPSB0ZXh0dXJlLnRyaW0uaGVpZ2h0IC8gMiArIHRleHR1cmUudHJpbS55IC0gc3ByaXRlLmFuY2hvci55ICogdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZHggPSAoMC41IC0gc3ByaXRlLmFuY2hvci54KSAqIHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgICAgICAgICBkeSA9ICgwLjUgLSBzcHJpdGUuYW5jaG9yLnkpICogdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRleHR1cmUucm90YXRlKSB7XG4gICAgICAgICAgICAgICAgd3QuY29weShjYW52YXNSZW5kZXJXb3JsZFRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgd3QgPSBjYW52YXNSZW5kZXJXb3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICBfbWF0aC5Hcm91cEQ4Lm1hdHJpeEFwcGVuZFJvdGF0aW9uSW52KHd0LCB0ZXh0dXJlLnJvdGF0ZSwgZHgsIGR5KTtcbiAgICAgICAgICAgICAgICAvLyB0aGUgYW5jaG9yIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCBhYm92ZSwgc28gbGV0cyBzZXQgaXQgdG8gemVyb1xuICAgICAgICAgICAgICAgIGR4ID0gMDtcbiAgICAgICAgICAgICAgICBkeSA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGR4IC09IHdpZHRoIC8gMjtcbiAgICAgICAgICAgIGR5IC09IGhlaWdodCAvIDI7XG5cbiAgICAgICAgICAgIC8vIEFsbG93IGZvciBwaXhlbCByb3VuZGluZ1xuICAgICAgICAgICAgaWYgKHJlbmRlcmVyLnJvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC5zZXRUcmFuc2Zvcm0od3QuYSwgd3QuYiwgd3QuYywgd3QuZCwgd3QudHggKiByZW5kZXJlci5yZXNvbHV0aW9uIHwgMCwgd3QudHkgKiByZW5kZXJlci5yZXNvbHV0aW9uIHwgMCk7XG5cbiAgICAgICAgICAgICAgICBkeCA9IGR4IHwgMDtcbiAgICAgICAgICAgICAgICBkeSA9IGR5IHwgMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC5zZXRUcmFuc2Zvcm0od3QuYSwgd3QuYiwgd3QuYywgd3QuZCwgd3QudHggKiByZW5kZXJlci5yZXNvbHV0aW9uLCB3dC50eSAqIHJlbmRlcmVyLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgaWYgKHNwcml0ZS50aW50ICE9PSAweEZGRkZGRikge1xuICAgICAgICAgICAgICAgIGlmIChzcHJpdGUuY2FjaGVkVGludCAhPT0gc3ByaXRlLnRpbnQgfHwgc3ByaXRlLnRpbnRlZFRleHR1cmUudGludElkICE9PSBzcHJpdGUuX3RleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZS5jYWNoZWRUaW50ID0gc3ByaXRlLnRpbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBjbGVhbiB1cCBjYWNoaW5nIC0gaG93IHRvIGNsZWFuIHVwIHRoZSBjYWNoZXM/XG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZS50aW50ZWRUZXh0dXJlID0gX0NhbnZhc1RpbnRlcjIuZGVmYXVsdC5nZXRUaW50ZWRUZXh0dXJlKHNwcml0ZSwgc3ByaXRlLnRpbnQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuZHJhd0ltYWdlKHNwcml0ZS50aW50ZWRUZXh0dXJlLCAwLCAwLCB3aWR0aCAqIHJlc29sdXRpb24sIGhlaWdodCAqIHJlc29sdXRpb24sIGR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgZHkgKiByZW5kZXJlci5yZXNvbHV0aW9uLCB3aWR0aCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGhlaWdodCAqIHJlbmRlcmVyLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5jb250ZXh0LmRyYXdJbWFnZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSwgdGV4dHVyZS5fZnJhbWUueCAqIHJlc29sdXRpb24sIHRleHR1cmUuX2ZyYW1lLnkgKiByZXNvbHV0aW9uLCB3aWR0aCAqIHJlc29sdXRpb24sIGhlaWdodCAqIHJlc29sdXRpb24sIGR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgZHkgKiByZW5kZXJlci5yZXNvbHV0aW9uLCB3aWR0aCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGhlaWdodCAqIHJlbmRlcmVyLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGRlc3Ryb3kgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENhbnZhc1Nwcml0ZVJlbmRlcmVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNTcHJpdGVSZW5kZXJlcjtcblxuXG5fQ2FudmFzUmVuZGVyZXIyLmRlZmF1bHQucmVnaXN0ZXJQbHVnaW4oJ3Nwcml0ZScsIENhbnZhc1Nwcml0ZVJlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1Nwcml0ZVJlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQSBzZXQgb2YgZnVuY3Rpb25zIHVzZWQgdG8gaGFuZGxlIG1hc2tpbmcuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ2FudmFzTWFza01hbmFnZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzTWFza01hbmFnZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc01hc2tNYW5hZ2VyKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgYWRkcyBpdCB0byB0aGUgY3VycmVudCBzdGFjayBvZiBtYXNrcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBtYXNrRGF0YSAtIHRoZSBtYXNrRGF0YSB0aGF0IHdpbGwgYmUgcHVzaGVkXG4gICAgICovXG5cblxuICAgIENhbnZhc01hc2tNYW5hZ2VyLnByb3RvdHlwZS5wdXNoTWFzayA9IGZ1bmN0aW9uIHB1c2hNYXNrKG1hc2tEYXRhKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgcmVuZGVyZXIuY29udGV4dC5zYXZlKCk7XG5cbiAgICAgICAgdmFyIGNhY2hlQWxwaGEgPSBtYXNrRGF0YS5hbHBoYTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IG1hc2tEYXRhLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHJlbmRlcmVyLmNvbnRleHQuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybS5hICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmIgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uYyAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5kICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLnR4ICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLnR5ICogcmVzb2x1dGlvbik7XG5cbiAgICAgICAgLy8gVE9ETyBzdXBvcnQgc3ByaXRlIGFscGhhIG1hc2tzPz9cbiAgICAgICAgLy8gbG90cyBvZiBlZmZvcnQgcmVxdWlyZWQuIElmIGRlbWFuZCBpcyBncmVhdCBlbm91Z2guLlxuICAgICAgICBpZiAoIW1hc2tEYXRhLl90ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckdyYXBoaWNzU2hhcGUobWFza0RhdGEpO1xuICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC5jbGlwKCk7XG4gICAgICAgIH1cblxuICAgICAgICBtYXNrRGF0YS53b3JsZEFscGhhID0gY2FjaGVBbHBoYTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIFBJWEkuR3JhcGhpY3Mgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IGdyYXBoaWNzIC0gVGhlIG9iamVjdCB0byByZW5kZXIuXG4gICAgICovXG5cblxuICAgIENhbnZhc01hc2tNYW5hZ2VyLnByb3RvdHlwZS5yZW5kZXJHcmFwaGljc1NoYXBlID0gZnVuY3Rpb24gcmVuZGVyR3JhcGhpY3NTaGFwZShncmFwaGljcykge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMucmVuZGVyZXIuY29udGV4dDtcbiAgICAgICAgdmFyIGxlbiA9IGdyYXBoaWNzLmdyYXBoaWNzRGF0YS5sZW5ndGg7XG5cbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBzaGFwZSA9IGRhdGEuc2hhcGU7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUE9MWSkge1xuICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSBzaGFwZS5wb2ludHM7XG4gICAgICAgICAgICAgICAgdmFyIGhvbGVzID0gZGF0YS5ob2xlcztcbiAgICAgICAgICAgICAgICB2YXIgb3V0ZXJBcmVhID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIHZhciBpbm5lckFyZWEgPSB2b2lkIDA7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhwb2ludHNbMF0sIHBvaW50c1sxXSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMjsgaiA8IHBvaW50cy5sZW5ndGg7IGogKz0gMikge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhwb2ludHNbal0sIHBvaW50c1tqICsgMV0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBmaXJzdCBhbmQgbGFzdCBwb2ludCBhcmUgdGhlIHNhbWUgY2xvc2UgdGhlIHBhdGggLSBtdWNoIG5lYXRlciA6KVxuICAgICAgICAgICAgICAgIGlmIChwb2ludHNbMF0gPT09IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gJiYgcG9pbnRzWzFdID09PSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGhvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ZXJBcmVhID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2ogPSAwOyBfaiA8IHBvaW50cy5sZW5ndGg7IF9qICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dGVyQXJlYSArPSBwb2ludHNbX2pdICogcG9pbnRzW19qICsgM10gLSBwb2ludHNbX2ogKyAxXSAqIHBvaW50c1tfaiArIDJdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBob2xlcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzID0gaG9sZXNba10ucG9pbnRzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lckFyZWEgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2oyID0gMDsgX2oyIDwgcG9pbnRzLmxlbmd0aDsgX2oyICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lckFyZWEgKz0gcG9pbnRzW19qMl0gKiBwb2ludHNbX2oyICsgM10gLSBwb2ludHNbX2oyICsgMV0gKiBwb2ludHNbX2oyICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyQXJlYSAqIG91dGVyQXJlYSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfajMgPSAyOyBfajMgPCBwb2ludHMubGVuZ3RoOyBfajMgKz0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhwb2ludHNbX2ozXSwgcG9pbnRzW19qMyArIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9qNCA9IHBvaW50cy5sZW5ndGggLSAyOyBfajQgPj0gMjsgX2o0IC09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocG9pbnRzW19qNF0sIHBvaW50c1tfajQgKyAxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUkVDVCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVjdChzaGFwZS54LCBzaGFwZS55LCBzaGFwZS53aWR0aCwgc2hhcGUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuQ0lSQykge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBuZWVkIHRvIGJlIFVuZGVmaW5lZCFcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyhzaGFwZS54LCBzaGFwZS55LCBzaGFwZS5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuRUxJUCkge1xuICAgICAgICAgICAgICAgIC8vIGVsbGlwc2UgY29kZSB0YWtlbiBmcm9tOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIxNzI3OTgvaG93LXRvLWRyYXctYW4tb3ZhbC1pbi1odG1sNS1jYW52YXNcblxuICAgICAgICAgICAgICAgIHZhciB3ID0gc2hhcGUud2lkdGggKiAyO1xuICAgICAgICAgICAgICAgIHZhciBoID0gc2hhcGUuaGVpZ2h0ICogMjtcblxuICAgICAgICAgICAgICAgIHZhciB4ID0gc2hhcGUueCAtIHcgLyAyO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gc2hhcGUueSAtIGggLyAyO1xuXG4gICAgICAgICAgICAgICAgdmFyIGthcHBhID0gMC41NTIyODQ4O1xuICAgICAgICAgICAgICAgIHZhciBveCA9IHcgLyAyICoga2FwcGE7IC8vIGNvbnRyb2wgcG9pbnQgb2Zmc2V0IGhvcml6b250YWxcbiAgICAgICAgICAgICAgICB2YXIgb3kgPSBoIC8gMiAqIGthcHBhOyAvLyBjb250cm9sIHBvaW50IG9mZnNldCB2ZXJ0aWNhbFxuICAgICAgICAgICAgICAgIHZhciB4ZSA9IHggKyB3OyAvLyB4LWVuZFxuICAgICAgICAgICAgICAgIHZhciB5ZSA9IHkgKyBoOyAvLyB5LWVuZFxuICAgICAgICAgICAgICAgIHZhciB4bSA9IHggKyB3IC8gMjsgLy8geC1taWRkbGVcbiAgICAgICAgICAgICAgICB2YXIgeW0gPSB5ICsgaCAvIDI7IC8vIHktbWlkZGxlXG5cbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4LCB5bSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHgsIHltIC0gb3ksIHhtIC0gb3gsIHksIHhtLCB5KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oeG0gKyBveCwgeSwgeGUsIHltIC0gb3ksIHhlLCB5bSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhlLCB5bSArIG95LCB4bSArIG94LCB5ZSwgeG0sIHllKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oeG0gLSBveCwgeWUsIHgsIHltICsgb3ksIHgsIHltKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUlJFQykge1xuICAgICAgICAgICAgICAgIHZhciByeCA9IHNoYXBlLng7XG4gICAgICAgICAgICAgICAgdmFyIHJ5ID0gc2hhcGUueTtcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBzaGFwZS53aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gc2hhcGUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHZhciByYWRpdXMgPSBzaGFwZS5yYWRpdXM7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWF4UmFkaXVzID0gTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyAyIHwgMDtcblxuICAgICAgICAgICAgICAgIHJhZGl1cyA9IHJhZGl1cyA+IG1heFJhZGl1cyA/IG1heFJhZGl1cyA6IHJhZGl1cztcblxuICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHJ4LCByeSArIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocngsIHJ5ICsgaGVpZ2h0IC0gcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8ocngsIHJ5ICsgaGVpZ2h0LCByeCArIHJhZGl1cywgcnkgKyBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4ICsgd2lkdGggLSByYWRpdXMsIHJ5ICsgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8ocnggKyB3aWR0aCwgcnkgKyBoZWlnaHQsIHJ4ICsgd2lkdGgsIHJ5ICsgaGVpZ2h0IC0gcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCArIHdpZHRoLCByeSArIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4ICsgd2lkdGgsIHJ5LCByeCArIHdpZHRoIC0gcmFkaXVzLCByeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocnggKyByYWRpdXMsIHJ5KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8ocngsIHJ5LCByeCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzdG9yZXMgdGhlIGN1cnJlbnQgZHJhd2luZyBjb250ZXh0IHRvIHRoZSBzdGF0ZSBpdCB3YXMgYmVmb3JlIHRoZSBtYXNrIHdhcyBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciBjb250ZXh0IHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzTWFza01hbmFnZXIucHJvdG90eXBlLnBvcE1hc2sgPSBmdW5jdGlvbiBwb3BNYXNrKHJlbmRlcmVyKSB7XG4gICAgICAgIHJlbmRlcmVyLmNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICByZW5kZXJlci5pbnZhbGlkYXRlQmxlbmRNb2RlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgY2FudmFzIG1hc2sgbWFuYWdlci5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNNYXNrTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIC8qIGVtcHR5ICovXG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNNYXNrTWFuYWdlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzTWFza01hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNNYXNrTWFuYWdlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxudmFyIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzID0gcmVxdWlyZSgnLi9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzJyk7XG5cbnZhciBfY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBNYXBzIGJsZW5kIGNvbWJpbmF0aW9ucyB0byBDYW52YXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBtYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gW2FycmF5PVtdXSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge3N0cmluZ1tdfSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkoKSB7XG4gICAgdmFyIGFycmF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcblxuICAgIGlmICgoMCwgX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMyLmRlZmF1bHQpKCkpIHtcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREXSA9ICdsaWdodGVyJzsgLy8gSVMgVEhJUyBPSz8/P1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTVVMVElQTFldID0gJ211bHRpcGx5JztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl0gPSAnc2NyZWVuJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk9WRVJMQVldID0gJ292ZXJsYXknO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuREFSS0VOXSA9ICdkYXJrZW4nO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTElHSFRFTl0gPSAnbGlnaHRlbic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSAnY29sb3ItZG9kZ2UnO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl0gPSAnY29sb3ItYnVybic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IQVJEX0xJR0hUXSA9ICdoYXJkLWxpZ2h0JztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNPRlRfTElHSFRdID0gJ3NvZnQtbGlnaHQnO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRElGRkVSRU5DRV0gPSAnZGlmZmVyZW5jZSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5FWENMVVNJT05dID0gJ2V4Y2x1c2lvbic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IVUVdID0gJ2h1ZSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9ICdzYXR1cmF0ZSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl0gPSAnY29sb3InO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTFVNSU5PU0lUWV0gPSAnbHVtaW5vc2l0eSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIGNvb2wgbmV3IGJsZW5kIG1vZGVzIGluIGNhbnZhcyAnY291Z2gnIGllICdjb3VnaCdcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREXSA9ICdsaWdodGVyJzsgLy8gSVMgVEhJUyBPSz8/P1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTVVMVElQTFldID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuT1ZFUkxBWV0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuREFSS0VOXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5MSUdIVEVOXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuSEFSRF9MSUdIVF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU09GVF9MSUdIVF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRElGRkVSRU5DRV0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRVhDTFVTSU9OXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IVUVdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNBVFVSQVRJT05dID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkNPTE9SXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5MVU1JTk9TSVRZXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgfVxuICAgIC8vIG5vdC1wcmVtdWx0aXBsaWVkLCBvbmx5IGZvciB3ZWJnbFxuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5BRERfTlBNXSA9IGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5BRERdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5dO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL09iamVjdFJlbmRlcmVyJyk7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JqZWN0UmVuZGVyZXIyKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyZXInKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMUmVuZGVyZXIpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkcycpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMpO1xuXG52YXIgX2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyID0gcmVxdWlyZSgnLi9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcicpO1xuXG52YXIgX2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyKTtcblxudmFyIF9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyJyk7XG5cbnZhciBfY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlcik7XG5cbnZhciBfQmF0Y2hCdWZmZXIgPSByZXF1aXJlKCcuL0JhdGNoQnVmZmVyJyk7XG5cbnZhciBfQmF0Y2hCdWZmZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2hCdWZmZXIpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG52YXIgX2JpdFR3aWRkbGUgPSByZXF1aXJlKCdiaXQtdHdpZGRsZScpO1xuXG52YXIgX2JpdFR3aWRkbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYml0VHdpZGRsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFRJQ0sgPSAwO1xudmFyIFRFWFRVUkVfVElDSyA9IDA7XG5cbi8qKlxuICogUmVuZGVyZXIgZGVkaWNhdGVkIHRvIGRyYXdpbmcgYW5kIGJhdGNoaW5nIHNwcml0ZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xuXG52YXIgU3ByaXRlUmVuZGVyZXIgPSBmdW5jdGlvbiAoX09iamVjdFJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKFNwcml0ZVJlbmRlcmVyLCBfT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgc3ByaXRlIGJhdGNoIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTcHJpdGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3ByaXRlUmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgdmFsdWVzIHNlbnQgaW4gdGhlIHZlcnRleCBidWZmZXIuXG4gICAgICAgICAqIGFWZXJ0ZXhQb3NpdGlvbigyKSwgYVRleHR1cmVDb29yZCgxKSwgYUNvbG9yKDEpLCBhVGV4dHVyZUlkKDEpID0gNVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfT2JqZWN0UmVuZGVyZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnZlcnRTaXplID0gNTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNpemUgb2YgdGhlIHZlcnRleCBpbmZvcm1hdGlvbiBpbiBieXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydEJ5dGVTaXplID0gX3RoaXMudmVydFNpemUgKiA0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGltYWdlcyBpbiB0aGUgU3ByaXRlUmVuZGVyZXIgYmVmb3JlIGl0IGZsdXNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNpemUgPSBfc2V0dGluZ3MyLmRlZmF1bHQuU1BSSVRFX0JBVENIX1NJWkU7IC8vIDIwMDAgaXMgYSBuaWNlIGJhbGFuY2UgYmV0d2VlbiBtb2JpbGUgLyBkZXNrdG9wXG5cbiAgICAgICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBieXRlcyBpbiBvdXIgYmF0Y2hcbiAgICAgICAgLy8gbGV0IG51bVZlcnRzID0gdGhpcy5zaXplICogNCAqIHRoaXMudmVydEJ5dGVTaXplO1xuXG4gICAgICAgIF90aGlzLmJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gX2JpdFR3aWRkbGUyLmRlZmF1bHQubmV4dFBvdzIoX3RoaXMuc2l6ZSk7IGkgKj0gMikge1xuICAgICAgICAgICAgX3RoaXMuYnVmZmVycy5wdXNoKG5ldyBfQmF0Y2hCdWZmZXIyLmRlZmF1bHQoaSAqIDQgKiBfdGhpcy52ZXJ0Qnl0ZVNpemUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgaW5kaWNlcyBvZiB0aGUgZ2VvbWV0cnkgKHF1YWRzKSB0byBkcmF3XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW5kaWNlcyA9ICgwLCBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzMi5kZWZhdWx0KShfdGhpcy5zaXplKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgc2hhZGVycyB0aGF0IGlzIHVzZWQgaWYgYSBzcHJpdGUgZG9lc24ndCBoYXZlIGEgbW9yZSBzcGVjaWZpYyBvbmUuXG4gICAgICAgICAqIHRoZXJlIGlzIGEgc2hhZGVyIGZvciBlYWNoIG51bWJlciBvZiB0ZXh0dXJlcyB0aGF0IGNhbiBiZSByZW5kZXJlcmQuXG4gICAgICAgICAqIFRoZXNlIHNoYWRlcnMgd2lsbCBhbHNvIGJlIGdlbmVyYXRlZCBvbiB0aGUgZmx5IGFzIHJlcXVpcmVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5jdXJyZW50SW5kZXggPSAwO1xuICAgICAgICBfdGhpcy5ncm91cHMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IF90aGlzLnNpemU7IGsrKykge1xuICAgICAgICAgICAgX3RoaXMuZ3JvdXBzW2tdID0geyB0ZXh0dXJlczogW10sIHRleHR1cmVDb3VudDogMCwgaWRzOiBbXSwgc2l6ZTogMCwgc3RhcnQ6IDAsIGJsZW5kOiAwIH07XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5zcHJpdGVzID0gW107XG5cbiAgICAgICAgX3RoaXMudmVydGV4QnVmZmVycyA9IFtdO1xuICAgICAgICBfdGhpcy52YW9zID0gW107XG5cbiAgICAgICAgX3RoaXMudmFvTWF4ID0gMjtcbiAgICAgICAgX3RoaXMudmVydGV4Q291bnQgPSAwO1xuXG4gICAgICAgIF90aGlzLnJlbmRlcmVyLm9uKCdwcmVyZW5kZXInLCBfdGhpcy5vblByZXJlbmRlciwgX3RoaXMpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gb25Db250ZXh0Q2hhbmdlKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLmxlZ2FjeSkge1xuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gc3RlcCAxOiBmaXJzdCBjaGVjayBtYXggdGV4dHVyZXMgdGhlIEdQVSBjYW4gaGFuZGxlLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBNYXRoLm1pbihnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLCBfc2V0dGluZ3MyLmRlZmF1bHQuU1BSSVRFX01BWF9URVhUVVJFUyk7XG5cbiAgICAgICAgICAgIC8vIHN0ZXAgMjogY2hlY2sgdGhlIG1heGltdW0gbnVtYmVyIG9mIGlmIHN0YXRlbWVudHMgdGhlIHNoYWRlciBjYW4gaGF2ZSB0b28uLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSAoMCwgX2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlcjIuZGVmYXVsdCkodGhpcy5NQVhfVEVYVFVSRVMsIGdsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gKDAsIF9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcjIuZGVmYXVsdCkoZ2wsIHRoaXMuTUFYX1RFWFRVUkVTKTtcblxuICAgICAgICAvLyBjcmVhdGUgYSBjb3VwbGUgb2YgYnVmZmVyc1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIHRoaXMuaW5kaWNlcywgZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIC8vIHdlIHVzZSB0aGUgc2Vjb25kIHNoYWRlciBhcyB0aGUgZmlyc3Qgb25lIGRlcGVuZGluZyBvbiB5b3VyIGJyb3dzZXIgbWF5IG9taXQgYVRleHR1cmVJZFxuICAgICAgICAvLyBhcyBpdCBpcyBub3QgdXNlZCBieSB0aGUgc2hhZGVyIHNvIGlzIG9wdGltaXplZCBvdXQuXG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5iaW5kVmFvKG51bGwpO1xuXG4gICAgICAgIHZhciBhdHRycyA9IHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnZhb01heDsgaSsrKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICB2YXIgdmVydGV4QnVmZmVyID0gdGhpcy52ZXJ0ZXhCdWZmZXJzW2ldID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCBudWxsLCBnbC5TVFJFQU1fRFJBVyk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuICAgICAgICAgICAgLy8gYnVpbGQgdGhlIHZhbyBvYmplY3QgdGhhdCB3aWxsIHJlbmRlci4uXG4gICAgICAgICAgICB2YXIgdmFvID0gdGhpcy5yZW5kZXJlci5jcmVhdGVWYW8oKS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUodmVydGV4QnVmZmVyLCBhdHRycy5hVmVydGV4UG9zaXRpb24sIGdsLkZMT0FULCBmYWxzZSwgdGhpcy52ZXJ0Qnl0ZVNpemUsIDApLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFUZXh0dXJlQ29vcmQsIGdsLlVOU0lHTkVEX1NIT1JULCB0cnVlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMiAqIDQpLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFDb2xvciwgZ2wuVU5TSUdORURfQllURSwgdHJ1ZSwgdGhpcy52ZXJ0Qnl0ZVNpemUsIDMgKiA0KTtcblxuICAgICAgICAgICAgaWYgKGF0dHJzLmFUZXh0dXJlSWQpIHtcbiAgICAgICAgICAgICAgICB2YW8uYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYVRleHR1cmVJZCwgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgNCAqIDQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnZhb3NbaV0gPSB2YW87XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZhbyA9IHRoaXMudmFvc1swXTtcbiAgICAgICAgdGhpcy5jdXJyZW50QmxlbmRNb2RlID0gOTk5OTk7XG5cbiAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzID0gbmV3IEFycmF5KHRoaXMuTUFYX1RFWFRVUkVTKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGJlZm9yZSB0aGUgcmVuZGVyZXIgc3RhcnRzIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUub25QcmVyZW5kZXIgPSBmdW5jdGlvbiBvblByZXJlbmRlcigpIHtcbiAgICAgICAgdGhpcy52ZXJ0ZXhDb3VudCA9IDA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgc3ByaXRlIHRvIHJlbmRlciB3aGVuIHVzaW5nIHRoaXMgc3ByaXRlYmF0Y2hcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihzcHJpdGUpIHtcbiAgICAgICAgLy8gVE9ETyBzZXQgYmxlbmQgbW9kZXMuLlxuICAgICAgICAvLyBjaGVjayB0ZXh0dXJlLi5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ID49IHRoaXMuc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IHRoZSB1dnMgZm9yIHRoZSB0ZXh0dXJlXG5cbiAgICAgICAgLy8gaWYgdGhlIHV2cyBoYXZlIG5vdCB1cGRhdGVkIHRoZW4gbm8gcG9pbnQgcmVuZGVyaW5nIGp1c3QgeWV0IVxuICAgICAgICBpZiAoIXNwcml0ZS5fdGV4dHVyZS5fdXZzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwdXNoIGEgdGV4dHVyZS5cbiAgICAgICAgLy8gaW5jcmVtZW50IHRoZSBiYXRjaHNpemVcbiAgICAgICAgdGhpcy5zcHJpdGVzW3RoaXMuY3VycmVudEluZGV4KytdID0gc3ByaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250ZW50IGFuZCBlbXB0aWVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBNQVhfVEVYVFVSRVMgPSB0aGlzLk1BWF9URVhUVVJFUztcblxuICAgICAgICB2YXIgbnAyID0gX2JpdFR3aWRkbGUyLmRlZmF1bHQubmV4dFBvdzIodGhpcy5jdXJyZW50SW5kZXgpO1xuICAgICAgICB2YXIgbG9nMiA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0LmxvZzIobnAyKTtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1tsb2cyXTtcblxuICAgICAgICB2YXIgc3ByaXRlcyA9IHRoaXMuc3ByaXRlcztcbiAgICAgICAgdmFyIGdyb3VwcyA9IHRoaXMuZ3JvdXBzO1xuXG4gICAgICAgIHZhciBmbG9hdDMyVmlldyA9IGJ1ZmZlci5mbG9hdDMyVmlldztcbiAgICAgICAgdmFyIHVpbnQzMlZpZXcgPSBidWZmZXIudWludDMyVmlldztcblxuICAgICAgICB2YXIgYm91bmRUZXh0dXJlcyA9IHRoaXMuYm91bmRUZXh0dXJlcztcbiAgICAgICAgdmFyIHJlbmRlcmVyQm91bmRUZXh0dXJlcyA9IHRoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlcztcbiAgICAgICAgdmFyIHRvdWNoID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlR0MuY291bnQ7XG5cbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIG5leHRUZXh0dXJlID0gdm9pZCAwO1xuICAgICAgICB2YXIgY3VycmVudFRleHR1cmUgPSB2b2lkIDA7XG4gICAgICAgIHZhciBncm91cENvdW50ID0gMTtcbiAgICAgICAgdmFyIHRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50R3JvdXAgPSBncm91cHNbMF07XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdm9pZCAwO1xuICAgICAgICB2YXIgdXZzID0gdm9pZCAwO1xuICAgICAgICB2YXIgYmxlbmRNb2RlID0gX3V0aWxzLnByZW11bHRpcGx5QmxlbmRNb2RlW3Nwcml0ZXNbMF0uX3RleHR1cmUuYmFzZVRleHR1cmUucHJlbXVsdGlwbGllZEFscGhhID8gMSA6IDBdW3Nwcml0ZXNbMF0uYmxlbmRNb2RlXTtcblxuICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLmJsZW5kID0gYmxlbmRNb2RlO1xuXG4gICAgICAgIFRJQ0srKztcblxuICAgICAgICB2YXIgaSA9IHZvaWQgMDtcblxuICAgICAgICAvLyBjb3B5IHRleHR1cmVzLi5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IE1BWF9URVhUVVJFUzsgKytpKSB7XG4gICAgICAgICAgICB2YXIgYnQgPSByZW5kZXJlckJvdW5kVGV4dHVyZXNbaV07XG5cbiAgICAgICAgICAgIGlmIChidC5fZW5hYmxlZCA9PT0gVElDSykge1xuICAgICAgICAgICAgICAgIGJvdW5kVGV4dHVyZXNbaV0gPSB0aGlzLnJlbmRlcmVyLmVtcHR5VGV4dHVyZXNbaV07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJvdW5kVGV4dHVyZXNbaV0gPSBidDtcbiAgICAgICAgICAgIGJ0Ll92aXJ0YWxCb3VuZElkID0gaTtcbiAgICAgICAgICAgIGJ0Ll9lbmFibGVkID0gVElDSztcbiAgICAgICAgfVxuICAgICAgICBUSUNLKys7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuY3VycmVudEluZGV4OyArK2kpIHtcbiAgICAgICAgICAgIC8vIHVwbG9hZCB0aGUgc3ByaXRlIGVsZW1ldG5zLi4uXG4gICAgICAgICAgICAvLyB0aGV5IGhhdmUgYWxsIHJlYWR5IGJlZW4gY2FsY3VsYXRlZCBzbyB3ZSBqdXN0IG5lZWQgdG8gcHVzaCB0aGVtIGludG8gdGhlIGJ1ZmZlci5cbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBzcHJpdGVzW2ldO1xuXG4gICAgICAgICAgICBzcHJpdGVzW2ldID0gbnVsbDtcblxuICAgICAgICAgICAgbmV4dFRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIHZhciBzcHJpdGVCbGVuZE1vZGUgPSBfdXRpbHMucHJlbXVsdGlwbHlCbGVuZE1vZGVbTnVtYmVyKG5leHRUZXh0dXJlLnByZW11bHRpcGxpZWRBbHBoYSldW3Nwcml0ZS5ibGVuZE1vZGVdO1xuXG4gICAgICAgICAgICBpZiAoYmxlbmRNb2RlICE9PSBzcHJpdGVCbGVuZE1vZGUpIHtcbiAgICAgICAgICAgICAgICAvLyBmaW5pc2ggYSBncm91cC4uXG4gICAgICAgICAgICAgICAgYmxlbmRNb2RlID0gc3ByaXRlQmxlbmRNb2RlO1xuXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgdGhlIGJhdGNoIHRvIGJyZWFrIVxuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQgPSBNQVhfVEVYVFVSRVM7XG4gICAgICAgICAgICAgICAgVElDSysrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3VycmVudFRleHR1cmUgIT09IG5leHRUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBuZXh0VGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIGlmIChuZXh0VGV4dHVyZS5fZW5hYmxlZCAhPT0gVElDSykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dHVyZUNvdW50ID09PSBNQVhfVEVYVFVSRVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRJQ0srKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnNpemUgPSBpIC0gY3VycmVudEdyb3VwLnN0YXJ0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBncm91cHNbZ3JvdXBDb3VudCsrXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5ibGVuZCA9IGJsZW5kTW9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLnRvdWNoZWQgPSB0b3VjaDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRleHR1cmUuX3ZpcnRhbEJvdW5kSWQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IE1BWF9URVhUVVJFUzsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRJbmRleCA9IChqICsgVEVYVFVSRV9USUNLKSAlIE1BWF9URVhUVVJFUztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gYm91bmRUZXh0dXJlc1t0SW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQuX2VuYWJsZWQgIT09IFRJQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVEVYVFVSRV9USUNLKys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5fdmlydGFsQm91bmRJZCA9IC0xO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLl92aXJ0YWxCb3VuZElkID0gdEluZGV4O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kVGV4dHVyZXNbdEluZGV4XSA9IG5leHRUZXh0dXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fZW5hYmxlZCA9IFRJQ0s7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleHR1cmVDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuaWRzW3RleHR1cmVDb3VudF0gPSBuZXh0VGV4dHVyZS5fdmlydGFsQm91bmRJZDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleHR1cmVzW3RleHR1cmVDb3VudCsrXSA9IG5leHRUZXh0dXJlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmVydGV4RGF0YSA9IHNwcml0ZS52ZXJ0ZXhEYXRhO1xuXG4gICAgICAgICAgICAvLyBUT0RPIHRoaXMgc3VtIGRvZXMgbm90IG5lZWQgdG8gYmUgc2V0IGVhY2ggZnJhbWUuLlxuICAgICAgICAgICAgdXZzID0gc3ByaXRlLl90ZXh0dXJlLl91dnMudXZzVWludDMyO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleF0gPSAodmVydGV4RGF0YVswXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxXSA9ICh2ZXJ0ZXhEYXRhWzFdICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyA1XSA9ICh2ZXJ0ZXhEYXRhWzJdICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDZdID0gKHZlcnRleERhdGFbM10gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDEwXSA9ICh2ZXJ0ZXhEYXRhWzRdICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDExXSA9ICh2ZXJ0ZXhEYXRhWzVdICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxNV0gPSAodmVydGV4RGF0YVs2XSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxNl0gPSAodmVydGV4RGF0YVs3XSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXhdID0gdmVydGV4RGF0YVswXTtcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDFdID0gdmVydGV4RGF0YVsxXTtcblxuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyA1XSA9IHZlcnRleERhdGFbMl07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyA2XSA9IHZlcnRleERhdGFbM107XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTBdID0gdmVydGV4RGF0YVs0XTtcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDExXSA9IHZlcnRleERhdGFbNV07XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTVdID0gdmVydGV4RGF0YVs2XTtcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDE2XSA9IHZlcnRleERhdGFbN107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHVpbnQzMlZpZXdbaW5kZXggKyAyXSA9IHV2c1swXTtcbiAgICAgICAgICAgIHVpbnQzMlZpZXdbaW5kZXggKyA3XSA9IHV2c1sxXTtcbiAgICAgICAgICAgIHVpbnQzMlZpZXdbaW5kZXggKyAxMl0gPSB1dnNbMl07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgMTddID0gdXZzWzNdO1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgdmFyIGFscGhhID0gTWF0aC5taW4oc3ByaXRlLndvcmxkQWxwaGEsIDEuMCk7XG4gICAgICAgICAgICAvLyB3ZSBkb250IGNhbGwgZXh0cmEgZnVuY3Rpb24gaWYgYWxwaGEgaXMgMS4wLCB0aGF0J3MgZmFzdGVyXG4gICAgICAgICAgICB2YXIgYXJnYiA9IGFscGhhIDwgMS4wICYmIG5leHRUZXh0dXJlLnByZW11bHRpcGxpZWRBbHBoYSA/ICgwLCBfdXRpbHMucHJlbXVsdGlwbHlUaW50KShzcHJpdGUuX3RpbnRSR0IsIGFscGhhKSA6IHNwcml0ZS5fdGludFJHQiArIChhbHBoYSAqIDI1NSA8PCAyNCk7XG5cbiAgICAgICAgICAgIHVpbnQzMlZpZXdbaW5kZXggKyAzXSA9IHVpbnQzMlZpZXdbaW5kZXggKyA4XSA9IHVpbnQzMlZpZXdbaW5kZXggKyAxM10gPSB1aW50MzJWaWV3W2luZGV4ICsgMThdID0gYXJnYjtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNF0gPSBmbG9hdDMyVmlld1tpbmRleCArIDldID0gZmxvYXQzMlZpZXdbaW5kZXggKyAxNF0gPSBmbG9hdDMyVmlld1tpbmRleCArIDE5XSA9IG5leHRUZXh0dXJlLl92aXJ0YWxCb3VuZElkO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG5cbiAgICAgICAgICAgIGluZGV4ICs9IDIwO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudEdyb3VwLnNpemUgPSBpIC0gY3VycmVudEdyb3VwLnN0YXJ0O1xuXG4gICAgICAgIGlmICghX3NldHRpbmdzMi5kZWZhdWx0LkNBTl9VUExPQURfU0FNRV9CVUZGRVIpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgc3RpbGwgbmVlZGVkIGZvciBJT1MgcGVyZm9ybWFuY2UuLlxuICAgICAgICAgICAgLy8gaXQgcmVhbGx5IGRvZXMgbm90IGxpa2UgdXBsb2FkaW5nIHRvIHRoZSBzYW1lIGJ1ZmZlciBpbiBhIHNpbmdsZSBmcmFtZSFcbiAgICAgICAgICAgIGlmICh0aGlzLnZhb01heCA8PSB0aGlzLnZlcnRleENvdW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YW9NYXgrKztcblxuICAgICAgICAgICAgICAgIHZhciBhdHRycyA9IHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXM7XG5cbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgdmFyIHZlcnRleEJ1ZmZlciA9IHRoaXMudmVydGV4QnVmZmVyc1t0aGlzLnZlcnRleENvdW50XSA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihnbCwgbnVsbCwgZ2wuU1RSRUFNX0RSQVcpO1xuICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuXG4gICAgICAgICAgICAgICAgLy8gYnVpbGQgdGhlIHZhbyBvYmplY3QgdGhhdCB3aWxsIHJlbmRlci4uXG4gICAgICAgICAgICAgICAgdmFyIHZhbyA9IHRoaXMucmVuZGVyZXIuY3JlYXRlVmFvKCkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcikuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYVZlcnRleFBvc2l0aW9uLCBnbC5GTE9BVCwgZmFsc2UsIHRoaXMudmVydEJ5dGVTaXplLCAwKS5hZGRBdHRyaWJ1dGUodmVydGV4QnVmZmVyLCBhdHRycy5hVGV4dHVyZUNvb3JkLCBnbC5VTlNJR05FRF9TSE9SVCwgdHJ1ZSwgdGhpcy52ZXJ0Qnl0ZVNpemUsIDIgKiA0KS5hZGRBdHRyaWJ1dGUodmVydGV4QnVmZmVyLCBhdHRycy5hQ29sb3IsIGdsLlVOU0lHTkVEX0JZVEUsIHRydWUsIHRoaXMudmVydEJ5dGVTaXplLCAzICogNCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYXR0cnMuYVRleHR1cmVJZCkge1xuICAgICAgICAgICAgICAgICAgICB2YW8uYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYVRleHR1cmVJZCwgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgNCAqIDQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMudmFvc1t0aGlzLnZlcnRleENvdW50XSA9IHZhbztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5iaW5kVmFvKHRoaXMudmFvc1t0aGlzLnZlcnRleENvdW50XSk7XG5cbiAgICAgICAgICAgIHRoaXMudmVydGV4QnVmZmVyc1t0aGlzLnZlcnRleENvdW50XS51cGxvYWQoYnVmZmVyLnZlcnRpY2VzLCAwLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIHRoaXMudmVydGV4Q291bnQrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxldHMgdXNlIHRoZSBmYXN0ZXIgb3B0aW9uLCBhbHdheXMgdXNlIGJ1ZmZlciBudW1iZXIgMFxuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXJzW3RoaXMudmVydGV4Q291bnRdLnVwbG9hZChidWZmZXIudmVydGljZXMsIDAsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IE1BWF9URVhUVVJFUzsgKytpKSB7XG4gICAgICAgICAgICByZW5kZXJlckJvdW5kVGV4dHVyZXNbaV0uX3ZpcnRhbEJvdW5kSWQgPSAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbmRlciB0aGUgZ3JvdXBzLi5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGdyb3VwQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIGdyb3VwID0gZ3JvdXBzW2ldO1xuICAgICAgICAgICAgdmFyIGdyb3VwVGV4dHVyZUNvdW50ID0gZ3JvdXAudGV4dHVyZUNvdW50O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaiA9IDA7IF9qIDwgZ3JvdXBUZXh0dXJlQ291bnQ7IF9qKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IGdyb3VwLnRleHR1cmVzW19qXTtcblxuICAgICAgICAgICAgICAgIC8vIHJlc2V0IHZpcnR1YWwgaWRzLi5cbiAgICAgICAgICAgICAgICAvLyBsZXRzIGRvIGEgcXVpY2sgY2hlY2suLlxuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlckJvdW5kVGV4dHVyZXNbZ3JvdXAuaWRzW19qXV0gIT09IGN1cnJlbnRUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFRleHR1cmUoY3VycmVudFRleHR1cmUsIGdyb3VwLmlkc1tfal0sIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHJlc2V0IHRoZSB2aXJ0dWFsSWQuLlxuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlLl92aXJ0YWxCb3VuZElkID0gLTE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNldCB0aGUgYmxlbmQgbW9kZS4uXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnN0YXRlLnNldEJsZW5kTW9kZShncm91cC5ibGVuZCk7XG5cbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5UUklBTkdMRVMsIGdyb3VwLnNpemUgKiA2LCBnbC5VTlNJR05FRF9TSE9SVCwgZ3JvdXAuc3RhcnQgKiA2ICogMik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCBlbGVtZW50cyBmb3IgdGhlIG5leHQgZmx1c2hcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSAwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgYSBuZXcgc3ByaXRlIGJhdGNoLlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iaW5kU2hhZGVyKHRoaXMuc2hhZGVyKTtcblxuICAgICAgICBpZiAoX3NldHRpbmdzMi5kZWZhdWx0LkNBTl9VUExPQURfU0FNRV9CVUZGRVIpIHtcbiAgICAgICAgICAgIC8vIGJpbmQgYnVmZmVyICMwLCB3ZSBkb24ndCBuZWVkIG90aGVyc1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5iaW5kVmFvKHRoaXMudmFvc1t0aGlzLnZlcnRleENvdW50XSk7XG5cbiAgICAgICAgICAgIHRoaXMudmVydGV4QnVmZmVyc1t0aGlzLnZlcnRleENvdW50XS5iaW5kKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RvcHMgYW5kIGZsdXNoZXMgdGhlIGN1cnJlbnQgYmF0Y2guXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBTcHJpdGVSZW5kZXJlci5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy52YW9NYXg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMudmVydGV4QnVmZmVyc1tpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4QnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy52YW9zW2ldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YW9zW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyZXIub2ZmKCdwcmVyZW5kZXInLCB0aGlzLm9uUHJlcmVuZGVyLCB0aGlzKTtcblxuICAgICAgICBfT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICBpZiAodGhpcy5zaGFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMudmFvcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc3ByaXRlcyA9IG51bGw7XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7ICsrX2kpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyc1tfaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBTcHJpdGVSZW5kZXJlcjtcbn0oX09iamVjdFJlbmRlcmVyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU3ByaXRlUmVuZGVyZXI7XG5cblxuX1dlYkdMUmVuZGVyZXIyLmRlZmF1bHQucmVnaXN0ZXJQbHVnaW4oJ3Nwcml0ZScsIFNwcml0ZVJlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNwcml0ZVJlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9XZWJHTE1hbmFnZXIyID0gcmVxdWlyZSgnLi9XZWJHTE1hbmFnZXInKTtcblxudmFyIF9XZWJHTE1hbmFnZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xNYW5hZ2VyMik7XG5cbnZhciBfU3ByaXRlTWFza0ZpbHRlciA9IHJlcXVpcmUoJy4uL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyJyk7XG5cbnZhciBfU3ByaXRlTWFza0ZpbHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGVNYXNrRmlsdGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5XZWJHTE1hbmFnZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNYXNrTWFuYWdlciA9IGZ1bmN0aW9uIChfV2ViR0xNYW5hZ2VyKSB7XG4gICAgX2luaGVyaXRzKE1hc2tNYW5hZ2VyLCBfV2ViR0xNYW5hZ2VyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hc2tNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYXNrTWFuYWdlcik7XG5cbiAgICAgICAgLy8gVE9ETyAtIHdlIGRvbid0IG5lZWQgYm90aCFcbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1dlYkdMTWFuYWdlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMuc2Npc3NvciA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zY2lzc29yRGF0YSA9IG51bGw7XG4gICAgICAgIF90aGlzLnNjaXNzb3JSZW5kZXJUYXJnZXQgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLmVuYWJsZVNjaXNzb3IgPSB0cnVlO1xuXG4gICAgICAgIF90aGlzLmFscGhhTWFza1Bvb2wgPSBbXTtcbiAgICAgICAgX3RoaXMuYWxwaGFNYXNrSW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcHVzaCB0aGUgbWFzayB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV8UElYSS5HcmFwaGljc30gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuXG5cbiAgICBNYXNrTWFuYWdlci5wcm90b3R5cGUucHVzaE1hc2sgPSBmdW5jdGlvbiBwdXNoTWFzayh0YXJnZXQsIG1hc2tEYXRhKSB7XG4gICAgICAgIC8vIFRPRE8gdGhlIHJvb3QgY2hlY2sgbWVhbnMgc2Npc3NvciByZWN0IHdpbGwgbm90XG4gICAgICAgIC8vIGJlIHVzZWQgb24gcmVuZGVyIHRleHR1cmVzIG1vcmUgaW5mbyBoZXJlOlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvcHVsbC8zNTQ1XG5cbiAgICAgICAgaWYgKG1hc2tEYXRhLnRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMucHVzaFNwcml0ZU1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5lbmFibGVTY2lzc29yICYmICF0aGlzLnNjaXNzb3IgJiYgdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LnJvb3QgJiYgIXRoaXMucmVuZGVyZXIuc3RlbmNpbE1hbmFnZXIuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGggJiYgbWFza0RhdGEuaXNGYXN0UmVjdCgpKSB7XG4gICAgICAgICAgICB2YXIgbWF0cml4ID0gbWFza0RhdGEud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgIHZhciByb3QgPSBNYXRoLmF0YW4yKG1hdHJpeC5iLCBtYXRyaXguYSk7XG5cbiAgICAgICAgICAgIC8vIHVzZSB0aGUgbmVhcmVzdCBkZWdyZWUhXG4gICAgICAgICAgICByb3QgPSBNYXRoLnJvdW5kKHJvdCAqICgxODAgLyBNYXRoLlBJKSk7XG5cbiAgICAgICAgICAgIGlmIChyb3QgJSA5MCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaFN0ZW5jaWxNYXNrKG1hc2tEYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoU2Npc3Nvck1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGVuY2lsTWFzayhtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBtYXNrIGZyb20gdGhlIG1hc2sgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHBvcCB0aGUgbWFzayBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZXxQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wb3BNYXNrID0gZnVuY3Rpb24gcG9wTWFzayh0YXJnZXQsIG1hc2tEYXRhKSB7XG4gICAgICAgIGlmIChtYXNrRGF0YS50ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnBvcFNwcml0ZU1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5lbmFibGVTY2lzc29yICYmICF0aGlzLnJlbmRlcmVyLnN0ZW5jaWxNYW5hZ2VyLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnBvcFNjaXNzb3JNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wb3BTdGVuY2lsTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHB1c2ggdGhlIHNwcml0ZSBtYXNrIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gbWFza0RhdGEgLSBTcHJpdGUgdG8gYmUgdXNlZCBhcyB0aGUgbWFza1xuICAgICAqL1xuXG5cbiAgICBNYXNrTWFuYWdlci5wcm90b3R5cGUucHVzaFNwcml0ZU1hc2sgPSBmdW5jdGlvbiBwdXNoU3ByaXRlTWFzayh0YXJnZXQsIG1hc2tEYXRhKSB7XG4gICAgICAgIHZhciBhbHBoYU1hc2tGaWx0ZXIgPSB0aGlzLmFscGhhTWFza1Bvb2xbdGhpcy5hbHBoYU1hc2tJbmRleF07XG5cbiAgICAgICAgaWYgKCFhbHBoYU1hc2tGaWx0ZXIpIHtcbiAgICAgICAgICAgIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XSA9IFtuZXcgX1Nwcml0ZU1hc2tGaWx0ZXIyLmRlZmF1bHQobWFza0RhdGEpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFscGhhTWFza0ZpbHRlclswXS5yZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ubWFza1Nwcml0ZSA9IG1hc2tEYXRhO1xuXG4gICAgICAgIC8vIFRPRE8gLSBtYXkgY2F1c2UgaXNzdWVzIVxuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IG1hc2tEYXRhLmdldEJvdW5kcyh0cnVlKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlck1hbmFnZXIucHVzaEZpbHRlcih0YXJnZXQsIGFscGhhTWFza0ZpbHRlcik7XG5cbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IGZpbHRlciBmcm9tIHRoZSBmaWx0ZXIgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wb3BTcHJpdGVNYXNrID0gZnVuY3Rpb24gcG9wU3ByaXRlTWFzaygpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5maWx0ZXJNYW5hZ2VyLnBvcEZpbHRlcigpO1xuICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4LS07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZXxQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wdXNoU3RlbmNpbE1hc2sgPSBmdW5jdGlvbiBwdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWxNYW5hZ2VyLnB1c2hTdGVuY2lsKG1hc2tEYXRhKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBmaWx0ZXIgZnJvbSB0aGUgZmlsdGVyIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBNYXNrTWFuYWdlci5wcm90b3R5cGUucG9wU3RlbmNpbE1hc2sgPSBmdW5jdGlvbiBwb3BTdGVuY2lsTWFzaygpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWxNYW5hZ2VyLnBvcFN0ZW5jaWwoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcHVzaCB0aGUgbWFzayB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuXG5cbiAgICBNYXNrTWFuYWdlci5wcm90b3R5cGUucHVzaFNjaXNzb3JNYXNrID0gZnVuY3Rpb24gcHVzaFNjaXNzb3JNYXNrKHRhcmdldCwgbWFza0RhdGEpIHtcbiAgICAgICAgbWFza0RhdGEucmVuZGVyYWJsZSA9IHRydWU7XG5cbiAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldDtcblxuICAgICAgICB2YXIgYm91bmRzID0gbWFza0RhdGEuZ2V0Qm91bmRzKCk7XG5cbiAgICAgICAgYm91bmRzLmZpdChyZW5kZXJUYXJnZXQuc2l6ZSk7XG4gICAgICAgIG1hc2tEYXRhLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsLmVuYWJsZSh0aGlzLnJlbmRlcmVyLmdsLlNDSVNTT1JfVEVTVCk7XG5cbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5zY2lzc29yKGJvdW5kcy54ICogcmVzb2x1dGlvbiwgKHJlbmRlclRhcmdldC5yb290ID8gcmVuZGVyVGFyZ2V0LnNpemUuaGVpZ2h0IC0gYm91bmRzLnkgLSBib3VuZHMuaGVpZ2h0IDogYm91bmRzLnkpICogcmVzb2x1dGlvbiwgYm91bmRzLndpZHRoICogcmVzb2x1dGlvbiwgYm91bmRzLmhlaWdodCAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIHRoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgdGhpcy5zY2lzc29yRGF0YSA9IG1hc2tEYXRhO1xuICAgICAgICB0aGlzLnNjaXNzb3IgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wb3BTY2lzc29yTWFzayA9IGZ1bmN0aW9uIHBvcFNjaXNzb3JNYXNrKCkge1xuICAgICAgICB0aGlzLnNjaXNzb3JSZW5kZXJUYXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnNjaXNzb3JEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zY2lzc29yID0gZmFsc2U7XG5cbiAgICAgICAgLy8gbXVzdCBiZSBzY2lzc29yIVxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIE1hc2tNYW5hZ2VyO1xufShfV2ViR0xNYW5hZ2VyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTWFza01hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXNrTWFuYWdlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBleHRyYWN0VW5pZm9ybXNGcm9tU3JjO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZGVmYXVsdFZhbHVlID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuc2hhZGVyLmRlZmF1bHRWYWx1ZTtcblxuZnVuY3Rpb24gZXh0cmFjdFVuaWZvcm1zRnJvbVNyYyh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBtYXNrKSB7XG4gICAgdmFyIHZlcnRVbmlmb3JtcyA9IGV4dHJhY3RVbmlmb3Jtc0Zyb21TdHJpbmcodmVydGV4U3JjLCBtYXNrKTtcbiAgICB2YXIgZnJhZ1VuaWZvcm1zID0gZXh0cmFjdFVuaWZvcm1zRnJvbVN0cmluZyhmcmFnbWVudFNyYywgbWFzayk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih2ZXJ0VW5pZm9ybXMsIGZyYWdVbmlmb3Jtcyk7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RVbmlmb3Jtc0Zyb21TdHJpbmcoc3RyaW5nKSB7XG4gICAgdmFyIG1hc2tSZWdleCA9IG5ldyBSZWdFeHAoJ14ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnxmaWx0ZXJBcmVhfGZpbHRlckNsYW1wKSQnKTtcblxuICAgIHZhciB1bmlmb3JtcyA9IHt9O1xuICAgIHZhciBuYW1lU3BsaXQgPSB2b2lkIDA7XG5cbiAgICAvLyBjbGVhbiB0aGUgbGluZXMgYSBsaXR0bGUgLSByZW1vdmUgZXh0cmEgc3BhY2VzIC8gdGFicyBldGNcbiAgICAvLyB0aGVuIHNwbGl0IGFsb25nICc7J1xuICAgIHZhciBsaW5lcyA9IHN0cmluZy5yZXBsYWNlKC9cXHMrL2csICcgJykuc3BsaXQoL1xccyo7XFxzKi8pO1xuXG4gICAgLy8gbG9vcCB0aHJvdWdoLi5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBsaW5lID0gbGluZXNbaV0udHJpbSgpO1xuXG4gICAgICAgIGlmIChsaW5lLmluZGV4T2YoJ3VuaWZvcm0nKSA+IC0xKSB7XG4gICAgICAgICAgICB2YXIgc3BsaXRMaW5lID0gbGluZS5zcGxpdCgnICcpO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBzcGxpdExpbmVbMV07XG5cbiAgICAgICAgICAgIHZhciBuYW1lID0gc3BsaXRMaW5lWzJdO1xuICAgICAgICAgICAgdmFyIHNpemUgPSAxO1xuXG4gICAgICAgICAgICBpZiAobmFtZS5pbmRleE9mKCdbJykgPiAtMSkge1xuICAgICAgICAgICAgICAgIC8vIGFycmF5IVxuICAgICAgICAgICAgICAgIG5hbWVTcGxpdCA9IG5hbWUuc3BsaXQoL1xcW3xdLyk7XG4gICAgICAgICAgICAgICAgbmFtZSA9IG5hbWVTcGxpdFswXTtcbiAgICAgICAgICAgICAgICBzaXplICo9IE51bWJlcihuYW1lU3BsaXRbMV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIW5hbWUubWF0Y2gobWFza1JlZ2V4KSkge1xuICAgICAgICAgICAgICAgIHVuaWZvcm1zW25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlKHR5cGUsIHNpemUpLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB1bmlmb3Jtcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4dHJhY3RVbmlmb3Jtc0Zyb21TcmMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMTWFuYWdlcjIgPSByZXF1aXJlKCcuL1dlYkdMTWFuYWdlcicpO1xuXG52YXIgX1dlYkdMTWFuYWdlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTE1hbmFnZXIyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5XZWJHTE1hbmFnZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTdGVuY2lsTWFuYWdlciA9IGZ1bmN0aW9uIChfV2ViR0xNYW5hZ2VyKSB7XG4gICAgX2luaGVyaXRzKFN0ZW5jaWxNYW5hZ2VyLCBfV2ViR0xNYW5hZ2VyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0ZW5jaWxNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGVuY2lsTWFuYWdlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1dlYkdMTWFuYWdlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMuc3RlbmNpbE1hc2tTdGFjayA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBtYXNrIHN0YWNrIHRoYXQgaXMgdXNlZCBieSB0aGlzIG1hbmFnZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NbXX0gc3RlbmNpbE1hc2tTdGFjayAtIFRoZSBtYXNrIHN0YWNrXG4gICAgICovXG5cblxuICAgIFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5zZXRNYXNrU3RhY2sgPSBmdW5jdGlvbiBzZXRNYXNrU3RhY2soc3RlbmNpbE1hc2tTdGFjaykge1xuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sgPSBzdGVuY2lsTWFza1N0YWNrO1xuXG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgaWYgKHN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IHN0ZW5jaWwgc3RhY2suIEBhbHZpblxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIFRoZSBtYXNrXG4gICAgICovXG5cblxuICAgIFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5wdXNoU3RlbmNpbCA9IGZ1bmN0aW9uIHB1c2hTdGVuY2lsKGdyYXBoaWNzKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5yZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQuYXR0YWNoU3RlbmNpbEJ1ZmZlcigpO1xuXG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBwcmV2TWFza0NvdW50ID0gdGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aDtcblxuICAgICAgICBpZiAocHJldk1hc2tDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sucHVzaChncmFwaGljcyk7XG5cbiAgICAgICAgLy8gSW5jcmVtZW50IHRoZSByZWZlcmVuY2Ugc3RlbmNpbCB2YWx1ZSB3aGVyZSB0aGUgbmV3IG1hc2sgb3ZlcmxhcHMgd2l0aCB0aGUgb2xkIG9uZXMuXG4gICAgICAgIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCBwcmV2TWFza0NvdW50LCB0aGlzLl9nZXRCaXR3aXNlTWFzaygpKTtcbiAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLklOQ1IpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MucmVuZGVyKGdyYXBoaWNzKTtcblxuICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgbWFzayBmcm9tIHRoZSBzdGVuY2lsIHN0YWNrLiBAYWx2aW5cbiAgICAgKi9cblxuXG4gICAgU3RlbmNpbE1hbmFnZXIucHJvdG90eXBlLnBvcFN0ZW5jaWwgPSBmdW5jdGlvbiBwb3BTdGVuY2lsKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHRoaXMucmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcyk7XG5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGdyYXBoaWNzID0gdGhpcy5zdGVuY2lsTWFza1N0YWNrLnBvcCgpO1xuXG4gICAgICAgIGlmICh0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyB0aGUgc3RhY2sgaXMgZW1wdHkhXG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgICAgICBnbC5jbGVhcihnbC5TVEVOQ0lMX0JVRkZFUl9CSVQpO1xuICAgICAgICAgICAgZ2wuY2xlYXJTdGVuY2lsKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRGVjcmVtZW50IHRoZSByZWZlcmVuY2Ugc3RlbmNpbCB2YWx1ZSB3aGVyZSB0aGUgcG9wcGVkIG1hc2sgb3ZlcmxhcHMgd2l0aCB0aGUgb3RoZXIgb25lc1xuICAgICAgICAgICAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5ERUNSKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy5yZW5kZXIoZ3JhcGhpY3MpO1xuXG4gICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0dXAgcmVuZGVyZXIgdG8gdXNlIHRoZSBjdXJyZW50IHN0ZW5jaWwgZGF0YS5cbiAgICAgKi9cblxuXG4gICAgU3RlbmNpbE1hbmFnZXIucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gX3VzZUN1cnJlbnQoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wuY29sb3JNYXNrKHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICAgICAgICBnbC5zdGVuY2lsRnVuYyhnbC5FUVVBTCwgdGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCwgdGhpcy5fZ2V0Qml0d2lzZU1hc2soKSk7XG4gICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5LRUVQKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlsbCAxcyBlcXVhbCB0byB0aGUgbnVtYmVyIG9mIGFjaXR2ZSBzdGVuY2lsIG1hc2tzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgYml0d2lzZSBtYXNrLlxuICAgICAqL1xuXG5cbiAgICBTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUuX2dldEJpdHdpc2VNYXNrID0gZnVuY3Rpb24gX2dldEJpdHdpc2VNYXNrKCkge1xuICAgICAgICByZXR1cm4gKDEgPDwgdGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCkgLSAxO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgbWFzayBzdGFjay5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIF9XZWJHTE1hbmFnZXIzLmRlZmF1bHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2suc3RlbmNpbFN0YWNrID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFN0ZW5jaWxNYW5hZ2VyO1xufShfV2ViR0xNYW5hZ2VyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU3RlbmNpbE1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGVuY2lsTWFuYWdlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMiA9IHJlcXVpcmUoJy4vV2ViR0xNYW5hZ2VyJyk7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMTWFuYWdlcjIpO1xuXG52YXIgX1JlbmRlclRhcmdldCA9IHJlcXVpcmUoJy4uL3V0aWxzL1JlbmRlclRhcmdldCcpO1xuXG52YXIgX1JlbmRlclRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUYXJnZXQpO1xuXG52YXIgX1F1YWQgPSByZXF1aXJlKCcuLi91dGlscy9RdWFkJyk7XG5cbnZhciBfUXVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9RdWFkKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vLi4vLi4vbWF0aCcpO1xuXG52YXIgX1NoYWRlciA9IHJlcXVpcmUoJy4uLy4uLy4uL1NoYWRlcicpO1xuXG52YXIgX1NoYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXIpO1xuXG52YXIgX2ZpbHRlclRyYW5zZm9ybXMgPSByZXF1aXJlKCcuLi9maWx0ZXJzL2ZpbHRlclRyYW5zZm9ybXMnKTtcblxudmFyIGZpbHRlclRyYW5zZm9ybXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZmlsdGVyVHJhbnNmb3Jtcyk7XG5cbnZhciBfYml0VHdpZGRsZSA9IHJlcXVpcmUoJ2JpdC10d2lkZGxlJyk7XG5cbnZhciBfYml0VHdpZGRsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaXRUd2lkZGxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqIEBjbGFzc1xuICovXG52YXIgRmlsdGVyU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGaWx0ZXJTdGF0ZSgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlclN0YXRlKTtcblxuICAgICAgICB0aGlzLnJlbmRlclRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gMTtcblxuICAgICAgICAvLyB0aG9zZSB0aHJlZSBvYmplY3RzIGFyZSB1c2VkIG9ubHkgZm9yIHJvb3RcbiAgICAgICAgLy8gcmUtYXNzaWduZWQgZm9yIGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICB0aGlzLnNvdXJjZUZyYW1lID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNsZWFycyB0aGUgc3RhdGVcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyU3RhdGUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJUYXJnZXQgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gRmlsdGVyU3RhdGU7XG59KCk7XG5cbnZhciBzY3JlZW5LZXkgPSAnc2NyZWVuJztcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLldlYkdMTWFuYWdlclxuICovXG5cbnZhciBGaWx0ZXJNYW5hZ2VyID0gZnVuY3Rpb24gKF9XZWJHTE1hbmFnZXIpIHtcbiAgICBfaW5oZXJpdHMoRmlsdGVyTWFuYWdlciwgX1dlYkdMTWFuYWdlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGaWx0ZXJNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaWx0ZXJNYW5hZ2VyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfV2ViR0xNYW5hZ2VyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5nbCA9IF90aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICAvLyBrbm93IGFib3V0IHNwcml0ZXMhXG4gICAgICAgIF90aGlzLnF1YWQgPSBuZXcgX1F1YWQyLmRlZmF1bHQoX3RoaXMuZ2wsIHJlbmRlcmVyLnN0YXRlLmF0dHJpYlN0YXRlKTtcblxuICAgICAgICBfdGhpcy5zaGFkZXJDYWNoZSA9IHt9O1xuICAgICAgICAvLyB0b2RvIGFkZCBkZWZhdWx0IVxuICAgICAgICBfdGhpcy5wb29sID0ge307XG5cbiAgICAgICAgX3RoaXMuZmlsdGVyRGF0YSA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMubWFuYWdlZEZpbHRlcnMgPSBbXTtcblxuICAgICAgICBfdGhpcy5yZW5kZXJlci5vbigncHJlcmVuZGVyJywgX3RoaXMub25QcmVyZW5kZXIsIF90aGlzKTtcblxuICAgICAgICBfdGhpcy5fc2NyZWVuV2lkdGggPSByZW5kZXJlci52aWV3LndpZHRoO1xuICAgICAgICBfdGhpcy5fc2NyZWVuSGVpZ2h0ID0gcmVuZGVyZXIudmlldy5oZWlnaHQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbmV3IGZpbHRlciB0byB0aGUgbWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9mIHRoZSBmaWx0ZXIgdG8gcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJbXX0gZmlsdGVycyAtIFRoZSBmaWx0ZXJzIHRvIGFwcGx5LlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5wdXNoRmlsdGVyID0gZnVuY3Rpb24gcHVzaEZpbHRlcih0YXJnZXQsIGZpbHRlcnMpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICB2YXIgZmlsdGVyRGF0YSA9IHRoaXMuZmlsdGVyRGF0YTtcblxuICAgICAgICBpZiAoIWZpbHRlckRhdGEpIHtcbiAgICAgICAgICAgIGZpbHRlckRhdGEgPSB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQuZmlsdGVyU3RhY2s7XG5cbiAgICAgICAgICAgIC8vIGFkZCBuZXcgc3RhY2tcbiAgICAgICAgICAgIHZhciBmaWx0ZXJTdGF0ZSA9IG5ldyBGaWx0ZXJTdGF0ZSgpO1xuXG4gICAgICAgICAgICBmaWx0ZXJTdGF0ZS5zb3VyY2VGcmFtZSA9IGZpbHRlclN0YXRlLmRlc3RpbmF0aW9uRnJhbWUgPSB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQuc2l6ZTtcbiAgICAgICAgICAgIGZpbHRlclN0YXRlLnJlbmRlclRhcmdldCA9IHJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5maWx0ZXJEYXRhID0gZmlsdGVyRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBpbmRleDogMCxcbiAgICAgICAgICAgICAgICBzdGFjazogW2ZpbHRlclN0YXRlXVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5maWx0ZXJEYXRhID0gZmlsdGVyRGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCB0aGUgY3VycmVudCBmaWx0ZXIgc3RhdGUuLlxuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gZmlsdGVyRGF0YS5zdGFja1srK2ZpbHRlckRhdGEuaW5kZXhdO1xuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0RnJhbWUgPSBmaWx0ZXJEYXRhLnN0YWNrWzBdLmRlc3RpbmF0aW9uRnJhbWU7XG5cbiAgICAgICAgaWYgKCFjdXJyZW50U3RhdGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IGZpbHRlckRhdGEuc3RhY2tbZmlsdGVyRGF0YS5pbmRleF0gPSBuZXcgRmlsdGVyU3RhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmdWxsU2NyZWVuID0gdGFyZ2V0LmZpbHRlckFyZWEgJiYgdGFyZ2V0LmZpbHRlckFyZWEueCA9PT0gMCAmJiB0YXJnZXQuZmlsdGVyQXJlYS55ID09PSAwICYmIHRhcmdldC5maWx0ZXJBcmVhLndpZHRoID09PSByZW5kZXJlci5zY3JlZW4ud2lkdGggJiYgdGFyZ2V0LmZpbHRlckFyZWEuaGVpZ2h0ID09PSByZW5kZXJlci5zY3JlZW4uaGVpZ2h0O1xuXG4gICAgICAgIC8vIGZvciBub3cgd2UgZ28gb2ZmIHRoZSBmaWx0ZXIgb2YgdGhlIGZpcnN0IHJlc29sdXRpb24uLlxuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGZpbHRlcnNbMF0ucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSBmaWx0ZXJzWzBdLnBhZGRpbmcgfCAwO1xuICAgICAgICB2YXIgdGFyZ2V0Qm91bmRzID0gZnVsbFNjcmVlbiA/IHJlbmRlcmVyLnNjcmVlbiA6IHRhcmdldC5maWx0ZXJBcmVhIHx8IHRhcmdldC5nZXRCb3VuZHModHJ1ZSk7XG4gICAgICAgIHZhciBzb3VyY2VGcmFtZSA9IGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uRnJhbWUgPSBjdXJyZW50U3RhdGUuZGVzdGluYXRpb25GcmFtZTtcblxuICAgICAgICBzb3VyY2VGcmFtZS54ID0gKHRhcmdldEJvdW5kcy54ICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgc291cmNlRnJhbWUueSA9ICh0YXJnZXRCb3VuZHMueSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgIHNvdXJjZUZyYW1lLndpZHRoID0gKHRhcmdldEJvdW5kcy53aWR0aCAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgIHNvdXJjZUZyYW1lLmhlaWdodCA9ICh0YXJnZXRCb3VuZHMuaGVpZ2h0ICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAoIWZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgIGlmIChmaWx0ZXJEYXRhLnN0YWNrWzBdLnJlbmRlclRhcmdldC50cmFuc2Zvcm0pIHsvL1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyB3ZSBzaG91bGQgZml0IHRoZSByZWN0IGFyb3VuZCB0aGUgdHJhbnNmb3JtLi5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlsdGVyc1swXS5hdXRvRml0KSB7XG4gICAgICAgICAgICAgICAgc291cmNlRnJhbWUuZml0KHJlbmRlclRhcmdldEZyYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbGV0cyBhcHBseSB0aGUgcGFkZGluZyBBZnRlciB3ZSBmaXQgdGhlIGVsZW1lbnQgdG8gdGhlIHNjcmVlbi5cbiAgICAgICAgICAgIC8vIHRoaXMgc2hvdWxkIHN0b3AgdGhlIHN0cmFuZ2Ugc2lkZSBlZmZlY3RzIHRoYXQgY2FuIG9jY3VyIHdoZW4gY3JvcHBpbmcgdG8gdGhlIGVkZ2VzXG4gICAgICAgICAgICBzb3VyY2VGcmFtZS5wYWQocGFkZGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gc291cmNlRnJhbWUud2lkdGg7XG4gICAgICAgIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gc291cmNlRnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIC8vIGxldHMgcGxheSB0aGUgcGFkZGluZyBhZnRlciB3ZSBmaXQgdGhlIGVsZW1lbnQgdG8gdGhlIHNjcmVlbi5cbiAgICAgICAgLy8gdGhpcyBzaG91bGQgc3RvcCB0aGUgc3RyYW5nZSBzaWRlIGVmZmVjdHMgdGhhdCBjYW4gb2NjdXIgd2hlbiBjcm9wcGluZyB0byB0aGUgZWRnZXNcblxuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gdGhpcy5nZXRQb3RSZW5kZXJUYXJnZXQocmVuZGVyZXIuZ2wsIHNvdXJjZUZyYW1lLndpZHRoLCBzb3VyY2VGcmFtZS5oZWlnaHQsIHJlc29sdXRpb24pO1xuXG4gICAgICAgIGN1cnJlbnRTdGF0ZS50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIGN1cnJlbnRTdGF0ZS5maWx0ZXJzID0gZmlsdGVycztcbiAgICAgICAgY3VycmVudFN0YXRlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0ID0gcmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgIC8vIGJpbmQgdGhlIHJlbmRlciB0YXJnZXQgdG8gZHJhdyB0aGUgc2hhcGUgaW4gdGhlIHRvcCBjb3JuZXIuLlxuXG4gICAgICAgIHJlbmRlclRhcmdldC5zZXRGcmFtZShkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSk7XG5cbiAgICAgICAgLy8gYmluZCB0aGUgcmVuZGVyIHRhcmdldFxuICAgICAgICByZW5kZXJlci5iaW5kUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgICAgIHJlbmRlclRhcmdldC5jbGVhcigpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb3BzIG9mZiB0aGUgZmlsdGVyIGFuZCBhcHBsaWVzIGl0LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLnBvcEZpbHRlciA9IGZ1bmN0aW9uIHBvcEZpbHRlcigpIHtcbiAgICAgICAgdmFyIGZpbHRlckRhdGEgPSB0aGlzLmZpbHRlckRhdGE7XG5cbiAgICAgICAgdmFyIGxhc3RTdGF0ZSA9IGZpbHRlckRhdGEuc3RhY2tbZmlsdGVyRGF0YS5pbmRleCAtIDFdO1xuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gZmlsdGVyRGF0YS5zdGFja1tmaWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICB0aGlzLnF1YWQubWFwKGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZSwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lKS51cGxvYWQoKTtcblxuICAgICAgICB2YXIgZmlsdGVycyA9IGN1cnJlbnRTdGF0ZS5maWx0ZXJzO1xuXG4gICAgICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgZmlsdGVyc1swXS5hcHBseSh0aGlzLCBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LCBsYXN0U3RhdGUucmVuZGVyVGFyZ2V0LCBmYWxzZSwgY3VycmVudFN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMuZnJlZVBvdFJlbmRlclRhcmdldChjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmbGlwID0gY3VycmVudFN0YXRlLnJlbmRlclRhcmdldDtcbiAgICAgICAgICAgIHZhciBmbG9wID0gdGhpcy5nZXRQb3RSZW5kZXJUYXJnZXQodGhpcy5yZW5kZXJlci5nbCwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLndpZHRoLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0LCBjdXJyZW50U3RhdGUucmVzb2x1dGlvbik7XG5cbiAgICAgICAgICAgIGZsb3Auc2V0RnJhbWUoY3VycmVudFN0YXRlLmRlc3RpbmF0aW9uRnJhbWUsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZSk7XG5cbiAgICAgICAgICAgIC8vIGZpbmFsbHkgbGV0cyBjbGVhciB0aGUgcmVuZGVyIHRhcmdldCBiZWZvcmUgZHJhd2luZyB0byBpdC4uXG4gICAgICAgICAgICBmbG9wLmNsZWFyKCk7XG5cbiAgICAgICAgICAgIHZhciBpID0gMDtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBmbG9wLCB0cnVlLCBjdXJyZW50U3RhdGUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHQgPSBmbGlwO1xuXG4gICAgICAgICAgICAgICAgZmxpcCA9IGZsb3A7XG4gICAgICAgICAgICAgICAgZmxvcCA9IHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgbGFzdFN0YXRlLnJlbmRlclRhcmdldCwgZmFsc2UsIGN1cnJlbnRTdGF0ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZnJlZVBvdFJlbmRlclRhcmdldChmbGlwKTtcbiAgICAgICAgICAgIHRoaXMuZnJlZVBvdFJlbmRlclRhcmdldChmbG9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRTdGF0ZS5jbGVhcigpO1xuICAgICAgICBmaWx0ZXJEYXRhLmluZGV4LS07XG5cbiAgICAgICAgaWYgKGZpbHRlckRhdGEuaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyRGF0YSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyfSBmaWx0ZXIgLSBUaGUgZmlsdGVyIHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0XG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmFwcGx5RmlsdGVyID0gZnVuY3Rpb24gYXBwbHlGaWx0ZXIoZmlsdGVyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcikge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICB2YXIgc2hhZGVyID0gZmlsdGVyLmdsU2hhZGVyc1tyZW5kZXJlci5DT05URVhUX1VJRF07XG5cbiAgICAgICAgLy8gY2FjaGluZy4uXG4gICAgICAgIGlmICghc2hhZGVyKSB7XG4gICAgICAgICAgICBpZiAoZmlsdGVyLmdsU2hhZGVyS2V5KSB7XG4gICAgICAgICAgICAgICAgc2hhZGVyID0gdGhpcy5zaGFkZXJDYWNoZVtmaWx0ZXIuZ2xTaGFkZXJLZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzaGFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyID0gbmV3IF9TaGFkZXIyLmRlZmF1bHQodGhpcy5nbCwgZmlsdGVyLnZlcnRleFNyYywgZmlsdGVyLmZyYWdtZW50U3JjKTtcblxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXIuZ2xTaGFkZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IHRoaXMuc2hhZGVyQ2FjaGVbZmlsdGVyLmdsU2hhZGVyS2V5XSA9IHNoYWRlcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VkRmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaGFkZXIgPSBmaWx0ZXIuZ2xTaGFkZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IG5ldyBfU2hhZGVyMi5kZWZhdWx0KHRoaXMuZ2wsIGZpbHRlci52ZXJ0ZXhTcmMsIGZpbHRlci5mcmFnbWVudFNyYyk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VkRmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSB0aGlzIG9ubHkgbmVlZHMgdG8gYmUgZG9uZSBvbmNlP1xuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFZhbyhudWxsKTtcblxuICAgICAgICAgICAgdGhpcy5xdWFkLmluaXRWYW8oc2hhZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJpbmRWYW8odGhpcy5xdWFkLnZhbyk7XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFJlbmRlclRhcmdldChvdXRwdXQpO1xuXG4gICAgICAgIGlmIChjbGVhcikge1xuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICAgICAgcmVuZGVyZXIuY2xlYXIoKTsgLy8gWzEsIDEsIDEsIDFdKTtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW4gY2FzZSB0aGUgcmVuZGVyIHRhcmdldCBpcyBiZWluZyBtYXNrZWQgdXNpbmcgYSBzY2lzc29yIHJlY3RcbiAgICAgICAgaWYgKG91dHB1dCA9PT0gcmVuZGVyZXIubWFza01hbmFnZXIuc2Npc3NvclJlbmRlclRhcmdldCkge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFza01hbmFnZXIucHVzaFNjaXNzb3JNYXNrKG51bGwsIHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnNjaXNzb3JEYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJpbmRTaGFkZXIoc2hhZGVyKTtcblxuICAgICAgICAvLyBmcmVlIHVuaXQgMCBmb3IgdXMsIGRvZXNuJ3QgbWF0dGVyIHdoYXQgd2FzIHRoZXJlXG4gICAgICAgIC8vIGRvbid0IHRyeSB0byByZXN0b3JlIGl0LCBiZWNhdXNlIHN5bmNVbmlmb3JtcyBjYW4gdXBsb2FkIGl0IHRvIGFub3RoZXIgc2xvdFxuICAgICAgICAvLyBhbmQgaXQnbGwgYmUgYSBwcm9ibGVtXG4gICAgICAgIHZhciB0ZXggPSB0aGlzLnJlbmRlcmVyLmVtcHR5VGV4dHVyZXNbMF07XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5ib3VuZFRleHR1cmVzWzBdID0gdGV4O1xuICAgICAgICAvLyB0aGlzIHN5bmNzIHRoZSBQaXhpSlMgZmlsdGVycyAgdW5pZm9ybXMgd2l0aCBnbHNsIHVuaWZvcm1zXG4gICAgICAgIHRoaXMuc3luY1VuaWZvcm1zKHNoYWRlciwgZmlsdGVyKTtcblxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoZmlsdGVyLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGlucHV0LnRleHR1cmUudGV4dHVyZSk7XG5cbiAgICAgICAgdGhpcy5xdWFkLnZhby5kcmF3KHRoaXMucmVuZGVyZXIuZ2wuVFJJQU5HTEVTLCA2LCAwKTtcblxuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXguX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0udGV4dHVyZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHVuaWZvcm1zIG9mIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dMU2hhZGVyfSBzaGFkZXIgLSBUaGUgdW5kZXJseWluZyBnbCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcn0gZmlsdGVyIC0gVGhlIGZpbHRlciB3ZSBhcmUgc3luY2hyb25pemluZy5cbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuc3luY1VuaWZvcm1zID0gZnVuY3Rpb24gc3luY1VuaWZvcm1zKHNoYWRlciwgZmlsdGVyKSB7XG4gICAgICAgIHZhciB1bmlmb3JtRGF0YSA9IGZpbHRlci51bmlmb3JtRGF0YTtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0gZmlsdGVyLnVuaWZvcm1zO1xuXG4gICAgICAgIC8vIDAgaXMgcmVzZXJ2ZWQgZm9yIHRoZSBQaXhpSlMgdGV4dHVyZSBzbyB3ZSBzdGFydCBhdCAxIVxuICAgICAgICB2YXIgdGV4dHVyZUNvdW50ID0gMTtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHZvaWQgMDtcblxuICAgICAgICAvLyBmaWx0ZXJBcmVhIGFuZCBmaWx0ZXJDbGFtcCB0aGF0IGFyZSBoYW5kbGVkIGJ5IEZpbHRlck1hbmFnZXIgZGlyZWN0bHlcbiAgICAgICAgLy8gdGhleSBtdXN0IG5vdCBhcHBlYXIgaW4gdW5pZm9ybURhdGFcblxuICAgICAgICBpZiAoc2hhZGVyLnVuaWZvcm1zLmZpbHRlckFyZWEpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IHRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdO1xuXG4gICAgICAgICAgICB2YXIgZmlsdGVyQXJlYSA9IHNoYWRlci51bmlmb3Jtcy5maWx0ZXJBcmVhO1xuXG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzBdID0gY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLndpZHRoO1xuICAgICAgICAgICAgZmlsdGVyQXJlYVsxXSA9IGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzJdID0gY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLng7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzNdID0gY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLnk7XG5cbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy5maWx0ZXJBcmVhID0gZmlsdGVyQXJlYTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVzZSB0aGlzIHRvIGNsYW1wIGRpc3BsYWNlZCB0ZXh0dXJlIGNvb3JkcyBzbyB0aGV5IGJlbG9uZyB0byBmaWx0ZXJBcmVhXG4gICAgICAgIC8vIHNlZSBkaXNwbGFjZW1lbnRGaWx0ZXIgZnJhZ21lbnQgc2hhZGVyIGZvciBhbiBleGFtcGxlXG4gICAgICAgIGlmIChzaGFkZXIudW5pZm9ybXMuZmlsdGVyQ2xhbXApIHtcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRTdGF0ZSB8fCB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICAgICAgdmFyIGZpbHRlckNsYW1wID0gc2hhZGVyLnVuaWZvcm1zLmZpbHRlckNsYW1wO1xuXG4gICAgICAgICAgICBmaWx0ZXJDbGFtcFswXSA9IDA7XG4gICAgICAgICAgICBmaWx0ZXJDbGFtcFsxXSA9IDA7XG4gICAgICAgICAgICBmaWx0ZXJDbGFtcFsyXSA9IChjdXJyZW50U3RhdGUuc291cmNlRnJhbWUud2lkdGggLSAxKSAvIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZS53aWR0aDtcbiAgICAgICAgICAgIGZpbHRlckNsYW1wWzNdID0gKGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQgLSAxKSAvIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy5maWx0ZXJDbGFtcCA9IGZpbHRlckNsYW1wO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyBDYWNoaW5nIGxheWVyLi5cbiAgICAgICAgZm9yICh2YXIgaSBpbiB1bmlmb3JtRGF0YSkge1xuICAgICAgICAgICAgaWYgKCFzaGFkZXIudW5pZm9ybXMuZGF0YVtpXSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdHlwZSA9IHVuaWZvcm1EYXRhW2ldLnR5cGU7XG5cbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnc2FtcGxlcjJkJyAmJiB1bmlmb3Jtc1tpXSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICh1bmlmb3Jtc1tpXS5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB0aGlzLnJlbmRlcmVyLmJpbmRUZXh0dXJlKHVuaWZvcm1zW2ldLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ291bnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtc1tpXSA9IHRleHR1cmVDb3VudDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgaGVscGZ1bCBhcyByZW5kZXJUYXJnZXRzIGNhbiBhbHNvIGJlIHNldC5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWx0aG91Z2ggdGhpbmtpbmcgYWJvdXQgaXQsIHdlIGNvdWxkIHByb2JhYmx5XG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2UgdGhlIGZpbHRlciB0ZXh0dXJlIGNhY2hlIHJldHVybiBhIFJlbmRlclRleHR1cmVcbiAgICAgICAgICAgICAgICAgICAgLy8gcmF0aGVyIHRoYW4gYSByZW5kZXJUYXJnZXRcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmJvdW5kVGV4dHVyZXNbdGV4dHVyZUNvdW50XSA9IHRoaXMucmVuZGVyZXIuZW1wdHlUZXh0dXJlc1t0ZXh0dXJlQ291bnRdO1xuICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgdGV4dHVyZUNvdW50KTtcblxuICAgICAgICAgICAgICAgICAgICB1bmlmb3Jtc1tpXS50ZXh0dXJlLmJpbmQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQrKztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ21hdDMnKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgaXRzIFBpeGlKUyBtYXRyaXguLlxuICAgICAgICAgICAgICAgIGlmICh1bmlmb3Jtc1tpXS5hICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdW5pZm9ybXNbaV0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB1bmlmb3Jtc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd2ZWMyJykge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGl0cyBhIHBvaW50Li5cbiAgICAgICAgICAgICAgICBpZiAodW5pZm9ybXNbaV0ueCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBzaGFkZXIudW5pZm9ybXNbaV0gfHwgbmV3IEZsb2F0MzJBcnJheSgyKTtcblxuICAgICAgICAgICAgICAgICAgICB2YWxbMF0gPSB1bmlmb3Jtc1tpXS54O1xuICAgICAgICAgICAgICAgICAgICB2YWxbMV0gPSB1bmlmb3Jtc1tpXS55O1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB2YWw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdW5pZm9ybXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnZmxvYXQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNoYWRlci51bmlmb3Jtcy5kYXRhW2ldLnZhbHVlICE9PSB1bmlmb3JtRGF0YVtpXSkge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB1bmlmb3Jtc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtc1tpXSA9IHVuaWZvcm1zW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgYSByZW5kZXIgdGFyZ2V0IGZyb20gdGhlIHBvb2wsIG9yIGNyZWF0ZXMgYSBuZXcgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB3ZSBjbGVhciB0aGUgcmVuZGVyIHRleHR1cmUgd2hlbiB3ZSBnZXQgaXQ/XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdGFyZ2V0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGFyZ2V0fSBUaGUgbmV3IHJlbmRlciB0YXJnZXRcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZ2V0UmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gZ2V0UmVuZGVyVGFyZ2V0KGNsZWFyLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcbiAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IHRoaXMuZ2V0UG90UmVuZGVyVGFyZ2V0KHRoaXMucmVuZGVyZXIuZ2wsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCwgcmVzb2x1dGlvbiB8fCBjdXJyZW50U3RhdGUucmVzb2x1dGlvbik7XG5cbiAgICAgICAgcmVuZGVyVGFyZ2V0LnNldEZyYW1lKGN1cnJlbnRTdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJUYXJnZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByZW5kZXIgdGFyZ2V0IHRvIHRoZSBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gcmVuZGVyVGFyZ2V0IC0gVGhlIHJlbmRlciB0YXJnZXQgdG8gcmV0dXJuLlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5yZXR1cm5SZW5kZXJUYXJnZXQgPSBmdW5jdGlvbiByZXR1cm5SZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuZnJlZVBvdFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqXG4gICAgICogVE9ETyBwbGF5aW5nIGFyb3VuZCBoZXJlLi4gdGhpcyBpcyB0ZW1wb3JhcnkgLSAod2lsbCBlbmQgdXAgaW4gdGhlIHNoYWRlcilcbiAgICAgKiB0aGlzIHJldHVybnMgYSBtYXRyaXggdGhhdCB3aWxsIG5vcm1hbGlzZSBtYXAgZmlsdGVyIGNvcmRzIGluIHRoZSBmaWx0ZXIgdG8gc2NyZWVuIHNwYWNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSB0aGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4ID0gZnVuY3Rpb24gY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4KSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyVHJhbnNmb3Jtcy5jYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZSwgY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdlRleHR1cmVDb29yZCB0byB0aGlzIG1hdHJpeCB0byBhY2hpZXZlICgwLDAsMSwxKSBmb3IgZmlsdGVyQXJlYVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5jYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXggPSBmdW5jdGlvbiBjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4KSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyVHJhbnNmb3Jtcy5jYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4LCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUsIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZSwgY3VycmVudFN0YXRlLmRlc3RpbmF0aW9uRnJhbWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgbWFwIHRoZSBmaWx0ZXIgY29vcmQgc28gdGhhdCBhIHRleHR1cmUgY2FuIGJlIHVzZWQgYmFzZWQgb24gdGhlIHRyYW5zZm9ybSBvZiBhIHNwcml0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB0byBtYXAgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5jYWxjdWxhdGVTcHJpdGVNYXRyaXggPSBmdW5jdGlvbiBjYWxjdWxhdGVTcHJpdGVNYXRyaXgob3V0cHV0TWF0cml4LCBzcHJpdGUpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdO1xuXG4gICAgICAgIHJldHVybiBmaWx0ZXJUcmFuc2Zvcm1zLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeChvdXRwdXRNYXRyaXgsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZSwgY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLCBzcHJpdGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIEZpbHRlciBNYW5hZ2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIGNvbnRleHQgd2FzIGxvc3QsIGRvIG5vdCBmcmVlIHNoYWRlcnNcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdmFyIGNvbnRleHRMb3N0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZmlsdGVycyA9IHRoaXMubWFuYWdlZEZpbHRlcnM7XG5cbiAgICAgICAgcmVuZGVyZXIub2ZmKCdwcmVyZW5kZXInLCB0aGlzLm9uUHJlcmVuZGVyLCB0aGlzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJzW2ldLmdsU2hhZGVyc1tyZW5kZXJlci5DT05URVhUX1VJRF0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIGZpbHRlcnNbaV0uZ2xTaGFkZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hhZGVyQ2FjaGUgPSB7fTtcbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgdGhpcy5lbXB0eVBvb2woKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9vbCA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBQb3dlci1vZi1Ud28gcmVuZGVyIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBUT0RPIG1vdmUgdG8gYSBzZXBhcmF0ZSBjbGFzcyBjb3VsZCBiZSBvbiByZW5kZXJlcj9cbiAgICAgKiBhbHNvIC0gY291bGQgY2F1c2UgaXNzdWUgd2l0aCBtdWx0aXBsZSBjb250ZXh0cz9cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHdlYmdsIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbldpZHRoIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGFyZ2V0fSBUaGUgbmV3IHJlbmRlciB0YXJnZXQuXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmdldFBvdFJlbmRlclRhcmdldCA9IGZ1bmN0aW9uIGdldFBvdFJlbmRlclRhcmdldChnbCwgbWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICB2YXIga2V5ID0gc2NyZWVuS2V5O1xuXG4gICAgICAgIG1pbldpZHRoICo9IHJlc29sdXRpb247XG4gICAgICAgIG1pbkhlaWdodCAqPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChtaW5XaWR0aCAhPT0gdGhpcy5fc2NyZWVuV2lkdGggfHwgbWluSGVpZ2h0ICE9PSB0aGlzLl9zY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgICAgIC8vIFRPRE8geW91IGNvdWxkIHJldHVybiBhIGJpZ2dlciB0ZXh0dXJlIGlmIHRoZXJlIGlzIG5vdCBvbmUgaW4gdGhlIHBvb2w/XG4gICAgICAgICAgICBtaW5XaWR0aCA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0Lm5leHRQb3cyKG1pbldpZHRoKTtcbiAgICAgICAgICAgIG1pbkhlaWdodCA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0Lm5leHRQb3cyKG1pbkhlaWdodCk7XG4gICAgICAgICAgICBrZXkgPSAobWluV2lkdGggJiAweEZGRkYpIDw8IDE2IHwgbWluSGVpZ2h0ICYgMHhGRkZGO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnBvb2xba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5wb29sW2tleV0gPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSB0aGlzLnBvb2xba2V5XS5wb3AoKTtcblxuICAgICAgICAvLyBjcmVhdGluZyByZW5kZXIgdGFyZ2V0IHdpbGwgY2F1c2UgdGV4dHVyZSB0byBiZSBib3VuZCFcbiAgICAgICAgaWYgKCFyZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIC8vIHRlbXBvcmFyeSBieXBhc3MgY2FjaGUuLlxuICAgICAgICAgICAgdmFyIHRleCA9IHRoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlc1swXTtcblxuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG5cbiAgICAgICAgICAgIC8vIGludGVybmFsbHkgLSB0aGlzIHdpbGwgY2F1c2UgYSB0ZXh0dXJlIHRvIGJlIGJvdW5kLi5cbiAgICAgICAgICAgIHJlbmRlclRhcmdldCA9IG5ldyBfUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KGdsLCBtaW5XaWR0aCwgbWluSGVpZ2h0LCBudWxsLCAxKTtcblxuICAgICAgICAgICAgLy8gc2V0IHRoZSBjdXJyZW50IG9uZSBiYWNrXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXguX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0udGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYW51YWxseSB0d2VhayB0aGUgcmVzb2x1dGlvbi4uLlxuICAgICAgICAvLyB0aGlzIHdpbGwgbm90IG1vZGlmeSB0aGUgc2l6ZSBvZiB0aGUgZnJhbWUgYnVmZmVyLCBqdXN0IGl0cyByZXNvbHV0aW9uLlxuICAgICAgICByZW5kZXJUYXJnZXQucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIHJlbmRlclRhcmdldC5kZWZhdWx0RnJhbWUud2lkdGggPSByZW5kZXJUYXJnZXQuc2l6ZS53aWR0aCA9IG1pbldpZHRoIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgcmVuZGVyVGFyZ2V0LmRlZmF1bHRGcmFtZS5oZWlnaHQgPSByZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQgPSBtaW5IZWlnaHQgLyByZXNvbHV0aW9uO1xuICAgICAgICByZW5kZXJUYXJnZXQuZmlsdGVyUG9vbEtleSA9IGtleTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyVGFyZ2V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbXB0aWVzIHRoZSB0ZXh0dXJlIHBvb2wuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZW1wdHlQb29sID0gZnVuY3Rpb24gZW1wdHlQb29sKCkge1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMucG9vbCkge1xuICAgICAgICAgICAgdmFyIHRleHR1cmVzID0gdGhpcy5wb29sW2ldO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb29sID0ge307XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZyZWVzIGEgcmVuZGVyIHRhcmdldCBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSByZW5kZXJUYXJnZXQgLSBUaGUgcmVuZGVyVGFyZ2V0IHRvIGZyZWVcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZnJlZVBvdFJlbmRlclRhcmdldCA9IGZ1bmN0aW9uIGZyZWVQb3RSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgIHRoaXMucG9vbFtyZW5kZXJUYXJnZXQuZmlsdGVyUG9vbEtleV0ucHVzaChyZW5kZXJUYXJnZXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYmVmb3JlIHRoZSByZW5kZXJlciBzdGFydHMgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLm9uUHJlcmVuZGVyID0gZnVuY3Rpb24gb25QcmVyZW5kZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zY3JlZW5XaWR0aCAhPT0gdGhpcy5yZW5kZXJlci52aWV3LndpZHRoIHx8IHRoaXMuX3NjcmVlbkhlaWdodCAhPT0gdGhpcy5yZW5kZXJlci52aWV3LmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5fc2NyZWVuV2lkdGggPSB0aGlzLnJlbmRlcmVyLnZpZXcud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9zY3JlZW5IZWlnaHQgPSB0aGlzLnJlbmRlcmVyLnZpZXcuaGVpZ2h0O1xuXG4gICAgICAgICAgICB2YXIgdGV4dHVyZXMgPSB0aGlzLnBvb2xbc2NyZWVuS2V5XTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZXh0dXJlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlc1tqXS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucG9vbFtzY3JlZW5LZXldID0gW107XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIEZpbHRlck1hbmFnZXI7XG59KF9XZWJHTE1hbmFnZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBGaWx0ZXJNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmlsdGVyTWFuYWdlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4ID0gY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXg7XG5leHBvcnRzLmNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCA9IGNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeDtcbmV4cG9ydHMuY2FsY3VsYXRlU3ByaXRlTWF0cml4ID0gY2FsY3VsYXRlU3ByaXRlTWF0cml4O1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi8uLi8uLi9tYXRoJyk7XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbWFwcGVkIG1hdHJpeFxuICogQHBhcmFtIGZpbHRlckFyZWEge1JlY3RhbmdsZX0gVGhlIGZpbHRlciBhcmVhXG4gKiBAcGFyYW0gc3ByaXRlIHtTcHJpdGV9IHRoZSB0YXJnZXQgc3ByaXRlXG4gKiBAcGFyYW0gb3V0cHV0TWF0cml4IHtNYXRyaXh9IEBhbHZpblxuICogQHByaXZhdGVcbiAqL1xuLy8gVE9ETyBwbGF5aW5nIGFyb3VuZCBoZXJlLi4gdGhpcyBpcyB0ZW1wb3JhcnkgLSAod2lsbCBlbmQgdXAgaW4gdGhlIHNoYWRlcilcbi8vIHRoaXMgcmV0dXJucyBhIG1hdHJpeCB0aGF0IHdpbGwgbm9ybWFsaXNlIG1hcCBmaWx0ZXIgY29yZHMgaW4gdGhlIGZpbHRlciB0byBzY3JlZW4gc3BhY2VcbmZ1bmN0aW9uIGNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4KG91dHB1dE1hdHJpeCwgZmlsdGVyQXJlYSwgdGV4dHVyZVNpemUpIHtcbiAgICAvLyBsZXQgd29ybGRUcmFuc2Zvcm0gPSBzcHJpdGUud29ybGRUcmFuc2Zvcm0uY29weShNYXRyaXguVEVNUF9NQVRSSVgpLFxuICAgIC8vIGxldCB0ZXh0dXJlID0ge3dpZHRoOjExMzYsIGhlaWdodDo3MDB9Oy8vc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgLy8gVE9ETyB1bndyYXA/XG4gICAgdmFyIG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5pZGVudGl0eSgpO1xuXG4gICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShmaWx0ZXJBcmVhLnggLyB0ZXh0dXJlU2l6ZS53aWR0aCwgZmlsdGVyQXJlYS55IC8gdGV4dHVyZVNpemUuaGVpZ2h0KTtcblxuICAgIG1hcHBlZE1hdHJpeC5zY2FsZSh0ZXh0dXJlU2l6ZS53aWR0aCwgdGV4dHVyZVNpemUuaGVpZ2h0KTtcblxuICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgsIGZpbHRlckFyZWEsIHRleHR1cmVTaXplKSB7XG4gICAgdmFyIG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5pZGVudGl0eSgpO1xuXG4gICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShmaWx0ZXJBcmVhLnggLyB0ZXh0dXJlU2l6ZS53aWR0aCwgZmlsdGVyQXJlYS55IC8gdGV4dHVyZVNpemUuaGVpZ2h0KTtcblxuICAgIHZhciB0cmFuc2xhdGVTY2FsZVggPSB0ZXh0dXJlU2l6ZS53aWR0aCAvIGZpbHRlckFyZWEud2lkdGg7XG4gICAgdmFyIHRyYW5zbGF0ZVNjYWxlWSA9IHRleHR1cmVTaXplLmhlaWdodCAvIGZpbHRlckFyZWEuaGVpZ2h0O1xuXG4gICAgbWFwcGVkTWF0cml4LnNjYWxlKHRyYW5zbGF0ZVNjYWxlWCwgdHJhbnNsYXRlU2NhbGVZKTtcblxuICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG59XG5cbi8vIHRoaXMgd2lsbCBtYXAgdGhlIGZpbHRlciBjb29yZCBzbyB0aGF0IGEgdGV4dHVyZSBjYW4gYmUgdXNlZCBiYXNlZCBvbiB0aGUgdHJhbnNmb3JtIG9mIGEgc3ByaXRlXG5mdW5jdGlvbiBjYWxjdWxhdGVTcHJpdGVNYXRyaXgob3V0cHV0TWF0cml4LCBmaWx0ZXJBcmVhLCB0ZXh0dXJlU2l6ZSwgc3ByaXRlKSB7XG4gICAgdmFyIG9yaWcgPSBzcHJpdGUuX3RleHR1cmUub3JpZztcbiAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LnNldCh0ZXh0dXJlU2l6ZS53aWR0aCwgMCwgMCwgdGV4dHVyZVNpemUuaGVpZ2h0LCBmaWx0ZXJBcmVhLngsIGZpbHRlckFyZWEueSk7XG4gICAgdmFyIHdvcmxkVHJhbnNmb3JtID0gc3ByaXRlLndvcmxkVHJhbnNmb3JtLmNvcHkoX21hdGguTWF0cml4LlRFTVBfTUFUUklYKTtcblxuICAgIHdvcmxkVHJhbnNmb3JtLmludmVydCgpO1xuICAgIG1hcHBlZE1hdHJpeC5wcmVwZW5kKHdvcmxkVHJhbnNmb3JtKTtcbiAgICBtYXBwZWRNYXRyaXguc2NhbGUoMS4wIC8gb3JpZy53aWR0aCwgMS4wIC8gb3JpZy5oZWlnaHQpO1xuICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc3ByaXRlLmFuY2hvci54LCBzcHJpdGUuYW5jaG9yLnkpO1xuXG4gICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlclRyYW5zZm9ybXMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfUmVuZGVyVGFyZ2V0ID0gcmVxdWlyZSgnLi91dGlscy9SZW5kZXJUYXJnZXQnKTtcblxudmFyIF9SZW5kZXJUYXJnZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyVGFyZ2V0KTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHdlYkdMIFRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlTWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlTWFuYWdlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuV2ViR0xSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFjayB0ZXh0dXJlcyBpbiB0aGUgcmVuZGVyZXIgc28gd2UgY2FuIG5vIGxvbmdlciBsaXN0ZW4gdG8gdGhlbSBvbiBkZXN0cnVjdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMgPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBhIHRleHR1cmUuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLmJpbmRUZXh0dXJlID0gZnVuY3Rpb24gYmluZFRleHR1cmUoKSB7fVxuICAgIC8vIGVtcHR5XG5cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSB0ZXh0dXJlLlxuICAgICAqXG4gICAgICovXG4gICAgO1xuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLmdldFRleHR1cmUgPSBmdW5jdGlvbiBnZXRUZXh0dXJlKCkge31cbiAgICAvLyBlbXB0eVxuXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIGFuZC9vciBDcmVhdGVzIGEgV2ViR0wgdGV4dHVyZSBmb3IgdGhlIHJlbmRlcmVyJ3MgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSB0byB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG9jYXRpb24gLSB0aGUgbG9jYXRpb24gdGhlIHRleHR1cmUgd2lsbCBiZSBib3VuZCB0by5cbiAgICAgKiBAcmV0dXJuIHtHTFRleHR1cmV9IFRoZSBnbCB0ZXh0dXJlLlxuICAgICAqL1xuICAgIDtcblxuICAgIFRleHR1cmVNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZSh0ZXh0dXJlLCBsb2NhdGlvbikge1xuICAgICAgICAvLyBhc3N1bWUgaXQgZ29vZCFcbiAgICAgICAgLy8gdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgIHZhciBpc1JlbmRlclRleHR1cmUgPSAhIXRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0cztcblxuICAgICAgICBpZiAoIXRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5yZW5kZXJlci5ib3VuZFRleHR1cmVzO1xuXG4gICAgICAgIC8vIGlmIHRoZSBsb2NhdGlvbiBpcyB1bmRlZmluZWQgdGhlbiB0aGlzIG1heSBoYXZlIGJlZW4gY2FsbGVkIGJ5IG4gZXZlbnQuXG4gICAgICAgIC8vIHRoaXMgYmVpbmcgdGhlIGNhc2UgdGhlIHRleHR1cmUgbWF5IGFscmVhZHkgYmUgYm91bmQgdG8gYSBzbG90LiBBcyBhIHRleHR1cmUgY2FuIG9ubHkgYmUgYm91bmQgb25jZVxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGZpbmQgaXRzIGN1cnJlbnQgbG9jYXRpb24gaWYgaXQgZXhpc3RzLlxuICAgICAgICBpZiAobG9jYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbG9jYXRpb24gPSAwO1xuXG4gICAgICAgICAgICAvLyBUT0RPIG1heWJlIHdlIGNhbiB1c2UgdGV4dHVyZSBib3VuZCBpZHMgbGF0ZXIgb24uLi5cbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRleHR1cmUgaXMgYWxyZWFkeSBib3VuZC4uXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRUZXh0dXJlc1tpXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gdGV4dHVyZTtcblxuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuXG4gICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghZ2xUZXh0dXJlKSB7XG4gICAgICAgICAgICBpZiAoaXNSZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IG5ldyBfUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KHRoaXMuZ2wsIHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0LCB0ZXh0dXJlLnNjYWxlTW9kZSwgdGV4dHVyZS5yZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgICAgIHJlbmRlclRhcmdldC5yZXNpemUodGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUgPSByZW5kZXJUYXJnZXQudGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIC8vIGZyYW1lYnVmZmVyIGNvbnN0cnVjdG9yIGRpc2FjdGl2YXRlcyBjdXJyZW50IGZyYW1lYnVmZmVyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQucm9vdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQuZnJhbWVCdWZmZXIuYmluZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlID0gbmV3IF9waXhpR2xDb3JlLkdMVGV4dHVyZSh0aGlzLmdsLCBudWxsLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuYmluZChsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS51cGxvYWQodGV4dHVyZS5zb3VyY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdID0gZ2xUZXh0dXJlO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLm9uKCd1cGRhdGUnLCB0aGlzLnVwZGF0ZVRleHR1cmUsIHRoaXMpO1xuICAgICAgICAgICAgdGV4dHVyZS5vbignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmUuaXNQb3dlck9mVHdvKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRleHR1cmUubWlwbWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVNaXBtYXAoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGV4dHVyZS53cmFwTW9kZSA9PT0gX2NvbnN0LldSQVBfTU9ERVMuQ0xBTVApIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZVdyYXBDbGFtcCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dHVyZS53cmFwTW9kZSA9PT0gX2NvbnN0LldSQVBfTU9ERVMuUkVQRUFUKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVXcmFwUmVwZWF0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZVdyYXBNaXJyb3JSZXBlYXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVXcmFwQ2xhbXAoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRleHR1cmUuc2NhbGVNb2RlID09PSBfY29uc3QuU0NBTEVfTU9ERVMuTkVBUkVTVCkge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVOZWFyZXN0U2NhbGluZygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuZW5hYmxlTGluZWFyU2NhbGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSB0ZXh0dXJlIGFscmVhZHkgZXhpc3RzIHNvIHdlIG9ubHkgbmVlZCB0byB1cGRhdGUgaXQuLlxuICAgICAgICBlbHNlIGlmIChpc1JlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLl9nbFJlbmRlclRhcmdldHNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0ucmVzaXplKHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnVwbG9hZCh0ZXh0dXJlLnNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdsVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyB0aGUgdGV4dHVyZSBmcm9tIFdlYkdMXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gZGVzdHJveVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBSZW1vdmU9ZmFsc2VdIC0gV2hldGhlciB0byBza2lwIHJlbW92aW5nIHRoZSB0ZXh0dXJlIGZyb20gdGhlIFRleHR1cmVNYW5hZ2VyLlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveVRleHR1cmUgPSBmdW5jdGlvbiBkZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCBza2lwUmVtb3ZlKSB7XG4gICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlIHx8IHRleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHVpZCA9IHJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgICAgICB2YXIgZ2xUZXh0dXJlcyA9IHRleHR1cmUuX2dsVGV4dHVyZXM7XG4gICAgICAgIHZhciBnbFJlbmRlclRhcmdldHMgPSB0ZXh0dXJlLl9nbFJlbmRlclRhcmdldHM7XG5cbiAgICAgICAgaWYgKGdsVGV4dHVyZXNbdWlkXSkge1xuICAgICAgICAgICAgcmVuZGVyZXIudW5iaW5kVGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgZ2xUZXh0dXJlc1t1aWRdLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLnVwZGF0ZVRleHR1cmUsIHRoaXMpO1xuICAgICAgICAgICAgdGV4dHVyZS5vZmYoJ2Rpc3Bvc2UnLCB0aGlzLmRlc3Ryb3lUZXh0dXJlLCB0aGlzKTtcblxuICAgICAgICAgICAgZGVsZXRlIGdsVGV4dHVyZXNbdWlkXTtcblxuICAgICAgICAgICAgaWYgKCFza2lwUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMuaW5kZXhPZih0ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAoMCwgX3V0aWxzLnJlbW92ZUl0ZW1zKSh0aGlzLl9tYW5hZ2VkVGV4dHVyZXMsIGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnbFJlbmRlclRhcmdldHMgJiYgZ2xSZW5kZXJUYXJnZXRzW3VpZF0pIHtcbiAgICAgICAgICAgIGlmIChyZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0ID09PSBnbFJlbmRlclRhcmdldHNbdWlkXSkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRSZW5kZXJUYXJnZXQocmVuZGVyZXIucm9vdFJlbmRlclRhcmdldCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdsUmVuZGVyVGFyZ2V0c1t1aWRdLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGRlbGV0ZSBnbFJlbmRlclRhcmdldHNbdWlkXTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGFsbCB0aGUgdGV4dHVyZXMgZnJvbSBXZWJHTFxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlQWxsID0gZnVuY3Rpb24gcmVtb3ZlQWxsKCkge1xuICAgICAgICAvLyBlbXB0eSBhbGwgdGhlIG9sZCBnbCB0ZXh0dXJlcyBhcyB0aGV5IGFyZSB1c2VsZXNzIG5vd1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX21hbmFnZWRUZXh0dXJlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl9tYW5hZ2VkVGV4dHVyZXNbaV07XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBtYW5hZ2VyIGFuZCByZW1vdmVzIGFsbCBpdHMgdGV4dHVyZXNcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAvLyBkZXN0cm95IG1hbmFnZWQgdGV4dHVyZXNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fbWFuYWdlZFRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy51cGRhdGVUZXh0dXJlLCB0aGlzKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dHVyZU1hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHR1cmVNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZU1hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yLiBUaGlzIGNsYXNzIG1hbmFnZXMgdGhlIEdQVSBhbmQgZW5zdXJlcyB0aGF0IGl0IGRvZXMgbm90IGdldCBjbG9nZ2VkXG4gKiB1cCB3aXRoIHRleHR1cmVzIHRoYXQgYXJlIG5vIGxvbmdlciBiZWluZyB1c2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvcik7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuICAgICAgICB0aGlzLm1heElkbGUgPSBfc2V0dGluZ3MyLmRlZmF1bHQuR0NfTUFYX0lETEU7XG4gICAgICAgIHRoaXMuY2hlY2tDb3VudE1heCA9IF9zZXR0aW5nczIuZGVmYXVsdC5HQ19NQVhfQ0hFQ0tfQ09VTlQ7XG4gICAgICAgIHRoaXMubW9kZSA9IF9zZXR0aW5nczIuZGVmYXVsdC5HQ19NT0RFO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG5cblxuICAgIFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMuY291bnQrKztcblxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSBfY29uc3QuR0NfTU9ERVMuTUFOVUFMKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoZWNrQ291bnQrKztcblxuICAgICAgICBpZiAodGhpcy5jaGVja0NvdW50ID4gdGhpcy5jaGVja0NvdW50TWF4KSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuXG4gICAgICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG5cblxuICAgIFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiBydW4oKSB7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZU1hbmFnZXI7XG4gICAgICAgIHZhciBtYW5hZ2VkVGV4dHVyZXMgPSB0bS5fbWFuYWdlZFRleHR1cmVzO1xuICAgICAgICB2YXIgd2FzUmVtb3ZlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IG1hbmFnZWRUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgLy8gb25seSBzdXBwb3J0cyBub24gZ2VuZXJhdGVkIHRleHR1cmVzIGF0IHRoZSBtb21lbnQhXG4gICAgICAgICAgICBpZiAoIXRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0cyAmJiB0aGlzLmNvdW50IC0gdGV4dHVyZS50b3VjaGVkID4gdGhpcy5tYXhJZGxlKSB7XG4gICAgICAgICAgICAgICAgdG0uZGVzdHJveVRleHR1cmUodGV4dHVyZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICB3YXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3YXNSZW1vdmVkKSB7XG4gICAgICAgICAgICB2YXIgaiA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hbmFnZWRUZXh0dXJlc1tfaV0gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2orK10gPSBtYW5hZ2VkVGV4dHVyZXNbX2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzLmxlbmd0aCA9IGo7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIHRleHR1cmVzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGRpc3BsYXlPYmplY3QgYW5kIGl0cyBjaGlsZHJlbiBmcm9tIHRoZSBHUFVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3QgdG8gcmVtb3ZlIHRoZSB0ZXh0dXJlcyBmcm9tLlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24gdW5sb2FkKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgdmFyIHRtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlTWFuYWdlcjtcblxuICAgICAgICAvLyBvbmx5IGRlc3Ryb3kgbm9uIGdlbmVyYXRlZCB0ZXh0dXJlc1xuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5fdGV4dHVyZSAmJiBkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlLl9nbFJlbmRlclRhcmdldHMpIHtcbiAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKGRpc3BsYXlPYmplY3QuX3RleHR1cmUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHRoaXMudW5sb2FkKGRpc3BsYXlPYmplY3QuY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpID0gcmVxdWlyZSgnLi91dGlscy9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGknKTtcblxudmFyIF9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEJMRU5EID0gMDtcbnZhciBERVBUSF9URVNUID0gMTtcbnZhciBGUk9OVF9GQUNFID0gMjtcbnZhciBDVUxMX0ZBQ0UgPSAzO1xudmFyIEJMRU5EX0ZVTkMgPSA0O1xuXG4vKipcbiAqIEEgV2ViR0wgc3RhdGUgbWFjaGluZXNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGNsYXNzXG4gKi9cblxudmFyIFdlYkdMU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXZWJHTFN0YXRlKGdsKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWJHTFN0YXRlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgYWN0aXZlIHN0YXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQ4QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzdGF0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50OEFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGUgPSBuZXcgVWludDhBcnJheSgxNik7XG5cbiAgICAgICAgLy8gZGVmYXVsdCBibGVuZCBtb2RlLi5cbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGVbMF0gPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBzdGF0ZSBpbmRleCBpbiB0aGUgc3RhY2tcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFja0luZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0YWNrIGhvbGRpbmcgYWxsIHRoZSBkaWZmZXJlbnQgc3RhdGVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PCo+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFjayA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAgICAgdGhpcy5tYXhBdHRyaWJzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9WRVJURVhfQVRUUklCUyk7XG5cbiAgICAgICAgdGhpcy5hdHRyaWJTdGF0ZSA9IHtcbiAgICAgICAgICAgIHRlbXBBdHRyaWJTdGF0ZTogbmV3IEFycmF5KHRoaXMubWF4QXR0cmlicyksXG4gICAgICAgICAgICBhdHRyaWJTdGF0ZTogbmV3IEFycmF5KHRoaXMubWF4QXR0cmlicylcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmJsZW5kTW9kZXMgPSAoMCwgX21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aTIuZGVmYXVsdCkoZ2wpO1xuXG4gICAgICAgIC8vIGNoZWNrIHdlIGhhdmUgdmFvLi5cbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24gPSBnbC5nZXRFeHRlbnNpb24oJ09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JykgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKSB8fCBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIG5ldyBhY3RpdmUgc3RhdGVcbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2goKSB7XG4gICAgICAgIC8vIG5leHQgc3RhdGUuLlxuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YWNrW3RoaXMuc3RhY2tJbmRleF07XG5cbiAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgc3RhdGUgPSB0aGlzLnN0YWNrW3RoaXMuc3RhY2tJbmRleF0gPSBuZXcgVWludDhBcnJheSgxNik7XG4gICAgICAgIH1cblxuICAgICAgICArK3RoaXMuc3RhY2tJbmRleDtcblxuICAgICAgICAvLyBjb3B5IHN0YXRlLi5cbiAgICAgICAgLy8gc2V0IGFjdGl2ZSBzdGF0ZSBzbyB3ZSBjYW4gZm9yY2Ugb3ZlcnJpZGVzIG9mIGdsIHN0YXRlXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hY3RpdmVTdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3RhdGVbaV0gPSB0aGlzLmFjdGl2ZVN0YXRlW2ldO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvcHMgYSBzdGF0ZSBvdXRcbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gcG9wKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YWNrWy0tdGhpcy5zdGFja0luZGV4XTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzdGF0ZSAtIFRoZSBzdGF0ZSB0byBzZXQuXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gc2V0U3RhdGUoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5zZXRCbGVuZChzdGF0ZVtCTEVORF0pO1xuICAgICAgICB0aGlzLnNldERlcHRoVGVzdChzdGF0ZVtERVBUSF9URVNUXSk7XG4gICAgICAgIHRoaXMuc2V0RnJvbnRGYWNlKHN0YXRlW0ZST05UX0ZBQ0VdKTtcbiAgICAgICAgdGhpcy5zZXRDdWxsRmFjZShzdGF0ZVtDVUxMX0ZBQ0VdKTtcbiAgICAgICAgdGhpcy5zZXRCbGVuZE1vZGUoc3RhdGVbQkxFTkRfRlVOQ10pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIG9yIGRpc2FibGVkIGJsZW5kaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGJsZW5kaW5nLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5zZXRCbGVuZCA9IGZ1bmN0aW9uIHNldEJsZW5kKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPyAxIDogMDtcblxuICAgICAgICBpZiAodGhpcy5hY3RpdmVTdGF0ZVtCTEVORF0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0JMRU5EXSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQkxFTkQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIGJsZW5kIG1vZGUgdG8gc2V0IHRvLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5zZXRCbGVuZE1vZGUgPSBmdW5jdGlvbiBzZXRCbGVuZE1vZGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLmFjdGl2ZVN0YXRlW0JMRU5EX0ZVTkNdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0JMRU5EX0ZVTkNdID0gdmFsdWU7XG5cbiAgICAgICAgdmFyIG1vZGUgPSB0aGlzLmJsZW5kTW9kZXNbdmFsdWVdO1xuXG4gICAgICAgIGlmIChtb2RlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgdGhpcy5nbC5ibGVuZEZ1bmMobW9kZVswXSwgbW9kZVsxXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmdsLmJsZW5kRnVuY1NlcGFyYXRlKG1vZGVbMF0sIG1vZGVbMV0sIG1vZGVbMl0sIG1vZGVbM10pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBkZXB0aCB0ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGRlcHRoIHRlc3RpbmcuXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldERlcHRoVGVzdCA9IGZ1bmN0aW9uIHNldERlcHRoVGVzdCh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID8gMSA6IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3RhdGVbREVQVEhfVEVTVF0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0RFUFRIX1RFU1RdID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5ERVBUSF9URVNUKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGN1bGwgZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBjdWxsIGZhY2UuXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldEN1bGxGYWNlID0gZnVuY3Rpb24gc2V0Q3VsbEZhY2UodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IDEgOiAwO1xuXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVN0YXRlW0NVTExfRkFDRV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0NVTExfRkFDRV0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkNVTExfRkFDRSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdsIGZyb250IGZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gdHJ1ZSBpcyBjbG9ja3dpc2UgYW5kIGZhbHNlIGlzIGNvdW50ZXItY2xvY2t3aXNlXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldEZyb250RmFjZSA9IGZ1bmN0aW9uIHNldEZyb250RmFjZSh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID8gMSA6IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3RhdGVbRlJPTlRfRkFDRV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0ZST05UX0ZBQ0VdID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZ2wuZnJvbnRGYWNlKHRoaXMuZ2xbdmFsdWUgPyAnQ1cnIDogJ0NDVyddKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgYWxsIHRoZSB2YW9zIGluIHVzZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnJlc2V0QXR0cmlidXRlcyA9IGZ1bmN0aW9uIHJlc2V0QXR0cmlidXRlcygpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmF0dHJpYlN0YXRlLnRlbXBBdHRyaWJTdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJTdGF0ZS50ZW1wQXR0cmliU3RhdGVbaV0gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMuYXR0cmliU3RhdGUuYXR0cmliU3RhdGUubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYlN0YXRlLmF0dHJpYlN0YXRlW19pXSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbSBnb2luZyB0byBhc3N1bWUgb25lIGlzIGFsd2F5cyBhY3RpdmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDE7IF9pMiA8IHRoaXMubWF4QXR0cmliczsgX2kyKyspIHtcbiAgICAgICAgICAgIHRoaXMuZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KF9pMik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gdXNlZFxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbGwgdGhlIGxvZ2ljIGFuZCBkaXNhYmxlcyB0aGUgdmFvc1xuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5yZXNldFRvRGVmYXVsdCA9IGZ1bmN0aW9uIHJlc2V0VG9EZWZhdWx0KCkge1xuICAgICAgICAvLyB1bmJpbmQgYW55IFZBTyBpZiB0aGV5IGV4aXN0Li5cbiAgICAgICAgaWYgKHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVMobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCBhbGwgYXR0cmlidXRlcy4uXG4gICAgICAgIHRoaXMucmVzZXRBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgLy8gc2V0IGFjdGl2ZSBzdGF0ZSBzbyB3ZSBjYW4gZm9yY2Ugb3ZlcnJpZGVzIG9mIGdsIHN0YXRlXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hY3RpdmVTdGF0ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZVtpXSA9IDMyO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nbC5waXhlbFN0b3JlaSh0aGlzLmdsLlVOUEFDS19GTElQX1lfV0VCR0wsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHRoaXMuZGVmYXVsdFN0YXRlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFdlYkdMU3RhdGU7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMU3RhdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTFN0YXRlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbnN0Jyk7XG5cbi8qKlxuICogTWFwcyBnbCBibGVuZCBjb21iaW5hdGlvbnMgdG8gV2ViR0wuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGlcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgcmVuZGVyaW5nIGNvbnRleHQuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBbYXJyYXk9W11dIC0gVGhlIGFycmF5IHRvIG91dHB1dCBpbnRvLlxuICogQHJldHVybiB7c3RyaW5nW119IE1hcHBlZCBtb2Rlcy5cbiAqL1xuZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKGdsKSB7XG4gICAgdmFyIGFycmF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTtcblxuICAgIC8vIFRPRE8gLSBwcmVtdWx0aXBseSBhbHBoYSB3b3VsZCBiZSBkaWZmZXJlbnQuXG4gICAgLy8gYWRkIGEgYm9vbGVhbiBmb3IgdGhhdCFcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5BRERdID0gW2dsLk9ORSwgZ2wuRFNUX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTVVMVElQTFldID0gW2dsLkRTVF9DT0xPUiwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuT1ZFUkxBWV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuREFSS0VOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5MSUdIVEVOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuSEFSRF9MSUdIVF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU09GVF9MSUdIVF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRElGRkVSRU5DRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRVhDTFVTSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IVUVdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNBVFVSQVRJT05dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkNPTE9SXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5MVU1JTk9TSVRZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuXG4gICAgLy8gbm90LXByZW11bHRpcGxpZWQgYmxlbmQgbW9kZXNcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5BRERfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLkRTVF9BTFBIQSwgZ2wuT05FLCBnbC5EU1RfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1IsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUl07XG5cbiAgICByZXR1cm4gYXJyYXk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG4vKipcbiAqIEdlbmVyaWMgTWFzayBTdGFjayBkYXRhIHN0cnVjdHVyZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIG1hcFdlYkdMRHJhd01vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gKiBAcGFyYW0ge29iamVjdH0gW29iamVjdD17fV0gLSBUaGUgb2JqZWN0IHRvIG1hcCBpbnRvXG4gKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBtYXBwZWQgZHJhdyBtb2Rlcy5cbiAqL1xuZnVuY3Rpb24gbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkoZ2wpIHtcbiAgdmFyIG9iamVjdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgb2JqZWN0W19jb25zdC5EUkFXX01PREVTLlBPSU5UU10gPSBnbC5QT0lOVFM7XG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5MSU5FU10gPSBnbC5MSU5FUztcbiAgb2JqZWN0W19jb25zdC5EUkFXX01PREVTLkxJTkVfTE9PUF0gPSBnbC5MSU5FX0xPT1A7XG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5MSU5FX1NUUklQXSA9IGdsLkxJTkVfU1RSSVA7XG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5UUklBTkdMRVNdID0gZ2wuVFJJQU5HTEVTO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuVFJJQU5HTEVfU1RSSVBdID0gZ2wuVFJJQU5HTEVfU1RSSVA7XG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5UUklBTkdMRV9GQU5dID0gZ2wuVFJJQU5HTEVfRkFOO1xuXG4gIHJldHVybiBvYmplY3Q7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2YWxpZGF0ZUNvbnRleHQ7XG5mdW5jdGlvbiB2YWxpZGF0ZUNvbnRleHQoZ2wpIHtcbiAgICB2YXIgYXR0cmlidXRlcyA9IGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7XG5cbiAgICAvLyB0aGlzIGlzIGdvaW5nIHRvIGJlIGZhaXJseSBzaW1wbGUgZm9yIG5vdy4uIGJ1dCBhdCBsZWFzdCB3ZSBoYXZlIHJvb20gdG8gZ3JvdyFcbiAgICBpZiAoIWF0dHJpYnV0ZXMuc3RlbmNpbCkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgIGNvbnNvbGUud2FybignUHJvdmlkZWQgV2ViR0wgY29udGV4dCBkb2VzIG5vdCBoYXZlIGEgc3RlbmNpbCBidWZmZXIsIG1hc2tzIG1heSBub3QgcmVuZGVyIGNvcnJlY3RseScpO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0ZUNvbnRleHQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXI7XG5cbnZhciBfU2hhZGVyID0gcmVxdWlyZSgnLi4vLi4vU2hhZGVyJyk7XG5cbnZhciBfU2hhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NoYWRlcik7XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGZyYWdUZW1wbGF0ZSA9IFsndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7JywgJ3ZhcnlpbmcgdmVjNCB2Q29sb3I7JywgJ3ZhcnlpbmcgZmxvYXQgdlRleHR1cmVJZDsnLCAndW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXJzWyVjb3VudCVdOycsICd2b2lkIG1haW4odm9pZCl7JywgJ3ZlYzQgY29sb3I7JywgJ2Zsb2F0IHRleHR1cmVJZCA9IGZsb29yKHZUZXh0dXJlSWQrMC41KTsnLCAnJWZvcmxvb3AlJywgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yICogdkNvbG9yOycsICd9J10uam9pbignXFxuJyk7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyKGdsLCBtYXhUZXh0dXJlcykge1xuICAgIHZhciB2ZXJ0ZXhTcmMgPSAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5hdHRyaWJ1dGUgZmxvYXQgYVRleHR1cmVJZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcbnZhcnlpbmcgZmxvYXQgdlRleHR1cmVJZDtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdlRleHR1cmVJZCA9IGFUZXh0dXJlSWQ7XFxuICAgIHZDb2xvciA9IGFDb2xvcjtcXG59XFxuJztcbiAgICB2YXIgZnJhZ21lbnRTcmMgPSBmcmFnVGVtcGxhdGU7XG5cbiAgICBmcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjLnJlcGxhY2UoLyVjb3VudCUvZ2ksIG1heFRleHR1cmVzKTtcbiAgICBmcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjLnJlcGxhY2UoLyVmb3Jsb29wJS9naSwgZ2VuZXJhdGVTYW1wbGVTcmMobWF4VGV4dHVyZXMpKTtcblxuICAgIHZhciBzaGFkZXIgPSBuZXcgX1NoYWRlcjIuZGVmYXVsdChnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYyk7XG5cbiAgICB2YXIgc2FtcGxlVmFsdWVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspIHtcbiAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gaTtcbiAgICB9XG5cbiAgICBzaGFkZXIuYmluZCgpO1xuICAgIHNoYWRlci51bmlmb3Jtcy51U2FtcGxlcnMgPSBzYW1wbGVWYWx1ZXM7XG5cbiAgICByZXR1cm4gc2hhZGVyO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVNhbXBsZVNyYyhtYXhUZXh0dXJlcykge1xuICAgIHZhciBzcmMgPSAnJztcblxuICAgIHNyYyArPSAnXFxuJztcbiAgICBzcmMgKz0gJ1xcbic7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspIHtcbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbmVsc2UgJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpIDwgbWF4VGV4dHVyZXMgLSAxKSB7XG4gICAgICAgICAgICBzcmMgKz0gJ2lmKHRleHR1cmVJZCA9PSAnICsgaSArICcuMCknO1xuICAgICAgICB9XG5cbiAgICAgICAgc3JjICs9ICdcXG57JztcbiAgICAgICAgc3JjICs9ICdcXG5cXHRjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlcnNbJyArIGkgKyAnXSwgdlRleHR1cmVDb29yZCk7JztcbiAgICAgICAgc3JjICs9ICdcXG59JztcbiAgICB9XG5cbiAgICBzcmMgKz0gJ1xcbic7XG4gICAgc3JjICs9ICdcXG4nO1xuXG4gICAgcmV0dXJuIHNyYztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlcjtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGZyYWdUZW1wbGF0ZSA9IFsncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnZmxvYXQgdGVzdCA9IDAuMTsnLCAnJWZvcmxvb3AlJywgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLCAnfSddLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBjaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIobWF4SWZzLCBnbCkge1xuICAgIHZhciBjcmVhdGVUZW1wQ29udGV4dCA9ICFnbDtcblxuICAgIC8vIEBpZiBERUJVR1xuICAgIGlmIChtYXhJZnMgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIG9mIGAwYCBwYXNzZWQgdG8gYGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXJgJyk7XG4gICAgfVxuICAgIC8vIEBlbmRpZlxuXG4gICAgaWYgKGNyZWF0ZVRlbXBDb250ZXh0KSB7XG4gICAgICAgIHZhciB0aW55Q2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgICAgdGlueUNhbnZhcy53aWR0aCA9IDE7XG4gICAgICAgIHRpbnlDYW52YXMuaGVpZ2h0ID0gMTtcblxuICAgICAgICBnbCA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LmNyZWF0ZUNvbnRleHQodGlueUNhbnZhcyk7XG4gICAgfVxuXG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuXG4gICAgd2hpbGUgKHRydWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAge1xuICAgICAgICB2YXIgZnJhZ21lbnRTcmMgPSBmcmFnVGVtcGxhdGUucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCBnZW5lcmF0ZUlmVGVzdFNyYyhtYXhJZnMpKTtcblxuICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBmcmFnbWVudFNyYyk7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcblxuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICAgICAgbWF4SWZzID0gbWF4SWZzIC8gMiB8IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB2YWxpZCFcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNyZWF0ZVRlbXBDb250ZXh0KSB7XG4gICAgICAgIC8vIGdldCByaWQgb2YgY29udGV4dFxuICAgICAgICBpZiAoZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKSkge1xuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKS5sb3NlQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1heElmcztcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKSB7XG4gICAgdmFyIHNyYyA9ICcnO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhJZnM7ICsraSkge1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIHNyYyArPSAnXFxuZWxzZSAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPCBtYXhJZnMgLSAxKSB7XG4gICAgICAgICAgICBzcmMgKz0gJ2lmKHRlc3QgPT0gJyArIGkgKyAnLjApe30nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIFRoZSBzaXplIG9mIHRoZSBidWZmZXIgaW4gYnl0ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBCdWZmZXIoc2l6ZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCdWZmZXIpO1xuXG4gICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBBcnJheUJ1ZmZlcihzaXplKTtcblxuICAgIC8qKlxuICAgICAqIFZpZXcgb24gdGhlIHZlcnRpY2VzIGFzIGEgRmxvYXQzMkFycmF5IGZvciBwb3NpdGlvbnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmZsb2F0MzJWaWV3ID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnZlcnRpY2VzKTtcblxuICAgIC8qKlxuICAgICAqIFZpZXcgb24gdGhlIHZlcnRpY2VzIGFzIGEgVWludDMyQXJyYXkgZm9yIHV2c1xuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIHRoaXMudWludDMyVmlldyA9IG5ldyBVaW50MzJBcnJheSh0aGlzLnZlcnRpY2VzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgYnVmZmVyLlxuICAgKlxuICAgKi9cblxuXG4gIEJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy52ZXJ0aWNlcyA9IG51bGw7XG4gICAgdGhpcy5wb3NpdGlvbnMgPSBudWxsO1xuICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICB0aGlzLmNvbG9ycyA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIEJ1ZmZlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQnVmZmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hCdWZmZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX1Nwcml0ZTIgPSByZXF1aXJlKCcuLi9zcHJpdGVzL1Nwcml0ZScpO1xuXG52YXIgX1Nwcml0ZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGUyKTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi4vdGV4dHVyZXMvVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfVGV4dFN0eWxlID0gcmVxdWlyZSgnLi9UZXh0U3R5bGUnKTtcblxudmFyIF9UZXh0U3R5bGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dFN0eWxlKTtcblxudmFyIF9UZXh0TWV0cmljcyA9IHJlcXVpcmUoJy4vVGV4dE1ldHJpY3MnKTtcblxudmFyIF9UZXh0TWV0cmljczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0TWV0cmljcyk7XG5cbnZhciBfdHJpbUNhbnZhcyA9IHJlcXVpcmUoJy4uL3V0aWxzL3RyaW1DYW52YXMnKTtcblxudmFyIF90cmltQ2FudmFzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyaW1DYW52YXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qIGVzbGludCBtYXgtZGVwdGg6IFsyLCA4XSAqL1xuXG5cbnZhciBkZWZhdWx0RGVzdHJveU9wdGlvbnMgPSB7XG4gICAgdGV4dHVyZTogdHJ1ZSxcbiAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgYmFzZVRleHR1cmU6IHRydWVcbn07XG5cbi8qKlxuICogQSBUZXh0IE9iamVjdCB3aWxsIGNyZWF0ZSBhIGxpbmUgb3IgbXVsdGlwbGUgbGluZXMgb2YgdGV4dC4gVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nIGluIHlvdXIgdGV4dCBzdHJpbmcsXG4gKiBvciBhZGQgYSB3b3JkV3JhcCBwcm9wZXJ0eSBzZXQgdG8gdHJ1ZSBhbmQgYW5kIHdvcmRXcmFwV2lkdGggcHJvcGVydHkgd2l0aCBhIHZhbHVlIGluIHRoZSBzdHlsZSBvYmplY3QuXG4gKlxuICogQSBUZXh0IGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYSBzdHJpbmcgYW5kIGEgc3R5bGUgb2JqZWN0LFxuICogd2hpY2ggY2FuIGJlIGdlbmVyYXRlZCBbaGVyZV0oaHR0cHM6Ly9waXhpanMuaW8vcGl4aS10ZXh0LXN0eWxlKS5cbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHQgPSBuZXcgUElYSS5UZXh0KCdUaGlzIGlzIGEgUGl4aUpTIHRleHQnLHtmb250RmFtaWx5IDogJ0FyaWFsJywgZm9udFNpemU6IDI0LCBmaWxsIDogMHhmZjEwMTAsIGFsaWduIDogJ2NlbnRlcid9KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIFRleHQgPSBmdW5jdGlvbiAoX1Nwcml0ZSkge1xuICAgIF9pbmhlcml0cyhUZXh0LCBfU3ByaXRlKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHN0cmluZyB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSB0ZXh0IHRvIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge29iamVjdHxQSVhJLlRleHRTdHlsZX0gW3N0eWxlXSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBUaGUgY2FudmFzIGVsZW1lbnQgZm9yIGRyYXdpbmcgdGV4dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHQodGV4dCwgc3R5bGUsIGNhbnZhcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dCk7XG5cbiAgICAgICAgY2FudmFzID0gY2FudmFzIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDM7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAzO1xuXG4gICAgICAgIHZhciB0ZXh0dXJlID0gX1RleHR1cmUyLmRlZmF1bHQuZnJvbUNhbnZhcyhjYW52YXMsIF9zZXR0aW5nczIuZGVmYXVsdC5TQ0FMRV9NT0RFLCAndGV4dCcpO1xuXG4gICAgICAgIHRleHR1cmUub3JpZyA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcbiAgICAgICAgdGV4dHVyZS50cmltID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuXG4gICAgICAgIC8vIGJhc2UgdGV4dHVyZSBpcyBhbHJlYWR5IGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gdGhlIGNhY2hlLCBub3cgYWRkaW5nIHRoZSBhY3R1YWwgdGV4dHVyZVxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfU3ByaXRlLmNhbGwodGhpcywgdGV4dHVyZSkpO1xuXG4gICAgICAgIF9UZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUoX3RoaXMuX3RleHR1cmUsIF90aGlzLl90ZXh0dXJlLmJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkc1swXSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gdG9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW52YXMgPSBjYW52YXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgMmQgY29udGV4dCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gd2l0aFxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0ID0gX3RoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXMuIFRoaXMgaXMgc2V0IGF1dG9tYXRpY2FsbHkgYnkgdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSBfc2V0dGluZ3MyLmRlZmF1bHQuUkVTT0xVVElPTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIGxpc3RlbmVyIHRvIHRyYWNrIHN0eWxlIGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3N0eWxlTGlzdGVuZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mb250ID0gJyc7XG5cbiAgICAgICAgX3RoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIF90aGlzLnN0eWxlID0gc3R5bGU7XG5cbiAgICAgICAgX3RoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgYW5kIHVwZGF0ZXMgaXQgd2hlbiBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVzcGVjdERpcnR5IC0gV2hldGhlciB0byBhYm9ydCB1cGRhdGluZyB0aGUgdGV4dCBpZiB0aGUgVGV4dCBpc24ndCBkaXJ0eSBhbmQgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZC5cbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uIHVwZGF0ZVRleHQocmVzcGVjdERpcnR5KSB7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIHN0eWxlIGhhcyBjaGFuZ2VkLi5cbiAgICAgICAgaWYgKHRoaXMubG9jYWxTdHlsZUlEICE9PSBzdHlsZS5zdHlsZUlEKSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gc3R5bGUuc3R5bGVJRDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5kaXJ0eSAmJiByZXNwZWN0RGlydHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZvbnQgPSB0aGlzLl9zdHlsZS50b0ZvbnRTdHJpbmcoKTtcblxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIG1lYXN1cmVkID0gX1RleHRNZXRyaWNzMi5kZWZhdWx0Lm1lYXN1cmVUZXh0KHRoaXMuX3RleHQsIHRoaXMuX3N0eWxlLCB0aGlzLl9zdHlsZS53b3JkV3JhcCwgdGhpcy5jYW52YXMpO1xuICAgICAgICB2YXIgd2lkdGggPSBtZWFzdXJlZC53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IG1lYXN1cmVkLmhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVzID0gbWVhc3VyZWQubGluZXM7XG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gbWVhc3VyZWQubGluZUhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBtZWFzdXJlZC5saW5lV2lkdGhzO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gbWVhc3VyZWQubWF4TGluZVdpZHRoO1xuICAgICAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBtZWFzdXJlZC5mb250UHJvcGVydGllcztcblxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgd2lkdGgpICsgc3R5bGUucGFkZGluZyAqIDIpICogdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKChNYXRoLm1heCgxLCBoZWlnaHQpICsgc3R5bGUucGFkZGluZyAqIDIpICogdGhpcy5yZXNvbHV0aW9uKTtcblxuICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMucmVzb2x1dGlvbiwgdGhpcy5yZXNvbHV0aW9uKTtcblxuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSB0aGlzLl9mb250O1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcblxuICAgICAgICB2YXIgbGluZVBvc2l0aW9uWCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGxpbmVQb3NpdGlvblkgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHN0eWxlLmRyb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IHN0eWxlLmRyb3BTaGFkb3dCbHVyO1xuXG4gICAgICAgICAgICBpZiAoc3R5bGUuZHJvcFNoYWRvd0JsdXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHhTaGFkb3dPZmZzZXQgPSBNYXRoLmNvcyhzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICAgICAgdmFyIHlTaGFkb3dPZmZzZXQgPSBNYXRoLnNpbihzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWSA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIgKyBpICogbGluZUhlaWdodCArIGZvbnRQcm9wZXJ0aWVzLmFzY2VudDtcblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXSkgLyAyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5maWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbaV0sIGxpbmVQb3NpdGlvblggKyB4U2hhZG93T2Zmc2V0ICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHlTaGFkb3dPZmZzZXQgKyBzdHlsZS5wYWRkaW5nKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbaV0sIGxpbmVQb3NpdGlvblggKyB4U2hhZG93T2Zmc2V0ICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHlTaGFkb3dPZmZzZXQgKyBzdHlsZS5wYWRkaW5nLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCB0aGUgc2hhZG93IGJsdXIgYW5kIGFscGhhIHRoYXQgd2FzIHNldCBieSB0aGUgZHJvcCBzaGFkb3csIGZvciB0aGUgcmVndWxhciB0ZXh0XG4gICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDA7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSAxO1xuXG4gICAgICAgIC8vIHNldCBjYW52YXMgdGV4dCBzdHlsZXNcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9nZW5lcmF0ZUZpbGxTdHlsZShzdHlsZSwgbGluZXMpO1xuXG4gICAgICAgIC8vIGRyYXcgbGluZXMgbGluZSBieSBsaW5lXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsaW5lcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgICAgICAgICAgbGluZVBvc2l0aW9uWSA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIgKyBfaSAqIGxpbmVIZWlnaHQgKyBmb250UHJvcGVydGllcy5hc2NlbnQ7XG5cbiAgICAgICAgICAgIGlmIChzdHlsZS5hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tfaV07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0eWxlLmFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbX2ldKSAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdHlsZS5zdHJva2UgJiYgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhsaW5lc1tfaV0sIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLCBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdHlsZS5maWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhsaW5lc1tfaV0sIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLCBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSB0ZXh0IHdpdGggbGV0dGVyLXNwYWNpbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdGV4dCB0byBkcmF3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBIb3Jpem9udGFsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFZlcnRpY2FsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cm9rZT1mYWxzZV0gLSBJcyB0aGlzIGRyYXdpbmcgZm9yIHRoZSBvdXRzaWRlIHN0cm9rZSBvZiB0aGVcbiAgICAgKiAgdGV4dD8gSWYgbm90LCBpdCdzIGZvciB0aGUgaW5zaWRlIGZpbGxcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS5kcmF3TGV0dGVyU3BhY2luZyA9IGZ1bmN0aW9uIGRyYXdMZXR0ZXJTcGFjaW5nKHRleHQsIHgsIHkpIHtcbiAgICAgICAgdmFyIGlzU3Ryb2tlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcblxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcblxuICAgICAgICAvLyBsZXR0ZXJTcGFjaW5nIG9mIDAgbWVhbnMgbm9ybWFsXG4gICAgICAgIHZhciBsZXR0ZXJTcGFjaW5nID0gc3R5bGUubGV0dGVyU3BhY2luZztcblxuICAgICAgICBpZiAobGV0dGVyU3BhY2luZyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoYXJhY3RlcnMgPSBTdHJpbmcucHJvdG90eXBlLnNwbGl0LmNhbGwodGV4dCwgJycpO1xuICAgICAgICB2YXIgY3VycmVudFBvc2l0aW9uID0geDtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSAnJztcblxuICAgICAgICB3aGlsZSAoaW5kZXggPCB0ZXh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgY3VycmVudCA9IGNoYXJhY3RlcnNbaW5kZXgrK107XG4gICAgICAgICAgICBpZiAoaXNTdHJva2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dChjdXJyZW50LCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQoY3VycmVudCwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQoY3VycmVudCkud2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dHVyZSBzaXplIGJhc2VkIG9uIGNhbnZhcyBzaXplXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZSgpIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdHlsZS50cmltKSB7XG4gICAgICAgICAgICB2YXIgdHJpbW1lZCA9ICgwLCBfdHJpbUNhbnZhczIuZGVmYXVsdCkoY2FudmFzKTtcblxuICAgICAgICAgICAgaWYgKHRyaW1tZWQuZGF0YSkge1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHRyaW1tZWQud2lkdGg7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHRyaW1tZWQuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5wdXRJbWFnZURhdGEodHJpbW1lZC5kYXRhLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgICAgIHZhciBwYWRkaW5nID0gc3R5bGUudHJpbSA/IDAgOiBzdHlsZS5wYWRkaW5nO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLmhhc0xvYWRlZCA9IHRydWU7XG4gICAgICAgIGJhc2VUZXh0dXJlLnJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgYmFzZVRleHR1cmUucmVhbFdpZHRoID0gY2FudmFzLndpZHRoO1xuICAgICAgICBiYXNlVGV4dHVyZS5yZWFsSGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcbiAgICAgICAgYmFzZVRleHR1cmUud2lkdGggPSBjYW52YXMud2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIGJhc2VUZXh0dXJlLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQgLyB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgdGV4dHVyZS50cmltLndpZHRoID0gdGV4dHVyZS5fZnJhbWUud2lkdGggPSBjYW52YXMud2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRleHR1cmUudHJpbS5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0ZXh0dXJlLnRyaW0ueCA9IC1wYWRkaW5nO1xuICAgICAgICB0ZXh0dXJlLnRyaW0ueSA9IC1wYWRkaW5nO1xuXG4gICAgICAgIHRleHR1cmUub3JpZy53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoIC0gcGFkZGluZyAqIDI7XG4gICAgICAgIHRleHR1cmUub3JpZy5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgLSBwYWRkaW5nICogMjtcblxuICAgICAgICAvLyBjYWxsIHNwcml0ZSBvblRleHR1cmVVcGRhdGUgdG8gdXBkYXRlIHNjYWxlIGlmIF93aWR0aCBvciBfaGVpZ2h0IHdlcmUgc2V0XG4gICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLmVtaXQoJ3VwZGF0ZScsIGJhc2VUZXh0dXJlKTtcblxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc29sdXRpb24gIT09IHJlbmRlcmVyLnJlc29sdXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICBfU3ByaXRlLnByb3RvdHlwZS5yZW5kZXJXZWJHTC5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uICE9PSByZW5kZXJlci5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgX1Nwcml0ZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcy5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSB0ZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzKHJlY3QpIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiBfU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIFRleHQgYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICAvLyBpZiB3ZSBoYXZlIGFscmVhZHkgZG9uZSB0aGlzIG9uIFRISVMgZnJhbWUuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBiZSBjYWxsZWQgdXBvbiBhIFRleHRTdHlsZSBjaGFuZ2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuX29uU3R5bGVDaGFuZ2UgPSBmdW5jdGlvbiBfb25TdHlsZUNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgZmlsbCBzdHlsZS4gQ2FuIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYSBncmFkaWVudCBiYXNlZCBvbiB0aGUgZmlsbCBzdHlsZSBiZWluZyBhbiBhcnJheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbGluZXMgLSBUaGUgbGluZXMgb2YgdGV4dC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8bnVtYmVyfENhbnZhc0dyYWRpZW50fSBUaGUgZmlsbCBzdHlsZVxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS5fZ2VuZXJhdGVGaWxsU3R5bGUgPSBmdW5jdGlvbiBfZ2VuZXJhdGVGaWxsU3R5bGUoc3R5bGUsIGxpbmVzKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdHlsZS5maWxsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlLmZpbGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb2Nvb24gb24gY2FudmFzKyBjYW5ub3QgZ2VuZXJhdGUgdGV4dHVyZXMsIHNvIHVzZSB0aGUgZmlyc3QgY29sb3VyIGluc3RlYWRcbiAgICAgICAgaWYgKG5hdmlnYXRvci5pc0NvY29vbkpTKSB7XG4gICAgICAgICAgICByZXR1cm4gc3R5bGUuZmlsbFswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZSBncmFkaWVudCB3aWxsIGJlIGV2ZW5seSBzcGFjZWQgb3V0IGFjY29yZGluZyB0byBob3cgbGFyZ2UgdGhlIGFycmF5IGlzLlxuICAgICAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gd291bGQgY3JlYXRlZCBzdG9wcyBhdCAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICAgICAgdmFyIGdyYWRpZW50ID0gdm9pZCAwO1xuICAgICAgICB2YXIgdG90YWxJdGVyYXRpb25zID0gdm9pZCAwO1xuICAgICAgICB2YXIgY3VycmVudEl0ZXJhdGlvbiA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHN0b3AgPSB2b2lkIDA7XG5cbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5jYW52YXMud2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgLy8gbWFrZSBhIGNvcHkgb2YgdGhlIHN0eWxlIHNldHRpbmdzLCBzbyB3ZSBjYW4gbWFuaXB1bGF0ZSB0aGVtIGxhdGVyXG4gICAgICAgIHZhciBmaWxsID0gc3R5bGUuZmlsbC5zbGljZSgpO1xuICAgICAgICB2YXIgZmlsbEdyYWRpZW50U3RvcHMgPSBzdHlsZS5maWxsR3JhZGllbnRTdG9wcy5zbGljZSgpO1xuXG4gICAgICAgIC8vIHdhbnRpbmcgdG8gZXZlbmx5IGRpc3RyaWJ1dGUgdGhlIGZpbGxzLiBTbyBhbiBhcnJheSBvZiA0IGNvbG91cnMgc2hvdWxkIGdpdmUgZmlsbHMgb2YgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIGlmICghZmlsbEdyYWRpZW50U3RvcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoUGx1czEgPSBmaWxsLmxlbmd0aCArIDE7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoUGx1czE7ICsraSkge1xuICAgICAgICAgICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goaSAvIGxlbmd0aFBsdXMxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3AgdGhlIGJsZWVkaW5nIG9mIHRoZSBsYXN0IGdyYWRpZW50IG9uIHRoZSBsaW5lIGFib3ZlIHRvIHRoZSB0b3AgZ3JhZGllbnQgb2YgdGhlIHRoaXMgbGluZVxuICAgICAgICAvLyBieSBoYXJkIGRlZmluaW5nIHRoZSBmaXJzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMCwgYW5kIGxhc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDFcbiAgICAgICAgZmlsbC51bnNoaWZ0KHN0eWxlLmZpbGxbMF0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy51bnNoaWZ0KDApO1xuXG4gICAgICAgIGZpbGwucHVzaChzdHlsZS5maWxsW3N0eWxlLmZpbGwubGVuZ3RoIC0gMV0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKDEpO1xuXG4gICAgICAgIGlmIChzdHlsZS5maWxsR3JhZGllbnRUeXBlID09PSBfY29uc3QuVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwpIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgdG9wIGNlbnRlciBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBib3R0b20gbWlkZGxlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgMCwgd2lkdGggLyAyLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlcGVhdCB0aGUgZ3JhZGllbnQgc28gdGhhdCBlYWNoIGluZGl2aWR1YWwgbGluZSBvZiB0ZXh0IGhhcyB0aGUgc2FtZSB2ZXJ0aWNhbCBncmFkaWVudCBlZmZlY3RcbiAgICAgICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSBvdmVyIDIgbGluZXMgd291bGQgY3JlYXRlIHN0b3BzIGF0IDAuMTI1LCAwLjI1LCAwLjM3NSwgMC42MjUsIDAuNzUsIDAuODc1XG4gICAgICAgICAgICB0b3RhbEl0ZXJhdGlvbnMgPSAoZmlsbC5sZW5ndGggKyAxKSAqIGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24gPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgbGluZXMubGVuZ3RoOyBfaTIrKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24gKz0gMTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZpbGwubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tqXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AgPSBmaWxsR3JhZGllbnRTdG9wc1tqXSAvIGxpbmVzLmxlbmd0aCArIF9pMiAvIGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIGhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQgLyAyKTtcblxuICAgICAgICAgICAgLy8gY2FuIGp1c3QgZXZlbmx5IHNwYWNlIG91dCB0aGUgZ3JhZGllbnRzIGluIHRoaXMgY2FzZSwgYXMgbXVsdGlwbGUgbGluZXMgbWFrZXMgbm8gZGlmZmVyZW5jZVxuICAgICAgICAgICAgLy8gdG8gYW4gZXZlbiBsZWZ0IHRvIHJpZ2h0IGdyYWRpZW50XG4gICAgICAgICAgICB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uID0gMTtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgZmlsbC5sZW5ndGg7IF9pMysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tfaTNdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbX2kzXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0b3AsIGZpbGxbX2kzXSk7XG4gICAgICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdyYWRpZW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHQgb2JqZWN0LlxuICAgICAqIE5vdGUqIFVubGlrZSBhIFNwcml0ZSwgYSBUZXh0IG9iamVjdCB3aWxsIGF1dG9tYXRpY2FsbHkgZGVzdHJveSBpdHMgYmFzZVRleHR1cmUgYW5kIHRleHR1cmUgYXNcbiAgICAgKiB0aGUgbWFqb3JpdHkgb2YgdGhlIHRpbWUgdGhlIHRleHR1cmUgd2lsbCBub3QgYmUgc2hhcmVkIHdpdGggYW55IG90aGVyIFNwcml0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyXG4gICAgICogIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPXRydWVdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPXRydWVdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgY2hpbGRyZW46IG9wdGlvbnMgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0RGVzdHJveU9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIF9TcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBtYWtlIHN1cmUgdG8gcmVzZXQgdGhlIHRoZSBjb250ZXh0IGFuZCBjYW52YXMuLiBkb250IHdhbnQgdGhpcyBoYW5naW5nIGFyb3VuZCBpbiBtZW1vcnkhXG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFRleHQsIFt7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICAgICAgdmFyIHMgPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueCkgfHwgMTtcblxuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0LCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICAgICAgdmFyIHMgPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueSkgfHwgMTtcblxuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgc3R5bGUgb2YgdGhlIHRleHQuIFNldCB1cCBhbiBldmVudCBsaXN0ZW5lciB0byBsaXN0ZW4gZm9yIGNoYW5nZXMgb24gdGhlIHN0eWxlXG4gICAgICAgICAqIG9iamVjdCBhbmQgbWFyayB0aGUgdGV4dCBhcyBkaXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fFBJWEkuVGV4dFN0eWxlfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc3R5bGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoc3R5bGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuXG4gICAgICAgICAgICBpZiAoc3R5bGUgaW5zdGFuY2VvZiBfVGV4dFN0eWxlMi5kZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBuZXcgX1RleHRTdHlsZTIuZGVmYXVsdChzdHlsZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIGNvcHkgZm9yIHRoZSB0ZXh0IG9iamVjdC4gVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZXh0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGV4dCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gJycgfHwgdGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQgPyAnICcgOiB0ZXh0KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRleHQ7XG59KF9TcHJpdGUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB0cmltQ2FudmFzO1xuLyoqXG4gKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnMgZnJvbSBhIGNhbnZhc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gdHJpbUNhbnZhc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIHRoZSBjYW52YXMgdG8gdHJpbVxuICogQHJldHVybnMge29iamVjdH0gVHJpbSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyaW1DYW52YXMoY2FudmFzKSB7XG4gICAgLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcmVteS83ODQ1MDhcblxuICAgIHZhciB3aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgdmFyIGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHZhciBwaXhlbHMgPSBpbWFnZURhdGEuZGF0YTtcbiAgICB2YXIgbGVuID0gcGl4ZWxzLmxlbmd0aDtcblxuICAgIHZhciBib3VuZCA9IHtcbiAgICAgICAgdG9wOiBudWxsLFxuICAgICAgICBsZWZ0OiBudWxsLFxuICAgICAgICByaWdodDogbnVsbCxcbiAgICAgICAgYm90dG9tOiBudWxsXG4gICAgfTtcbiAgICB2YXIgZGF0YSA9IG51bGw7XG4gICAgdmFyIGkgPSB2b2lkIDA7XG4gICAgdmFyIHggPSB2b2lkIDA7XG4gICAgdmFyIHkgPSB2b2lkIDA7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgaWYgKHBpeGVsc1tpICsgM10gIT09IDApIHtcbiAgICAgICAgICAgIHggPSBpIC8gNCAlIHdpZHRoO1xuICAgICAgICAgICAgeSA9IH5+KGkgLyA0IC8gd2lkdGgpO1xuXG4gICAgICAgICAgICBpZiAoYm91bmQudG9wID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQudG9wID0geTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJvdW5kLmxlZnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5sZWZ0ID0geDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeCA8IGJvdW5kLmxlZnQpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5sZWZ0ID0geDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJvdW5kLnJpZ2h0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQucmlnaHQgPSB4ICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYm91bmQucmlnaHQgPCB4KSB7XG4gICAgICAgICAgICAgICAgYm91bmQucmlnaHQgPSB4ICsgMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJvdW5kLmJvdHRvbSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJvdW5kLmJvdHRvbSA8IHkpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5ib3R0b20gPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGJvdW5kLnRvcCAhPT0gbnVsbCkge1xuICAgICAgICB3aWR0aCA9IGJvdW5kLnJpZ2h0IC0gYm91bmQubGVmdDtcbiAgICAgICAgaGVpZ2h0ID0gYm91bmQuYm90dG9tIC0gYm91bmQudG9wICsgMTtcbiAgICAgICAgZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKGJvdW5kLmxlZnQsIGJvdW5kLnRvcCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgZGF0YTogZGF0YVxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmltQ2FudmFzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9Db250YWluZXIyID0gcmVxdWlyZSgnLi4vZGlzcGxheS9Db250YWluZXInKTtcblxudmFyIF9Db250YWluZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udGFpbmVyMik7XG5cbnZhciBfUmVuZGVyVGV4dHVyZSA9IHJlcXVpcmUoJy4uL3RleHR1cmVzL1JlbmRlclRleHR1cmUnKTtcblxudmFyIF9SZW5kZXJUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRleHR1cmUpO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuLi90ZXh0dXJlcy9UZXh0dXJlJyk7XG5cbnZhciBfVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlKTtcblxudmFyIF9HcmFwaGljc0RhdGEgPSByZXF1aXJlKCcuL0dyYXBoaWNzRGF0YScpO1xuXG52YXIgX0dyYXBoaWNzRGF0YTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmFwaGljc0RhdGEpO1xuXG52YXIgX1Nwcml0ZSA9IHJlcXVpcmUoJy4uL3Nwcml0ZXMvU3ByaXRlJyk7XG5cbnZhciBfU3ByaXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Nwcml0ZSk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX0JvdW5kcyA9IHJlcXVpcmUoJy4uL2Rpc3BsYXkvQm91bmRzJyk7XG5cbnZhciBfQm91bmRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JvdW5kcyk7XG5cbnZhciBfYmV6aWVyQ3VydmVUbzIgPSByZXF1aXJlKCcuL3V0aWxzL2JlemllckN1cnZlVG8nKTtcblxudmFyIF9iZXppZXJDdXJ2ZVRvMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JlemllckN1cnZlVG8yKTtcblxudmFyIF9DYW52YXNSZW5kZXJlciA9IHJlcXVpcmUoJy4uL3JlbmRlcmVycy9jYW52YXMvQ2FudmFzUmVuZGVyZXInKTtcblxudmFyIF9DYW52YXNSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNSZW5kZXJlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIGNhbnZhc1JlbmRlcmVyID0gdm9pZCAwO1xudmFyIHRlbXBNYXRyaXggPSBuZXcgX21hdGguTWF0cml4KCk7XG52YXIgdGVtcFBvaW50ID0gbmV3IF9tYXRoLlBvaW50KCk7XG52YXIgdGVtcENvbG9yMSA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG52YXIgdGVtcENvbG9yMiA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG5cbi8qKlxuICogVGhlIEdyYXBoaWNzIGNsYXNzIGNvbnRhaW5zIG1ldGhvZHMgdXNlZCB0byBkcmF3IHByaW1pdGl2ZSBzaGFwZXMgc3VjaCBhcyBsaW5lcywgY2lyY2xlcyBhbmRcbiAqIHJlY3RhbmdsZXMgdG8gdGhlIGRpc3BsYXksIGFuZCB0byBjb2xvciBhbmQgZmlsbCB0aGVtLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIEdyYXBoaWNzID0gZnVuY3Rpb24gKF9Db250YWluZXIpIHtcbiAgICBfaW5oZXJpdHMoR3JhcGhpY3MsIF9Db250YWluZXIpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtuYXRpdmVMaW5lcz1mYWxzZV0gLSBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzKCkge1xuICAgICAgICB2YXIgbmF0aXZlTGluZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHcmFwaGljcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbHBoYSB2YWx1ZSB1c2VkIHdoZW4gZmlsbGluZyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db250YWluZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMuZmlsbEFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoICh0aGlja25lc3MpIG9mIGFueSBsaW5lcyBkcmF3bi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5saW5lV2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubmF0aXZlTGluZXMgPSBuYXRpdmVMaW5lcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbG9yIG9mIGFueSBsaW5lcyBkcmF3bi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5saW5lQ29sb3IgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWxpZ25tZW50IG9mIGFueSBsaW5lcyBkcmF3biAoMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyLCAwID0gaW5uZXIpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGluZUFsaWdubWVudCA9IDAuNTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR3JhcGhpY3MgZGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ3JhcGhpY3NEYXRhID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEFwcGx5IGEgdmFsdWUgb2YgMHhGRkZGRkYgdG9cbiAgICAgICAgICogcmVzZXQgdGhlIHRpbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByZXZpb3VzIHRpbnQgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gVXNlZCB0byBjb21wYXJlIHRvIHRoZSBjdXJyZW50IHRpbnQgYW5kXG4gICAgICAgICAqIGNoZWNrIGlmIHRoZXJlcyBjaGFuZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wcmV2VGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBncmFwaGljIHNoYXBlLiBBcHBseSBhIHZhbHVlIG9mXG4gICAgICAgICAqIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBwYXRoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NEYXRhfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3VycmVudFBhdGggPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBcnJheSBjb250YWluaW5nIHNvbWUgV2ViR0wtcmVsYXRlZCBwcm9wZXJ0aWVzIHVzZWQgYnkgdGhlIFdlYkdMIHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBvYmplY3Q+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgLy8gVE9ETyAtIF93ZWJnbCBzaG91bGQgdXNlIGEgcHJvdG90eXBlIG9iamVjdCwgbm90IGEgcmFuZG9tIHVuZG9jdW1lbnRlZCBvYmplY3QuLi5cbiAgICAgICAgX3RoaXMuX3dlYkdMID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhpcyBzaGFwZSBpcyBiZWluZyB1c2VkIGFzIGEgbWFzay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmlzTWFzayA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzJyBwYWRkaW5nIHVzZWQgZm9yIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm91bmRzUGFkZGluZyA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FjaGUgb2YgdGhlIGxvY2FsIGJvdW5kcyB0byBwcmV2ZW50IHJlY2FsY3VsYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xvY2FsQm91bmRzID0gbmV3IF9Cb3VuZHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgdGhlIGdyYXBoaWNzIG9iamVjdCBoYXMgY2hhbmdlZC4gSWYgdGhpcyBpcyBzZXQgdG8gdHJ1ZSB0aGVuIHRoZSBncmFwaGljc1xuICAgICAgICAgKiBvYmplY3Qgd2lsbCBiZSByZWNhbGN1bGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHdlIG5lZWQgdG8gZG8gYSBmYXN0IHJlY3QgY2hlY2sgdXNpbmcgdGhlIGlkIGNvbXBhcmUgbWV0aG9kXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mYXN0UmVjdERpcnR5ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHdlIGNsZWFyIHRoZSBncmFwaGljcyB3ZWJHTCBkYXRhXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jbGVhckRpcnR5ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgd2Ugd2UgbmVlZCB0byByZWNhbGN1bGF0ZSBsb2NhbCBib3VuZHNcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHRoZSBjYWNoZWQgc3ByaXRlIG9iamVjdCBuZWVkcyB0byBiZSB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FjaGVkU3ByaXRlRGlydHkgPSBmYWxzZTtcblxuICAgICAgICBfdGhpcy5fc3ByaXRlUmVjdCA9IG51bGw7XG4gICAgICAgIF90aGlzLl9mYXN0UmVjdCA9IGZhbHNlO1xuXG4gICAgICAgIF90aGlzLl9wcmV2UmVjdFRpbnQgPSBudWxsO1xuICAgICAgICBfdGhpcy5fcHJldlJlY3RGaWxsQ29sb3IgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGNhY2hlQXNCaXRtYXAgaXMgc2V0IHRvIHRydWUgdGhlIGdyYXBoaWNzIG9iamVjdCB3aWxsIGJlIHJlbmRlcmVkIGFzIGlmIGl0IHdhcyBhIHNwcml0ZS5cbiAgICAgICAgICogVGhpcyBpcyB1c2VmdWwgaWYgeW91ciBncmFwaGljcyBlbGVtZW50IGRvZXMgbm90IGNoYW5nZSBvZnRlbiwgYXMgaXQgd2lsbCBzcGVlZCB1cCB0aGUgcmVuZGVyaW5nXG4gICAgICAgICAqIG9mIHRoZSBvYmplY3QgaW4gZXhjaGFuZ2UgZm9yIHRha2luZyB1cCB0ZXh0dXJlIG1lbW9yeS4gSXQgaXMgYWxzbyB1c2VmdWwgaWYgeW91IG5lZWQgdGhlIGdyYXBoaWNzXG4gICAgICAgICAqIG9iamVjdCB0byBiZSBhbnRpLWFsaWFzZWQsIGJlY2F1c2UgaXQgd2lsbCBiZSByZW5kZXJlZCB1c2luZyBjYW52YXMuIFRoaXMgaXMgbm90IHJlY29tbWVuZGVkIGlmXG4gICAgICAgICAqIHlvdSBhcmUgY29uc3RhbnRseSByZWRyYXdpbmcgdGhlIGdyYXBoaWNzIGVsZW1lbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBuYW1lIGNhY2hlQXNCaXRtYXBcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3MjXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljcyBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IHRoZSBvbmx5IHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYXJlIGNsb25lZCwgbm90IGl0cyB0cmFuc2Zvcm0gKHBvc2l0aW9uLHNjYWxlLGV0YylcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IEEgY2xvbmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgdmFyIGNsb25lID0gbmV3IEdyYXBoaWNzKCk7XG5cbiAgICAgICAgY2xvbmUucmVuZGVyYWJsZSA9IHRoaXMucmVuZGVyYWJsZTtcbiAgICAgICAgY2xvbmUuZmlsbEFscGhhID0gdGhpcy5maWxsQWxwaGE7XG4gICAgICAgIGNsb25lLmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgICAgICBjbG9uZS5saW5lQ29sb3IgPSB0aGlzLmxpbmVDb2xvcjtcbiAgICAgICAgY2xvbmUubGluZUFsaWdubWVudCA9IHRoaXMubGluZUFsaWdubWVudDtcbiAgICAgICAgY2xvbmUudGludCA9IHRoaXMudGludDtcbiAgICAgICAgY2xvbmUuYmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGU7XG4gICAgICAgIGNsb25lLmlzTWFzayA9IHRoaXMuaXNNYXNrO1xuICAgICAgICBjbG9uZS5ib3VuZHNQYWRkaW5nID0gdGhpcy5ib3VuZHNQYWRkaW5nO1xuICAgICAgICBjbG9uZS5kaXJ0eSA9IDA7XG4gICAgICAgIGNsb25lLmNhY2hlZFNwcml0ZURpcnR5ID0gdGhpcy5jYWNoZWRTcHJpdGVEaXJ0eTtcblxuICAgICAgICAvLyBjb3B5IGdyYXBoaWNzIGRhdGFcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY2xvbmUuZ3JhcGhpY3NEYXRhLnB1c2godGhpcy5ncmFwaGljc0RhdGFbaV0uY2xvbmUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9uZS5jdXJyZW50UGF0aCA9IGNsb25lLmdyYXBoaWNzRGF0YVtjbG9uZS5ncmFwaGljc0RhdGEubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgY2xvbmUudXBkYXRlTG9jYWxCb3VuZHMoKTtcblxuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBsZW5ndGggb2YgcXVhZHJhdGljIGN1cnZlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL3d3dy5tYWxjemFrLmxpbnV4cGwuY29tL2Jsb2cvcXVhZHJhdGljLWJlemllci1jdXJ2ZS1sZW5ndGgvfVxuICAgICAqIGZvciB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb2YgbWF0aCBiZWhpbmQgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0geC1jb29yZGluYXRlIG9mIGN1cnZlIHN0YXJ0IHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIHN0YXJ0IHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBlbmQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIGVuZCBwb2ludFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoIG9mIHF1YWRyYXRpYyBjdXJ2ZVxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3F1YWRyYXRpY0N1cnZlTGVuZ3RoID0gZnVuY3Rpb24gX3F1YWRyYXRpY0N1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKSB7XG4gICAgICAgIHZhciBheCA9IGZyb21YIC0gKDIuMCAqIGNwWCArIHRvWCk7XG4gICAgICAgIHZhciBheSA9IGZyb21ZIC0gKDIuMCAqIGNwWSArIHRvWSk7XG4gICAgICAgIHZhciBieCA9IDIuMCAqICgoY3BYIC0gMi4wKSAqIGZyb21YKTtcbiAgICAgICAgdmFyIGJ5ID0gMi4wICogKChjcFkgLSAyLjApICogZnJvbVkpO1xuICAgICAgICB2YXIgYSA9IDQuMCAqIChheCAqIGF4ICsgYXkgKiBheSk7XG4gICAgICAgIHZhciBiID0gNC4wICogKGF4ICogYnggKyBheSAqIGJ5KTtcbiAgICAgICAgdmFyIGMgPSBieCAqIGJ4ICsgYnkgKiBieTtcblxuICAgICAgICB2YXIgcyA9IDIuMCAqIE1hdGguc3FydChhICsgYiArIGMpO1xuICAgICAgICB2YXIgYTIgPSBNYXRoLnNxcnQoYSk7XG4gICAgICAgIHZhciBhMzIgPSAyLjAgKiBhICogYTI7XG4gICAgICAgIHZhciBjMiA9IDIuMCAqIE1hdGguc3FydChjKTtcbiAgICAgICAgdmFyIGJhID0gYiAvIGEyO1xuXG4gICAgICAgIHJldHVybiAoYTMyICogcyArIGEyICogYiAqIChzIC0gYzIpICsgKDQuMCAqIGMgKiBhIC0gYiAqIGIpICogTWF0aC5sb2coKDIuMCAqIGEyICsgYmEgKyBzKSAvIChiYSArIGMyKSkpIC8gKDQuMCAqIGEzMik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBsZW5ndGggb2YgYmV6aWVyIGN1cnZlLlxuICAgICAqIEFuYWx5dGljYWwgc29sdXRpb24gaXMgaW1wb3NzaWJsZSwgc2luY2UgaXQgaW52b2x2ZXMgYW4gaW50ZWdyYWwgdGhhdCBkb2VzIG5vdCBpbnRlZ3JhdGUgaW4gZ2VuZXJhbC5cbiAgICAgKiBUaGVyZWZvcmUgbnVtZXJpY2FsIHNvbHV0aW9uIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIFN0YXJ0aW5nIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSBTdGFydGluZyBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBMZW5ndGggb2YgYmV6aWVyIGN1cnZlXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fYmV6aWVyQ3VydmVMZW5ndGggPSBmdW5jdGlvbiBfYmV6aWVyQ3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpIHtcbiAgICAgICAgdmFyIG4gPSAxMDtcbiAgICAgICAgdmFyIHJlc3VsdCA9IDAuMDtcbiAgICAgICAgdmFyIHQgPSAwLjA7XG4gICAgICAgIHZhciB0MiA9IDAuMDtcbiAgICAgICAgdmFyIHQzID0gMC4wO1xuICAgICAgICB2YXIgbnQgPSAwLjA7XG4gICAgICAgIHZhciBudDIgPSAwLjA7XG4gICAgICAgIHZhciBudDMgPSAwLjA7XG4gICAgICAgIHZhciB4ID0gMC4wO1xuICAgICAgICB2YXIgeSA9IDAuMDtcbiAgICAgICAgdmFyIGR4ID0gMC4wO1xuICAgICAgICB2YXIgZHkgPSAwLjA7XG4gICAgICAgIHZhciBwcmV2WCA9IGZyb21YO1xuICAgICAgICB2YXIgcHJldlkgPSBmcm9tWTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgICAgIHQgPSBpIC8gbjtcbiAgICAgICAgICAgIHQyID0gdCAqIHQ7XG4gICAgICAgICAgICB0MyA9IHQyICogdDtcbiAgICAgICAgICAgIG50ID0gMS4wIC0gdDtcbiAgICAgICAgICAgIG50MiA9IG50ICogbnQ7XG4gICAgICAgICAgICBudDMgPSBudDIgKiBudDtcblxuICAgICAgICAgICAgeCA9IG50MyAqIGZyb21YICsgMy4wICogbnQyICogdCAqIGNwWCArIDMuMCAqIG50ICogdDIgKiBjcFgyICsgdDMgKiB0b1g7XG4gICAgICAgICAgICB5ID0gbnQzICogZnJvbVkgKyAzLjAgKiBudDIgKiB0ICogY3BZICsgMyAqIG50ICogdDIgKiBjcFkyICsgdDMgKiB0b1k7XG4gICAgICAgICAgICBkeCA9IHByZXZYIC0geDtcbiAgICAgICAgICAgIGR5ID0gcHJldlkgLSB5O1xuICAgICAgICAgICAgcHJldlggPSB4O1xuICAgICAgICAgICAgcHJldlkgPSB5O1xuXG4gICAgICAgICAgICByZXN1bHQgKz0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBudW1iZXIgb2Ygc2VnbWVudHMgZm9yIHRoZSBjdXJ2ZSBiYXNlZCBvbiBpdHMgbGVuZ3RoIHRvIGVuc3VyZSBpdHMgc21vb3RobmVzcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCAtIGxlbmd0aCBvZiBjdXJ2ZVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIG9mIHNlZ21lbnRzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fc2VnbWVudHNDb3VudCA9IGZ1bmN0aW9uIF9zZWdtZW50c0NvdW50KGxlbmd0aCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gTWF0aC5jZWlsKGxlbmd0aCAvIEdyYXBoaWNzLkNVUlZFUy5tYXhMZW5ndGgpO1xuXG4gICAgICAgIGlmIChyZXN1bHQgPCBHcmFwaGljcy5DVVJWRVMubWluU2VnbWVudHMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IEdyYXBoaWNzLkNVUlZFUy5taW5TZWdtZW50cztcbiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQgPiBHcmFwaGljcy5DVVJWRVMubWF4U2VnbWVudHMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IEdyYXBoaWNzLkNVUlZFUy5tYXhTZWdtZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgbGluZSBzdHlsZSB1c2VkIGZvciBzdWJzZXF1ZW50IGNhbGxzIHRvIEdyYXBoaWNzIG1ldGhvZHMgc3VjaCBhcyB0aGUgbGluZVRvKClcbiAgICAgKiBtZXRob2Qgb3IgdGhlIGRyYXdDaXJjbGUoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xpbmVXaWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbGlnbm1lbnQ9MC41XSAtIGFsaWdubWVudCBvZiB0aGUgbGluZSB0byBkcmF3LCAoMCA9IGlubmVyLCAwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIpXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVN0eWxlID0gZnVuY3Rpb24gbGluZVN0eWxlKCkge1xuICAgICAgICB2YXIgbGluZVdpZHRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgY29sb3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgICAgIHZhciBhbHBoYSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTtcbiAgICAgICAgdmFyIGFsaWdubWVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMC41O1xuXG4gICAgICAgIHRoaXMubGluZVdpZHRoID0gbGluZVdpZHRoO1xuICAgICAgICB0aGlzLmxpbmVDb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLmxpbmVBbHBoYSA9IGFscGhhO1xuICAgICAgICB0aGlzLmxpbmVBbGlnbm1lbnQgPSBhbGlnbm1lbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBoYWxmd2F5IHRocm91Z2ggYSBsaW5lPyBzdGFydCBhIG5ldyBvbmUhXG4gICAgICAgICAgICAgICAgdmFyIHNoYXBlID0gbmV3IF9tYXRoLlBvbHlnb24odGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMuc2xpY2UoLTIpKTtcblxuICAgICAgICAgICAgICAgIHNoYXBlLmNsb3NlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2hhcGUoc2hhcGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgaXRzIGVtcHR5IHNvIGxldHMganVzdCBzZXQgdGhlIGxpbmUgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5saW5lQ29sb3IgPSB0aGlzLmxpbmVDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmxpbmVBbHBoYSA9IHRoaXMubGluZUFscGhhO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgubGluZUFsaWdubWVudCA9IHRoaXMubGluZUFsaWdubWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyB0aGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIHRvIHgsIHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHRoZSBYIGNvb3JkaW5hdGUgdG8gbW92ZSB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gdGhlIFkgY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubW92ZVRvID0gZnVuY3Rpb24gbW92ZVRvKHgsIHkpIHtcbiAgICAgICAgdmFyIHNoYXBlID0gbmV3IF9tYXRoLlBvbHlnb24oW3gsIHldKTtcblxuICAgICAgICBzaGFwZS5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUoc2hhcGUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGxpbmUgdXNpbmcgdGhlIGN1cnJlbnQgbGluZSBzdHlsZSBmcm9tIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8gKHgsIHkpO1xuICAgICAqIFRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gaXMgdGhlbiBzZXQgdG8gKHgsIHkpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSB0aGUgWCBjb29yZGluYXRlIHRvIGRyYXcgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIHRoZSBZIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmxpbmVUbyA9IGZ1bmN0aW9uIGxpbmVUbyh4LCB5KSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cztcblxuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmIChmcm9tWCAhPT0geCB8fCBmcm9tWSAhPT0geSkge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5Kys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5xdWFkcmF0aWNDdXJ2ZVRvID0gZnVuY3Rpb24gcXVhZHJhdGljQ3VydmVUbyhjcFgsIGNwWSwgdG9YLCB0b1kpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cyA9IFswLCAwXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzO1xuICAgICAgICB2YXIgeGEgPSAwO1xuICAgICAgICB2YXIgeWEgPSAwO1xuXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciBuID0gR3JhcGhpY3MuQ1VSVkVTLmFkYXB0aXZlID8gdGhpcy5fc2VnbWVudHNDb3VudCh0aGlzLl9xdWFkcmF0aWNDdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSkpIDogMjA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaiA9IGkgLyBuO1xuXG4gICAgICAgICAgICB4YSA9IGZyb21YICsgKGNwWCAtIGZyb21YKSAqIGo7XG4gICAgICAgICAgICB5YSA9IGZyb21ZICsgKGNwWSAtIGZyb21ZKSAqIGo7XG5cbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHhhICsgKGNwWCArICh0b1ggLSBjcFgpICogaiAtIHhhKSAqIGosIHlhICsgKGNwWSArICh0b1kgLSBjcFkpICogaiAtIHlhKSAqIGopO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZXppZXJDdXJ2ZVRvID0gZnVuY3Rpb24gYmV6aWVyQ3VydmVUbyhjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cyA9IFswLCAwXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzO1xuXG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgcG9pbnRzLmxlbmd0aCAtPSAyO1xuXG4gICAgICAgIHZhciBuID0gR3JhcGhpY3MuQ1VSVkVTLmFkYXB0aXZlID8gdGhpcy5fc2VnbWVudHNDb3VudCh0aGlzLl9iZXppZXJDdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSkpIDogMjA7XG5cbiAgICAgICAgKDAsIF9iZXppZXJDdXJ2ZVRvMy5kZWZhdWx0KShmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgbiwgcG9pbnRzKTtcblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogXCJib3Jyb3dlZFwiIGZyb20gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9meGNhbnZhcy8gLSB0aGFua3MgZ29vZ2xlIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MiAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkyIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYXJjXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYXJjVG8gPSBmdW5jdGlvbiBhcmNUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMucHVzaCh4MSwgeTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oeDEsIHkxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cztcbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFyIGExID0gZnJvbVkgLSB5MTtcbiAgICAgICAgdmFyIGIxID0gZnJvbVggLSB4MTtcbiAgICAgICAgdmFyIGEyID0geTIgLSB5MTtcbiAgICAgICAgdmFyIGIyID0geDIgLSB4MTtcbiAgICAgICAgdmFyIG1tID0gTWF0aC5hYnMoYTEgKiBiMiAtIGIxICogYTIpO1xuXG4gICAgICAgIGlmIChtbSA8IDEuMGUtOCB8fCByYWRpdXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdICE9PSB4MSB8fCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdICE9PSB5MSkge1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHgxLCB5MSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZGQgPSBhMSAqIGExICsgYjEgKiBiMTtcbiAgICAgICAgICAgIHZhciBjYyA9IGEyICogYTIgKyBiMiAqIGIyO1xuICAgICAgICAgICAgdmFyIHR0ID0gYTEgKiBhMiArIGIxICogYjI7XG4gICAgICAgICAgICB2YXIgazEgPSByYWRpdXMgKiBNYXRoLnNxcnQoZGQpIC8gbW07XG4gICAgICAgICAgICB2YXIgazIgPSByYWRpdXMgKiBNYXRoLnNxcnQoY2MpIC8gbW07XG4gICAgICAgICAgICB2YXIgajEgPSBrMSAqIHR0IC8gZGQ7XG4gICAgICAgICAgICB2YXIgajIgPSBrMiAqIHR0IC8gY2M7XG4gICAgICAgICAgICB2YXIgY3ggPSBrMSAqIGIyICsgazIgKiBiMTtcbiAgICAgICAgICAgIHZhciBjeSA9IGsxICogYTIgKyBrMiAqIGExO1xuICAgICAgICAgICAgdmFyIHB4ID0gYjEgKiAoazIgKyBqMSk7XG4gICAgICAgICAgICB2YXIgcHkgPSBhMSAqIChrMiArIGoxKTtcbiAgICAgICAgICAgIHZhciBxeCA9IGIyICogKGsxICsgajIpO1xuICAgICAgICAgICAgdmFyIHF5ID0gYTIgKiAoazEgKyBqMik7XG4gICAgICAgICAgICB2YXIgc3RhcnRBbmdsZSA9IE1hdGguYXRhbjIocHkgLSBjeSwgcHggLSBjeCk7XG4gICAgICAgICAgICB2YXIgZW5kQW5nbGUgPSBNYXRoLmF0YW4yKHF5IC0gY3ksIHF4IC0gY3gpO1xuXG4gICAgICAgICAgICB0aGlzLmFyYyhjeCArIHgxLCBjeSArIHkxLCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBiMSAqIGEyID4gYjIgKiBhMSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcmMgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlICh1c2VkIHRvIGNyZWF0ZSBjaXJjbGVzLCBvciBwYXJ0cyBvZiBjaXJjbGVzKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN5IC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0QW5nbGUgLSBUaGUgc3RhcnRpbmcgYW5nbGUsIGluIHJhZGlhbnMgKDAgaXMgYXQgdGhlIDMgbydjbG9jayBwb3NpdGlvblxuICAgICAqICBvZiB0aGUgYXJjJ3MgY2lyY2xlKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRBbmdsZSAtIFRoZSBlbmRpbmcgYW5nbGUsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbnRpY2xvY2t3aXNlPWZhbHNlXSAtIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBkcmF3aW5nIHNob3VsZCBiZVxuICAgICAqICBjb3VudGVyLWNsb2Nrd2lzZSBvciBjbG9ja3dpc2UuIEZhbHNlIGlzIGRlZmF1bHQsIGFuZCBpbmRpY2F0ZXMgY2xvY2t3aXNlLCB3aGlsZSB0cnVlXG4gICAgICogIGluZGljYXRlcyBjb3VudGVyLWNsb2Nrd2lzZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hcmMgPSBmdW5jdGlvbiBhcmMoY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKSB7XG4gICAgICAgIHZhciBhbnRpY2xvY2t3aXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiBmYWxzZTtcblxuICAgICAgICBpZiAoc3RhcnRBbmdsZSA9PT0gZW5kQW5nbGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhbnRpY2xvY2t3aXNlICYmIGVuZEFuZ2xlIDw9IHN0YXJ0QW5nbGUpIHtcbiAgICAgICAgICAgIGVuZEFuZ2xlICs9IF9jb25zdC5QSV8yO1xuICAgICAgICB9IGVsc2UgaWYgKGFudGljbG9ja3dpc2UgJiYgc3RhcnRBbmdsZSA8PSBlbmRBbmdsZSkge1xuICAgICAgICAgICAgc3RhcnRBbmdsZSArPSBfY29uc3QuUElfMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzd2VlcCA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcbiAgICAgICAgdmFyIHNlZ3MgPSBHcmFwaGljcy5DVVJWRVMuYWRhcHRpdmUgPyB0aGlzLl9zZWdtZW50c0NvdW50KE1hdGguYWJzKHN3ZWVwKSAqIHJhZGl1cykgOiBNYXRoLmNlaWwoTWF0aC5hYnMoc3dlZXApIC8gX2NvbnN0LlBJXzIpICogNDA7XG5cbiAgICAgICAgaWYgKHN3ZWVwID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGFydFggPSBjeCArIE1hdGguY29zKHN0YXJ0QW5nbGUpICogcmFkaXVzO1xuICAgICAgICB2YXIgc3RhcnRZID0gY3kgKyBNYXRoLnNpbihzdGFydEFuZ2xlKSAqIHJhZGl1cztcblxuICAgICAgICAvLyBJZiB0aGUgY3VycmVudFBhdGggZXhpc3RzLCB0YWtlIGl0cyBwb2ludHMuIE90aGVyd2lzZSBjYWxsIGBtb3ZlVG9gIHRvIHN0YXJ0IGEgcGF0aC5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGggPyB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cyA6IG51bGw7XG5cbiAgICAgICAgaWYgKHBvaW50cykge1xuICAgICAgICAgICAgLy8gV2UgY2hlY2sgaG93IGZhciBvdXIgc3RhcnQgaXMgZnJvbSB0aGUgbGFzdCBleGlzdGluZyBwb2ludFxuICAgICAgICAgICAgdmFyIHhEaWZmID0gTWF0aC5hYnMocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAtIHN0YXJ0WCk7XG4gICAgICAgICAgICB2YXIgeURpZmYgPSBNYXRoLmFicyhwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdIC0gc3RhcnRZKTtcblxuICAgICAgICAgICAgaWYgKHhEaWZmIDwgMC4wMDEgJiYgeURpZmYgPCAwLjAwMSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwb2ludCBpcyB2ZXJ5IGNsb3NlLCB3ZSBkb24ndCBhZGQgaXQsIHNpbmNlIHRoaXMgd291bGQgbGVhZCB0byBhcnRpZmFjdHNcbiAgICAgICAgICAgICAgICAvLyBkdXJpbmcgdGVzc2VsYXRpb24gZHVlIHRvIGZsb2F0aW5nIHBvaW50IGltcHJlY2lzaW9uLlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyhzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0aGV0YSA9IHN3ZWVwIC8gKHNlZ3MgKiAyKTtcbiAgICAgICAgdmFyIHRoZXRhMiA9IHRoZXRhICogMjtcblxuICAgICAgICB2YXIgY1RoZXRhID0gTWF0aC5jb3ModGhldGEpO1xuICAgICAgICB2YXIgc1RoZXRhID0gTWF0aC5zaW4odGhldGEpO1xuXG4gICAgICAgIHZhciBzZWdNaW51cyA9IHNlZ3MgLSAxO1xuXG4gICAgICAgIHZhciByZW1haW5kZXIgPSBzZWdNaW51cyAlIDEgLyBzZWdNaW51cztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBzZWdNaW51czsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcmVhbCA9IGkgKyByZW1haW5kZXIgKiBpO1xuXG4gICAgICAgICAgICB2YXIgYW5nbGUgPSB0aGV0YSArIHN0YXJ0QW5nbGUgKyB0aGV0YTIgKiByZWFsO1xuXG4gICAgICAgICAgICB2YXIgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgICAgIHZhciBzID0gLU1hdGguc2luKGFuZ2xlKTtcblxuICAgICAgICAgICAgcG9pbnRzLnB1c2goKGNUaGV0YSAqIGMgKyBzVGhldGEgKiBzKSAqIHJhZGl1cyArIGN4LCAoY1RoZXRhICogLXMgKyBzVGhldGEgKiBjKSAqIHJhZGl1cyArIGN5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIGEgc2ltcGxlIG9uZS1jb2xvciBmaWxsIHRoYXQgc3Vic2VxdWVudCBjYWxscyB0byBvdGhlciBHcmFwaGljcyBtZXRob2RzXG4gICAgICogKHN1Y2ggYXMgbGluZVRvKCkgb3IgZHJhd0NpcmNsZSgpKSB1c2Ugd2hlbiBkcmF3aW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0wXSAtIHRoZSBjb2xvciBvZiB0aGUgZmlsbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSB0aGUgYWxwaGEgb2YgdGhlIGZpbGxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpbkZpbGwgPSBmdW5jdGlvbiBiZWdpbkZpbGwoKSB7XG4gICAgICAgIHZhciBjb2xvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIGFscGhhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxO1xuXG4gICAgICAgIHRoaXMuZmlsbGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZmlsbENvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMuZmlsbEFscGhhID0gYWxwaGE7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGggPD0gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguZmlsbCA9IHRoaXMuZmlsbGluZztcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmZpbGxDb2xvciA9IHRoaXMuZmlsbENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguZmlsbEFscGhhID0gdGhpcy5maWxsQWxwaGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIGZpbGwgdG8gdGhlIGxpbmVzIGFuZCBzaGFwZXMgdGhhdCB3ZXJlIGFkZGVkIHNpbmNlIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGJlZ2luRmlsbCgpIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmVuZEZpbGwgPSBmdW5jdGlvbiBlbmRGaWxsKCkge1xuICAgICAgICB0aGlzLmZpbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5maWxsQ29sb3IgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbGxBbHBoYSA9IDE7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UmVjdCA9IGZ1bmN0aW9uIGRyYXdSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUobmV3IF9tYXRoLlJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gUmFkaXVzIG9mIHRoZSByZWN0YW5nbGUgY29ybmVyc1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdSb3VuZGVkUmVjdCA9IGZ1bmN0aW9uIGRyYXdSb3VuZGVkUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpIHtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUobmV3IF9tYXRoLlJvdW5kZWRSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgY2lyY2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd0NpcmNsZSA9IGZ1bmN0aW9uIGRyYXdDaXJjbGUoeCwgeSwgcmFkaXVzKSB7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKG5ldyBfbWF0aC5DaXJjbGUoeCwgeSwgcmFkaXVzKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGFuIGVsbGlwc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIGhhbGYgd2lkdGggb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhhbGYgaGVpZ2h0IG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd0VsbGlwc2UgPSBmdW5jdGlvbiBkcmF3RWxsaXBzZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKG5ldyBfbWF0aC5FbGxpcHNlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBwb2x5Z29uIHVzaW5nIHRoZSBnaXZlbiBwYXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXXxQSVhJLlBvaW50W118UElYSS5Qb2x5Z29ufSBwYXRoIC0gVGhlIHBhdGggZGF0YSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgcG9seWdvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uIGRyYXdQb2x5Z29uKHBhdGgpIHtcbiAgICAgICAgLy8gcHJldmVudHMgYW4gYXJndW1lbnQgYXNzaWdubWVudCBkZW9wdFxuICAgICAgICAvLyBzZWUgc2VjdGlvbiAzLjE6IGh0dHBzOi8vZ2l0aHViLmNvbS9wZXRrYWFudG9ub3YvYmx1ZWJpcmQvd2lraS9PcHRpbWl6YXRpb24ta2lsbGVycyMzLW1hbmFnaW5nLWFyZ3VtZW50c1xuICAgICAgICB2YXIgcG9pbnRzID0gcGF0aDtcblxuICAgICAgICB2YXIgY2xvc2VkID0gdHJ1ZTtcblxuICAgICAgICBpZiAocG9pbnRzIGluc3RhbmNlb2YgX21hdGguUG9seWdvbikge1xuICAgICAgICAgICAgY2xvc2VkID0gcG9pbnRzLmNsb3NlZDtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvaW50cy5wb2ludHM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocG9pbnRzKSkge1xuICAgICAgICAgICAgLy8gcHJldmVudHMgYW4gYXJndW1lbnQgbGVhayBkZW9wdFxuICAgICAgICAgICAgLy8gc2VlIHNlY3Rpb24gMy4yOiBodHRwczovL2dpdGh1Yi5jb20vcGV0a2FhbnRvbm92L2JsdWViaXJkL3dpa2kvT3B0aW1pemF0aW9uLWtpbGxlcnMjMy1tYW5hZ2luZy1hcmd1bWVudHNcbiAgICAgICAgICAgIHBvaW50cyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBwb2ludHNbaV0gPSBhcmd1bWVudHNbaV07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2hhcGUgPSBuZXcgX21hdGguUG9seWdvbihwb2ludHMpO1xuXG4gICAgICAgIHNoYXBlLmNsb3NlZCA9IGNsb3NlZDtcblxuICAgICAgICB0aGlzLmRyYXdTaGFwZShzaGFwZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXcgYSBzdGFyIHNoYXBlIHdpdGggYW4gYWJpdHJhcnkgbnVtYmVyIG9mIHBvaW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gQ2VudGVyIFggcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIENlbnRlciBZIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50cyAtIFRoZSBudW1iZXIgb2YgcG9pbnRzIG9mIHRoZSBzdGFyLCBtdXN0IGJlID4gMVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtpbm5lclJhZGl1c10gLSBUaGUgaW5uZXIgcmFkaXVzIGJldHdlZW4gcG9pbnRzLCBkZWZhdWx0IGhhbGYgYHJhZGl1c2BcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uIG9mIHRoZSBzdGFyIGluIHJhZGlhbnMsIHdoZXJlIDAgaXMgdmVydGljYWxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3U3RhciA9IGZ1bmN0aW9uIGRyYXdTdGFyKHgsIHksIHBvaW50cywgcmFkaXVzLCBpbm5lclJhZGl1cykge1xuICAgICAgICB2YXIgcm90YXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IDA7XG5cbiAgICAgICAgaW5uZXJSYWRpdXMgPSBpbm5lclJhZGl1cyB8fCByYWRpdXMgLyAyO1xuXG4gICAgICAgIHZhciBzdGFydEFuZ2xlID0gLTEgKiBNYXRoLlBJIC8gMiArIHJvdGF0aW9uO1xuICAgICAgICB2YXIgbGVuID0gcG9pbnRzICogMjtcbiAgICAgICAgdmFyIGRlbHRhID0gX2NvbnN0LlBJXzIgLyBsZW47XG4gICAgICAgIHZhciBwb2x5Z29uID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHIgPSBpICUgMiA/IGlubmVyUmFkaXVzIDogcmFkaXVzO1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gaSAqIGRlbHRhICsgc3RhcnRBbmdsZTtcblxuICAgICAgICAgICAgcG9seWdvbi5wdXNoKHggKyByICogTWF0aC5jb3MoYW5nbGUpLCB5ICsgciAqIE1hdGguc2luKGFuZ2xlKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5kcmF3UG9seWdvbihwb2x5Z29uKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBncmFwaGljcyB0aGF0IHdlcmUgZHJhd24gdG8gdGhpcyBHcmFwaGljcyBvYmplY3QsIGFuZCByZXNldHMgZmlsbCBhbmQgbGluZSBzdHlsZSBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmxpbmVXaWR0aCB8fCB0aGlzLmZpbGxpbmcgfHwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5saW5lV2lkdGggPSAwO1xuICAgICAgICAgICAgdGhpcy5saW5lQWxpZ25tZW50ID0gMC41O1xuXG4gICAgICAgICAgICB0aGlzLmZpbGxpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNUaW50RGlydHkgPSAtMTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgICAgIHRoaXMuY2xlYXJEaXJ0eSsrO1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICB0aGlzLl9zcHJpdGVSZWN0ID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiBncmFwaGljcyBjb25zaXN0cyBvZiBvbmUgcmVjdGFuZ2xlLCBhbmQgdGh1cywgY2FuIGJlIGRyYXduIGxpa2UgYSBTcHJpdGUgYW5kXG4gICAgICogbWFza2VkIHdpdGggZ2wuc2Npc3Nvci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9ubHkgMSByZWN0LlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuaXNGYXN0UmVjdCA9IGZ1bmN0aW9uIGlzRmFzdFJlY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPT09IDEgJiYgdGhpcy5ncmFwaGljc0RhdGFbMF0uc2hhcGUudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SRUNUICYmICF0aGlzLmdyYXBoaWNzRGF0YVswXS5saW5lV2lkdGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyV2ViR0wgPSBmdW5jdGlvbiBfcmVuZGVyV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyBub3QgdmlzaWJsZSBvciB0aGUgYWxwaGEgaXMgMCB0aGVuIG5vIG5lZWQgdG8gcmVuZGVyIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAodGhpcy5kaXJ0eSAhPT0gdGhpcy5mYXN0UmVjdERpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmZhc3RSZWN0RGlydHkgPSB0aGlzLmRpcnR5O1xuICAgICAgICAgICAgdGhpcy5fZmFzdFJlY3QgPSB0aGlzLmlzRmFzdFJlY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gdGhpcyBjaGVjayBjYW4gYmUgbW92ZWQgdG8gZGlydHk/XG4gICAgICAgIGlmICh0aGlzLl9mYXN0UmVjdCkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyU3ByaXRlUmVjdChyZW5kZXJlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MucmVuZGVyKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBzcHJpdGUgcmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJTcHJpdGVSZWN0ID0gZnVuY3Rpb24gX3JlbmRlclNwcml0ZVJlY3QocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLmdyYXBoaWNzRGF0YVswXS5zaGFwZTtcblxuICAgICAgICBpZiAoIXRoaXMuX3Nwcml0ZVJlY3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3Nwcml0ZVJlY3QgPSBuZXcgX1Nwcml0ZTIuZGVmYXVsdChuZXcgX1RleHR1cmUyLmRlZmF1bHQoX1RleHR1cmUyLmRlZmF1bHQuV0hJVEUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzcHJpdGUgPSB0aGlzLl9zcHJpdGVSZWN0O1xuICAgICAgICB2YXIgZmlsbENvbG9yID0gdGhpcy5ncmFwaGljc0RhdGFbMF0uZmlsbENvbG9yO1xuXG4gICAgICAgIGlmICh0aGlzLnRpbnQgPT09IDB4ZmZmZmZmKSB7XG4gICAgICAgICAgICBzcHJpdGUudGludCA9IGZpbGxDb2xvcjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRpbnQgIT09IHRoaXMuX3ByZXZSZWN0VGludCB8fCBmaWxsQ29sb3IgIT09IHRoaXMuX3ByZXZSZWN0RmlsbENvbG9yKSB7XG4gICAgICAgICAgICB2YXIgdDEgPSB0ZW1wQ29sb3IxO1xuICAgICAgICAgICAgdmFyIHQyID0gdGVtcENvbG9yMjtcblxuICAgICAgICAgICAgKDAsIF91dGlscy5oZXgycmdiKShmaWxsQ29sb3IsIHQxKTtcbiAgICAgICAgICAgICgwLCBfdXRpbHMuaGV4MnJnYikodGhpcy50aW50LCB0Mik7XG5cbiAgICAgICAgICAgIHQxWzBdICo9IHQyWzBdO1xuICAgICAgICAgICAgdDFbMV0gKj0gdDJbMV07XG4gICAgICAgICAgICB0MVsyXSAqPSB0MlsyXTtcblxuICAgICAgICAgICAgc3ByaXRlLnRpbnQgPSAoMCwgX3V0aWxzLnJnYjJoZXgpKHQxKTtcblxuICAgICAgICAgICAgdGhpcy5fcHJldlJlY3RUaW50ID0gdGhpcy50aW50O1xuICAgICAgICAgICAgdGhpcy5fcHJldlJlY3RGaWxsQ29sb3IgPSBmaWxsQ29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBzcHJpdGUuYWxwaGEgPSB0aGlzLmdyYXBoaWNzRGF0YVswXS5maWxsQWxwaGE7XG4gICAgICAgIHNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhICogc3ByaXRlLmFscGhhO1xuICAgICAgICBzcHJpdGUuYmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGU7XG5cbiAgICAgICAgc3ByaXRlLl90ZXh0dXJlLl9mcmFtZS53aWR0aCA9IHJlY3Qud2lkdGg7XG4gICAgICAgIHNwcml0ZS5fdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG5cbiAgICAgICAgc3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgIHNwcml0ZS5hbmNob3Iuc2V0KC1yZWN0LnggLyByZWN0LndpZHRoLCAtcmVjdC55IC8gcmVjdC5oZWlnaHQpO1xuICAgICAgICBzcHJpdGUuX29uQW5jaG9yVXBkYXRlKCk7XG5cbiAgICAgICAgc3ByaXRlLl9yZW5kZXJXZWJHTChyZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTWFzayA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBncmFwaGljIHNoYXBlIGFzIGEgcmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgICAgICBpZiAodGhpcy5ib3VuZHNEaXJ0eSAhPT0gdGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxvY2FsQm91bmRzKCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGVkU3ByaXRlRGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxiID0gdGhpcy5fbG9jYWxCb3VuZHM7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBsYi5taW5YLCBsYi5taW5ZLCBsYi5tYXhYLCBsYi5tYXhZKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIHZhciBncmFwaGljc0RhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljc0RhdGFbaV07XG5cbiAgICAgICAgICAgIGlmICghZGF0YS5maWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9ubHkgZGVhbCB3aXRoIGZpbGxzLi5cbiAgICAgICAgICAgIGlmIChkYXRhLnNoYXBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUuY29udGFpbnModGVtcFBvaW50LngsIHRlbXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ob2xlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGRhdGEuaG9sZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhvbGUgPSBkYXRhLmhvbGVzW19pXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob2xlLmNvbnRhaW5zKHRlbXBQb2ludC54LCB0ZW1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdFxuICAgICAqXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS51cGRhdGVMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIHVwZGF0ZUxvY2FsQm91bmRzKCkge1xuICAgICAgICB2YXIgbWluWCA9IEluZmluaXR5O1xuICAgICAgICB2YXIgbWF4WCA9IC1JbmZpbml0eTtcblxuICAgICAgICB2YXIgbWluWSA9IEluZmluaXR5O1xuICAgICAgICB2YXIgbWF4WSA9IC1JbmZpbml0eTtcblxuICAgICAgICBpZiAodGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSAwO1xuICAgICAgICAgICAgdmFyIHggPSAwO1xuICAgICAgICAgICAgdmFyIHkgPSAwO1xuICAgICAgICAgICAgdmFyIHcgPSAwO1xuICAgICAgICAgICAgdmFyIGggPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEudHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgbGluZVdpZHRoID0gZGF0YS5saW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmVBbGlnbm1lbnQgPSBkYXRhLmxpbmVBbGlnbm1lbnQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgbGluZU9mZnNldCA9IGxpbmVXaWR0aCAqIGxpbmVBbGlnbm1lbnQ7XG5cbiAgICAgICAgICAgICAgICBzaGFwZSA9IGRhdGEuc2hhcGU7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SRUNUIHx8IHR5cGUgPT09IF9jb25zdC5TSEFQRVMuUlJFQykge1xuICAgICAgICAgICAgICAgICAgICB4ID0gc2hhcGUueCAtIGxpbmVPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBzaGFwZS55IC0gbGluZU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgdyA9IHNoYXBlLndpZHRoICsgbGluZU9mZnNldCAqIDI7XG4gICAgICAgICAgICAgICAgICAgIGggPSBzaGFwZS5oZWlnaHQgKyBsaW5lT2Zmc2V0ICogMjtcblxuICAgICAgICAgICAgICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgbWF4WCA9IHggKyB3ID4gbWF4WCA/IHggKyB3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgbWF4WSA9IHkgKyBoID4gbWF4WSA/IHkgKyBoIDogbWF4WTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IF9jb25zdC5TSEFQRVMuQ0lSQykge1xuICAgICAgICAgICAgICAgICAgICB4ID0gc2hhcGUueDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHNoYXBlLnk7XG4gICAgICAgICAgICAgICAgICAgIHcgPSBzaGFwZS5yYWRpdXMgKyBsaW5lT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBoID0gc2hhcGUucmFkaXVzICsgbGluZU9mZnNldDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5YID0geCAtIHcgPCBtaW5YID8geCAtIHcgOiBtaW5YO1xuICAgICAgICAgICAgICAgICAgICBtYXhYID0geCArIHcgPiBtYXhYID8geCArIHcgOiBtYXhYO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblkgPSB5IC0gaCA8IG1pblkgPyB5IC0gaCA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgIG1heFkgPSB5ICsgaCA+IG1heFkgPyB5ICsgaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBfY29uc3QuU0hBUEVTLkVMSVApIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHNoYXBlLng7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBzaGFwZS55O1xuICAgICAgICAgICAgICAgICAgICB3ID0gc2hhcGUud2lkdGggKyBsaW5lT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBoID0gc2hhcGUuaGVpZ2h0ICsgbGluZU9mZnNldDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5YID0geCAtIHcgPCBtaW5YID8geCAtIHcgOiBtaW5YO1xuICAgICAgICAgICAgICAgICAgICBtYXhYID0geCArIHcgPiBtYXhYID8geCArIHcgOiBtYXhYO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblkgPSB5IC0gaCA8IG1pblkgPyB5IC0gaCA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgIG1heFkgPSB5ICsgaCA+IG1heFkgPyB5ICsgaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUE9MWVxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gc2hhcGUucG9pbnRzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeDIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeTIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHggPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcncgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmggPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3ggPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3kgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqICsgMiA8IHBvaW50cy5sZW5ndGg7IGogKz0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IHBvaW50c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBwb2ludHNbaiArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeDIgPSBwb2ludHNbaiArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeTIgPSBwb2ludHNbaiArIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHggPSBNYXRoLmFicyh4MiAtIHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHkgPSBNYXRoLmFicyh5MiAtIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IGxpbmVPZmZzZXQgKiAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgdyA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3IDwgMWUtOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBydyA9IChoIC8gdyAqIGR5ICsgZHgpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJoID0gKGggLyB3ICogZHggKyBkeSkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ggPSAoeDIgKyB4KSAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeSA9ICh5MiArIHkpIC8gMjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbWluWCA9IGN4IC0gcncgPCBtaW5YID8gY3ggLSBydyA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhYID0gY3ggKyBydyA+IG1heFggPyBjeCArIHJ3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbWluWSA9IGN5IC0gcmggPCBtaW5ZID8gY3kgLSByaCA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhZID0gY3kgKyByaCA+IG1heFkgPyBjeSArIHJoIDogbWF4WTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1pblggPSAwO1xuICAgICAgICAgICAgbWF4WCA9IDA7XG4gICAgICAgICAgICBtaW5ZID0gMDtcbiAgICAgICAgICAgIG1heFkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLmJvdW5kc1BhZGRpbmc7XG5cbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMubWluWCA9IG1pblggLSBwYWRkaW5nO1xuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcy5tYXhYID0gbWF4WCArIHBhZGRpbmc7XG5cbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMubWluWSA9IG1pblkgLSBwYWRkaW5nO1xuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcy5tYXhZID0gbWF4WSArIHBhZGRpbmc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBnaXZlbiBzaGFwZSB0byB0aGlzIEdyYXBoaWNzIG9iamVjdC4gQ2FuIGJlIGFueSBvZiBDaXJjbGUsIFJlY3RhbmdsZSwgRWxsaXBzZSwgTGluZSBvciBQb2x5Z29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0RhdGF9IFRoZSBnZW5lcmF0ZWQgR3JhcGhpY3NEYXRhIG9iamVjdC5cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uIGRyYXdTaGFwZShzaGFwZSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgLy8gY2hlY2sgY3VycmVudCBwYXRoIVxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA8PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcblxuICAgICAgICB2YXIgZGF0YSA9IG5ldyBfR3JhcGhpY3NEYXRhMi5kZWZhdWx0KHRoaXMubGluZVdpZHRoLCB0aGlzLmxpbmVDb2xvciwgdGhpcy5saW5lQWxwaGEsIHRoaXMuZmlsbENvbG9yLCB0aGlzLmZpbGxBbHBoYSwgdGhpcy5maWxsaW5nLCB0aGlzLm5hdGl2ZUxpbmVzLCBzaGFwZSwgdGhpcy5saW5lQWxpZ25tZW50KTtcblxuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5wdXNoKGRhdGEpO1xuXG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUE9MWSkge1xuICAgICAgICAgICAgZGF0YS5zaGFwZS5jbG9zZWQgPSBkYXRhLnNoYXBlLmNsb3NlZDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBkYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBjYW52YXMgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZU1vZGUgLSBUaGUgc2NhbGUgbW9kZSBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ldyB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZ2VuZXJhdGVDYW52YXNUZXh0dXJlID0gZnVuY3Rpb24gZ2VuZXJhdGVDYW52YXNUZXh0dXJlKHNjYWxlTW9kZSkge1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTtcblxuICAgICAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpO1xuXG4gICAgICAgIHZhciBjYW52YXNCdWZmZXIgPSBfUmVuZGVyVGV4dHVyZTIuZGVmYXVsdC5jcmVhdGUoYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24pO1xuXG4gICAgICAgIGlmICghY2FudmFzUmVuZGVyZXIpIHtcbiAgICAgICAgICAgIGNhbnZhc1JlbmRlcmVyID0gbmV3IF9DYW52YXNSZW5kZXJlcjIuZGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlTG9jYWxUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm0uY29weSh0ZW1wTWF0cml4KTtcblxuICAgICAgICB0ZW1wTWF0cml4LmludmVydCgpO1xuXG4gICAgICAgIHRlbXBNYXRyaXgudHggLT0gYm91bmRzLng7XG4gICAgICAgIHRlbXBNYXRyaXgudHkgLT0gYm91bmRzLnk7XG5cbiAgICAgICAgY2FudmFzUmVuZGVyZXIucmVuZGVyKHRoaXMsIGNhbnZhc0J1ZmZlciwgdHJ1ZSwgdGVtcE1hdHJpeCk7XG5cbiAgICAgICAgdmFyIHRleHR1cmUgPSBfVGV4dHVyZTIuZGVmYXVsdC5mcm9tQ2FudmFzKGNhbnZhc0J1ZmZlci5iYXNlVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LmNhbnZhcywgc2NhbGVNb2RlLCAnZ3JhcGhpY3MnKTtcblxuICAgICAgICB0ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICB0ZXh0dXJlLmJhc2VUZXh0dXJlLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIGN1cnJlbnQgcGF0aC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xvc2VQYXRoID0gZnVuY3Rpb24gY2xvc2VQYXRoKCkge1xuICAgICAgICAvLyBvayBzbyBjbG9zZSBwYXRoIGFzc3VtZXMgbmV4dCBvbmUgaXMgYSBob2xlIVxuICAgICAgICB2YXIgY3VycmVudFBhdGggPSB0aGlzLmN1cnJlbnRQYXRoO1xuXG4gICAgICAgIGlmIChjdXJyZW50UGF0aCAmJiBjdXJyZW50UGF0aC5zaGFwZSkge1xuICAgICAgICAgICAgY3VycmVudFBhdGguc2hhcGUuY2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgaG9sZSBpbiB0aGUgY3VycmVudCBwYXRoLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hZGRIb2xlID0gZnVuY3Rpb24gYWRkSG9sZSgpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBhIGhvbGUhXG4gICAgICAgIHZhciBob2xlID0gdGhpcy5ncmFwaGljc0RhdGEucG9wKCk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IHRoaXMuZ3JhcGhpY3NEYXRhW3RoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGguYWRkSG9sZShob2xlLnNoYXBlKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICBfQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gZGVzdHJveSBlYWNoIG9mIHRoZSBHcmFwaGljc0RhdGEgb2JqZWN0c1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YVtpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmb3IgZWFjaCB3ZWJnbCBkYXRhIGVudHJ5LCBkZXN0cm95IHRoZSBXZWJHTEdyYXBoaWNzRGF0YVxuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLl93ZWJHTCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLl93ZWJHTFtpZF0uZGF0YS5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlYkdMW2lkXS5kYXRhW2pdLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9zcHJpdGVSZWN0KSB7XG4gICAgICAgICAgICB0aGlzLl9zcHJpdGVSZWN0LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgdGhpcy5fd2ViR0wgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBHcmFwaGljcztcbn0oX0NvbnRhaW5lcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdyYXBoaWNzO1xuXG5cbkdyYXBoaWNzLl9TUFJJVEVfVEVYVFVSRSA9IG51bGw7XG5cbi8qKlxuICogR3JhcGhpY3MgY3VydmVzIHJlc29sdXRpb24gc2V0dGluZ3MuIElmIGBhZGFwdGl2ZWAgZmxhZyBpcyBzZXQgdG8gYHRydWVgLFxuICogdGhlIHJlc29sdXRpb24gaXMgY2FsY3VsYXRlZCBiYXNlZCBvbiB0aGUgY3VydmUncyBsZW5ndGggdG8gZW5zdXJlIGJldHRlciB2aXN1YWwgcXVhbGl0eS5cbiAqIEFkYXB0aXZlIGRyYXcgd29ya3Mgd2l0aCBgYmV6aWVyQ3VydmVUb2AgYW5kIGBxdWFkcmF0aWNDdXJ2ZVRvYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJLkdyYXBoaWNzXG4gKiBAbmFtZSBDVVJWRVNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFkYXB0aXZlPWZhbHNlIC0gZmxhZyBpbmRpY2F0aW5nIGlmIHRoZSByZXNvbHV0aW9uIHNob3VsZCBiZSBhZGFwdGl2ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heExlbmd0aD0xMCAtIG1heGltYWwgbGVuZ3RoIG9mIGEgc2luZ2xlIHNlZ21lbnQgb2YgdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblNlZ21lbnRzPTggLSBtaW5pbWFsIG51bWJlciBvZiBzZWdtZW50cyBpbiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4U2VnbWVudHM9MjA0OCAtIG1heGltYWwgbnVtYmVyIG9mIHNlZ21lbnRzIGluIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqL1xuR3JhcGhpY3MuQ1VSVkVTID0ge1xuICAgIGFkYXB0aXZlOiBmYWxzZSxcbiAgICBtYXhMZW5ndGg6IDEwLFxuICAgIG1pblNlZ21lbnRzOiA4LFxuICAgIG1heFNlZ21lbnRzOiAyMDQ4XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JhcGhpY3MuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBiZXppZXJDdXJ2ZVRvO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gU3RhcnRpbmcgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0gU3RhcnRpbmcgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IG4gLSBOdW1iZXIgb2Ygc2VnbWVudHMgYXBwcm94aW1hdGluZyB0aGUgYmV6aWVyIGN1cnZlXG4gKiBAcGFyYW0ge251bWJlcltdfSBbcGF0aD1bXV0gLSBQYXRoIGFycmF5IHRvIHB1c2ggcG9pbnRzIGludG9cbiAqIEByZXR1cm4ge251bWJlcltdfSBBcnJheSBvZiBwb2ludHMgb2YgdGhlIGN1cnZlXG4gKi9cbmZ1bmN0aW9uIGJlemllckN1cnZlVG8oZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1ksIG4pIHtcbiAgICB2YXIgcGF0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiA5ICYmIGFyZ3VtZW50c1s5XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzldIDogW107XG5cbiAgICB2YXIgZHQgPSAwO1xuICAgIHZhciBkdDIgPSAwO1xuICAgIHZhciBkdDMgPSAwO1xuICAgIHZhciB0MiA9IDA7XG4gICAgdmFyIHQzID0gMDtcblxuICAgIHBhdGgucHVzaChmcm9tWCwgZnJvbVkpO1xuXG4gICAgZm9yICh2YXIgaSA9IDEsIGogPSAwOyBpIDw9IG47ICsraSkge1xuICAgICAgICBqID0gaSAvIG47XG5cbiAgICAgICAgZHQgPSAxIC0gajtcbiAgICAgICAgZHQyID0gZHQgKiBkdDtcbiAgICAgICAgZHQzID0gZHQyICogZHQ7XG5cbiAgICAgICAgdDIgPSBqICogajtcbiAgICAgICAgdDMgPSB0MiAqIGo7XG5cbiAgICAgICAgcGF0aC5wdXNoKGR0MyAqIGZyb21YICsgMyAqIGR0MiAqIGogKiBjcFggKyAzICogZHQgKiB0MiAqIGNwWDIgKyB0MyAqIHRvWCwgZHQzICogZnJvbVkgKyAzICogZHQyICogaiAqIGNwWSArIDMgKiBkdCAqIHQyICogY3BZMiArIHQzICogdG9ZKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJlemllckN1cnZlVG8uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL09iamVjdFJlbmRlcmVyJyk7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JqZWN0UmVuZGVyZXIyKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyZXInKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMUmVuZGVyZXIpO1xuXG52YXIgX1dlYkdMR3JhcGhpY3NEYXRhID0gcmVxdWlyZSgnLi9XZWJHTEdyYXBoaWNzRGF0YScpO1xuXG52YXIgX1dlYkdMR3JhcGhpY3NEYXRhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMR3JhcGhpY3NEYXRhKTtcblxudmFyIF9QcmltaXRpdmVTaGFkZXIgPSByZXF1aXJlKCcuL3NoYWRlcnMvUHJpbWl0aXZlU2hhZGVyJyk7XG5cbnZhciBfUHJpbWl0aXZlU2hhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ByaW1pdGl2ZVNoYWRlcik7XG5cbnZhciBfYnVpbGRQb2x5ID0gcmVxdWlyZSgnLi91dGlscy9idWlsZFBvbHknKTtcblxudmFyIF9idWlsZFBvbHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnVpbGRQb2x5KTtcblxudmFyIF9idWlsZFJlY3RhbmdsZSA9IHJlcXVpcmUoJy4vdXRpbHMvYnVpbGRSZWN0YW5nbGUnKTtcblxudmFyIF9idWlsZFJlY3RhbmdsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZFJlY3RhbmdsZSk7XG5cbnZhciBfYnVpbGRSb3VuZGVkUmVjdGFuZ2xlID0gcmVxdWlyZSgnLi91dGlscy9idWlsZFJvdW5kZWRSZWN0YW5nbGUnKTtcblxudmFyIF9idWlsZFJvdW5kZWRSZWN0YW5nbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnVpbGRSb3VuZGVkUmVjdGFuZ2xlKTtcblxudmFyIF9idWlsZENpcmNsZSA9IHJlcXVpcmUoJy4vdXRpbHMvYnVpbGRDaXJjbGUnKTtcblxudmFyIF9idWlsZENpcmNsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZENpcmNsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBSZW5kZXJzIHRoZSBncmFwaGljcyBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG52YXIgR3JhcGhpY3NSZW5kZXJlciA9IGZ1bmN0aW9uIChfT2JqZWN0UmVuZGVyZXIpIHtcbiAgICBfaW5oZXJpdHMoR3JhcGhpY3NSZW5kZXJlciwgX09iamVjdFJlbmRlcmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG9iamVjdCByZW5kZXJlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JhcGhpY3NSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR3JhcGhpY3NSZW5kZXJlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX09iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5ncmFwaGljc0RhdGFQb29sID0gW107XG5cbiAgICAgICAgX3RoaXMucHJpbWl0aXZlU2hhZGVyID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5nbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIC8vIGVhc3kgYWNjZXNzIVxuICAgICAgICBfdGhpcy5DT05URVhUX1VJRCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGVyZSBpcyBhIFdlYkdMIGNvbnRleHQgY2hhbmdlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgICAgICB0aGlzLnByaW1pdGl2ZVNoYWRlciA9IG5ldyBfUHJpbWl0aXZlU2hhZGVyMi5kZWZhdWx0KHRoaXMuZ2wpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBfT2JqZWN0UmVuZGVyZXIzLmRlZmF1bHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhUG9vbC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGFQb29sW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhUG9vbCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBncmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IGdyYXBoaWNzIC0gVGhlIGdyYXBoaWNzIG9iamVjdCB0byByZW5kZXIuXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihncmFwaGljcykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICB2YXIgd2ViR0xEYXRhID0gdm9pZCAwO1xuICAgICAgICB2YXIgd2ViR0wgPSBncmFwaGljcy5fd2ViR0xbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCF3ZWJHTCB8fCBncmFwaGljcy5kaXJ0eSAhPT0gd2ViR0wuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlR3JhcGhpY3MoZ3JhcGhpY3MpO1xuXG4gICAgICAgICAgICB3ZWJHTCA9IGdyYXBoaWNzLl93ZWJHTFt0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgIGNvdWxkIGJlIHNwZWVkZWQgdXAgZm9yIHN1cmUhXG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnByaW1pdGl2ZVNoYWRlcjtcblxuICAgICAgICByZW5kZXJlci5iaW5kU2hhZGVyKHNoYWRlcik7XG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldEJsZW5kTW9kZShncmFwaGljcy5ibGVuZE1vZGUpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gd2ViR0wuZGF0YS5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHdlYkdMRGF0YSA9IHdlYkdMLmRhdGFbaV07XG4gICAgICAgICAgICB2YXIgc2hhZGVyVGVtcCA9IHdlYkdMRGF0YS5zaGFkZXI7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRTaGFkZXIoc2hhZGVyVGVtcCk7XG4gICAgICAgICAgICBzaGFkZXJUZW1wLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gZ3JhcGhpY3MudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBzaGFkZXJUZW1wLnVuaWZvcm1zLnRpbnQgPSAoMCwgX3V0aWxzLmhleDJyZ2IpKGdyYXBoaWNzLnRpbnQpO1xuICAgICAgICAgICAgc2hhZGVyVGVtcC51bmlmb3Jtcy5hbHBoYSA9IGdyYXBoaWNzLndvcmxkQWxwaGE7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRWYW8od2ViR0xEYXRhLnZhbyk7XG5cbiAgICAgICAgICAgIGlmICh3ZWJHTERhdGEubmF0aXZlTGluZXMpIHtcbiAgICAgICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLkxJTkVTLCAwLCB3ZWJHTERhdGEucG9pbnRzLmxlbmd0aCAvIDYpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3ZWJHTERhdGEudmFvLmRyYXcoZ2wuVFJJQU5HTEVfU1RSSVAsIHdlYkdMRGF0YS5pbmRpY2VzLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIHVwZGF0ZVxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS51cGRhdGVHcmFwaGljcyA9IGZ1bmN0aW9uIHVwZGF0ZUdyYXBoaWNzKGdyYXBoaWNzKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgLy8gZ2V0IHRoZSBjb250ZXh0cyBncmFwaGljcyBvYmplY3RcbiAgICAgICAgdmFyIHdlYkdMID0gZ3JhcGhpY3MuX3dlYkdMW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIC8vIGlmIHRoZSBncmFwaGljcyBvYmplY3QgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHdlYkdMIGNvbnRleHQgdGltZSB0byBjcmVhdGUgaXQhXG4gICAgICAgIGlmICghd2ViR0wpIHtcbiAgICAgICAgICAgIHdlYkdMID0gZ3JhcGhpY3MuX3dlYkdMW3RoaXMuQ09OVEVYVF9VSURdID0geyBsYXN0SW5kZXg6IDAsIGRhdGE6IFtdLCBnbDogZ2wsIGNsZWFyRGlydHk6IC0xLCBkaXJ0eTogLTEgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZsYWcgdGhlIGdyYXBoaWNzIGFzIG5vdCBkaXJ0eSBhcyB3ZSBhcmUgYWJvdXQgdG8gdXBkYXRlIGl0Li4uXG4gICAgICAgIHdlYkdMLmRpcnR5ID0gZ3JhcGhpY3MuZGlydHk7XG5cbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgY2xlYXJlZCB0aGUgZ3JhcGhpY3Mgb2JqZWN0IHdlIHdpbGwgbmVlZCB0byBjbGVhciBldmVyeSBvYmplY3RcbiAgICAgICAgaWYgKGdyYXBoaWNzLmNsZWFyRGlydHkgIT09IHdlYkdMLmNsZWFyRGlydHkpIHtcbiAgICAgICAgICAgIHdlYkdMLmNsZWFyRGlydHkgPSBncmFwaGljcy5jbGVhckRpcnR5O1xuXG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggYW5kIHJldHVybiBhbGwgdGhlIHdlYkdMRGF0YXMgdG8gdGhlIG9iamVjdCBwb29sIHNvIHRoYW4gY2FuIGJlIHJldXNlZCBsYXRlciBvblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3ZWJHTC5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGFQb29sLnB1c2god2ViR0wuZGF0YVtpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNsZWFyIHRoZSBhcnJheSBhbmQgcmVzZXQgdGhlIGluZGV4Li5cbiAgICAgICAgICAgIHdlYkdMLmRhdGEubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHdlYkdMLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd2ViR0xEYXRhID0gdm9pZCAwO1xuICAgICAgICB2YXIgd2ViR0xEYXRhTmF0aXZlTGluZXMgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBncmFwaGljcyBkYXRhcyBhbmQgY29uc3RydWN0IGVhY2ggb25lLi5cbiAgICAgICAgLy8gaWYgdGhlIG9iamVjdCBpcyBhIGNvbXBsZXggZmlsbCB0aGVuIHRoZSBuZXcgc3RlbmNpbCBidWZmZXIgdGVjaG5pcXVlIHdpbGwgYmUgdXNlZFxuICAgICAgICAvLyBvdGhlciB3aXNlIGdyYXBoaWNzIG9iamVjdHMgd2lsbCBiZSBwdXNoZWQgaW50byBhIGJhdGNoLi5cbiAgICAgICAgZm9yICh2YXIgX2kgPSB3ZWJHTC5sYXN0SW5kZXg7IF9pIDwgZ3JhcGhpY3MuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljcy5ncmFwaGljc0RhdGFbX2ldO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gdGhpcyBjYW4gYmUgc2ltcGxpZmllZFxuICAgICAgICAgICAgd2ViR0xEYXRhID0gdGhpcy5nZXRXZWJHTERhdGEod2ViR0wsIDApO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5uYXRpdmVMaW5lcyAmJiBkYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgIHdlYkdMRGF0YU5hdGl2ZUxpbmVzID0gdGhpcy5nZXRXZWJHTERhdGEod2ViR0wsIDAsIHRydWUpO1xuICAgICAgICAgICAgICAgIHdlYkdMLmxhc3RJbmRleCsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlBPTFkpIHtcbiAgICAgICAgICAgICAgICAoMCwgX2J1aWxkUG9seTIuZGVmYXVsdCkoZGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJFQ1QpIHtcbiAgICAgICAgICAgICAgICAoMCwgX2J1aWxkUmVjdGFuZ2xlMi5kZWZhdWx0KShkYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkNJUkMgfHwgZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkVMSVApIHtcbiAgICAgICAgICAgICAgICAoMCwgX2J1aWxkQ2lyY2xlMi5kZWZhdWx0KShkYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJSRUMpIHtcbiAgICAgICAgICAgICAgICAoMCwgX2J1aWxkUm91bmRlZFJlY3RhbmdsZTIuZGVmYXVsdCkoZGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdlYkdMLmxhc3RJbmRleCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5iaW5kVmFvKG51bGwpO1xuXG4gICAgICAgIC8vIHVwbG9hZCBhbGwgdGhlIGRpcnR5IGRhdGEuLi5cbiAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgd2ViR0wuZGF0YS5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAgICAgICB3ZWJHTERhdGEgPSB3ZWJHTC5kYXRhW19pMl07XG5cbiAgICAgICAgICAgIGlmICh3ZWJHTERhdGEuZGlydHkpIHtcbiAgICAgICAgICAgICAgICB3ZWJHTERhdGEudXBsb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIHRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eXBlIC0gVE9ETyBAQWx2aW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbmF0aXZlTGluZXMgLSBpbmRpY2F0ZSB3aGV0aGVyIHRoZSB3ZWJHTERhdGEgdXNlIGZvciBuYXRpdmVMaW5lcy5cbiAgICAgKiBAcmV0dXJuIHsqfSBUT0RPXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLmdldFdlYkdMRGF0YSA9IGZ1bmN0aW9uIGdldFdlYkdMRGF0YShnbCwgdHlwZSwgbmF0aXZlTGluZXMpIHtcbiAgICAgICAgdmFyIHdlYkdMRGF0YSA9IGdsLmRhdGFbZ2wuZGF0YS5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAoIXdlYkdMRGF0YSB8fCB3ZWJHTERhdGEubmF0aXZlTGluZXMgIT09IG5hdGl2ZUxpbmVzIHx8IHdlYkdMRGF0YS5wb2ludHMubGVuZ3RoID4gMzIwMDAwKSB7XG4gICAgICAgICAgICB3ZWJHTERhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVBvb2wucG9wKCkgfHwgbmV3IF9XZWJHTEdyYXBoaWNzRGF0YTIuZGVmYXVsdCh0aGlzLnJlbmRlcmVyLmdsLCB0aGlzLnByaW1pdGl2ZVNoYWRlciwgdGhpcy5yZW5kZXJlci5zdGF0ZS5hdHRyaWJzU3RhdGUpO1xuICAgICAgICAgICAgd2ViR0xEYXRhLm5hdGl2ZUxpbmVzID0gbmF0aXZlTGluZXM7XG4gICAgICAgICAgICB3ZWJHTERhdGEucmVzZXQodHlwZSk7XG4gICAgICAgICAgICBnbC5kYXRhLnB1c2god2ViR0xEYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdlYkdMRGF0YS5kaXJ0eSA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHdlYkdMRGF0YTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEdyYXBoaWNzUmVuZGVyZXI7XG59KF9PYmplY3RSZW5kZXJlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdyYXBoaWNzUmVuZGVyZXI7XG5cblxuX1dlYkdMUmVuZGVyZXIyLmRlZmF1bHQucmVnaXN0ZXJQbHVnaW4oJ2dyYXBoaWNzJywgR3JhcGhpY3NSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcmFwaGljc1JlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBBbiBvYmplY3QgY29udGFpbmluZyBXZWJHTCBzcGVjaWZpYyBwcm9wZXJ0aWVzIHRvIGJlIHVzZWQgYnkgdGhlIFdlYkdMIHJlbmRlcmVyXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFdlYkdMR3JhcGhpY3NEYXRhID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IHNoYWRlciAtIFRoZSBzaGFkZXJcbiAgICogQHBhcmFtIHtvYmplY3R9IGF0dHJpYnNTdGF0ZSAtIFRoZSBzdGF0ZSBmb3IgdGhlIFZBT1xuICAgKi9cbiAgZnVuY3Rpb24gV2ViR0xHcmFwaGljc0RhdGEoZ2wsIHNoYWRlciwgYXR0cmlic1N0YXRlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMR3JhcGhpY3NEYXRhKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAqL1xuICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgIC8vIFRPRE8gZG9lcyB0aGlzIG5lZWQgdG8gYmUgc3BsaXQgYmVmb3JlIHVwbG9hZGluZz8/XG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgY29sb3IgY29tcG9uZW50cyAocixnLGIpXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgdGhpcy5jb2xvciA9IFswLCAwLCAwXTsgLy8gY29sb3Igc3BsaXQhXG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBwb2ludHMgdG8gZHJhd1xuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnRbXX1cbiAgICAgKi9cbiAgICB0aGlzLnBvaW50cyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgdGhpcy5pbmRpY2VzID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIG1haW4gYnVmZmVyXG4gICAgICogQG1lbWJlciB7V2ViR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5idWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IGJ1ZmZlclxuICAgICAqIEBtZW1iZXIge1dlYkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihnbCk7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgZ3JhcGhpY3MgaXMgZGlydHkgb3Igbm90XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBncmFwaGljcyBpcyBuYXRpdmVMaW5lcyBvciBub3RcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubmF0aXZlTGluZXMgPSBmYWxzZTtcblxuICAgIHRoaXMuZ2xQb2ludHMgPSBudWxsO1xuICAgIHRoaXMuZ2xJbmRpY2VzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICovXG4gICAgdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG5cbiAgICB0aGlzLnZhbyA9IG5ldyBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdChnbCwgYXR0cmlic1N0YXRlKS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUodGhpcy5idWZmZXIsIHNoYWRlci5hdHRyaWJ1dGVzLmFWZXJ0ZXhQb3NpdGlvbiwgZ2wuRkxPQVQsIGZhbHNlLCA0ICogNiwgMCkuYWRkQXR0cmlidXRlKHRoaXMuYnVmZmVyLCBzaGFkZXIuYXR0cmlidXRlcy5hQ29sb3IsIGdsLkZMT0FULCBmYWxzZSwgNCAqIDYsIDIgKiA0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIHZlcnRpY2VzIGFuZCB0aGUgaW5kaWNlc1xuICAgKi9cblxuXG4gIFdlYkdMR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5pbmRpY2VzLmxlbmd0aCA9IDA7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIHRoZSBidWZmZXJzIGFuZCB1cGxvYWRzIHRoZSBkYXRhXG4gICAqL1xuXG5cbiAgV2ViR0xHcmFwaGljc0RhdGEucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCgpIHtcbiAgICB0aGlzLmdsUG9pbnRzID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnBvaW50cyk7XG4gICAgdGhpcy5idWZmZXIudXBsb2FkKHRoaXMuZ2xQb2ludHMpO1xuXG4gICAgdGhpcy5nbEluZGljZXMgPSBuZXcgVWludDE2QXJyYXkodGhpcy5pbmRpY2VzKTtcbiAgICB0aGlzLmluZGV4QnVmZmVyLnVwbG9hZCh0aGlzLmdsSW5kaWNlcyk7XG5cbiAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEVtcHRpZXMgYWxsIHRoZSBkYXRhXG4gICAqL1xuXG5cbiAgV2ViR0xHcmFwaGljc0RhdGEucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuY29sb3IgPSBudWxsO1xuICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuXG4gICAgdGhpcy52YW8uZGVzdHJveSgpO1xuICAgIHRoaXMuYnVmZmVyLmRlc3Ryb3koKTtcbiAgICB0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKTtcblxuICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgdGhpcy5idWZmZXIgPSBudWxsO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgdGhpcy5nbFBvaW50cyA9IG51bGw7XG4gICAgdGhpcy5nbEluZGljZXMgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBXZWJHTEdyYXBoaWNzRGF0YTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gV2ViR0xHcmFwaGljc0RhdGE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTEdyYXBoaWNzRGF0YS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfU2hhZGVyMiA9IHJlcXVpcmUoJy4uLy4uLy4uL1NoYWRlcicpO1xuXG52YXIgX1NoYWRlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXIyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoaXMgc2hhZGVyIGlzIHVzZWQgdG8gZHJhdyBzaW1wbGUgcHJpbWl0aXZlIHNoYXBlcyBmb3Ige0BsaW5rIFBJWEkuR3JhcGhpY3N9LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKi9cbnZhciBQcmltaXRpdmVTaGFkZXIgPSBmdW5jdGlvbiAoX1NoYWRlcikge1xuICAgIF9pbmhlcml0cyhQcmltaXRpdmVTaGFkZXIsIF9TaGFkZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHdlYmdsIHNoYWRlciBtYW5hZ2VyIHRoaXMgc2hhZGVyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVTaGFkZXIoZ2wpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByaW1pdGl2ZVNoYWRlcik7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9TaGFkZXIuY2FsbCh0aGlzLCBnbCxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICBbJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjsnLCAnYXR0cmlidXRlIHZlYzQgYUNvbG9yOycsICd1bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7JywgJ3VuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4OycsICd1bmlmb3JtIGZsb2F0IGFscGhhOycsICd1bmlmb3JtIHZlYzMgdGludDsnLCAndmFyeWluZyB2ZWM0IHZDb2xvcjsnLCAndm9pZCBtYWluKHZvaWQpeycsICcgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApOycsICcgICB2Q29sb3IgPSBhQ29sb3IgKiB2ZWM0KHRpbnQgKiBhbHBoYSwgYWxwaGEpOycsICd9J10uam9pbignXFxuJyksXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICBbJ3ZhcnlpbmcgdmVjNCB2Q29sb3I7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yOycsICd9J10uam9pbignXFxuJykpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJpbWl0aXZlU2hhZGVyO1xufShfU2hhZGVyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUHJpbWl0aXZlU2hhZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJpbWl0aXZlU2hhZGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJ1aWxkUG9seTtcblxudmFyIF9idWlsZExpbmUgPSByZXF1aXJlKCcuL2J1aWxkTGluZScpO1xuXG52YXIgX2J1aWxkTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZExpbmUpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMnKTtcblxudmFyIF9lYXJjdXQgPSByZXF1aXJlKCdlYXJjdXQnKTtcblxudmFyIF9lYXJjdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWFyY3V0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBCdWlsZHMgYSBwb2x5Z29uIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUG9seShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpIHtcbiAgICBncmFwaGljc0RhdGEucG9pbnRzID0gZ3JhcGhpY3NEYXRhLnNoYXBlLnBvaW50cy5zbGljZSgpO1xuXG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmZpbGwgJiYgcG9pbnRzLmxlbmd0aCA+PSA2KSB7XG4gICAgICAgIHZhciBob2xlQXJyYXkgPSBbXTtcbiAgICAgICAgLy8gUHJvY2VzcyBob2xlcy4uXG4gICAgICAgIHZhciBob2xlcyA9IGdyYXBoaWNzRGF0YS5ob2xlcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaG9sZSA9IGhvbGVzW2ldO1xuXG4gICAgICAgICAgICBob2xlQXJyYXkucHVzaChwb2ludHMubGVuZ3RoIC8gMik7XG5cbiAgICAgICAgICAgIHBvaW50cyA9IHBvaW50cy5jb25jYXQoaG9sZS5wb2ludHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGZpcnN0IGFuZCBsYXN0IHBvaW50Li4gZmlndXJlIG91dCB0aGUgbWlkZGxlIVxuICAgICAgICB2YXIgdmVydHMgPSB3ZWJHTERhdGEucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IHdlYkdMRGF0YS5pbmRpY2VzO1xuXG4gICAgICAgIHZhciBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcblxuICAgICAgICAvLyBzb3J0IGNvbG9yXG4gICAgICAgIHZhciBjb2xvciA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3NEYXRhLmZpbGxDb2xvcik7XG4gICAgICAgIHZhciBhbHBoYSA9IGdyYXBoaWNzRGF0YS5maWxsQWxwaGE7XG4gICAgICAgIHZhciByID0gY29sb3JbMF0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGcgPSBjb2xvclsxXSAqIGFscGhhO1xuICAgICAgICB2YXIgYiA9IGNvbG9yWzJdICogYWxwaGE7XG5cbiAgICAgICAgdmFyIHRyaWFuZ2xlcyA9ICgwLCBfZWFyY3V0Mi5kZWZhdWx0KShwb2ludHMsIGhvbGVBcnJheSwgMik7XG5cbiAgICAgICAgaWYgKCF0cmlhbmdsZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gNjtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdHJpYW5nbGVzLmxlbmd0aDsgX2kgKz0gMykge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tfaV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbX2ldICsgdmVydFBvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW19pICsgMV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbX2kgKyAyXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tfaSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBsZW5ndGg7IF9pMisrKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tfaTIgKiAyXSwgcG9pbnRzW19pMiAqIDIgKyAxXSwgciwgZywgYiwgYWxwaGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGggPiAwKSB7XG4gICAgICAgICgwLCBfYnVpbGRMaW5lMi5kZWZhdWx0KShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkUG9seS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBidWlsZFJlY3RhbmdsZTtcblxudmFyIF9idWlsZExpbmUgPSByZXF1aXJlKCcuL2J1aWxkTGluZScpO1xuXG52YXIgX2J1aWxkTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZExpbmUpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBCdWlsZHMgYSByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xuZnVuY3Rpb24gYnVpbGRSZWN0YW5nbGUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKSB7XG4gICAgLy8gLS0tIC8vXG4gICAgLy8gbmVlZCB0byBjb252ZXJ0IHBvaW50cyB0byBhIG5pY2UgcmVndWxhciBkYXRhXG4gICAgLy9cbiAgICB2YXIgcmVjdERhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHggPSByZWN0RGF0YS54O1xuICAgIHZhciB5ID0gcmVjdERhdGEueTtcbiAgICB2YXIgd2lkdGggPSByZWN0RGF0YS53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gcmVjdERhdGEuaGVpZ2h0O1xuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5maWxsKSB7XG4gICAgICAgIHZhciBjb2xvciA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3NEYXRhLmZpbGxDb2xvcik7XG4gICAgICAgIHZhciBhbHBoYSA9IGdyYXBoaWNzRGF0YS5maWxsQWxwaGE7XG5cbiAgICAgICAgdmFyIHIgPSBjb2xvclswXSAqIGFscGhhO1xuICAgICAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgICAgICB2YXIgdmVydHMgPSB3ZWJHTERhdGEucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IHdlYkdMRGF0YS5pbmRpY2VzO1xuXG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gNjtcblxuICAgICAgICAvLyBzdGFydFxuICAgICAgICB2ZXJ0cy5wdXNoKHgsIHkpO1xuICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICB2ZXJ0cy5wdXNoKHggKyB3aWR0aCwgeSk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgIHZlcnRzLnB1c2goeCwgeSArIGhlaWdodCk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgIHZlcnRzLnB1c2goeCArIHdpZHRoLCB5ICsgaGVpZ2h0KTtcbiAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgLy8gaW5zZXJ0IDIgZGVhZCB0cmlhbmdsZXMuLlxuICAgICAgICBpbmRpY2VzLnB1c2godmVydFBvcywgdmVydFBvcywgdmVydFBvcyArIDEsIHZlcnRQb3MgKyAyLCB2ZXJ0UG9zICsgMywgdmVydFBvcyArIDMpO1xuICAgIH1cblxuICAgIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoKSB7XG4gICAgICAgIHZhciB0ZW1wUG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gW3gsIHksIHggKyB3aWR0aCwgeSwgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LCB4LCB5ICsgaGVpZ2h0LCB4LCB5XTtcblxuICAgICAgICAoMCwgX2J1aWxkTGluZTIuZGVmYXVsdCkoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gdGVtcFBvaW50cztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZFJlY3RhbmdsZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBidWlsZFJvdW5kZWRSZWN0YW5nbGU7XG5cbnZhciBfZWFyY3V0ID0gcmVxdWlyZSgnZWFyY3V0Jyk7XG5cbnZhciBfZWFyY3V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VhcmN1dCk7XG5cbnZhciBfYnVpbGRMaW5lID0gcmVxdWlyZSgnLi9idWlsZExpbmUnKTtcblxudmFyIF9idWlsZExpbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnVpbGRMaW5lKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQnVpbGRzIGEgcm91bmRlZCByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xuZnVuY3Rpb24gYnVpbGRSb3VuZGVkUmVjdGFuZ2xlKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcykge1xuICAgIHZhciBycmVjdERhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHggPSBycmVjdERhdGEueDtcbiAgICB2YXIgeSA9IHJyZWN0RGF0YS55O1xuICAgIHZhciB3aWR0aCA9IHJyZWN0RGF0YS53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gcnJlY3REYXRhLmhlaWdodDtcblxuICAgIHZhciByYWRpdXMgPSBycmVjdERhdGEucmFkaXVzO1xuXG4gICAgdmFyIHJlY1BvaW50cyA9IFtdO1xuXG4gICAgcmVjUG9pbnRzLnB1c2goeCArIHJhZGl1cywgeSk7XG4gICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHdpZHRoIC0gcmFkaXVzLCB5LCB4ICsgd2lkdGgsIHksIHggKyB3aWR0aCwgeSArIHJhZGl1cywgcmVjUG9pbnRzKTtcbiAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSByYWRpdXMsIHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCArIHdpZHRoIC0gcmFkaXVzLCB5ICsgaGVpZ2h0LCByZWNQb2ludHMpO1xuICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyByYWRpdXMsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQgLSByYWRpdXMsIHJlY1BvaW50cyk7XG4gICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCwgeSArIHJhZGl1cywgeCwgeSwgeCArIHJhZGl1cyArIDAuMDAwMDAwMDAwMSwgeSwgcmVjUG9pbnRzKTtcblxuICAgIC8vIHRoaXMgdGlueSBudW1iZXIgZGVhbHMgd2l0aCB0aGUgaXNzdWUgdGhhdCBvY2N1cnMgd2hlbiBwb2ludHMgb3ZlcmxhcCBhbmQgZWFyY3V0IGZhaWxzIHRvIHRyaWFuZ3VsYXRlIHRoZSBpdGVtLlxuICAgIC8vIFRPRE8gLSBmaXggdGhpcyBwcm9wZXJseSwgdGhpcyBpcyBub3QgdmVyeSBlbGVnYW50Li4gYnV0IGl0IHdvcmtzIGZvciBub3cuXG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmZpbGwpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEuZmlsbENvbG9yKTtcbiAgICAgICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmZpbGxBbHBoYTtcblxuICAgICAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgICAgIHZhciBnID0gY29sb3JbMV0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgICAgIHZhciB2ZXJ0cyA9IHdlYkdMRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gd2ViR0xEYXRhLmluZGljZXM7XG5cbiAgICAgICAgdmFyIHZlY1BvcyA9IHZlcnRzLmxlbmd0aCAvIDY7XG5cbiAgICAgICAgdmFyIHRyaWFuZ2xlcyA9ICgwLCBfZWFyY3V0Mi5kZWZhdWx0KShyZWNQb2ludHMsIG51bGwsIDIpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdHJpYW5nbGVzLmxlbmd0aDsgaSA8IGo7IGkgKz0gMykge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2ldICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDFdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2ogPSByZWNQb2ludHMubGVuZ3RoOyBfaSA8IF9qOyBfaSsrKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHJlY1BvaW50c1tfaV0sIHJlY1BvaW50c1srK19pXSwgciwgZywgYiwgYWxwaGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgdmFyIHRlbXBQb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSByZWNQb2ludHM7XG5cbiAgICAgICAgKDAsIF9idWlsZExpbmUyLmRlZmF1bHQpKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG5cbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IHRlbXBQb2ludHM7XG4gICAgfVxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBhIHNpbmdsZSBwb2ludCBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlLlxuICogVXRpbGl0eSBmdW5jdGlvbiB1c2VkIGJ5IHF1YWRyYXRpY0JlemllckN1cnZlLlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuMSAtIGZpcnN0IG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IG4yIC0gc2Vjb25kIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHBlcmMgLSBwZXJjZW50YWdlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSByZXN1bHRcbiAqXG4gKi9cbmZ1bmN0aW9uIGdldFB0KG4xLCBuMiwgcGVyYykge1xuICAgIHZhciBkaWZmID0gbjIgLSBuMTtcblxuICAgIHJldHVybiBuMSArIGRpZmYgKiBwZXJjO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuIChoZWxwZXIgZnVuY3Rpb24uLilcbiAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IFtvdXQ9W11dIC0gVGhlIG91dHB1dCBhcnJheSB0byBhZGQgcG9pbnRzIGludG8uIElmIG5vdCBwYXNzZWQsIGEgbmV3IGFycmF5IGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gYW4gYXJyYXkgb2YgcG9pbnRzXG4gKi9cbmZ1bmN0aW9uIHF1YWRyYXRpY0JlemllckN1cnZlKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKSB7XG4gICAgdmFyIG91dCA9IGFyZ3VtZW50cy5sZW5ndGggPiA2ICYmIGFyZ3VtZW50c1s2XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzZdIDogW107XG5cbiAgICB2YXIgbiA9IDIwO1xuICAgIHZhciBwb2ludHMgPSBvdXQ7XG5cbiAgICB2YXIgeGEgPSAwO1xuICAgIHZhciB5YSA9IDA7XG4gICAgdmFyIHhiID0gMDtcbiAgICB2YXIgeWIgPSAwO1xuICAgIHZhciB4ID0gMDtcbiAgICB2YXIgeSA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgIGogPSBpIC8gbjtcblxuICAgICAgICAvLyBUaGUgR3JlZW4gTGluZVxuICAgICAgICB4YSA9IGdldFB0KGZyb21YLCBjcFgsIGopO1xuICAgICAgICB5YSA9IGdldFB0KGZyb21ZLCBjcFksIGopO1xuICAgICAgICB4YiA9IGdldFB0KGNwWCwgdG9YLCBqKTtcbiAgICAgICAgeWIgPSBnZXRQdChjcFksIHRvWSwgaik7XG5cbiAgICAgICAgLy8gVGhlIEJsYWNrIERvdFxuICAgICAgICB4ID0gZ2V0UHQoeGEsIHhiLCBqKTtcbiAgICAgICAgeSA9IGdldFB0KHlhLCB5Yiwgaik7XG5cbiAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50cztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkUm91bmRlZFJlY3RhbmdsZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBidWlsZENpcmNsZTtcblxudmFyIF9idWlsZExpbmUgPSByZXF1aXJlKCcuL2J1aWxkTGluZScpO1xuXG52YXIgX2J1aWxkTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZExpbmUpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQnVpbGRzIGEgY2lyY2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIGRyYXdcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5mdW5jdGlvbiBidWlsZENpcmNsZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpIHtcbiAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICB2YXIgY2lyY2xlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgeCA9IGNpcmNsZURhdGEueDtcbiAgICB2YXIgeSA9IGNpcmNsZURhdGEueTtcbiAgICB2YXIgd2lkdGggPSB2b2lkIDA7XG4gICAgdmFyIGhlaWdodCA9IHZvaWQgMDtcblxuICAgIC8vIFRPRE8gLSBiaXQgaGFja3k/P1xuICAgIGlmIChncmFwaGljc0RhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5DSVJDKSB7XG4gICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgIGhlaWdodCA9IGNpcmNsZURhdGEucmFkaXVzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS53aWR0aDtcbiAgICAgICAgaGVpZ2h0ID0gY2lyY2xlRGF0YS5oZWlnaHQ7XG4gICAgfVxuXG4gICAgaWYgKHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRvdGFsU2VncyA9IE1hdGguZmxvb3IoMzAgKiBNYXRoLnNxcnQoY2lyY2xlRGF0YS5yYWRpdXMpKSB8fCBNYXRoLmZsb29yKDE1ICogTWF0aC5zcXJ0KGNpcmNsZURhdGEud2lkdGggKyBjaXJjbGVEYXRhLmhlaWdodCkpO1xuXG4gICAgdmFyIHNlZyA9IE1hdGguUEkgKiAyIC8gdG90YWxTZWdzO1xuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5maWxsKSB7XG4gICAgICAgIHZhciBjb2xvciA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3NEYXRhLmZpbGxDb2xvcik7XG4gICAgICAgIHZhciBhbHBoYSA9IGdyYXBoaWNzRGF0YS5maWxsQWxwaGE7XG5cbiAgICAgICAgdmFyIHIgPSBjb2xvclswXSAqIGFscGhhO1xuICAgICAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgICAgICB2YXIgdmVydHMgPSB3ZWJHTERhdGEucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IHdlYkdMRGF0YS5pbmRpY2VzO1xuXG4gICAgICAgIHZhciB2ZWNQb3MgPSB2ZXJ0cy5sZW5ndGggLyA2O1xuXG4gICAgICAgIGluZGljZXMucHVzaCh2ZWNQb3MpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxTZWdzICsgMTsgaSsrKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHgsIHksIHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaCh4ICsgTWF0aC5zaW4oc2VnICogaSkgKiB3aWR0aCwgeSArIE1hdGguY29zKHNlZyAqIGkpICogaGVpZ2h0LCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2ZWNQb3MrKywgdmVjUG9zKyspO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5kaWNlcy5wdXNoKHZlY1BvcyAtIDEpO1xuICAgIH1cblxuICAgIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoKSB7XG4gICAgICAgIHZhciB0ZW1wUG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRvdGFsU2VnczsgX2krKykge1xuICAgICAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cy5wdXNoKHggKyBNYXRoLnNpbihzZWcgKiAtX2kpICogd2lkdGgsIHkgKyBNYXRoLmNvcyhzZWcgKiAtX2kpICogaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMucHVzaChncmFwaGljc0RhdGEucG9pbnRzWzBdLCBncmFwaGljc0RhdGEucG9pbnRzWzFdKTtcblxuICAgICAgICAoMCwgX2J1aWxkTGluZTIuZGVmYXVsdCkoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gdGVtcFBvaW50cztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZENpcmNsZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyJyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyZXIpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0IHRoZXlcbiAqIG5vdyBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBDYW52YXNHcmFwaGljc1JlbmRlcmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi8xLjAuMC9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZ2x1dGlscy9TaGFwZVJlbmRlcmVyLmphdmFcbiAqL1xuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBkcmF3aW5nIGFuZCBiYXRjaGluZyBncmFwaGljcyBvYmplY3RzLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDYW52YXNHcmFwaGljc1JlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY3VycmVudCBQSVhJIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGEgR3JhcGhpY3Mgb2JqZWN0IHRvIGEgY2FudmFzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIHRoZSBhY3R1YWwgZ3JhcGhpY3Mgb2JqZWN0IHRvIHJlbmRlclxuICAgICAqL1xuXG5cbiAgICBDYW52YXNHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoZ3JhcGhpY3MpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGNvbnRleHQgPSByZW5kZXJlci5jb250ZXh0O1xuICAgICAgICB2YXIgd29ybGRBbHBoYSA9IGdyYXBoaWNzLndvcmxkQWxwaGE7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBncmFwaGljcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5iICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmMgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uZCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIC8vIHVwZGF0ZSB0aW50IGlmIGdyYXBoaWNzIHdhcyBkaXJ0eVxuICAgICAgICBpZiAoZ3JhcGhpY3MuY2FudmFzVGludERpcnR5ICE9PSBncmFwaGljcy5kaXJ0eSB8fCBncmFwaGljcy5fcHJldlRpbnQgIT09IGdyYXBoaWNzLnRpbnQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlR3JhcGhpY3NUaW50KGdyYXBoaWNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZShncmFwaGljcy5ibGVuZE1vZGUpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGhpY3MuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBzaGFwZSA9IGRhdGEuc2hhcGU7XG5cbiAgICAgICAgICAgIHZhciBmaWxsQ29sb3IgPSBkYXRhLl9maWxsVGludDtcbiAgICAgICAgICAgIHZhciBsaW5lQ29sb3IgPSBkYXRhLl9saW5lVGludDtcblxuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBkYXRhLmxpbmVXaWR0aDtcblxuICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5QT0xZKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSBzaGFwZS5wb2ludHM7XG4gICAgICAgICAgICAgICAgdmFyIGhvbGVzID0gZGF0YS5ob2xlcztcbiAgICAgICAgICAgICAgICB2YXIgb3V0ZXJBcmVhID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIHZhciBpbm5lckFyZWEgPSB2b2lkIDA7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhwb2ludHNbMF0sIHBvaW50c1sxXSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMjsgaiA8IHBvaW50cy5sZW5ndGg7IGogKz0gMikge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhwb2ludHNbal0sIHBvaW50c1tqICsgMV0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBmaXJzdCBhbmQgbGFzdCBwb2ludCBhcmUgdGhlIHNhbWUgY2xvc2UgdGhlIHBhdGggLSBtdWNoIG5lYXRlciA6KVxuICAgICAgICAgICAgICAgIGlmIChzaGFwZS5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaG9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBvdXRlckFyZWEgPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaiA9IDA7IF9qIDwgcG9pbnRzLmxlbmd0aDsgX2ogKz0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0ZXJBcmVhICs9IHBvaW50c1tfal0gKiBwb2ludHNbX2ogKyAzXSAtIHBvaW50c1tfaiArIDFdICogcG9pbnRzW19qICsgMl07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGhvbGVzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMgPSBob2xlc1trXS5wb2ludHM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyQXJlYSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfajIgPSAwOyBfajIgPCBwb2ludHMubGVuZ3RoOyBfajIgKz0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyQXJlYSArPSBwb2ludHNbX2oyXSAqIHBvaW50c1tfajIgKyAzXSAtIHBvaW50c1tfajIgKyAxXSAqIHBvaW50c1tfajIgKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJBcmVhICogb3V0ZXJBcmVhIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9qMyA9IDI7IF9qMyA8IHBvaW50cy5sZW5ndGg7IF9qMyArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBvaW50c1tfajNdLCBwb2ludHNbX2ozICsgMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2o0ID0gcG9pbnRzLmxlbmd0aCAtIDI7IF9qNCA+PSAyOyBfajQgLT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhwb2ludHNbX2o0XSwgcG9pbnRzW19qNCArIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob2xlc1trXS5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZmlsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5maWxsQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGZpbGxDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5saW5lQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAobGluZUNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJFQ1QpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5maWxsQ29sb3IgfHwgZGF0YS5maWxsQ29sb3IgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEuZmlsbEFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChmaWxsQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3Qoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUud2lkdGgsIHNoYXBlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5saW5lQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAobGluZUNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVJlY3Qoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUud2lkdGgsIHNoYXBlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuQ0lSQykge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBuZWVkIHRvIGJlIFVuZGVmaW5lZCFcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKHNoYXBlLngsIHNoYXBlLnksIHNoYXBlLnJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5maWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmZpbGxBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAoZmlsbENvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmxpbmVBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChsaW5lQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuRUxJUCkge1xuICAgICAgICAgICAgICAgIC8vIGVsbGlwc2UgY29kZSB0YWtlbiBmcm9tOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIxNzI3OTgvaG93LXRvLWRyYXctYW4tb3ZhbC1pbi1odG1sNS1jYW52YXNcblxuICAgICAgICAgICAgICAgIHZhciB3ID0gc2hhcGUud2lkdGggKiAyO1xuICAgICAgICAgICAgICAgIHZhciBoID0gc2hhcGUuaGVpZ2h0ICogMjtcblxuICAgICAgICAgICAgICAgIHZhciB4ID0gc2hhcGUueCAtIHcgLyAyO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gc2hhcGUueSAtIGggLyAyO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICAgICAgICAgIHZhciBrYXBwYSA9IDAuNTUyMjg0ODtcbiAgICAgICAgICAgICAgICB2YXIgb3ggPSB3IC8gMiAqIGthcHBhOyAvLyBjb250cm9sIHBvaW50IG9mZnNldCBob3Jpem9udGFsXG4gICAgICAgICAgICAgICAgdmFyIG95ID0gaCAvIDIgKiBrYXBwYTsgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgdmVydGljYWxcbiAgICAgICAgICAgICAgICB2YXIgeGUgPSB4ICsgdzsgLy8geC1lbmRcbiAgICAgICAgICAgICAgICB2YXIgeWUgPSB5ICsgaDsgLy8geS1lbmRcbiAgICAgICAgICAgICAgICB2YXIgeG0gPSB4ICsgdyAvIDI7IC8vIHgtbWlkZGxlXG4gICAgICAgICAgICAgICAgdmFyIHltID0geSArIGggLyAyOyAvLyB5LW1pZGRsZVxuXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeCwgeW0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4LCB5bSAtIG95LCB4bSAtIG94LCB5LCB4bSwgeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhtICsgb3gsIHksIHhlLCB5bSAtIG95LCB4ZSwgeW0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4ZSwgeW0gKyBveSwgeG0gKyBveCwgeWUsIHhtLCB5ZSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhtIC0gb3gsIHllLCB4LCB5bSArIG95LCB4LCB5bSk7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZmlsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5maWxsQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGZpbGxDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5saW5lQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAobGluZUNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJSRUMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcnggPSBzaGFwZS54O1xuICAgICAgICAgICAgICAgIHZhciByeSA9IHNoYXBlLnk7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gc2hhcGUud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHNoYXBlLmhlaWdodDtcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gc2hhcGUucmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgdmFyIG1heFJhZGl1cyA9IE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gMiB8IDA7XG5cbiAgICAgICAgICAgICAgICByYWRpdXMgPSByYWRpdXMgPiBtYXhSYWRpdXMgPyBtYXhSYWRpdXMgOiByYWRpdXM7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHJ4LCByeSArIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocngsIHJ5ICsgaGVpZ2h0IC0gcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8ocngsIHJ5ICsgaGVpZ2h0LCByeCArIHJhZGl1cywgcnkgKyBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4ICsgd2lkdGggLSByYWRpdXMsIHJ5ICsgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8ocnggKyB3aWR0aCwgcnkgKyBoZWlnaHQsIHJ4ICsgd2lkdGgsIHJ5ICsgaGVpZ2h0IC0gcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCArIHdpZHRoLCByeSArIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4ICsgd2lkdGgsIHJ5LCByeCArIHdpZHRoIC0gcmFkaXVzLCByeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocnggKyByYWRpdXMsIHJ5KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8ocngsIHJ5LCByeCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5maWxsQ29sb3IgfHwgZGF0YS5maWxsQ29sb3IgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEuZmlsbEFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChmaWxsQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5saW5lQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAobGluZUNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0aW50IG9mIGEgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MgLSB0aGUgZ3JhcGhpY3MgdGhhdCB3aWxsIGhhdmUgaXRzIHRpbnQgdXBkYXRlZFxuICAgICAqL1xuXG5cbiAgICBDYW52YXNHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS51cGRhdGVHcmFwaGljc1RpbnQgPSBmdW5jdGlvbiB1cGRhdGVHcmFwaGljc1RpbnQoZ3JhcGhpY3MpIHtcbiAgICAgICAgZ3JhcGhpY3MuX3ByZXZUaW50ID0gZ3JhcGhpY3MudGludDtcbiAgICAgICAgZ3JhcGhpY3MuY2FudmFzVGludERpcnR5ID0gZ3JhcGhpY3MuZGlydHk7XG5cbiAgICAgICAgdmFyIHRpbnRSID0gKGdyYXBoaWNzLnRpbnQgPj4gMTYgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIHRpbnRHID0gKGdyYXBoaWNzLnRpbnQgPj4gOCAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgdGludEIgPSAoZ3JhcGhpY3MudGludCAmIDB4RkYpIC8gMjU1O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGhpY3MuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzLmdyYXBoaWNzRGF0YVtpXTtcblxuICAgICAgICAgICAgdmFyIGZpbGxDb2xvciA9IGRhdGEuZmlsbENvbG9yIHwgMDtcbiAgICAgICAgICAgIHZhciBsaW5lQ29sb3IgPSBkYXRhLmxpbmVDb2xvciB8IDA7XG5cbiAgICAgICAgICAgIC8vIHN1cGVyIGlubGluZSwgY29zIG9wdGltaXphdGlvbiA6KVxuICAgICAgICAgICAgZGF0YS5fZmlsbFRpbnQgPSAoKGZpbGxDb2xvciA+PiAxNiAmIDB4RkYpIC8gMjU1ICogdGludFIgKiAyNTUgPDwgMTYpICsgKChmaWxsQ29sb3IgPj4gOCAmIDB4RkYpIC8gMjU1ICogdGludEcgKiAyNTUgPDwgOCkgKyAoZmlsbENvbG9yICYgMHhGRikgLyAyNTUgKiB0aW50QiAqIDI1NTtcblxuICAgICAgICAgICAgZGF0YS5fbGluZVRpbnQgPSAoKGxpbmVDb2xvciA+PiAxNiAmIDB4RkYpIC8gMjU1ICogdGludFIgKiAyNTUgPDwgMTYpICsgKChsaW5lQ29sb3IgPj4gOCAmIDB4RkYpIC8gMjU1ICogdGludEcgKiAyNTUgPDwgOCkgKyAobGluZUNvbG9yICYgMHhGRikgLyAyNTUgKiB0aW50QiAqIDI1NTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGEgcG9seWdvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfSBwb2ludHMgLSBUaGUgcG9pbnRzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xvc2UgLSBTaG91bGQgdGhlIHBvbHlnb24gYmUgY2xvc2VkXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgLSBUaGUgcmVuZGVyaW5nIGNvbnRleHQgdG8gdXNlXG4gICAgICovXG5cblxuICAgIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlclBvbHlnb24gPSBmdW5jdGlvbiByZW5kZXJQb2x5Z29uKHBvaW50cywgY2xvc2UsIGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8ocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgcG9pbnRzLmxlbmd0aCAvIDI7ICsraikge1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocG9pbnRzW2ogKiAyXSwgcG9pbnRzW2ogKiAyICsgMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNsb3NlKSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGRlc3Ryb3kgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzR3JhcGhpY3NSZW5kZXJlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzR3JhcGhpY3NSZW5kZXJlcjtcblxuXG5fQ2FudmFzUmVuZGVyZXIyLmRlZmF1bHQucmVnaXN0ZXJQbHVnaW4oJ2dyYXBoaWNzJywgQ2FudmFzR3JhcGhpY3NSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNHcmFwaGljc1JlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF8gPSByZXF1aXJlKCcuLi8nKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVXRpbGl0eSBjbGFzcyBmb3IgbWFpbnRhaW5pbmcgcmVmZXJlbmNlIHRvIGEgY29sbGVjdGlvblxuICogb2YgVGV4dHVyZXMgb24gYSBzaW5nbGUgU3ByaXRlc2hlZXQuXG4gKlxuICogVG8gYWNjZXNzIGEgc3ByaXRlIHNoZWV0IGZyb20geW91ciBjb2RlIHBhc3MgaXRzIEpTT04gZGF0YSBmaWxlIHRvIFBpeGkncyBsb2FkZXI6XG4gKlxuICogYGBganNcbiAqIFBJWEkubG9hZGVyLmFkZChcImltYWdlcy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLmxvYWRlci5yZXNvdXJjZXNbXCJpbWFnZXMvc3ByaXRlc2hlZXQuanNvblwiXS5zcHJpdGVzaGVldDtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqIFdpdGggdGhlIGBzaGVldC50ZXh0dXJlc2AgeW91IGNhbiBjcmVhdGUgU3ByaXRlIG9iamVjdHMsYHNoZWV0LmFuaW1hdGlvbnNgIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhbiBBbmltYXRlZFNwcml0ZS5cbiAqXG4gKiBTcHJpdGUgc2hlZXRzIGNhbiBiZSBwYWNrZWQgdXNpbmcgdG9vbHMgbGlrZSB7QGxpbmsgaHR0cHM6Ly9jb2RlYW5kd2ViLmNvbS90ZXh0dXJlcGFja2VyfFRleHR1cmVQYWNrZXJ9LFxuICoge0BsaW5rIGh0dHBzOi8vcmVuZGVyaGpzLm5ldC9zaG9lYm94L3xTaG9lYm94fSBvciB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2tyenlzenRvZi1vL3Nwcml0ZXNoZWV0LmpzfFNwcml0ZXNoZWV0LmpzfS5cbiAqIERlZmF1bHQgYW5jaG9yIHBvaW50cyAoc2VlIHtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcn0pIGFuZCBncm91cGluZyBvZiBhbmltYXRpb24gc3ByaXRlcyBhcmUgY3VycmVudGx5IG9ubHlcbiAqIHN1cHBvcnRlZCBieSBUZXh0dXJlUGFja2VyLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZXNoZWV0ID0gZnVuY3Rpb24gKCkge1xuICAgIF9jcmVhdGVDbGFzcyhTcHJpdGVzaGVldCwgbnVsbCwgW3tcbiAgICAgICAga2V5OiAnQkFUQ0hfU0laRScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBUZXh0dXJlcyB0byBidWlsZCBwZXIgcHJvY2Vzcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTAwMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIFJlZmVyZW5jZSB0byB0aGUgc291cmNlIEJhc2VUZXh0dXJlIG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBTcHJpdGVzaGVldCBpbWFnZSBkYXRhLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Jlc29sdXRpb25GaWxlbmFtZV0gLSBUaGUgZmlsZW5hbWUgdG8gY29uc2lkZXIgd2hlbiBkZXRlcm1pbmluZ1xuICAgICAgICAgKiAgICAgICAgdGhlIHJlc29sdXRpb24gb2YgdGhlIHNwcml0ZXNoZWV0LiBJZiBub3QgcHJvdmlkZWQsIHRoZSBpbWFnZVVybCB3aWxsXG4gICAgICAgICAqICAgICAgICBiZSB1c2VkIG9uIHRoZSBCYXNlVGV4dHVyZS5cbiAgICAgICAgICovXG5cbiAgICB9XSk7XG5cbiAgICBmdW5jdGlvbiBTcHJpdGVzaGVldChiYXNlVGV4dHVyZSwgZGF0YSkge1xuICAgICAgICB2YXIgcmVzb2x1dGlvbkZpbGVuYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTcHJpdGVzaGVldCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aHMgc291cmNlIHRleHR1cmVcbiAgICAgICAgICogQHR5cGUge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIGNvbnRhaW5pbmcgYWxsIHRleHR1cmVzIG9mIHRoZSBzcHJpdGUgc2hlZXQuXG4gICAgICAgICAqIENhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBQSVhJLlNwcml0ZXxTcHJpdGV9OlxuICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgKiBuZXcgUElYSS5TcHJpdGUoc2hlZXQudGV4dHVyZXNbXCJpbWFnZS5wbmdcIl0pO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBjb250YWluaW5nIHRoZSB0ZXh0dXJlcyBmb3IgZWFjaCBhbmltYXRpb24uXG4gICAgICAgICAqIENhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhbiB7QGxpbmsgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGV8QW5pbWF0ZWRTcHJpdGV9OlxuICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgKiBuZXcgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGUoc2hlZXQuYW5pbWF0aW9uc1tcImFuaW1fbmFtZVwiXSlcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsIEpTT04gZGF0YS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBzcHJpdGVzaGVldC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHRoaXMuX3VwZGF0ZVJlc29sdXRpb24ocmVzb2x1dGlvbkZpbGVuYW1lIHx8IHRoaXMuYmFzZVRleHR1cmUuaW1hZ2VVcmwpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgb2Ygc3ByaXRlc2hlZXQgZnJhbWVzLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZnJhbWVzID0gdGhpcy5kYXRhLmZyYW1lcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBmcmFtZSBuYW1lcy5cbiAgICAgICAgICogQHR5cGUge3N0cmluZ1tdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZnJhbWVLZXlzID0gT2JqZWN0LmtleXModGhpcy5fZnJhbWVzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBiYXRjaCBpbmRleCBiZWluZyBwcm9jZXNzZWQuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgd2hlbiBwYXJzZSBpcyBjb21wbGV0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSB0aGUgcmVzb2x1dGlvbiBmcm9tIHRoZSBmaWxlbmFtZSBvciBmYWxsYmFja1xuICAgICAqIHRvIHRoZSBtZXRhLnNjYWxlIGZpZWxkIG9mIHRoZSBKU09OIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXNvbHV0aW9uRmlsZW5hbWUgLSBUaGUgZmlsZW5hbWUgdG8gdXNlIGZvciByZXNvbHZpbmdcbiAgICAgKiAgICAgICAgdGhlIGRlZmF1bHQgcmVzb2x1dGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJlc29sdXRpb24gdG8gdXNlIGZvciBzcHJpdGVzaGVldC5cbiAgICAgKi9cblxuXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl91cGRhdGVSZXNvbHV0aW9uID0gZnVuY3Rpb24gX3VwZGF0ZVJlc29sdXRpb24ocmVzb2x1dGlvbkZpbGVuYW1lKSB7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuZGF0YS5tZXRhLnNjYWxlO1xuXG4gICAgICAgIC8vIFVzZSBhIGRlZmF1bHRWYWx1ZSBvZiBgbnVsbGAgdG8gY2hlY2sgaWYgYSB1cmwtYmFzZWQgcmVzb2x1dGlvbiBpcyBzZXRcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSAoMCwgX3V0aWxzLmdldFJlc29sdXRpb25PZlVybCkocmVzb2x1dGlvbkZpbGVuYW1lLCBudWxsKTtcblxuICAgICAgICAvLyBObyByZXNvbHV0aW9uIGZvdW5kIHZpYSBVUkxcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgc2NhbGUgdmFsdWUgb3IgZGVmYXVsdCB0byAxXG4gICAgICAgICAgICByZXNvbHV0aW9uID0gc2NhbGUgIT09IHVuZGVmaW5lZCA/IHBhcnNlRmxvYXQoc2NhbGUpIDogMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBub24tMSByZXNvbHV0aW9ucywgdXBkYXRlIGJhc2VUZXh0dXJlXG4gICAgICAgIGlmIChyZXNvbHV0aW9uICE9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNvbHV0aW9uO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXIgc3ByaXRlc2hlZXQgZnJvbSBsb2FkZWQgZGF0YS4gVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5XG4gICAgICogdG8gcHJldmVudCBjcmVhdGluZyB0b28gbWFueSBUZXh0dXJlIHdpdGhpbiBhIHNpbmdsZSBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayB3aGVuIGNvbXBsZXRlIHJldHVybnNcbiAgICAgKiAgICAgICAgYSBtYXAgb2YgdGhlIFRleHR1cmVzIGZvciB0aGlzIHNwcml0ZXNoZWV0LlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiBwYXJzZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgICAgICBpZiAodGhpcy5fZnJhbWVLZXlzLmxlbmd0aCA8PSBTcHJpdGVzaGVldC5CQVRDSF9TSVpFKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKDApO1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25leHRCYXRjaCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgYSBiYXRjaCBvZiBmcmFtZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluaXRpYWxGcmFtZUluZGV4IC0gVGhlIGluZGV4IG9mIGZyYW1lIHRvIHN0YXJ0LlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3Byb2Nlc3NGcmFtZXMgPSBmdW5jdGlvbiBfcHJvY2Vzc0ZyYW1lcyhpbml0aWFsRnJhbWVJbmRleCkge1xuICAgICAgICB2YXIgZnJhbWVJbmRleCA9IGluaXRpYWxGcmFtZUluZGV4O1xuICAgICAgICB2YXIgbWF4RnJhbWVzID0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRTtcbiAgICAgICAgdmFyIHNvdXJjZVNjYWxlID0gdGhpcy5iYXNlVGV4dHVyZS5zb3VyY2VTY2FsZTtcblxuICAgICAgICB3aGlsZSAoZnJhbWVJbmRleCAtIGluaXRpYWxGcmFtZUluZGV4IDwgbWF4RnJhbWVzICYmIGZyYW1lSW5kZXggPCB0aGlzLl9mcmFtZUtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMuX2ZyYW1lS2V5c1tmcmFtZUluZGV4XTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZnJhbWVzW2ldO1xuICAgICAgICAgICAgdmFyIHJlY3QgPSBkYXRhLmZyYW1lO1xuXG4gICAgICAgICAgICBpZiAocmVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHRyaW0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2VTaXplID0gZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNvdXJjZVNpemUgPyBkYXRhLnNvdXJjZVNpemUgOiBkYXRhLmZyYW1lO1xuXG4gICAgICAgICAgICAgICAgdmFyIG9yaWcgPSBuZXcgXy5SZWN0YW5nbGUoMCwgMCwgTWF0aC5mbG9vcihzb3VyY2VTaXplLncgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3Ioc291cmNlU2l6ZS5oICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnJvdGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgXy5SZWN0YW5nbGUoTWF0aC5mbG9vcihyZWN0LnggKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC55ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IF8uUmVjdGFuZ2xlKE1hdGguZmxvb3IocmVjdC54ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QueSAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC5oICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyAgQ2hlY2sgdG8gc2VlIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZFxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc3ByaXRlU291cmNlU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICB0cmltID0gbmV3IF8uUmVjdGFuZ2xlKE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLnggKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLnkgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlc1tpXSA9IG5ldyBfLlRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgZnJhbWUsIG9yaWcsIHRyaW0sIGRhdGEucm90YXRlZCA/IDIgOiAwLCBkYXRhLmFuY2hvcik7XG5cbiAgICAgICAgICAgICAgICAvLyBsZXRzIGFsc28gYWRkIHRoZSBmcmFtZSB0byBwaXhpJ3MgZ2xvYmFsIGNhY2hlIGZvciBmcm9tRnJhbWUgYW5kIGZyb21JbWFnZSBmdW5jdGlvbnNcbiAgICAgICAgICAgICAgICBfLlRleHR1cmUuYWRkVG9DYWNoZSh0aGlzLnRleHR1cmVzW2ldLCBpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBhcnNlIGFuaW1hdGlvbnMgY29uZmlnXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3Byb2Nlc3NBbmltYXRpb25zID0gZnVuY3Rpb24gX3Byb2Nlc3NBbmltYXRpb25zKCkge1xuICAgICAgICB2YXIgYW5pbWF0aW9ucyA9IHRoaXMuZGF0YS5hbmltYXRpb25zIHx8IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGFuaW1OYW1lIGluIGFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uc1thbmltTmFtZV0gPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGFuaW1hdGlvbnNbYW5pbU5hbWVdLCBfaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoX2l0ZXJhdG9yKSwgX2kgPSAwLCBfaXRlcmF0b3IgPSBfaXNBcnJheSA/IF9pdGVyYXRvciA6IF9pdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdKCk7Oykge1xuICAgICAgICAgICAgICAgIHZhciBfcmVmO1xuXG4gICAgICAgICAgICAgICAgaWYgKF9pc0FycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaSA+PSBfaXRlcmF0b3IubGVuZ3RoKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgX3JlZiA9IF9pdGVyYXRvcltfaSsrXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfaSA9IF9pdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaS5kb25lKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgX3JlZiA9IF9pLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBmcmFtZU5hbWUgPSBfcmVmO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zW2FuaW1OYW1lXS5wdXNoKHRoaXMudGV4dHVyZXNbZnJhbWVOYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBhcnNlIGhhcyBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3BhcnNlQ29tcGxldGUgPSBmdW5jdGlvbiBfcGFyc2VDb21wbGV0ZSgpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5fY2FsbGJhY2s7XG5cbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzLnRleHR1cmVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmVnaW4gdGhlIG5leHQgYmF0Y2ggb2YgdGV4dHVyZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX25leHRCYXRjaCA9IGZ1bmN0aW9uIF9uZXh0QmF0Y2goKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcyh0aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSk7XG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXgrKztcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX2JhdGNoSW5kZXggKiBTcHJpdGVzaGVldC5CQVRDSF9TSVpFIDwgX3RoaXMuX2ZyYW1lS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fbmV4dEJhdGNoKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLl9wcm9jZXNzQW5pbWF0aW9ucygpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IFNwcml0ZXNoZWV0IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG5cblxuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdmFyIGRlc3Ryb3lCYXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZXNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZyYW1lcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZyYW1lS2V5cyA9IG51bGw7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSBudWxsO1xuICAgICAgICBpZiAoZGVzdHJveUJhc2UpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3ByaXRlc2hlZXQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNwcml0ZXNoZWV0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ByaXRlc2hlZXQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZGVwcmVjYXRpb247XG4vLyBwcm92aWRlIG1ldGhvZCB0byBnaXZlIGEgc3RhY2sgdHJhY2sgZm9yIHdhcm5pbmdzXG4vLyB1c2VmdWwgZm9yIHRyYWNraW5nLWRvd24gd2hlcmUgZGVwcmVjYXRlZCBtZXRob2RzL3Byb3BlcnRpZXMvY2xhc3Nlc1xuLy8gYXJlIGJlaW5nIHVzZWQgd2l0aGluIHRoZSBjb2RlXG5cbi8vIEEgbWFwIG9mIHdhcm5pbmcgbWVzc2FnZXMgYWxyZWFkeSBmaXJlZFxudmFyIHdhcm5pbmdzID0ge307XG5cbi8vIHByb3ZpZGUgbWV0aG9kIHRvIGdpdmUgYSBzdGFjayB0cmFjayBmb3Igd2FybmluZ3Ncbi8vIHVzZWZ1bCBmb3IgdHJhY2tpbmctZG93biB3aGVyZSBkZXByZWNhdGVkIG1ldGhvZHMvcHJvcGVydGllcy9jbGFzc2VzXG4vLyBhcmUgYmVpbmcgdXNlZCB3aXRoaW4gdGhlIGNvZGVcbmZ1bmN0aW9uIHdhcm4obXNnKSB7XG4gICAgLy8gSWdub3JlIGR1cGxpY2F0XG4gICAgaWYgKHdhcm5pbmdzW21zZ10pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICB2YXIgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcblxuICAgIC8vIEhhbmRsZSBJRSA8IDEwIGFuZCBTYWZhcmkgPCA2XG4gICAgaWYgKHR5cGVvZiBzdGFjayA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCBtc2cpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNob3Agb2ZmIHRoZSBzdGFjayB0cmFjZSB3aGljaCBpbmNsdWRlcyBwaXhpLmpzIGludGVybmFsIGNhbGxzXG4gICAgICAgIHN0YWNrID0gc3RhY2suc3BsaXQoJ1xcbicpLnNwbGljZSgzKS5qb2luKCdcXG4nKTtcblxuICAgICAgICBpZiAoY29uc29sZS5ncm91cENvbGxhcHNlZCkge1xuICAgICAgICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZCgnJWNEZXByZWNhdGlvbiBXYXJuaW5nOiAlYyVzJywgJ2NvbG9yOiM2MTQxMDg7YmFja2dyb3VuZDojZmZmYmU2JywgJ2ZvbnQtd2VpZ2h0Om5vcm1hbDtjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsIG1zZyk7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCBtc2cpO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHN0YWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cblxuICAgIHdhcm5pbmdzW21zZ10gPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBkZXByZWNhdGlvbihjb3JlKSB7XG4gICAgdmFyIG1lc2ggPSBjb3JlLm1lc2gsXG4gICAgICAgIHBhcnRpY2xlcyA9IGNvcmUucGFydGljbGVzLFxuICAgICAgICBleHRyYXMgPSBjb3JlLmV4dHJhcyxcbiAgICAgICAgZmlsdGVycyA9IGNvcmUuZmlsdGVycyxcbiAgICAgICAgcHJlcGFyZSA9IGNvcmUucHJlcGFyZSxcbiAgICAgICAgbG9hZGVycyA9IGNvcmUubG9hZGVycyxcbiAgICAgICAgaW50ZXJhY3Rpb24gPSBjb3JlLmludGVyYWN0aW9uO1xuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb3JlLCB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBTcHJpdGVCYXRjaFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICogQHRocm93cyB7UmVmZXJlbmNlRXJyb3J9IFNwcml0ZUJhdGNoIGRvZXMgbm90IGV4aXN0IGFueSBtb3JlLCBwbGVhc2UgdXNlIHRoZSBuZXcgUGFydGljbGVDb250YWluZXIgaW5zdGVhZC5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgU3ByaXRlQmF0Y2g6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignU3ByaXRlQmF0Y2ggZG9lcyBub3QgZXhpc3QgYW55IG1vcmUsICcgKyAncGxlYXNlIHVzZSB0aGUgbmV3IFBhcnRpY2xlQ29udGFpbmVyIGluc3RlYWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBBc3NldExvYWRlclxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkubG9hZGVycy5Mb2FkZXJcbiAgICAgICAgICogQHRocm93cyB7UmVmZXJlbmNlRXJyb3J9IFRoZSBsb2FkZXIgc3lzdGVtIHdhcyBvdmVyaGF1bGVkIGluIFBpeGlKUyB2MyxcbiAgICAgICAgICogcGxlYXNlIHNlZSB0aGUgbmV3IFBJWEkubG9hZGVycy5Mb2FkZXIgY2xhc3MuXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEFzc2V0TG9hZGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ1RoZSBsb2FkZXIgc3lzdGVtIHdhcyBvdmVyaGF1bGVkIGluIFBpeGlKUyB2MywgJyArICdwbGVhc2Ugc2VlIHRoZSBuZXcgUElYSS5sb2FkZXJzLkxvYWRlciBjbGFzcy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFN0YWdlXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5Db250YWluZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgU3RhZ2U6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1lvdSBkbyBub3QgbmVlZCB0byB1c2UgYSBQSVhJIFN0YWdlIGFueSBtb3JlLCB5b3UgY2FuIHNpbXBseSByZW5kZXIgYW55IGNvbnRhaW5lci4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLkNvbnRhaW5lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIERpc3BsYXlPYmplY3RDb250YWluZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLkNvbnRhaW5lclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBEaXNwbGF5T2JqZWN0Q29udGFpbmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdEaXNwbGF5T2JqZWN0Q29udGFpbmVyIGhhcyBiZWVuIHNob3J0ZW5lZCB0byBDb250YWluZXIsIHBsZWFzZSB1c2UgQ29udGFpbmVyIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuQ29udGFpbmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgU3RyaXBcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLm1lc2guTWVzaFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBTdHJpcDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIFN0cmlwIGNsYXNzIGhhcyBiZWVuIHJlbmFtZWQgdG8gTWVzaCBhbmQgbW92ZWQgdG8gbWVzaC5NZXNoLCBwbGVhc2UgdXNlIG1lc2guTWVzaCBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBtZXNoLk1lc2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBSb3BlXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5tZXNoLlJvcGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUm9wZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIFJvcGUgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gbWVzaC5Sb3BlLCBwbGVhc2UgdXNlIG1lc2guUm9wZSBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBtZXNoLlJvcGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBQYXJ0aWNsZUNvbnRhaW5lclxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkucGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFBhcnRpY2xlQ29udGFpbmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgUGFydGljbGVDb250YWluZXIgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gcGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyLCAnICsgJ3BsZWFzZSB1c2UgcGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIE1vdmllQ2xpcFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuZXh0cmFzLk1vdmllQ2xpcFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBNb3ZpZUNsaXA6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBNb3ZpZUNsaXAgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gZXh0cmFzLkFuaW1hdGVkU3ByaXRlLCBwbGVhc2UgdXNlIGV4dHJhcy5BbmltYXRlZFNwcml0ZS4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBleHRyYXMuQW5pbWF0ZWRTcHJpdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBUaWxpbmdTcHJpdGVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVGlsaW5nU3ByaXRlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgVGlsaW5nU3ByaXRlIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIGV4dHJhcy5UaWxpbmdTcHJpdGUsICcgKyAncGxlYXNlIHVzZSBleHRyYXMuVGlsaW5nU3ByaXRlIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4dHJhcy5UaWxpbmdTcHJpdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBCaXRtYXBUZXh0XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5leHRyYXMuQml0bWFwVGV4dFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBCaXRtYXBUZXh0OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgQml0bWFwVGV4dCBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byBleHRyYXMuQml0bWFwVGV4dCwgJyArICdwbGVhc2UgdXNlIGV4dHJhcy5CaXRtYXBUZXh0IGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4dHJhcy5CaXRtYXBUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgYmxlbmRNb2Rlc1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgYmxlbmRNb2Rlczoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIGJsZW5kTW9kZXMgaGFzIGJlZW4gbW92ZWQgdG8gQkxFTkRfTU9ERVMsIHBsZWFzZSB1c2UgQkxFTkRfTU9ERVMgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5CTEVORF9NT0RFUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIHNjYWxlTW9kZXNcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLlNDQUxFX01PREVTXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHNjYWxlTW9kZXM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBzY2FsZU1vZGVzIGhhcyBiZWVuIG1vdmVkIHRvIFNDQUxFX01PREVTLCBwbGVhc2UgdXNlIFNDQUxFX01PREVTIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuU0NBTEVfTU9ERVM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBCYXNlVGV4dHVyZUNhY2hlXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS51dGlscy5CYXNlVGV4dHVyZUNhY2hlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEJhc2VUZXh0dXJlQ2FjaGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBCYXNlVGV4dHVyZUNhY2hlIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIHV0aWxzLkJhc2VUZXh0dXJlQ2FjaGUsICcgKyAncGxlYXNlIHVzZSB1dGlscy5CYXNlVGV4dHVyZUNhY2hlIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUudXRpbHMuQmFzZVRleHR1cmVDYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFRleHR1cmVDYWNoZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkudXRpbHMuVGV4dHVyZUNhY2hlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFRleHR1cmVDYWNoZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIFRleHR1cmVDYWNoZSBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byB1dGlscy5UZXh0dXJlQ2FjaGUsICcgKyAncGxlYXNlIHVzZSB1dGlscy5UZXh0dXJlQ2FjaGUgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS51dGlscy5UZXh0dXJlQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lc3BhY2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgbWF0aFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWElcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuNlxuICAgICAgICAgKi9cbiAgICAgICAgbWF0aDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIG1hdGggbmFtZXNwYWNlIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSBhY2Nlc3MgbWVtYmVycyBhbHJlYWR5IGFjY2Vzc2libGUgb24gUElYSS4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUElYSS5BYnN0cmFjdEZpbHRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuRmlsdGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjZcbiAgICAgICAgICovXG4gICAgICAgIEFic3RyYWN0RmlsdGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdBc3RyYWN0RmlsdGVyIGhhcyBiZWVuIHJlbmFtZWQgdG8gRmlsdGVyLCBwbGVhc2UgdXNlIFBJWEkuRmlsdGVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5GaWx0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBQSVhJLlRyYW5zZm9ybU1hbnVhbFxuICAgICAgICAgKiBAc2VlIFBJWEkuVHJhbnNmb3JtQmFzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBUcmFuc2Zvcm1NYW51YWw6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RyYW5zZm9ybU1hbnVhbCBoYXMgYmVlbiByZW5hbWVkIHRvIFRyYW5zZm9ybUJhc2UsIHBsZWFzZSB1cGRhdGUgeW91ciBwaXhpLXNwaW5lJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5UcmFuc2Zvcm1CYXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLlRBUkdFVF9GUE1TXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5UQVJHRVRfRlBNU1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBUQVJHRVRfRlBNUzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5UQVJHRVRfRlBNUyBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVMnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLlRBUkdFVF9GUE1TO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5UQVJHRVRfRlBNUyBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVMnKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3MuVEFSR0VUX0ZQTVMgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5GSUxURVJfUkVTT0xVVElPTlxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT05cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgRklMVEVSX1JFU09MVVRJT046IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuRklMVEVSX1JFU09MVVRJT04gaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuRklMVEVSX1JFU09MVVRJT04gaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuUkVTT0xVVElPTlxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBSRVNPTFVUSU9OOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlJFU09MVVRJT04gaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlJFU09MVVRJT04nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlJFU09MVVRJT04gaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlJFU09MVVRJT04nKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3MuUkVTT0xVVElPTiA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLk1JUE1BUF9URVhUVVJFU1xuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIE1JUE1BUF9URVhUVVJFUzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5NSVBNQVBfVEVYVFVSRVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFUycpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5NSVBNQVBfVEVYVFVSRVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFUycpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVMgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5TUFJJVEVfQkFUQ0hfU0laRVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgU1BSSVRFX0JBVENIX1NJWkU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuU1BSSVRFX0JBVENIX1NJWkUgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuU1BSSVRFX0JBVENIX1NJWkUgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuU1BSSVRFX01BWF9URVhUVVJFU1xuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuU1BSSVRFX01BWF9URVhUVVJFU1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBTUFJJVEVfTUFYX1RFWFRVUkVTOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlNQUklURV9NQVhfVEVYVFVSRVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVMnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlNQUklURV9NQVhfVEVYVFVSRVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVMnKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3MuU1BSSVRFX01BWF9URVhUVVJFUyA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJFVElOQV9QUkVGSVhcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlJFVElOQV9QUkVGSVhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgUkVUSU5BX1BSRUZJWDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5SRVRJTkFfUFJFRklYIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5SRVRJTkFfUFJFRklYJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5SRVRJTkFfUFJFRklYO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5SRVRJTkFfUFJFRklYIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5SRVRJTkFfUFJFRklYJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlJFVElOQV9QUkVGSVggPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5ERUZBVUxUX1JFTkRFUl9PUFRJT05TXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5SRU5ERVJfT1BUSU9OU1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBERUZBVUxUX1JFTkRFUl9PUFRJT05TOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkRFRkFVTFRfUkVOREVSX09QVElPTlMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLkRFRkFVTFRfUkVOREVSX09QVElPTlMnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLlJFTkRFUl9PUFRJT05TO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBNb3ZlIHRoZSBkZWZhdWx0IHByb3BlcnRpZXMgdG8gc2V0dGluZ3NcbiAgICB2YXIgZGVmYXVsdHMgPSBbeyBwYXJlbnQ6ICdUUkFOU0ZPUk1fTU9ERScsIHRhcmdldDogJ1RSQU5TRk9STV9NT0RFJyB9LCB7IHBhcmVudDogJ0dDX01PREVTJywgdGFyZ2V0OiAnR0NfTU9ERScgfSwgeyBwYXJlbnQ6ICdXUkFQX01PREVTJywgdGFyZ2V0OiAnV1JBUF9NT0RFJyB9LCB7IHBhcmVudDogJ1NDQUxFX01PREVTJywgdGFyZ2V0OiAnU0NBTEVfTU9ERScgfSwgeyBwYXJlbnQ6ICdQUkVDSVNJT04nLCB0YXJnZXQ6ICdQUkVDSVNJT05fRlJBR01FTlQnIH1dO1xuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkge1xuICAgICAgICB2YXIgZGVwcmVjYXRpb24gPSBkZWZhdWx0c1tpXTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29yZVtkZXByZWNhdGlvbi5wYXJlbnRdLCAnREVGQVVMVCcsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuJyArIGRlcHJlY2F0aW9uLnBhcmVudCArICcuREVGQVVMVCBoYXMgYmVlbiBkZXByZWNhdGVkLCAnICsgKCdwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuJyArIGRlcHJlY2F0aW9uLnRhcmdldCkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3NbZGVwcmVjYXRpb24udGFyZ2V0XTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuJyArIGRlcHJlY2F0aW9uLnBhcmVudCArICcuREVGQVVMVCBoYXMgYmVlbiBkZXByZWNhdGVkLCAnICsgKCdwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuJyArIGRlcHJlY2F0aW9uLnRhcmdldCkpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5nc1tkZXByZWNhdGlvbi50YXJnZXRdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlZmF1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIF9sb29wKGkpO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvcmUuc2V0dGluZ3MsIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAbmFtZSBQUkVDSVNJT05cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgICAgICogQHNlZSBQSVhJLlBSRUNJU0lPTlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuNC4wXG4gICAgICAgICAqL1xuICAgICAgICBQUkVDSVNJT046IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuc2V0dGluZ3MuUFJFQ0lTSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLlBSRUNJU0lPTl9GUkFHTUVOVDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuc2V0dGluZ3MuUFJFQ0lTSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQnKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5UID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChleHRyYXMuQW5pbWF0ZWRTcHJpdGUpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZXh0cmFzLCB7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAgICAgKiBAbmFtZSBNb3ZpZUNsaXBcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhc1xuICAgICAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZVxuICAgICAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBNb3ZpZUNsaXA6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIE1vdmllQ2xpcCBjbGFzcyBoYXMgYmVlbiByZW5hbWVkIHRvIEFuaW1hdGVkU3ByaXRlLCBwbGVhc2UgdXNlIEFuaW1hdGVkU3ByaXRlIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHRyYXMuQW5pbWF0ZWRTcHJpdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZXh0cmFzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGV4dHJhcywge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICAgICAqIEBuYW1lIFRleHR1cmVUcmFuc2Zvcm1cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhc1xuICAgICAgICAgICAgICogQHNlZSBQSVhJLlRleHR1cmVNYXRyaXhcbiAgICAgICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC42LjBcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgVGV4dHVyZVRyYW5zZm9ybToge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgVGV4dHVyZVRyYW5zZm9ybSBjbGFzcyBoYXMgYmVlbiByZW5hbWVkIHRvIFRleHR1cmVNYXRyaXgsICcgKyAncGxlYXNlIHVzZSBQSVhJLlRleHR1cmVNYXRyaXggZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuVGV4dHVyZU1hdHJpeDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvcmUuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2VuZXJhdGVUZXh0dXJlID0gZnVuY3Rpb24gZ2VuZXJhdGVUZXh0dXJlKHJlbmRlcmVyLCBzY2FsZU1vZGUsIHJlc29sdXRpb24pIHtcbiAgICAgICAgd2FybignZ2VuZXJhdGVUZXh0dXJlIGhhcyBtb3ZlZCB0byB0aGUgcmVuZGVyZXIsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKGRpc3BsYXlPYmplY3QpJyk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0aGlzLCBzY2FsZU1vZGUsIHJlc29sdXRpb24pO1xuICAgIH07XG5cbiAgICBjb3JlLkdyYXBoaWNzLnByb3RvdHlwZS5nZW5lcmF0ZVRleHR1cmUgPSBmdW5jdGlvbiBnZW5lcmF0ZVRleHR1cmUoc2NhbGVNb2RlLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHdhcm4oJ2dyYXBoaWNzIGdlbmVyYXRlIHRleHR1cmUgaGFzIG1vdmVkIHRvIHRoZSByZW5kZXJlci4gJyArICdPciB0byByZW5kZXIgYSBncmFwaGljcyB0byBhIHRleHR1cmUgdXNpbmcgY2FudmFzIHBsZWFzZSB1c2UgZ2VuZXJhdGVDYW52YXNUZXh0dXJlJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVDYW52YXNUZXh0dXJlKHNjYWxlTW9kZSwgcmVzb2x1dGlvbik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBQSVhJLkdyb3VwRDguaXNTd2FwV2lkdGhIZWlnaHRcbiAgICAgKiBAc2VlIFBJWEkuR3JvdXBEOC5pc1ZlcnRpY2FsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGRpcmVjdGlvbiBpcyB2ZXJ0aWNhbFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC42LjBcbiAgICAgKi9cbiAgICBjb3JlLkdyb3VwRDguaXNTd2FwV2lkdGhIZWlnaHQgPSBmdW5jdGlvbiBpc1N3YXBXaWR0aEhlaWdodChyb3RhdGlvbikge1xuICAgICAgICB3YXJuKCdHcm91cEQ4LmlzU3dhcFdpZHRoSGVpZ2h0IHdhcyByZW5hbWVkIHRvIEdyb3VwRDguaXNWZXJ0aWNhbCcpO1xuXG4gICAgICAgIHJldHVybiBjb3JlLkdyb3VwRDguaXNWZXJ0aWNhbChyb3RhdGlvbik7XG4gICAgfTtcblxuICAgIGNvcmUuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKGRpc3BsYXlPYmplY3QsIG1hdHJpeCwgY2xlYXIsIHVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICB0aGlzLmxlZ2FjeVJlbmRlcmVyLnJlbmRlcihkaXNwbGF5T2JqZWN0LCB0aGlzLCBjbGVhciwgbWF0cml4LCAhdXBkYXRlVHJhbnNmb3JtKTtcbiAgICAgICAgd2FybignUmVuZGVyVGV4dHVyZS5yZW5kZXIgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIucmVuZGVyKGRpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmUpJyk7XG4gICAgfTtcblxuICAgIGNvcmUuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiBnZXRJbWFnZSh0YXJnZXQpIHtcbiAgICAgICAgd2FybignUmVuZGVyVGV4dHVyZS5nZXRJbWFnZSBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSByZW5kZXJlci5leHRyYWN0LmltYWdlKHRhcmdldCknKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5sZWdhY3lSZW5kZXJlci5leHRyYWN0LmltYWdlKHRhcmdldCk7XG4gICAgfTtcblxuICAgIGNvcmUuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZ2V0QmFzZTY0ID0gZnVuY3Rpb24gZ2V0QmFzZTY0KHRhcmdldCkge1xuICAgICAgICB3YXJuKCdSZW5kZXJUZXh0dXJlLmdldEJhc2U2NCBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSByZW5kZXJlci5leHRyYWN0LmJhc2U2NCh0YXJnZXQpJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGVnYWN5UmVuZGVyZXIuZXh0cmFjdC5iYXNlNjQodGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgY29yZS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5nZXRDYW52YXMgPSBmdW5jdGlvbiBnZXRDYW52YXModGFyZ2V0KSB7XG4gICAgICAgIHdhcm4oJ1JlbmRlclRleHR1cmUuZ2V0Q2FudmFzIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmV4dHJhY3QuY2FudmFzKHRhcmdldCknKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5sZWdhY3lSZW5kZXJlci5leHRyYWN0LmNhbnZhcyh0YXJnZXQpO1xuICAgIH07XG5cbiAgICBjb3JlLlJlbmRlclRleHR1cmUucHJvdG90eXBlLmdldFBpeGVscyA9IGZ1bmN0aW9uIGdldFBpeGVscyh0YXJnZXQpIHtcbiAgICAgICAgd2FybignUmVuZGVyVGV4dHVyZS5nZXRQaXhlbHMgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZXh0cmFjdC5waXhlbHModGFyZ2V0KScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmxlZ2FjeVJlbmRlcmVyLnBpeGVscyh0YXJnZXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBQSVhJLlNwcml0ZSNzZXRUZXh0dXJlXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZSN0ZXh0dXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gc2V0IHRvLlxuICAgICAqL1xuICAgIGNvcmUuU3ByaXRlLnByb3RvdHlwZS5zZXRUZXh0dXJlID0gZnVuY3Rpb24gc2V0VGV4dHVyZSh0ZXh0dXJlKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHdhcm4oJ3NldFRleHR1cmUgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIHRleHR1cmUgcHJvcGVydHksIGUuZyA6IHNwcml0ZS50ZXh0dXJlID0gdGV4dHVyZTsnKTtcbiAgICB9O1xuXG4gICAgaWYgKGV4dHJhcy5CaXRtYXBUZXh0KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBuYW1lIFBJWEkuZXh0cmFzLkJpdG1hcFRleHQjc2V0VGV4dFxuICAgICAgICAgKiBAc2VlIFBJWEkuZXh0cmFzLkJpdG1hcFRleHQjdGV4dFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHRleHQgdG8gc2V0IHRvLlxuICAgICAgICAgKi9cbiAgICAgICAgZXh0cmFzLkJpdG1hcFRleHQucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiBzZXRUZXh0KHRleHQpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgICAgICB3YXJuKCdzZXRUZXh0IGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSB0ZXh0IHByb3BlcnR5LCBlLmcgOiBteUJpdG1hcFRleHQudGV4dCA9IFxcJ215IHRleHRcXCc7Jyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIFBJWEkuVGV4dCNzZXRUZXh0XG4gICAgICogQHNlZSBQSVhJLlRleHQjdGV4dFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSB0ZXh0IHRvIHNldCB0by5cbiAgICAgKi9cbiAgICBjb3JlLlRleHQucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiBzZXRUZXh0KHRleHQpIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgd2Fybignc2V0VGV4dCBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgdGV4dCBwcm9wZXJ0eSwgZS5nIDogbXlUZXh0LnRleHQgPSBcXCdteSB0ZXh0XFwnOycpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhc2NlbnQsIGRlc2NlbnQgYW5kIGZvbnRTaXplIG9mIGEgZ2l2ZW4gZm9udFN0eWxlXG4gICAgICpcbiAgICAgKiBAbmFtZSBQSVhJLlRleHQuY2FsY3VsYXRlRm9udFByb3BlcnRpZXNcbiAgICAgKiBAc2VlIFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuNS4wXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgLSBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBzdHlsZSBvZiB0aGUgZm9udFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqL1xuICAgIGNvcmUuVGV4dC5jYWxjdWxhdGVGb250UHJvcGVydGllcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUZvbnRQcm9wZXJ0aWVzKGZvbnQpIHtcbiAgICAgICAgd2FybignVGV4dC5jYWxjdWxhdGVGb250UHJvcGVydGllcyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQnKTtcblxuICAgICAgICByZXR1cm4gY29yZS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250KTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29yZS5UZXh0LCB7XG4gICAgICAgIGZvbnRQcm9wZXJ0aWVzQ2FjaGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RleHQuZm9udFByb3BlcnRpZXNDYWNoZSBpcyBkZXByZWNhdGVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5UZXh0TWV0cmljcy5fZm9udHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZvbnRQcm9wZXJ0aWVzQ2FudmFzOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUZXh0LmZvbnRQcm9wZXJ0aWVzQ2FudmFzIGlzIGRlcHJlY2F0ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlRleHRNZXRyaWNzLl9jYW52YXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZvbnRQcm9wZXJ0aWVzQ29udGV4dDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGV4dC5mb250UHJvcGVydGllc0NvbnRleHQgaXMgZGVwcmVjYXRlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuVGV4dE1ldHJpY3MuX2NvbnRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBQSVhJLlRleHQjc2V0U3R5bGVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dCNzdHlsZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgKiBAcGFyYW0geyp9IHN0eWxlIC0gVGhlIHN0eWxlIHRvIHNldCB0by5cbiAgICAgKi9cbiAgICBjb3JlLlRleHQucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24gc2V0U3R5bGUoc3R5bGUpIHtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICB3YXJuKCdzZXRTdHlsZSBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgc3R5bGUgcHJvcGVydHksIGUuZyA6IG15VGV4dC5zdHlsZSA9IHN0eWxlOycpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5UZXh0I2RldGVybWluZUZvbnRQcm9wZXJ0aWVzXG4gICAgICogQHNlZSBQSVhJLlRleHQjbWVhc3VyZUZvbnRQcm9wZXJ0aWVzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZvbnRTdHlsZSAtIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIHN0eWxlIG9mIHRoZSBmb250XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBGb250IHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICovXG4gICAgY29yZS5UZXh0LnByb3RvdHlwZS5kZXRlcm1pbmVGb250UHJvcGVydGllcyA9IGZ1bmN0aW9uIGRldGVybWluZUZvbnRQcm9wZXJ0aWVzKGZvbnRTdHlsZSkge1xuICAgICAgICB3YXJuKCdkZXRlcm1pbmVGb250UHJvcGVydGllcyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCBtZXRob2QnKTtcblxuICAgICAgICByZXR1cm4gY29yZS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250U3R5bGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5UZXh0LmdldEZvbnRTdHlsZVxuICAgICAqIEBzZWUgUElYSS5UZXh0TWV0cmljcy5nZXRGb250U3R5bGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuNS4wXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSBUaGUgc3R5bGUgdG8gdXNlLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gRm9udCBzdHJpbmdcbiAgICAgKi9cbiAgICBjb3JlLlRleHQuZ2V0Rm9udFN0eWxlID0gZnVuY3Rpb24gZ2V0Rm9udFN0eWxlKHN0eWxlKSB7XG4gICAgICAgIHdhcm4oJ2dldEZvbnRTdHlsZSBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBUZXh0U3R5bGUudG9Gb250U3RyaW5nKCkgaW5zdGVhZCcpO1xuXG4gICAgICAgIHN0eWxlID0gc3R5bGUgfHwge307XG5cbiAgICAgICAgaWYgKCEoc3R5bGUgaW5zdGFuY2VvZiBjb3JlLlRleHRTdHlsZSkpIHtcbiAgICAgICAgICAgIHN0eWxlID0gbmV3IGNvcmUuVGV4dFN0eWxlKHN0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29yZS5UZXh0U3R5bGUucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYWxsIHByb3BlcnRpZXMgb2YgYSBmb250IGFzIGEgc2luZ2xlIHN0cmluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLlRleHRTdHlsZSNmb250XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGZvbnQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ3RleHQgc3R5bGUgcHJvcGVydHkgXFwnZm9udFxcJyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgJyArICdcXCdmb250RmFtaWx5XFwnLCBcXCdmb250U2l6ZVxcJywgXFwnZm9udFN0eWxlXFwnLCBcXCdmb250VmFyaWFudFxcJyBhbmQgXFwnZm9udFdlaWdodFxcJyBwcm9wZXJ0aWVzIGZyb20gbm93IG9uJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZm9udFNpemVTdHJpbmcgPSB0eXBlb2YgdGhpcy5fZm9udFNpemUgPT09ICdudW1iZXInID8gdGhpcy5fZm9udFNpemUgKyAncHgnIDogdGhpcy5fZm9udFNpemU7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFN0eWxlICsgJyAnICsgdGhpcy5fZm9udFZhcmlhbnQgKyAnICcgKyB0aGlzLl9mb250V2VpZ2h0ICsgJyAnICsgZm9udFNpemVTdHJpbmcgKyAnICcgKyB0aGlzLl9mb250RmFtaWx5O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZvbnQpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCd0ZXh0IHN0eWxlIHByb3BlcnR5IFxcJ2ZvbnRcXCcgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlICcgKyAnXFwnZm9udEZhbWlseVxcJyxcXCdmb250U2l6ZVxcJyxmb250U3R5bGVcXCcsXFwnZm9udFZhcmlhbnRcXCcgYW5kIFxcJ2ZvbnRXZWlnaHRcXCcgcHJvcGVydGllcyBmcm9tIG5vdyBvbicpO1xuXG4gICAgICAgICAgICAgICAgLy8gY2FuIHdvcmsgb3V0IGZvbnRTdHlsZSBmcm9tIHNlYXJjaCBvZiB3aG9sZSBzdHJpbmdcbiAgICAgICAgICAgICAgICBpZiAoZm9udC5pbmRleE9mKCdpdGFsaWMnKSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udFN0eWxlID0gJ2l0YWxpYyc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmb250LmluZGV4T2YoJ29ibGlxdWUnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTdHlsZSA9ICdvYmxpcXVlJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSAnbm9ybWFsJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjYW4gd29yayBvdXQgZm9udFZhcmlhbnQgZnJvbSBzZWFyY2ggb2Ygd2hvbGUgc3RyaW5nXG4gICAgICAgICAgICAgICAgaWYgKGZvbnQuaW5kZXhPZignc21hbGwtY2FwcycpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSAnc21hbGwtY2Fwcyc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSAnbm9ybWFsJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBmb250V2VpZ2h0IGFuZCBmb250RmFtaWx5IGFyZSB0cmlja2VyIHRvIGZpbmQsIGJ1dCBpdCdzIGVhc2llciB0byBmaW5kIHRoZSBmb250U2l6ZSBkdWUgdG8gaXQncyB1bml0c1xuICAgICAgICAgICAgICAgIHZhciBzcGxpdHMgPSBmb250LnNwbGl0KCcgJyk7XG4gICAgICAgICAgICAgICAgdmFyIGZvbnRTaXplSW5kZXggPSAtMTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gMjY7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGxpdHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwbGl0c1tpXS5tYXRjaCgvKHB4fHB0fGVtfCUpLykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSBzcGxpdHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBub3cgc2VhcmNoIGZvciBmb250V2VpZ2h0IGFzIHdlIGtub3cgaXQgbXVzdCBvY2N1ciBiZWZvcmUgdGhlIGZvbnRTaXplXG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFdlaWdodCA9ICdub3JtYWwnO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBmb250U2l6ZUluZGV4OyArK19pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdHNbX2ldLm1hdGNoKC8oYm9sZHxib2xkZXJ8bGlnaHRlcnwxMDB8MjAwfDMwMHw0MDB8NTAwfDYwMHw3MDB8ODAwfDkwMCkvKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udFdlaWdodCA9IHNwbGl0c1tfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGFuZCBmaW5hbGx5IGpvaW4gZXZlcnl0aGluZyB0b2dldGhlciBhZnRlciB0aGUgZm9udFNpemUgaW4gY2FzZSB0aGUgZm9udCBmYW1pbHkgaGFzIG11bHRpcGxlIHdvcmRzXG4gICAgICAgICAgICAgICAgaWYgKGZvbnRTaXplSW5kZXggPiAtMSAmJiBmb250U2l6ZUluZGV4IDwgc3BsaXRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaTIgPSBmb250U2l6ZUluZGV4ICsgMTsgX2kyIDwgc3BsaXRzLmxlbmd0aDsgKytfaTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgKz0gc3BsaXRzW19pMl0gKyAnICc7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gdGhpcy5fZm9udEZhbWlseS5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9ICdBcmlhbCc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBQSVhJLlRleHR1cmUjc2V0RnJhbWVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZSNzZXRGcmFtZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBmcmFtZSAtIFRoZSBmcmFtZSB0byBzZXQuXG4gICAgICovXG4gICAgY29yZS5UZXh0dXJlLnByb3RvdHlwZS5zZXRGcmFtZSA9IGZ1bmN0aW9uIHNldEZyYW1lKGZyYW1lKSB7XG4gICAgICAgIHRoaXMuZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgd2Fybignc2V0RnJhbWUgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIGZyYW1lIHByb3BlcnR5LCBlLmc6IG15VGV4dHVyZS5mcmFtZSA9IGZyYW1lOycpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG5hbWUgUElYSS5UZXh0dXJlLmFkZFRleHR1cmVUb0NhY2hlXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuYWRkVG9DYWNoZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDQuNS4wXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSB0ZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG4gICAgY29yZS5UZXh0dXJlLmFkZFRleHR1cmVUb0NhY2hlID0gZnVuY3Rpb24gYWRkVGV4dHVyZVRvQ2FjaGUodGV4dHVyZSwgaWQpIHtcbiAgICAgICAgY29yZS5UZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgaWQpO1xuICAgICAgICB3YXJuKCdUZXh0dXJlLmFkZFRleHR1cmVUb0NhY2hlIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgVGV4dHVyZS5hZGRUb0NhY2hlIGZyb20gbm93IG9uLicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG5hbWUgUElYSS5UZXh0dXJlLnJlbW92ZVRleHR1cmVGcm9tQ2FjaGVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjUuMFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgdGV4dHVyZSB0byBiZSByZW1vdmVkXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfG51bGx9IFRoZSB0ZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBjb3JlLlRleHR1cmUucmVtb3ZlVGV4dHVyZUZyb21DYWNoZSA9IGZ1bmN0aW9uIHJlbW92ZVRleHR1cmVGcm9tQ2FjaGUoaWQpIHtcbiAgICAgICAgd2FybignVGV4dHVyZS5yZW1vdmVUZXh0dXJlRnJvbUNhY2hlIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgZnJvbSBub3cgb24uICcgKyAnQmUgYXdhcmUgdGhhdCBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSBkb2VzIG5vdCBhdXRvbWF0aWNhbGx5IGl0cyBCYXNlVGV4dHVyZSBmcm9tIHRoZSBCYXNlVGV4dHVyZUNhY2hlLiAnICsgJ0ZvciB0aGF0LCB1c2UgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlJyk7XG5cbiAgICAgICAgY29yZS5CYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUoaWQpO1xuXG4gICAgICAgIHJldHVybiBjb3JlLlRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKGlkKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZmlsdGVycywge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUElYSS5maWx0ZXJzLkFic3RyYWN0RmlsdGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEZpbHRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC42XG4gICAgICAgICAqL1xuICAgICAgICBBYnN0cmFjdEZpbHRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignQXN0cmFjdEZpbHRlciBoYXMgYmVlbiByZW5hbWVkIHRvIEZpbHRlciwgcGxlYXNlIHVzZSBQSVhJLkZpbHRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuQWJzdHJhY3RGaWx0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBQSVhJLmZpbHRlcnMuU3ByaXRlTWFza0ZpbHRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuU3ByaXRlTWFza0ZpbHRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC42XG4gICAgICAgICAqL1xuICAgICAgICBTcHJpdGVNYXNrRmlsdGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdmaWx0ZXJzLlNwcml0ZU1hc2tGaWx0ZXIgaXMgYW4gdW5kb2N1bWVudGVkIGFsaWFzLCBwbGVhc2UgdXNlIFNwcml0ZU1hc2tGaWx0ZXIgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5TcHJpdGVNYXNrRmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUElYSS5maWx0ZXJzLlZvaWRGaWx0ZXJcbiAgICAgICAgICogQHNlZSBQSVhJLmZpbHRlcnMuQWxwaGFGaWx0ZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjUuN1xuICAgICAgICAgKi9cbiAgICAgICAgVm9pZEZpbHRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVm9pZEZpbHRlciBoYXMgYmVlbiByZW5hbWVkIHRvIEFscGhhRmlsdGVyLCBwbGVhc2UgdXNlIFBJWEkuZmlsdGVycy5BbHBoYUZpbHRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnMuQWxwaGFGaWx0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBQSVhJLnV0aWxzLnV1aWRcbiAgICAgKiBAc2VlIFBJWEkudXRpbHMudWlkXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuNlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHVpZFxuICAgICAqL1xuICAgIGNvcmUudXRpbHMudXVpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2FybigndXRpbHMudXVpZCgpIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdXRpbHMudWlkKCkgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgcmV0dXJuIGNvcmUudXRpbHMudWlkKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBQSVhJLnV0aWxzLmNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXNcbiAgICAgKiBAc2VlIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDYW4gdXNlIGJsZW5kIG1vZGVzLlxuICAgICAqL1xuICAgIGNvcmUudXRpbHMuY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2FybigndXRpbHMuY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcygpIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgQ2FudmFzVGludGVyLmNhblVzZU11bHRpcGx5IGZyb20gbm93IG9uJyk7XG5cbiAgICAgICAgcmV0dXJuIGNvcmUuQ2FudmFzVGludGVyLmNhblVzZU11bHRpcGx5O1xuICAgIH07XG5cbiAgICB2YXIgc2FpZEhlbGxvID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lIFBJWEkudXRpbHMuX3NhaWRIZWxsb1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBzZWUgUElYSS51dGlscy5za2lwSGVsbG9cbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjEuMFxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb3JlLnV0aWxzLCAnX3NhaWRIZWxsbycsIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoYm9vbCkge1xuICAgICAgICAgICAgaWYgKGJvb2wpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLnV0aWxzLl9zYWlkSGVsbG8gaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnV0aWxzLnNraXBIZWxsbygpJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwSGVsbG8oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNhaWRIZWxsbyA9IGJvb2w7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHNhaWRIZWxsbztcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHByZXBhcmUuQmFzZVByZXBhcmUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG5hbWUgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlI3JlZ2lzdGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlI3JlZ2lzdGVyRmluZEhvb2tcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjQuMlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbYWRkSG9va10gLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBpdGVtOiosIHF1ZXVlOkFycmF5YFxuICAgICAgICAgKiAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGFkZCBpdGVtIHRvIHRoZSBxdWV1ZS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3VwbG9hZEhvb2tdIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgcHJlcGFyZTpDYW52YXNQcmVwYXJlLCBpdGVtOipgIGFuZFxuICAgICAgICAgKiAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGhhbmRsZSB1cGxvYWQgb2YgaXRlbS5cbiAgICAgICAgICogQHJldHVybiB7UElYSS5CYXNlUHJlcGFyZX0gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgICAgICovXG4gICAgICAgIHByZXBhcmUuQmFzZVByZXBhcmUucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gcmVnaXN0ZXIoYWRkSG9vaywgdXBsb2FkSG9vaykge1xuICAgICAgICAgICAgd2FybigncmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnJlZ2lzdGVyIGlzIG5vdyBkZXByZWNhdGVkLCAnICsgJ3BsZWFzZSB1c2UgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnJlZ2lzdGVyRmluZEhvb2sgJiByZW5kZXJlci5wbHVnaW5zLnByZXBhcmUucmVnaXN0ZXJVcGxvYWRIb29rJyk7XG5cbiAgICAgICAgICAgIGlmIChhZGRIb29rKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGFkZEhvb2spO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodXBsb2FkSG9vaykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEhvb2spO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAocHJlcGFyZS5jYW52YXMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgZ3JhcGhpY3Mgb3IgdGV4dHVyZXMgdG8gdXBsb2FkIHRvIHRoZSBHUFUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBuYW1lIFBJWEkucHJlcGFyZS5jYW52YXMuVVBMT0FEU19QRVJfRlJBTUVcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZS5saW1pdGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJlcGFyZS5jYW52YXMsICdVUExPQURTX1BFUl9GUkFNRScsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuQ2FudmFzUHJlcGFyZS5VUExPQURTX1BFUl9GUkFNRSBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2Ugc2V0ICcgKyAncmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLmxpbWl0ZXIubWF4SXRlbXNQZXJGcmFtZSBvbiB5b3VyIHJlbmRlcmVyJyk7XG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBkb24ndCBoYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlciwgd2UgY2FuJ3QgYWN0dWFsbHkgc2V0XG4gICAgICAgICAgICAgICAgLy8gdGhlIHVwbG9hZHMgcGVyIGZyYW1lLCBzbyB3ZSdsbCBoYXZlIHRvIHN0aWNrIHdpdGggdGhlIHdhcm5pbmcuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5DYW52YXNQcmVwYXJlLlVQTE9BRFNfUEVSX0ZSQU1FIGhhcyBiZWVuIHJlbW92ZWQuIFBsZWFzZSB1c2UgJyArICdyZW5kZXJlci5wbHVnaW5zLnByZXBhcmUubGltaXRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHByZXBhcmUud2ViZ2wpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgZ3JhcGhpY3Mgb3IgdGV4dHVyZXMgdG8gdXBsb2FkIHRvIHRoZSBHUFUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBuYW1lIFBJWEkucHJlcGFyZS53ZWJnbC5VUExPQURTX1BFUl9GUkFNRVxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlLmxpbWl0ZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcmVwYXJlLndlYmdsLCAnVVBMT0FEU19QRVJfRlJBTUUnLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLldlYkdMUHJlcGFyZS5VUExPQURTX1BFUl9GUkFNRSBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2Ugc2V0ICcgKyAncmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLmxpbWl0ZXIubWF4SXRlbXNQZXJGcmFtZSBvbiB5b3VyIHJlbmRlcmVyJyk7XG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBkb24ndCBoYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlciwgd2UgY2FuJ3QgYWN0dWFsbHkgc2V0XG4gICAgICAgICAgICAgICAgLy8gdGhlIHVwbG9hZHMgcGVyIGZyYW1lLCBzbyB3ZSdsbCBoYXZlIHRvIHN0aWNrIHdpdGggdGhlIHdhcm5pbmcuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5XZWJHTFByZXBhcmUuVVBMT0FEU19QRVJfRlJBTUUgaGFzIGJlZW4gcmVtb3ZlZC4gUGxlYXNlIHVzZSAnICsgJ3JlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5saW1pdGVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobG9hZGVycy5Mb2FkZXIpIHtcbiAgICAgICAgdmFyIFJlc291cmNlID0gbG9hZGVycy5SZXNvdXJjZTtcbiAgICAgICAgdmFyIExvYWRlciA9IGxvYWRlcnMuTG9hZGVyO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJlc291cmNlLnByb3RvdHlwZSwge1xuICAgICAgICAgICAgaXNKc29uOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBpc0pzb24gcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5KU09OYC4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSBSZXNvdXJjZS5UWVBFLkpTT047XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzWG1sOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBpc1htbCBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGByZXNvdXJjZS50eXBlID09PSBSZXNvdXJjZS5UWVBFLlhNTGAuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5YTUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzSW1hZ2U6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIGlzSW1hZ2UgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5JTUFHRWAuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5JTUFHRTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNBdWRpbzoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgaXNBdWRpbyBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGByZXNvdXJjZS50eXBlID09PSBSZXNvdXJjZS5UWVBFLkFVRElPYC4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSBSZXNvdXJjZS5UWVBFLkFVRElPO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc1ZpZGVvOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBpc1ZpZGVvIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuVklERU9gLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFJlc291cmNlLlRZUEUuVklERU87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhMb2FkZXIucHJvdG90eXBlLCB7XG4gICAgICAgICAgICBiZWZvcmU6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIGJlZm9yZSgpIG1ldGhvZCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHByZSgpLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWZ0ZXI6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIGFmdGVyKCkgbWV0aG9kIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdXNlKCkuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0I2RlZmF1bHRDdXJzb3JcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuaW50ZXJhY3Rpb24uaW50ZXJhY3RpdmVUYXJnZXQjY3Vyc29yXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDQuMy4wXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW50ZXJhY3Rpb24uaW50ZXJhY3RpdmVUYXJnZXQsICdkZWZhdWx0Q3Vyc29yJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQcm9wZXJ0eSBkZWZhdWx0Q3Vyc29yIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggXFwnY3Vyc29yXFwnLiAnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvciA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1Byb3BlcnR5IGRlZmF1bHRDdXJzb3IgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBcXCdjdXJzb3JcXCcuICcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3Vyc29yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNkZWZhdWx0Q3Vyc29yU3R5bGVcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAc2VlIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2N1cnNvclN0eWxlc1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjMuMFxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciwgJ2RlZmF1bHRDdXJzb3JTdHlsZScsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgZGVmYXVsdEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggXFwnY3Vyc29yU3R5bGVzLmRlZmF1bHRcXCcuICcpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yU3R5bGVzLmRlZmF1bHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQcm9wZXJ0eSBkZWZhdWx0Q3Vyc29yU3R5bGUgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBcXCdjdXJzb3JTdHlsZXMuZGVmYXVsdFxcJy4gJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3JTdHlsZXMuZGVmYXVsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2N1cnJlbnRDdXJzb3JTdHlsZVxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBzZWUgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjY3Vyc29yU3R5bGVzXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDQuMy4wXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyLCAnY3VycmVudEN1cnNvclN0eWxlJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQcm9wZXJ0eSBjdXJyZW50Q3Vyc29yU3R5bGUgaGFzIGJlZW4gcmVtb3ZlZC4nICsgJ1NlZSB0aGUgY3VycmVudEN1cnNvck1vZGUgcHJvcGVydHksIHdoaWNoIHdvcmtzIGRpZmZlcmVudGx5LicpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEN1cnNvck1vZGUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQcm9wZXJ0eSBjdXJyZW50Q3Vyc29yU3R5bGUgaGFzIGJlZW4gcmVtb3ZlZC4nICsgJ1NlZSB0aGUgY3VycmVudEN1cnNvck1vZGUgcHJvcGVydHksIHdoaWNoIHdvcmtzIGRpZmZlcmVudGx5LicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEN1cnNvck1vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlcHJlY2F0aW9uLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9hY2Nlc3NpYmxlVGFyZ2V0ID0gcmVxdWlyZSgnLi9hY2Nlc3NpYmxlVGFyZ2V0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnYWNjZXNzaWJsZVRhcmdldCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FjY2Vzc2libGVUYXJnZXQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0FjY2Vzc2liaWxpdHlNYW5hZ2VyID0gcmVxdWlyZSgnLi9BY2Nlc3NpYmlsaXR5TWFuYWdlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0FjY2Vzc2liaWxpdHlNYW5hZ2VyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWNjZXNzaWJpbGl0eU1hbmFnZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX2lzbW9iaWxlanMgPSByZXF1aXJlKCdpc21vYmlsZWpzJyk7XG5cbnZhciBfaXNtb2JpbGVqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc21vYmlsZWpzKTtcblxudmFyIF9hY2Nlc3NpYmxlVGFyZ2V0ID0gcmVxdWlyZSgnLi9hY2Nlc3NpYmxlVGFyZ2V0Jyk7XG5cbnZhciBfYWNjZXNzaWJsZVRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hY2Nlc3NpYmxlVGFyZ2V0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLy8gYWRkIHNvbWUgZXh0cmEgdmFyaWFibGVzIHRvIHRoZSBjb250YWluZXIuLlxuY29yZS51dGlscy5taXhpbnMuZGVsYXlNaXhpbihjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLCBfYWNjZXNzaWJsZVRhcmdldDIuZGVmYXVsdCk7XG5cbnZhciBLRVlfQ09ERV9UQUIgPSA5O1xuXG52YXIgRElWX1RPVUNIX1NJWkUgPSAxMDA7XG52YXIgRElWX1RPVUNIX1BPU19YID0gMDtcbnZhciBESVZfVE9VQ0hfUE9TX1kgPSAwO1xudmFyIERJVl9UT1VDSF9aSU5ERVggPSAyO1xuXG52YXIgRElWX0hPT0tfU0laRSA9IDE7XG52YXIgRElWX0hPT0tfUE9TX1ggPSAtMTAwMDtcbnZhciBESVZfSE9PS19QT1NfWSA9IC0xMDAwO1xudmFyIERJVl9IT09LX1pJTkRFWCA9IDI7XG5cbi8qKlxuICogVGhlIEFjY2Vzc2liaWxpdHkgbWFuYWdlciByZWNyZWF0ZXMgdGhlIGFiaWxpdHkgdG8gdGFiIGFuZCBoYXZlIGNvbnRlbnQgcmVhZCBieSBzY3JlZW5cbiAqIHJlYWRlcnMuIFRoaXMgaXMgdmVyeSBpbXBvcnRhbnQgYXMgaXQgY2FuIHBvc3NpYmx5IGhlbHAgcGVvcGxlIHdpdGggZGlzYWJpbGl0aWVzIGFjY2VzcyBwaXhpXG4gKiBjb250ZW50LlxuICpcbiAqIE11Y2ggbGlrZSBpbnRlcmFjdGlvbiBhbnkgRGlzcGxheU9iamVjdCBjYW4gYmUgbWFkZSBhY2Nlc3NpYmxlLiBUaGlzIG1hbmFnZXIgd2lsbCBtYXAgdGhlXG4gKiBldmVudHMgYXMgaWYgdGhlIG1vdXNlIHdhcyBiZWluZyB1c2VkLCBtaW5pbWl6aW5nIHRoZSBlZmZvcnQgcmVxdWlyZWQgdG8gaW1wbGVtZW50LlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgcmVuZGVyZXIucGx1Z2lucy5hY2Nlc3NpYmlsaXR5XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5hY2Nlc3NpYmlsaXR5XG4gKi9cblxudmFyIEFjY2Vzc2liaWxpdHlNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcnxQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBY2Nlc3NpYmlsaXR5TWFuYWdlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWNjZXNzaWJpbGl0eU1hbmFnZXIpO1xuXG4gICAgICAgIGlmICgoX2lzbW9iaWxlanMyLmRlZmF1bHQudGFibGV0IHx8IF9pc21vYmlsZWpzMi5kZWZhdWx0LnBob25lKSAmJiAhbmF2aWdhdG9yLmlzQ29jb29uSlMpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVG91Y2hIb29rKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaXJzdCB3ZSBjcmVhdGUgYSBkaXYgdGhhdCB3aWxsIHNpdCBvdmVyIHRoZSBQaXhpSlMgZWxlbWVudC4gVGhpcyBpcyB3aGVyZSB0aGUgZGl2IG92ZXJsYXlzIHdpbGwgZ28uXG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBESVZfVE9VQ0hfU0laRSArICdweCc7XG4gICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBESVZfVE9VQ0hfU0laRSArICdweCc7XG4gICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRpdi5zdHlsZS50b3AgPSBESVZfVE9VQ0hfUE9TX1ggKyAncHgnO1xuICAgICAgICBkaXYuc3R5bGUubGVmdCA9IERJVl9UT1VDSF9QT1NfWSArICdweCc7XG4gICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBkb20gZWxlbWVudCB0aGF0IHdpbGwgc2l0IG92ZXIgdGhlIFBpeGlKUyBlbGVtZW50LiBUaGlzIGlzIHdoZXJlIHRoZSBkaXYgb3ZlcmxheXMgd2lsbCBnby5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXYgPSBkaXY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc2ltcGxlIHBvb2wgZm9yIHN0b3JpbmcgZGl2cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUgeyp9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvb2wgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyBhIHRpY2sgdXNlZCB0byBjaGVjayBpZiBhbiBvYmplY3QgaXMgbm8gbG9uZ2VyIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJJZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHRpbmcgdGhpcyB0byB0cnVlIHdpbGwgdmlzdWFsbHkgc2hvdyB0aGUgZGl2cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlYnVnID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGFjY2Vzc2liaWxpdHkgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3lzdGVtUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiBjdXJyZW50bHkgYWN0aXZlIGFjY2Vzc2libGUgaXRlbXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PCo+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwcmUtYmluZCB0aGUgZnVuY3Rpb25zXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbktleURvd24gPSB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzdG9yZXMgdGhlIHN0YXRlIG9mIHRoZSBtYW5hZ2VyLiBJZiB0aGVyZSBhcmUgbm8gYWNjZXNzaWJsZSBvYmplY3RzIG9yIHRoZSBtb3VzZSBpcyBtb3ZpbmcsIHRoaXMgd2lsbCBiZSBmYWxzZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNNb2JpbGVBY2Nlc3NhYmlsbGl0eSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGxldCBsaXN0ZW4gZm9yIHRhYi4uIG9uY2UgcHJlc3NlZCB3ZSBjYW4gZmlyZSB1cCBhbmQgc2hvdyB0aGUgYWNjZXNzaWJpbGl0eSBsYXllclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHRvdWNoIGhvb2tzLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5jcmVhdGVUb3VjaEhvb2sgPSBmdW5jdGlvbiBjcmVhdGVUb3VjaEhvb2soKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGhvb2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgICAgICBob29rRGl2LnN0eWxlLndpZHRoID0gRElWX0hPT0tfU0laRSArICdweCc7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUuaGVpZ2h0ID0gRElWX0hPT0tfU0laRSArICdweCc7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBob29rRGl2LnN0eWxlLnRvcCA9IERJVl9IT09LX1BPU19YICsgJ3B4JztcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5sZWZ0ID0gRElWX0hPT0tfUE9TX1kgKyAncHgnO1xuICAgICAgICBob29rRGl2LnN0eWxlLnpJbmRleCA9IERJVl9IT09LX1pJTkRFWDtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0ZGMDAwMCc7XG4gICAgICAgIGhvb2tEaXYudGl0bGUgPSAnSE9PSyBESVYnO1xuXG4gICAgICAgIGhvb2tEaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5pc01vYmlsZUFjY2Vzc2FiaWxsaXR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2YXRlKCk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGhvb2tEaXYpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGhvb2tEaXYpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBY3RpdmF0aW5nIHdpbGwgY2F1c2UgdGhlIEFjY2Vzc2liaWxpdHkgbGF5ZXIgdG8gYmUgc2hvd24uIFRoaXMgaXMgY2FsbGVkIHdoZW4gYSB1c2VyXG4gICAgICogcHJlc2VzIHRoZSB0YWIga2V5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIub24oJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIudmlldy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVhY3RpdmF0aW5nIHdpbGwgY2F1c2UgdGhlIEFjY2Vzc2liaWxpdHkgbGF5ZXIgdG8gYmUgaGlkZGVuLiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBtb3Zlc1xuICAgICAqIHRoZSBtb3VzZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24gZGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlIHx8IHRoaXMuaXNNb2JpbGVBY2Nlc3NhYmlsbGl0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuZGl2LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaXYpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgcmVjdXJzaXZlIGZ1bmN0aW9uIHdpbGwgcnVuIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBhZGQgYW55IG5ldyBhY2Nlc3NpYmxlIG9iamVjdHMgdG8gdGhlIERPTSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gZGlzcGxheU9iamVjdCAtIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGNoZWNrLlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlQWNjZXNzaWJsZU9iamVjdHMgPSBmdW5jdGlvbiB1cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyhkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIGlmICghZGlzcGxheU9iamVjdC52aXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoZGlzcGxheU9iamVjdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVySWQgPSB0aGlzLnJlbmRlcklkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoaWxkcmVuID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCZWZvcmUgZWFjaCByZW5kZXIgdGhpcyBmdW5jdGlvbiB3aWxsIGVuc3VyZSB0aGF0IGFsbCBkaXZzIGFyZSBtYXBwZWQgY29ycmVjdGx5IHRvIHRoZWlyIERpc3BsYXlPYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgY2hpbGRyZW4uLi5cbiAgICAgICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyh0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQpO1xuXG4gICAgICAgIHZhciByZWN0ID0gdGhpcy5yZW5kZXJlci52aWV3LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgc3ggPSByZWN0LndpZHRoIC8gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICAgICAgdmFyIHN5ID0gcmVjdC5oZWlnaHQgLyB0aGlzLnJlbmRlcmVyLmhlaWdodDtcblxuICAgICAgICB2YXIgZGl2ID0gdGhpcy5kaXY7XG5cbiAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSByZWN0LmxlZnQgKyAncHgnO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gcmVjdC50b3AgKyAncHgnO1xuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0ICsgJ3B4JztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC5yZW5kZXJJZCAhPT0gdGhpcy5yZW5kZXJJZCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlQWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnV0aWxzLnJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGksIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGl2LnJlbW92ZUNoaWxkKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvb2wucHVzaChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgICAgICAgICAgY2hpbGQuX2FjY2Vzc2libGVEaXYgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaS0tO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbWFwIGRpdiB0byBkaXNwbGF5Li5cbiAgICAgICAgICAgICAgICBkaXYgPSBjaGlsZC5fYWNjZXNzaWJsZURpdjtcbiAgICAgICAgICAgICAgICB2YXIgaGl0QXJlYSA9IGNoaWxkLmhpdEFyZWE7XG4gICAgICAgICAgICAgICAgdmFyIHd0ID0gY2hpbGQud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuaGl0QXJlYSkge1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9ICh3dC50eCArIGhpdEFyZWEueCAqIHd0LmEpICogc3ggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gKHd0LnR5ICsgaGl0QXJlYS55ICogd3QuZCkgKiBzeSArICdweCc7XG5cbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gaGl0QXJlYS53aWR0aCAqIHd0LmEgKiBzeCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBoaXRBcmVhLmhlaWdodCAqIHd0LmQgKiBzeSArICdweCc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0QXJlYSA9IGNoaWxkLmdldEJvdW5kcygpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FwSGl0QXJlYShoaXRBcmVhKTtcblxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9IGhpdEFyZWEueCAqIHN4ICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9IGhpdEFyZWEueSAqIHN5ICsgJ3B4JztcblxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBoaXRBcmVhLndpZHRoICogc3ggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gaGl0QXJlYS5oZWlnaHQgKiBzeSArICdweCc7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGJ1dHRvbiB0aXRsZXMgYW5kIGhpbnRzIGlmIHRoZXkgZXhpc3QgYW5kIHRoZXkndmUgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoZGl2LnRpdGxlICE9PSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgJiYgY2hpbGQuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYudGl0bGUgPSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpdi5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSAhPT0gY2hpbGQuYWNjZXNzaWJsZUhpbnQgJiYgY2hpbGQuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBjaGlsZC5hY2Nlc3NpYmxlSGludCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbmNyZW1lbnQgdGhlIHJlbmRlciBpZC4uXG4gICAgICAgIHRoaXMucmVuZGVySWQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVE9ETzogZG9jcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBoaXRBcmVhIC0gVE9ETyBkb2NzXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5jYXBIaXRBcmVhID0gZnVuY3Rpb24gY2FwSGl0QXJlYShoaXRBcmVhKSB7XG4gICAgICAgIGlmIChoaXRBcmVhLnggPCAwKSB7XG4gICAgICAgICAgICBoaXRBcmVhLndpZHRoICs9IGhpdEFyZWEueDtcbiAgICAgICAgICAgIGhpdEFyZWEueCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGl0QXJlYS55IDwgMCkge1xuICAgICAgICAgICAgaGl0QXJlYS5oZWlnaHQgKz0gaGl0QXJlYS55O1xuICAgICAgICAgICAgaGl0QXJlYS55ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaXRBcmVhLnggKyBoaXRBcmVhLndpZHRoID4gdGhpcy5yZW5kZXJlci53aWR0aCkge1xuICAgICAgICAgICAgaGl0QXJlYS53aWR0aCA9IHRoaXMucmVuZGVyZXIud2lkdGggLSBoaXRBcmVhLng7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGl0QXJlYS55ICsgaGl0QXJlYS5oZWlnaHQgPiB0aGlzLnJlbmRlcmVyLmhlaWdodCkge1xuICAgICAgICAgICAgaGl0QXJlYS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCAtIGhpdEFyZWEueTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgRGlzcGxheU9iamVjdCB0byB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBjaGlsZCB0byBtYWtlIGFjY2Vzc2libGUuXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5hZGRDaGlsZCA9IGZ1bmN0aW9uIGFkZENoaWxkKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgLy8gICAgdGhpcy5hY3RpdmF0ZSgpO1xuXG4gICAgICAgIHZhciBkaXYgPSB0aGlzLnBvb2wucG9wKCk7XG5cbiAgICAgICAgaWYgKCFkaXYpIHtcbiAgICAgICAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBESVZfVE9VQ0hfU0laRSArICdweCc7XG4gICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gRElWX1RPVUNIX1NJWkUgKyAncHgnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuZGVidWcgPyAncmdiYSgyNTUsMCwwLDAuNSknIDogJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWDtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5ib3JkZXJTdHlsZSA9ICdub25lJztcblxuICAgICAgICAgICAgLy8gQVJJQSBhdHRyaWJ1dGVzIGVuc3VyZSB0aGF0IGJ1dHRvbiB0aXRsZSBhbmQgaGludCB1cGRhdGVzIGFyZSBhbm5vdW5jZWQgcHJvcGVybHlcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSkge1xuICAgICAgICAgICAgICAgIC8vIENocm9tZSBkb2Vzbid0IG5lZWQgYXJpYS1saXZlIHRvIHdvcmsgYXMgaW50ZW5kZWQ7IGluIGZhY3QgaXQganVzdCBnZXRzIG1vcmUgY29uZnVzZWQuXG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ29mZicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9ydjouKkdlY2tvXFwvLykpIHtcbiAgICAgICAgICAgICAgICAvLyBGaXJlRm94IG5lZWRzIHRoaXMgdG8gYW5ub3VuY2Ugb25seSB0aGUgbmV3IGJ1dHRvbiBuYW1lXG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1yZWxldmFudCcsICdhZGRpdGlvbnMnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcmVxdWlyZWQgYnkgSUUsIG90aGVyIGJyb3dzZXJzIGRvbid0IG11Y2ggY2FyZVxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcmVsZXZhbnQnLCAndGV4dCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fb25Gb2N1cy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuX29uRm9jdXNPdXQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgJiYgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpdi50aXRsZSA9IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICB9IGVsc2UgaWYgKCFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50IHx8IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpdi50aXRsZSA9ICdkaXNwbGF5T2JqZWN0ICcgKyBkaXNwbGF5T2JqZWN0LnRhYkluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgJiYgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9cblxuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdiA9IGRpdjtcbiAgICAgICAgZGl2LmRpc3BsYXlPYmplY3QgPSBkaXNwbGF5T2JqZWN0O1xuXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChkaXNwbGF5T2JqZWN0KTtcbiAgICAgICAgdGhpcy5kaXYuYXBwZW5kQ2hpbGQoZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYudGFiSW5kZXggPSBkaXNwbGF5T2JqZWN0LnRhYkluZGV4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgYnV0dG9uIHByZXNzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKGNsaWNrKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgY2xpY2sgZXZlbnQuXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25DbGljayA9IGZ1bmN0aW9uIF9vbkNsaWNrKGUpIHtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcblxuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnY2xpY2snLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW92ZXIpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1cyBldmVudC5cbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkZvY3VzID0gZnVuY3Rpb24gX29uRm9jdXMoZSkge1xuICAgICAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ29mZicpKSB7XG4gICAgICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdhc3NlcnRpdmUnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW91dClcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGb2N1c0V2ZW50fSBlIC0gVGhlIGZvY3Vzb3V0IGV2ZW50LlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uRm9jdXNPdXQgPSBmdW5jdGlvbiBfb25Gb2N1c091dChlKSB7XG4gICAgICAgIGlmICghZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJykpIHtcbiAgICAgICAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG5cbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIGEga2V5IGlzIHByZXNzZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBlIC0gVGhlIGtleWRvd24gZXZlbnQuXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25LZXlEb3duID0gZnVuY3Rpb24gX29uS2V5RG93bihlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgIT09IEtFWV9DT0RFX1RBQikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgbW91c2UgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBtb3VzZSBldmVudC5cbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIF9vbk1vdXNlTW92ZShlKSB7XG4gICAgICAgIGlmIChlLm1vdmVtZW50WCA9PT0gMCAmJiBlLm1vdmVtZW50WSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBhY2Nlc3NpYmlsaXR5IG1hbmFnZXJcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZGl2ID0gbnVsbDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uZGl2ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duKTtcblxuICAgICAgICB0aGlzLnBvb2wgPSBudWxsO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBBY2Nlc3NpYmlsaXR5TWFuYWdlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQWNjZXNzaWJpbGl0eU1hbmFnZXI7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdhY2Nlc3NpYmlsaXR5JywgQWNjZXNzaWJpbGl0eU1hbmFnZXIpO1xuY29yZS5DYW52YXNSZW5kZXJlci5yZWdpc3RlclBsdWdpbignYWNjZXNzaWJpbGl0eScsIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjY2Vzc2liaWxpdHlNYW5hZ2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9XZWJHTEV4dHJhY3QgPSByZXF1aXJlKCcuL3dlYmdsL1dlYkdMRXh0cmFjdCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3dlYmdsJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xFeHRyYWN0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9DYW52YXNFeHRyYWN0ID0gcmVxdWlyZSgnLi9jYW52YXMvQ2FudmFzRXh0cmFjdCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2NhbnZhcycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc0V4dHJhY3QpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgVEVNUF9SRUNUID0gbmV3IGNvcmUuUmVjdGFuZ2xlKCk7XG52YXIgQllURVNfUEVSX1BJWEVMID0gNDtcblxuLyoqXG4gKiBUaGUgZXh0cmFjdCBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gZXhwb3J0IGNvbnRlbnQgZnJvbSB0aGUgcmVuZGVyZXJzLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgcmVuZGVyZXIucGx1Z2lucy5leHRyYWN0XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYWN0XG4gKi9cblxudmFyIFdlYkdMRXh0cmFjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdlYkdMRXh0cmFjdChyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xFeHRyYWN0KTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIG1ldGhvZHMgZm9yIGV4dHJhY3RpbmcgZGF0YSAoaW1hZ2UsIHBpeGVscywgZXRjLikgZnJvbSBhIGRpc3BsYXkgb2JqZWN0IG9yIHJlbmRlciB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3R9IGV4dHJhY3RcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuV2ViR0xSZW5kZXJlciNcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhY3QuV2ViR0xFeHRyYWN0XG4gICAgICAgICAqL1xuICAgICAgICByZW5kZXJlci5leHRyYWN0ID0gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgICAqL1xuXG5cbiAgICBXZWJHTEV4dHJhY3QucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24gaW1hZ2UodGFyZ2V0KSB7XG4gICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgIGltYWdlLnNyYyA9IHRoaXMuYmFzZTY0KHRhcmdldCk7XG5cbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoaXMgdGFyZ2V0LiBJdCB3b3JrcyBieSBjYWxsaW5nXG4gICAgICogIGBXZWJHTEV4dHJhY3QuZ2V0Q2FudmFzYCBhbmQgdGhlbiBydW5uaW5nIHRvRGF0YVVSTCBvbiB0aGF0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIFdlYkdMRXh0cmFjdC5wcm90b3R5cGUuYmFzZTY0ID0gZnVuY3Rpb24gYmFzZTY0KHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXModGFyZ2V0KS50b0RhdGFVUkwoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50LCByZW5kZXJzIHRoaXMgdGFyZ2V0IHRvIGl0IGFuZCB0aGVuIHJldHVybnMgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEEgQ2FudmFzIGVsZW1lbnQgd2l0aCB0aGUgdGV4dHVyZSByZW5kZXJlZCBvbi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xFeHRyYWN0LnByb3RvdHlwZS5jYW52YXMgPSBmdW5jdGlvbiBjYW52YXModGFyZ2V0KSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciB0ZXh0dXJlQnVmZmVyID0gdm9pZCAwO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGZyYW1lID0gdm9pZCAwO1xuICAgICAgICB2YXIgZmxpcFkgPSBmYWxzZTtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSB2b2lkIDA7XG4gICAgICAgIHZhciBnZW5lcmF0ZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgY29yZS5SZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRleHR1cmVCdWZmZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgICAgIGZsaXBZID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyID0gdGhpcy5yZW5kZXJlci5yb290UmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRleHR1cmVCdWZmZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZsaXBZID0gdHJ1ZTtcblxuICAgICAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgICAgICBmcmFtZS53aWR0aCA9IHRleHR1cmVCdWZmZXIuc2l6ZS53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHRleHR1cmVCdWZmZXIuc2l6ZS5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd2lkdGggPSBmcmFtZS53aWR0aCAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBoZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgIHZhciBjYW52YXNCdWZmZXIgPSBuZXcgY29yZS5DYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgMSk7XG5cbiAgICAgICAgaWYgKHRleHR1cmVCdWZmZXIpIHtcbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFJlbmRlclRhcmdldCh0ZXh0dXJlQnVmZmVyKTtcblxuICAgICAgICAgICAgLy8gc2V0IHVwIGFuIGFycmF5IG9mIHBpeGVsc1xuICAgICAgICAgICAgdmFyIHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuXG4gICAgICAgICAgICAvLyByZWFkIHBpeGVscyB0byB0aGUgYXJyYXlcbiAgICAgICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgICAgICBnbC5yZWFkUGl4ZWxzKGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgd2ViZ2xQaXhlbHMpO1xuXG4gICAgICAgICAgICAvLyBhZGQgdGhlIHBpeGVscyB0byB0aGUgY2FudmFzXG4gICAgICAgICAgICB2YXIgY2FudmFzRGF0YSA9IGNhbnZhc0J1ZmZlci5jb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgY2FudmFzRGF0YS5kYXRhLnNldCh3ZWJnbFBpeGVscyk7XG5cbiAgICAgICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LnB1dEltYWdlRGF0YShjYW52YXNEYXRhLCAwLCAwKTtcblxuICAgICAgICAgICAgLy8gcHVsbGluZyBwaXhlbHNcbiAgICAgICAgICAgIGlmIChmbGlwWSkge1xuICAgICAgICAgICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LnNjYWxlKDEsIC0xKTtcbiAgICAgICAgICAgICAgICBjYW52YXNCdWZmZXIuY29udGV4dC5kcmF3SW1hZ2UoY2FudmFzQnVmZmVyLmNhbnZhcywgMCwgLWhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2VuZXJhdGVkKSB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2VuZCB0aGUgY2FudmFzIGJhY2suLlxuXG4gICAgICAgIHJldHVybiBjYW52YXNCdWZmZXIuY2FudmFzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZSBpbiBSR0JBXG4gICAgICogb3JkZXIsIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1ZGVkKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtVaW50OENsYW1wZWRBcnJheX0gT25lLWRpbWVuc2lvbmFsIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBpeGVsIGRhdGEgb2YgdGhlIGVudGlyZSB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFdlYkdMRXh0cmFjdC5wcm90b3R5cGUucGl4ZWxzID0gZnVuY3Rpb24gcGl4ZWxzKHRhcmdldCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgdGV4dHVyZUJ1ZmZlciA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB2b2lkIDA7XG4gICAgICAgIHZhciBmcmFtZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSB2b2lkIDA7XG4gICAgICAgIHZhciBnZW5lcmF0ZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgY29yZS5SZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRleHR1cmVCdWZmZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIgPSB0aGlzLnJlbmRlcmVyLnJvb3RSZW5kZXJUYXJnZXQ7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gdGV4dHVyZUJ1ZmZlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gdGV4dHVyZUJ1ZmZlci5zaXplLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gdGV4dHVyZUJ1ZmZlci5zaXplLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3aWR0aCA9IGZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGhlaWdodCA9IGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb247XG5cbiAgICAgICAgdmFyIHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlQnVmZmVyKSB7XG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBidWZmZXJcbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRSZW5kZXJUYXJnZXQodGV4dHVyZUJ1ZmZlcik7XG4gICAgICAgICAgICAvLyByZWFkIHBpeGVscyB0byB0aGUgYXJyYXlcbiAgICAgICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgICAgICBnbC5yZWFkUGl4ZWxzKGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgd2ViZ2xQaXhlbHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdlbmVyYXRlZCkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHdlYmdsUGl4ZWxzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgZXh0cmFjdFxuICAgICAqXG4gICAgICovXG5cblxuICAgIFdlYkdMRXh0cmFjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZXh0cmFjdCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gV2ViR0xFeHRyYWN0O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHTEV4dHJhY3Q7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdleHRyYWN0JywgV2ViR0xFeHRyYWN0KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYkdMRXh0cmFjdC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBURU1QX1JFQ1QgPSBuZXcgY29yZS5SZWN0YW5nbGUoKTtcblxuLyoqXG4gKiBUaGUgZXh0cmFjdCBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gZXhwb3J0IGNvbnRlbnQgZnJvbSB0aGUgcmVuZGVyZXJzLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgcmVuZGVyZXIucGx1Z2lucy5leHRyYWN0XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYWN0XG4gKi9cblxudmFyIENhbnZhc0V4dHJhY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzRXh0cmFjdChyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzRXh0cmFjdCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIGZvciBleHRyYWN0aW5nIGRhdGEgKGltYWdlLCBwaXhlbHMsIGV0Yy4pIGZyb20gYSBkaXNwbGF5IG9iamVjdCBvciByZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmV4dHJhY3QuQ2FudmFzRXh0cmFjdH0gZXh0cmFjdFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNSZW5kZXJlciNcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhY3QuQ2FudmFzRXh0cmFjdFxuICAgICAgICAgKi9cbiAgICAgICAgcmVuZGVyZXIuZXh0cmFjdCA9IHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzRXh0cmFjdC5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbiBpbWFnZSh0YXJnZXQpIHtcbiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgaW1hZ2Uuc3JjID0gdGhpcy5iYXNlNjQodGFyZ2V0KTtcblxuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhpcyB0YXJnZXQuIEl0IHdvcmtzIGJ5IGNhbGxpbmdcbiAgICAgKiAgYENhbnZhc0V4dHJhY3QuZ2V0Q2FudmFzYCBhbmQgdGhlbiBydW5uaW5nIHRvRGF0YVVSTCBvbiB0aGF0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIENhbnZhc0V4dHJhY3QucHJvdG90eXBlLmJhc2U2NCA9IGZ1bmN0aW9uIGJhc2U2NCh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzKHRhcmdldCkudG9EYXRhVVJMKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCwgcmVuZGVycyB0aGlzIHRhcmdldCB0byBpdCBhbmQgdGhlbiByZXR1cm5zIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBBIENhbnZhcyBlbGVtZW50IHdpdGggdGhlIHRleHR1cmUgcmVuZGVyZWQgb24uXG4gICAgICovXG5cblxuICAgIENhbnZhc0V4dHJhY3QucHJvdG90eXBlLmNhbnZhcyA9IGZ1bmN0aW9uIGNhbnZhcyh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdm9pZCAwO1xuICAgICAgICB2YXIgZnJhbWUgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gdm9pZCAwO1xuXG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBjb3JlLlJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gcmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgY29udGV4dCA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5jb250ZXh0O1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgZnJhbWUgPSByZW5kZXJUZXh0dXJlLmZyYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dCA9IHJlbmRlcmVyLnJvb3RDb250ZXh0O1xuXG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcblxuICAgICAgICB2YXIgY2FudmFzQnVmZmVyID0gbmV3IGNvcmUuQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQsIDEpO1xuICAgICAgICB2YXIgY2FudmFzRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGNhbnZhc0RhdGEsIDAsIDApO1xuXG4gICAgICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cbiAgICAgICAgcmV0dXJuIGNhbnZhc0J1ZmZlci5jYW52YXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgb25lLWRpbWVuc2lvbmFsIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBpeGVsIGRhdGEgb2YgdGhlIGVudGlyZSB0ZXh0dXJlIGluIFJHQkFcbiAgICAgKiBvcmRlciwgd2l0aCBpbnRlZ2VyIHZhbHVlcyBiZXR3ZWVuIDAgYW5kIDI1NSAoaW5jbHVkZWQpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fSBPbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzRXh0cmFjdC5wcm90b3R5cGUucGl4ZWxzID0gZnVuY3Rpb24gcGl4ZWxzKHRhcmdldCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgY29udGV4dCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB2b2lkIDA7XG4gICAgICAgIHZhciBmcmFtZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIGNvcmUuUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSByZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LmNvbnRleHQ7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gcmVuZGVyZXIucm9vdENvbnRleHQ7XG5cbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSByZW5kZXJlci53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHJlbmRlcmVyLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBmcmFtZS53aWR0aCAqIHJlc29sdXRpb24sIGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb24pLmRhdGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBleHRyYWN0XG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzRXh0cmFjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZXh0cmFjdCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzRXh0cmFjdDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzRXh0cmFjdDtcblxuXG5jb3JlLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdleHRyYWN0JywgQ2FudmFzRXh0cmFjdCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNFeHRyYWN0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEB0eXBlZGVmIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlfkZyYW1lT2JqZWN0XG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUge0BsaW5rIFBJWEkuVGV4dHVyZX0gb2YgdGhlIGZyYW1lXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGltZSAtIHRoZSBkdXJhdGlvbiBvZiB0aGUgZnJhbWUgaW4gbXNcbiAqL1xuXG4vKipcbiAqIEFuIEFuaW1hdGVkU3ByaXRlIGlzIGEgc2ltcGxlIHdheSB0byBkaXNwbGF5IGFuIGFuaW1hdGlvbiBkZXBpY3RlZCBieSBhIGxpc3Qgb2YgdGV4dHVyZXMuXG4gKlxuICogYGBganNcbiAqIGxldCBhbGllbkltYWdlcyA9IFtcImltYWdlX3NlcXVlbmNlXzAxLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDIucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wMy5wbmdcIixcImltYWdlX3NlcXVlbmNlXzA0LnBuZ1wiXTtcbiAqIGxldCB0ZXh0dXJlQXJyYXkgPSBbXTtcbiAqXG4gKiBmb3IgKGxldCBpPTA7IGkgPCA0OyBpKyspXG4gKiB7XG4gKiAgICAgIGxldCB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb21JbWFnZShhbGllbkltYWdlc1tpXSk7XG4gKiAgICAgIHRleHR1cmVBcnJheS5wdXNoKHRleHR1cmUpO1xuICogfTtcbiAqXG4gKiBsZXQgYW5pbWF0ZWRTcHJpdGUgPSBuZXcgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGUodGV4dHVyZUFycmF5KTtcbiAqIGBgYFxuICpcbiAqIFRoZSBtb3JlIGVmZmljaWVudCBhbmQgc2ltcGxlciB3YXkgdG8gY3JlYXRlIGFuIGFuaW1hdGVkIHNwcml0ZSBpcyB1c2luZyBhIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fVxuICogY29udGFpbmluZyB0aGUgYW5pbWF0aW9uIGRlZmluaXRpb25zOlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLmxvYWRlci5hZGQoXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5sb2FkZXIucmVzb3VyY2VzW1wiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIGFuaW1hdGVkU3ByaXRlID0gbmV3IFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlKHNoZWV0LmFuaW1hdGlvbnNbXCJpbWFnZV9zZXF1ZW5jZVwiXSk7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFzXG4gKi9cbnZhciBBbmltYXRlZFNwcml0ZSA9IGZ1bmN0aW9uIChfY29yZSRTcHJpdGUpIHtcbiAgICBfaW5oZXJpdHMoQW5pbWF0ZWRTcHJpdGUsIF9jb3JlJFNwcml0ZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZVtdfFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlfkZyYW1lT2JqZWN0W119IHRleHR1cmVzIC0gYW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuVGV4dHVyZX0gb3IgZnJhbWVcbiAgICAgKiAgb2JqZWN0cyB0aGF0IG1ha2UgdXAgdGhlIGFuaW1hdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F1dG9VcGRhdGU9dHJ1ZV0gLSBXaGV0aGVyIHRvIHVzZSBQSVhJLnRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMsIGF1dG9VcGRhdGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFuaW1hdGVkU3ByaXRlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJFNwcml0ZS5jYWxsKHRoaXMsIHRleHR1cmVzWzBdIGluc3RhbmNlb2YgY29yZS5UZXh0dXJlID8gdGV4dHVyZXNbMF0gOiB0ZXh0dXJlc1swXS50ZXh0dXJlKSk7XG5cbiAgICAgICAgX3RoaXMuX3RleHR1cmVzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnRleHR1cmVzID0gdGV4dHVyZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCB1c2VzIFBJWEkudGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hdXRvVXBkYXRlID0gYXV0b1VwZGF0ZSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGVlZCB0aGF0IHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHBsYXkgYXQuIEhpZ2hlciBpcyBmYXN0ZXIsIGxvd2VyIGlzIHNsb3dlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuaW1hdGlvblNwZWVkID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIGFuaW1hdGUgc3ByaXRlIHJlcGVhdHMgYWZ0ZXIgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubG9vcCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhIEFuaW1hdGVkU3ByaXRlIGZpbmlzaGVzIHBsYXlpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbkNvbXBsZXRlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGEgQW5pbWF0ZWRTcHJpdGUgY2hhbmdlcyB3aGljaCB0ZXh0dXJlIGlzIGJlaW5nIHJlbmRlcmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25GcmFtZUNoYW5nZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuICdsb29wJyBpcyB0cnVlLCBhbmQgYW4gQW5pbWF0ZWRTcHJpdGUgaXMgcGxheWVkIGFuZCBsb29wcyBhcm91bmQgdG8gc3RhcnQgYWdhaW5cbiAgICAgICAgKlxuICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbkxvb3AgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbGFwc2VkIHRpbWUgc2luY2UgYW5pbWF0aW9uIGhhcyBiZWVuIHN0YXJ0ZWQsIHVzZWQgaW50ZXJuYWxseSB0byBkaXNwbGF5IGN1cnJlbnQgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY3VycmVudFRpbWUgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIEFuaW1hdGVkU3ByaXRlIGlzIGN1cnJlbnRseSBwbGF5aW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGxheWluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBpZiAoIXRoaXMucGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICBjb3JlLnRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQbGF5cyB0aGUgQW5pbWF0ZWRTcHJpdGVcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgICAgIGlmICh0aGlzLnBsYXlpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheWluZyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICBjb3JlLnRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBjb3JlLlVQREFURV9QUklPUklUWS5ISUdIKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUgYW5kIGdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gZnJhbWUgaW5kZXggdG8gc3RvcCBhdFxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZ290b0FuZFN0b3AgPSBmdW5jdGlvbiBnb3RvQW5kU3RvcChmcmFtZU51bWJlcikge1xuICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG5cbiAgICAgICAgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHb2VzIHRvIGEgc3BlY2lmaWMgZnJhbWUgYW5kIGJlZ2lucyBwbGF5aW5nIHRoZSBBbmltYXRlZFNwcml0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gZnJhbWUgaW5kZXggdG8gc3RhcnQgYXRcbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmdvdG9BbmRQbGF5ID0gZnVuY3Rpb24gZ290b0FuZFBsYXkoZnJhbWVOdW1iZXIpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IGZyYW1lTnVtYmVyO1xuXG4gICAgICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gVGltZSBzaW5jZSBsYXN0IHRpY2suXG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoZGVsdGFUaW1lKSB7XG4gICAgICAgIHZhciBlbGFwc2VkID0gdGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZTtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICBpZiAodGhpcy5fZHVyYXRpb25zICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbGFnID0gdGhpcy5fY3VycmVudFRpbWUgJSAxICogdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcblxuICAgICAgICAgICAgbGFnICs9IGVsYXBzZWQgLyA2MCAqIDEwMDA7XG5cbiAgICAgICAgICAgIHdoaWxlIChsYWcgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUtLTtcbiAgICAgICAgICAgICAgICBsYWcgKz0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHNpZ24gPSBNYXRoLnNpZ24odGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSk7XG5cbiAgICAgICAgICAgIHdoaWxlIChsYWcgPj0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSkge1xuICAgICAgICAgICAgICAgIGxhZyAtPSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdICogc2lnbjtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBzaWduO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBsYWcgLyB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gZWxhcHNlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50VGltZSA8IDAgJiYgIXRoaXMubG9vcCkge1xuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCgwKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2N1cnJlbnRUaW1lID49IHRoaXMuX3RleHR1cmVzLmxlbmd0aCAmJiAhdGhpcy5sb29wKSB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKHRoaXMuX3RleHR1cmVzLmxlbmd0aCAtIDEpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvb3AgJiYgdGhpcy5vbkxvb3ApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TcGVlZCA+IDAgJiYgdGhpcy5jdXJyZW50RnJhbWUgPCBwcmV2aW91c0ZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkIDwgMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA+IHByZXZpb3VzRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGRpc3BsYXllZCB0ZXh0dXJlIHRvIG1hdGNoIHRoZSBjdXJyZW50IGZyYW1lIGluZGV4XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIHVwZGF0ZVRleHR1cmUoKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0aGlzLl90ZXh0dXJlc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLmNhY2hlZFRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICBpZiAodGhpcy5vbkZyYW1lQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2UodGhpcy5jdXJyZW50RnJhbWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZSBhbmQgZGVzdHJveXMgaXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgX2NvcmUkU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYSBtb3ZpZWNsaXAgZnJvbSBhbiBhcnJheSBvZiBmcmFtZSBpZHNcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBmcmFtZXMgLSBUaGUgYXJyYXkgb2YgZnJhbWVzIGlkcyB0aGUgbW92aWVjbGlwIHdpbGwgdXNlIGFzIGl0cyB0ZXh0dXJlIGZyYW1lc1xuICAgICAqIEByZXR1cm4ge0FuaW1hdGVkU3ByaXRlfSBUaGUgbmV3IGFuaW1hdGVkIHNwcml0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgZnJhbWVzLlxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5mcm9tRnJhbWVzID0gZnVuY3Rpb24gZnJvbUZyYW1lcyhmcmFtZXMpIHtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goY29yZS5UZXh0dXJlLmZyb21GcmFtZShmcmFtZXNbaV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGEgbW92aWVjbGlwIGZyb20gYW4gYXJyYXkgb2YgaW1hZ2UgaWRzXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gaW1hZ2VzIC0gdGhlIGFycmF5IG9mIGltYWdlIHVybHMgdGhlIG1vdmllY2xpcCB3aWxsIHVzZSBhcyBpdHMgdGV4dHVyZSBmcmFtZXNcbiAgICAgKiBAcmV0dXJuIHtBbmltYXRlZFNwcml0ZX0gVGhlIG5ldyBhbmltYXRlIHNwcml0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgaW1hZ2VzIGFzIGZyYW1lcy5cbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUuZnJvbUltYWdlcyA9IGZ1bmN0aW9uIGZyb21JbWFnZXMoaW1hZ2VzKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKGNvcmUuVGV4dHVyZS5mcm9tSW1hZ2UoaW1hZ2VzW2ldKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogdG90YWxGcmFtZXMgaXMgdGhlIHRvdGFsIG51bWJlciBvZiBmcmFtZXMgaW4gdGhlIEFuaW1hdGVkU3ByaXRlLiBUaGlzIGlzIHRoZSBzYW1lIGFzIG51bWJlciBvZiB0ZXh0dXJlc1xuICAgICAqIGFzc2lnbmVkIHRvIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhBbmltYXRlZFNwcml0ZSwgW3tcbiAgICAgICAga2V5OiAndG90YWxGcmFtZXMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIHRleHR1cmVzIHVzZWQgZm9yIHRoaXMgQW5pbWF0ZWRTcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlW119XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZXh0dXJlcycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZVswXSBpbnN0YW5jZW9mIGNvcmUuVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBbXTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMucHVzaCh2YWx1ZVtpXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zLnB1c2godmFsdWVbaV0udGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCgwKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogVGhlIEFuaW1hdGVkU3ByaXRlcyBjdXJyZW50IGZyYW1lIGluZGV4XG4gICAgICAgICpcbiAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2N1cnJlbnRGcmFtZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRGcmFtZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpICUgdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudEZyYW1lIDwgMCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRGcmFtZSArPSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50RnJhbWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQW5pbWF0ZWRTcHJpdGU7XG59KGNvcmUuU3ByaXRlKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQW5pbWF0ZWRTcHJpdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbmltYXRlZFNwcml0ZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfQ2FudmFzVGludGVyID0gcmVxdWlyZSgnLi4vY29yZS9zcHJpdGVzL2NhbnZhcy9DYW52YXNUaW50ZXInKTtcblxudmFyIF9DYW52YXNUaW50ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzVGludGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgdGVtcFBvaW50ID0gbmV3IGNvcmUuUG9pbnQoKTtcblxuLyoqXG4gKiBBIHRpbGluZyBzcHJpdGUgaXMgYSBmYXN0IHdheSBvZiByZW5kZXJpbmcgYSB0aWxpbmcgaW1hZ2VcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYXNcbiAqL1xuXG52YXIgVGlsaW5nU3ByaXRlID0gZnVuY3Rpb24gKF9jb3JlJFNwcml0ZSkge1xuICAgIF9pbmhlcml0cyhUaWxpbmdTcHJpdGUsIF9jb3JlJFNwcml0ZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0xMDBdIC0gdGhlIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MTAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxpbmdTcHJpdGUodGV4dHVyZSkge1xuICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwMDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTAwO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaWxpbmdTcHJpdGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaWxlIHRyYW5zZm9ybVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybVN0YXRpY31cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJFNwcml0ZS5jYWxsKHRoaXMsIHRleHR1cmUpKTtcblxuICAgICAgICBfdGhpcy50aWxlVHJhbnNmb3JtID0gbmV3IGNvcmUuVHJhbnNmb3JtU3RhdGljKCk7XG5cbiAgICAgICAgLy8gLy8vIHByaXZhdGVcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3dpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FudmFzIHBhdHRlcm5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0NhbnZhc1BhdHRlcm59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY2FudmFzUGF0dGVybiA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRyYW5zZm9ybSB0aGF0IGlzIGFwcGxpZWQgdG8gVVYgdG8gZ2V0IHRoZSB0ZXh0dXJlIGNvb3Jkc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dlRyYW5zZm9ybSA9IHRleHR1cmUudHJhbnNmb3JtIHx8IG5ldyBjb3JlLlRleHR1cmVNYXRyaXgodGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXJXZWJHTCcgbWV0aG9kLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICd0aWxpbmdTcHJpdGUnXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5OYW1lID0gJ3RpbGluZ1Nwcml0ZSc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IGFuY2hvciBhZmZlY3RzIHV2c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZSZXNwZWN0QW5jaG9yID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZyBpbiBjb3JyZXNwb25kaW5nIHRleHR1cmVUcmFuc2Zvcm0sIHNob3J0Y3V0XG4gICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gX29uVGV4dHVyZVVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudXZUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHRoaXMudXZUcmFuc2Zvcm0udGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIHR3ZWFrIG91ciB0ZXh0dXJlIHRlbXBvcmFyaWx5Li5cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSB8fCAhdGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnVwZGF0ZUxvY2FsVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMudXZUcmFuc2Zvcm0udXBkYXRlKCk7XG5cbiAgICAgICAgcmVuZGVyZXIuc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIGEgcmVmZXJlbmNlIHRvIHRoZSBjYW52YXMgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSByZW5kZXJlci5jb250ZXh0O1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaXNUZXh0dXJlUm90YXRlZCA9IHRleHR1cmUucm90YXRlID09PSAyO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmVSZXNvbHV0aW9uID0gYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG1vZFggPSB0aGlzLnRpbGVQb3NpdGlvbi54IC8gdGhpcy50aWxlU2NhbGUueCAlIHRleHR1cmUub3JpZy53aWR0aCAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG1vZFkgPSB0aGlzLnRpbGVQb3NpdGlvbi55IC8gdGhpcy50aWxlU2NhbGUueSAlIHRleHR1cmUub3JpZy5oZWlnaHQgKiBiYXNlVGV4dHVyZVJlc29sdXRpb247XG5cbiAgICAgICAgLy8gY3JlYXRlIGEgbmljZSBzaGlueSBwYXR0ZXJuIVxuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZUlEICE9PSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRCB8fCB0aGlzLmNhY2hlZFRpbnQgIT09IHRoaXMudGludCkge1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgICAgICAvLyBjdXQgYW4gb2JqZWN0IGZyb20gYSBzcHJpdGVzaGVldC4uXG4gICAgICAgICAgICB2YXIgdGVtcENhbnZhcyA9IG5ldyBjb3JlLkNhbnZhc1JlbmRlclRhcmdldCh0ZXh0dXJlLm9yaWcud2lkdGgsIHRleHR1cmUub3JpZy5oZWlnaHQsIGJhc2VUZXh0dXJlUmVzb2x1dGlvbik7XG5cbiAgICAgICAgICAgIC8vIFRpbnQgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbnQgIT09IDB4RkZGRkZGKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aW50ZWRUZXh0dXJlID0gX0NhbnZhc1RpbnRlcjIuZGVmYXVsdC5nZXRUaW50ZWRUZXh0dXJlKHRoaXMsIHRoaXMudGludCk7XG4gICAgICAgICAgICAgICAgdGVtcENhbnZhcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnRpbnRlZFRleHR1cmUsIDAsIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgc3ggPSB0ZXh0dXJlLl9mcmFtZS54ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIHZhciBzeSA9IHRleHR1cmUuX2ZyYW1lLnkgKiBiYXNlVGV4dHVyZVJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgdmFyIHNXaWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoICogYmFzZVRleHR1cmVSZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIHZhciBzSGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIHZhciBkV2lkdGggPSAodGV4dHVyZS50cmltID8gdGV4dHVyZS50cmltLndpZHRoIDogdGV4dHVyZS5vcmlnLndpZHRoKSAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICB2YXIgZEhlaWdodCA9ICh0ZXh0dXJlLnRyaW0gPyB0ZXh0dXJlLnRyaW0uaGVpZ2h0IDogdGV4dHVyZS5vcmlnLmhlaWdodCkgKiBiYXNlVGV4dHVyZVJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgdmFyIGR4ID0gKHRleHR1cmUudHJpbSA/IHRleHR1cmUudHJpbS54IDogMCkgKiBiYXNlVGV4dHVyZVJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgdmFyIGR5ID0gKHRleHR1cmUudHJpbSA/IHRleHR1cmUudHJpbS55IDogMCkgKiBiYXNlVGV4dHVyZVJlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNUZXh0dXJlUm90YXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSByb3RhdGlvbiBhbmQgdHJhbnNmb3JtXG4gICAgICAgICAgICAgICAgICAgIHRlbXBDYW52YXMuY29udGV4dC5yb3RhdGUoLU1hdGguUEkgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcENhbnZhcy5jb250ZXh0LnRyYW5zbGF0ZSgtZEhlaWdodCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBDYW52YXMuY29udGV4dC5kcmF3SW1hZ2UoYmFzZVRleHR1cmUuc291cmNlLCBzeCwgc3ksIHNXaWR0aCwgc0hlaWdodCwgLWR5LCBkeCwgZEhlaWdodCwgZFdpZHRoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wQ2FudmFzLmNvbnRleHQuZHJhd0ltYWdlKGJhc2VUZXh0dXJlLnNvdXJjZSwgc3gsIHN5LCBzV2lkdGgsIHNIZWlnaHQsIGR4LCBkeSwgZFdpZHRoLCBkSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGVkVGludCA9IHRoaXMudGludDtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhc1BhdHRlcm4gPSB0ZW1wQ2FudmFzLmNvbnRleHQuY3JlYXRlUGF0dGVybih0ZW1wQ2FudmFzLmNhbnZhcywgJ3JlcGVhdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IGNvbnRleHQgc3RhdGUuLlxuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5iICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmMgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uZCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZSh0aGlzLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgLy8gZmlsbCB0aGUgcGF0dGVybiFcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9jYW52YXNQYXR0ZXJuO1xuXG4gICAgICAgIC8vIFRPRE8gLSB0aGlzIHNob3VsZCBiZSByb2xsZWQgaW50byB0aGUgc2V0VHJhbnNmb3JtIGFib3ZlLi5cbiAgICAgICAgY29udGV4dC5zY2FsZSh0aGlzLnRpbGVTY2FsZS54IC8gYmFzZVRleHR1cmVSZXNvbHV0aW9uLCB0aGlzLnRpbGVTY2FsZS55IC8gYmFzZVRleHR1cmVSZXNvbHV0aW9uKTtcblxuICAgICAgICB2YXIgYW5jaG9yWCA9IHRoaXMuYW5jaG9yLnggKiAtdGhpcy5fd2lkdGggKiBiYXNlVGV4dHVyZVJlc29sdXRpb247XG4gICAgICAgIHZhciBhbmNob3JZID0gdGhpcy5hbmNob3IueSAqIC10aGlzLl9oZWlnaHQgKiBiYXNlVGV4dHVyZVJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHRoaXMudXZSZXNwZWN0QW5jaG9yKSB7XG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShtb2RYLCBtb2RZKTtcblxuICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgtbW9kWCArIGFuY2hvclgsIC1tb2RZICsgYW5jaG9yWSwgdGhpcy5fd2lkdGggLyB0aGlzLnRpbGVTY2FsZS54ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uLCB0aGlzLl9oZWlnaHQgLyB0aGlzLnRpbGVTY2FsZS55ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKG1vZFggKyBhbmNob3JYLCBtb2RZICsgYW5jaG9yWSk7XG5cbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoLW1vZFgsIC1tb2RZLCB0aGlzLl93aWR0aCAvIHRoaXMudGlsZVNjYWxlLnggKiBiYXNlVGV4dHVyZVJlc29sdXRpb24sIHRoaXMuX2hlaWdodCAvIHRoaXMudGlsZVNjYWxlLnkgKiBiYXNlVGV4dHVyZVJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5fd2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5fd2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5faGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzKHJlY3QpIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG5cbiAgICAgICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBjb3JlLlJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9jb3JlJFNwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgc3ByaXRlIGNvbnRhaW5zIHRoZSBwb2ludC5cbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl93aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX2hlaWdodDtcbiAgICAgICAgdmFyIHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IuX3g7XG5cbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aCkge1xuICAgICAgICAgICAgdmFyIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLl95O1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgX2NvcmUkU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy51dlRyYW5zZm9ybSA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgdGlsaW5nIHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfFBJWEkuQmFzZVRleHR1cmV8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIGZyb20oc291cmNlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKGNvcmUuVGV4dHVyZS5mcm9tKHNvdXJjZSksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgdGlsaW5nIHNwcml0ZSB0aGF0IHdpbGwgdXNlIGEgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlQ2FjaGUgYmFzZWQgb24gdGhlIGZyYW1lSWRcbiAgICAgKiBUaGUgZnJhbWUgaWRzIGFyZSBjcmVhdGVkIHdoZW4gYSBUZXh0dXJlIHBhY2tlciBmaWxlIGhhcyBiZWVuIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFtZUlkIC0gVGhlIGZyYW1lIElkIG9mIHRoZSB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHJldHVybiB7UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBBIG5ldyBUaWxpbmdTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGZyYW1lSWRcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLmZyb21GcmFtZSA9IGZ1bmN0aW9uIGZyb21GcmFtZShmcmFtZUlkLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gY29yZS51dGlscy5UZXh0dXJlQ2FjaGVbZnJhbWVJZF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBmcmFtZUlkIFwiJyArIGZyYW1lSWQgKyAnXCIgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgJyArIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUaWxpbmdTcHJpdGUodGV4dHVyZSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGJhc2VkIG9uIGFuIGltYWdlIHVybFxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Nyb3Nzb3JpZ2luXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIGNyb3NzLW9yaWdpbiBwYXJhbWV0ZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgc2NhbGUgbW9kZSxcbiAgICAgKiAgc2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHJldHVybiB7UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBBIG5ldyBUaWxpbmdTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGltYWdlIGlkXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UoaW1hZ2VJZCwgd2lkdGgsIGhlaWdodCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSkge1xuICAgICAgICByZXR1cm4gbmV3IFRpbGluZ1Nwcml0ZShjb3JlLlRleHR1cmUuZnJvbUltYWdlKGltYWdlSWQsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUaWxpbmdTcHJpdGUsIFt7XG4gICAgICAgIGtleTogJ2NsYW1wTWFyZ2luJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51dlRyYW5zZm9ybS5jbGFtcE1hcmdpbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnV2VHJhbnNmb3JtLmNsYW1wTWFyZ2luID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnV2VHJhbnNmb3JtLnVwZGF0ZSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGluZyBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RpbGVTY2FsZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0uc2NhbGUuY29weSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9mZnNldCBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RpbGVQb3NpdGlvbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0ucG9zaXRpb24uY29weSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUaWxpbmdTcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUaWxpbmdTcHJpdGU7XG59KGNvcmUuU3ByaXRlKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGlsaW5nU3ByaXRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsaW5nU3ByaXRlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvY29uc3QnKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciB0ZW1wTWF0ID0gbmV3IGNvcmUuTWF0cml4KCk7XG5cbi8qKlxuICogV2ViR0wgcmVuZGVyZXIgcGx1Z2luIGZvciB0aWxpbmcgc3ByaXRlc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFzXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cblxudmFyIFRpbGluZ1Nwcml0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKF9jb3JlJE9iamVjdFJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKFRpbGluZ1Nwcml0ZVJlbmRlcmVyLCBfY29yZSRPYmplY3RSZW5kZXJlcik7XG5cbiAgICAvKipcbiAgICAgKiBjb25zdHJ1Y3RvciBmb3IgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgVGhlIHJlbmRlcmVyIHRoaXMgdGlsaW5nIGF3ZXNvbWVuZXNzIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxpbmdTcHJpdGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlsaW5nU3ByaXRlUmVuZGVyZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJE9iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5zaW1wbGVTaGFkZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5xdWFkID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICB0aGlzLnNoYWRlciA9IG5ldyBjb3JlLlNoYWRlcihnbCwgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcbicsICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcbnVuaWZvcm0gbWF0MyB1TWFwQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDbGFtcEZyYW1lO1xcbnVuaWZvcm0gdmVjMiB1Q2xhbXBPZmZzZXQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWMyIGNvb3JkID0gbW9kKHZUZXh0dXJlQ29vcmQgLSB1Q2xhbXBPZmZzZXQsIHZlYzIoMS4wLCAxLjApKSArIHVDbGFtcE9mZnNldDtcXG4gICAgY29vcmQgPSAodU1hcENvb3JkICogdmVjMyhjb29yZCwgMS4wKSkueHk7XFxuICAgIGNvb3JkID0gY2xhbXAoY29vcmQsIHVDbGFtcEZyYW1lLnh5LCB1Q2xhbXBGcmFtZS56dyk7XFxuXFxuICAgIHZlYzQgc2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHNhbXBsZSAqIHVDb2xvcjtcXG59XFxuJyk7XG4gICAgICAgIHRoaXMuc2ltcGxlU2hhZGVyID0gbmV3IGNvcmUuU2hhZGVyKGdsLCAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuJywgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IHNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHNhbXBsZSAqIHVDb2xvcjtcXG59XFxuJyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5iaW5kVmFvKG51bGwpO1xuICAgICAgICB0aGlzLnF1YWQgPSBuZXcgY29yZS5RdWFkKGdsLCB0aGlzLnJlbmRlcmVyLnN0YXRlLmF0dHJpYlN0YXRlKTtcbiAgICAgICAgdGhpcy5xdWFkLmluaXRWYW8odGhpcy5zaGFkZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSB0cyB0aWxpbmdTcHJpdGUgdG8gYmUgcmVuZGVyZWRcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcih0cykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgcXVhZCA9IHRoaXMucXVhZDtcblxuICAgICAgICByZW5kZXJlci5iaW5kVmFvKHF1YWQudmFvKTtcblxuICAgICAgICB2YXIgdmVydGljZXMgPSBxdWFkLnZlcnRpY2VzO1xuXG4gICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSB0cy5fd2lkdGggKiAtdHMuYW5jaG9yLng7XG4gICAgICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSB0cy5faGVpZ2h0ICogLXRzLmFuY2hvci55O1xuXG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSB0cy5fd2lkdGggKiAoMS4wIC0gdHMuYW5jaG9yLngpO1xuICAgICAgICB2ZXJ0aWNlc1s1XSA9IHZlcnRpY2VzWzddID0gdHMuX2hlaWdodCAqICgxLjAgLSB0cy5hbmNob3IueSk7XG5cbiAgICAgICAgaWYgKHRzLnV2UmVzcGVjdEFuY2hvcikge1xuICAgICAgICAgICAgdmVydGljZXMgPSBxdWFkLnV2cztcblxuICAgICAgICAgICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9IC10cy5hbmNob3IueDtcbiAgICAgICAgICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSAtdHMuYW5jaG9yLnk7XG5cbiAgICAgICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSAxLjAgLSB0cy5hbmNob3IueDtcbiAgICAgICAgICAgIHZlcnRpY2VzWzVdID0gdmVydGljZXNbN10gPSAxLjAgLSB0cy5hbmNob3IueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHF1YWQudXBsb2FkKCk7XG5cbiAgICAgICAgdmFyIHRleCA9IHRzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgYmFzZVRleCA9IHRleC5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGx0ID0gdHMudGlsZVRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHV2ID0gdHMudXZUcmFuc2Zvcm07XG4gICAgICAgIHZhciBpc1NpbXBsZSA9IGJhc2VUZXguaXNQb3dlck9mVHdvICYmIHRleC5mcmFtZS53aWR0aCA9PT0gYmFzZVRleC53aWR0aCAmJiB0ZXguZnJhbWUuaGVpZ2h0ID09PSBiYXNlVGV4LmhlaWdodDtcblxuICAgICAgICAvLyBhdXRvLCBmb3JjZSByZXBlYXQgd3JhcE1vZGUgZm9yIGJpZyB0aWxpbmcgdGV4dHVyZXNcbiAgICAgICAgaWYgKGlzU2ltcGxlKSB7XG4gICAgICAgICAgICBpZiAoIWJhc2VUZXguX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJhc2VUZXgud3JhcE1vZGUgPT09IF9jb25zdC5XUkFQX01PREVTLkNMQU1QKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXgud3JhcE1vZGUgPSBfY29uc3QuV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc1NpbXBsZSA9IGJhc2VUZXgud3JhcE1vZGUgIT09IF9jb25zdC5XUkFQX01PREVTLkNMQU1QO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNoYWRlciA9IGlzU2ltcGxlID8gdGhpcy5zaW1wbGVTaGFkZXIgOiB0aGlzLnNoYWRlcjtcblxuICAgICAgICByZW5kZXJlci5iaW5kU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgdmFyIHcgPSB0ZXgud2lkdGg7XG4gICAgICAgIHZhciBoID0gdGV4LmhlaWdodDtcbiAgICAgICAgdmFyIFcgPSB0cy5fd2lkdGg7XG4gICAgICAgIHZhciBIID0gdHMuX2hlaWdodDtcblxuICAgICAgICB0ZW1wTWF0LnNldChsdC5hICogdyAvIFcsIGx0LmIgKiB3IC8gSCwgbHQuYyAqIGggLyBXLCBsdC5kICogaCAvIEgsIGx0LnR4IC8gVywgbHQudHkgLyBIKTtcblxuICAgICAgICAvLyB0aGF0IHBhcnQgaXMgdGhlIHNhbWUgYXMgYWJvdmU6XG4gICAgICAgIC8vIHRlbXBNYXQuaWRlbnRpdHkoKTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSh0ZXgud2lkdGgsIHRleC5oZWlnaHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnByZXBlbmQobHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKDEuMCAvIHRzLl93aWR0aCwgMS4wIC8gdHMuX2hlaWdodCk7XG5cbiAgICAgICAgdGVtcE1hdC5pbnZlcnQoKTtcbiAgICAgICAgaWYgKGlzU2ltcGxlKSB7XG4gICAgICAgICAgICB0ZW1wTWF0LnByZXBlbmQodXYubWFwQ29vcmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVNYXBDb29yZCA9IHV2Lm1hcENvb3JkLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wRnJhbWUgPSB1di51Q2xhbXBGcmFtZTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBPZmZzZXQgPSB1di51Q2xhbXBPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBzaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IHRlbXBNYXQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IGNvcmUudXRpbHMucHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRzLnRpbnQsIHRzLndvcmxkQWxwaGEsIHNoYWRlci51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXgucHJlbXVsdGlwbGllZEFscGhhKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdHMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG5cbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gcmVuZGVyZXIuYmluZFRleHR1cmUodGV4KTtcblxuICAgICAgICByZW5kZXJlci5zZXRCbGVuZE1vZGUoY29yZS51dGlscy5jb3JyZWN0QmxlbmRNb2RlKHRzLmJsZW5kTW9kZSwgYmFzZVRleC5wcmVtdWx0aXBsaWVkQWxwaGEpKTtcblxuICAgICAgICBxdWFkLnZhby5kcmF3KHRoaXMucmVuZGVyZXIuZ2wuVFJJQU5HTEVTLCA2LCAwKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRpbGluZ1Nwcml0ZVJlbmRlcmVyO1xufShjb3JlLk9iamVjdFJlbmRlcmVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCd0aWxpbmdTcHJpdGUnLCBUaWxpbmdTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxpbmdTcHJpdGVSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfT2JzZXJ2YWJsZVBvaW50ID0gcmVxdWlyZSgnLi4vY29yZS9tYXRoL09ic2VydmFibGVQb2ludCcpO1xuXG52YXIgX09ic2VydmFibGVQb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYnNlcnZhYmxlUG9pbnQpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vY29yZS91dGlscycpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vY29yZS9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEEgQml0bWFwVGV4dCBvYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQgdXNpbmcgYml0bWFwIGZvbnQuIFRvXG4gKiBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicsICdcXHInIG9yICdcXHJcXG4nIGluIHlvdXIgc3RyaW5nLiBZb3UgY2FuIGdlbmVyYXRlIHRoZSBmbnQgZmlsZXMgdXNpbmc6XG4gKlxuICogQSBCaXRtYXBUZXh0IGNhbiBvbmx5IGJlIGNyZWF0ZWQgd2hlbiB0aGUgZm9udCBpcyBsb2FkZWRcbiAqXG4gKiBgYGBqc1xuICogLy8gaW4gdGhpcyBjYXNlIHRoZSBmb250IGlzIGluIGEgZmlsZSBjYWxsZWQgJ2Rlc3lyZWwuZm50J1xuICogbGV0IGJpdG1hcFRleHQgPSBuZXcgUElYSS5leHRyYXMuQml0bWFwVGV4dChcInRleHQgdXNpbmcgYSBmYW5jeSBmb250IVwiLCB7Zm9udDogXCIzNXB4IERlc3lyZWxcIiwgYWxpZ246IFwicmlnaHRcIn0pO1xuICogYGBgXG4gKlxuICogaHR0cDovL3d3dy5hbmdlbGNvZGUuY29tL3Byb2R1Y3RzL2JtZm9udC8gZm9yIHdpbmRvd3Mgb3JcbiAqIGh0dHA6Ly93d3cuYm1nbHlwaC5jb20vIGZvciBtYWMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFzXG4gKi9cbnZhciBCaXRtYXBUZXh0ID0gZnVuY3Rpb24gKF9jb3JlJENvbnRhaW5lcikge1xuICAgIF9pbmhlcml0cyhCaXRtYXBUZXh0LCBfY29yZSRDb250YWluZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgY29weSB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSB0ZXh0IHRvIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gc3R5bGUuZm9udCAtIFRoZSBmb250IGRlc2NyaXB0b3IgZm9yIHRoZSBvYmplY3QsIGNhbiBiZSBwYXNzZWQgYXMgYSBzdHJpbmcgb2YgZm9ybVxuICAgICAqICAgICAgXCIyNHB4IEZvbnROYW1lXCIgb3IgXCJGb250TmFtZVwiIG9yIGFzIGFuIG9iamVjdCB3aXRoIGV4cGxpY2l0IG5hbWUvc2l6ZSBwcm9wZXJ0aWVzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udC5uYW1lXSAtIFRoZSBiaXRtYXAgZm9udCBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZm9udC5zaXplXSAtIFRoZSBzaXplIG9mIHRoZSBmb250IGluIHBpeGVscywgZS5nLiAyNFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuYWxpZ249J2xlZnQnXSAtIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksIGRvZXMgbm90IGFmZmVjdFxuICAgICAqICAgICAgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUudGludD0weEZGRkZGRl0gLSBUaGUgdGludCBjb2xvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJpdG1hcFRleHQodGV4dCkge1xuICAgICAgICB2YXIgc3R5bGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCaXRtYXBUZXh0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRDb250YWluZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMuX3RleHRXaWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0SGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgbGV0dGVyIHNwcml0ZSBwb29sLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2dseXBocyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZm9udCA9IHtcbiAgICAgICAgICAgIHRpbnQ6IHN0eWxlLnRpbnQgIT09IHVuZGVmaW5lZCA/IHN0eWxlLnRpbnQgOiAweEZGRkZGRixcbiAgICAgICAgICAgIGFsaWduOiBzdHlsZS5hbGlnbiB8fCAnbGVmdCcsXG4gICAgICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICAgICAgc2l6ZTogMFxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZvbnQgPSBzdHlsZS5mb250OyAvLyBydW4gZm9udCBzZXR0ZXJcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dCA9IHRleHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB2YWx1ZSB0byAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXhXaWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAgICAgKiBpZTogd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21heExpbmVIZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZXR0ZXIgc3BhY2luZy4gVGhpcyBpcyB1c2VmdWwgZm9yIHNldHRpbmcgdGhlIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xldHRlclNwYWNpbmcgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0IGFuY2hvci4gcmVhZC1vbmx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FuY2hvciA9IG5ldyBfT2JzZXJ2YWJsZVBvaW50Mi5kZWZhdWx0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSwgX3RoaXMsIDAsIDApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGlydHkgc3RhdGUgb2YgdGhpcyBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIF90aGlzLnVwZGF0ZVRleHQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCBhbmQgdXBkYXRlcyBpdCB3aGVuIG5lZWRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uIHVwZGF0ZVRleHQoKSB7XG4gICAgICAgIHZhciBkYXRhID0gQml0bWFwVGV4dC5mb250c1t0aGlzLl9mb250Lm5hbWVdO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9mb250LnNpemUgLyBkYXRhLnNpemU7XG4gICAgICAgIHZhciBwb3MgPSBuZXcgY29yZS5Qb2ludCgpO1xuICAgICAgICB2YXIgY2hhcnMgPSBbXTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBbXTtcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLnRleHQucmVwbGFjZSgvKD86XFxyXFxufFxccikvZywgJ1xcbicpO1xuICAgICAgICB2YXIgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoO1xuICAgICAgICB2YXIgbWF4V2lkdGggPSB0aGlzLl9tYXhXaWR0aCAqIGRhdGEuc2l6ZSAvIHRoaXMuX2ZvbnQuc2l6ZTtcblxuICAgICAgICB2YXIgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIGxpbmUgPSAwO1xuICAgICAgICB2YXIgbGFzdEJyZWFrUG9zID0gLTE7XG4gICAgICAgIHZhciBsYXN0QnJlYWtXaWR0aCA9IDA7XG4gICAgICAgIHZhciBzcGFjZXNSZW1vdmVkID0gMDtcbiAgICAgICAgdmFyIG1heExpbmVIZWlnaHQgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICB2YXIgY2hhciA9IHRleHQuY2hhckF0KGkpO1xuXG4gICAgICAgICAgICBpZiAoLyg/OlxccykvLnRlc3QoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSBpO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1dpZHRoID0gbGFzdExpbmVXaWR0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNoYXIgPT09ICdcXHInIHx8IGNoYXIgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgKytsaW5lO1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcblxuICAgICAgICAgICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBkYXRhLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNoYXJEYXRhID0gZGF0YS5jaGFyc1tjaGFyQ29kZV07XG5cbiAgICAgICAgICAgIGlmICghY2hhckRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByZXZDaGFyQ29kZSAmJiBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV0pIHtcbiAgICAgICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoYXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRleHR1cmU6IGNoYXJEYXRhLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgbGluZTogbGluZSxcbiAgICAgICAgICAgICAgICBjaGFyQ29kZTogY2hhckNvZGUsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBjb3JlLlBvaW50KHBvcy54ICsgY2hhckRhdGEueE9mZnNldCArIHRoaXMuX2xldHRlclNwYWNpbmcgLyAyLCBwb3MueSArIGNoYXJEYXRhLnlPZmZzZXQpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLnhBZHZhbmNlICsgdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgIGxhc3RMaW5lV2lkdGggPSBwb3MueDtcbiAgICAgICAgICAgIG1heExpbmVIZWlnaHQgPSBNYXRoLm1heChtYXhMaW5lSGVpZ2h0LCBjaGFyRGF0YS55T2Zmc2V0ICsgY2hhckRhdGEudGV4dHVyZS5oZWlnaHQpO1xuICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gY2hhckNvZGU7XG5cbiAgICAgICAgICAgIGlmIChsYXN0QnJlYWtQb3MgIT09IC0xICYmIG1heFdpZHRoID4gMCAmJiBwb3MueCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuICAgICAgICAgICAgICAgIGNvcmUudXRpbHMucmVtb3ZlSXRlbXMoY2hhcnMsIDEgKyBsYXN0QnJlYWtQb3MgLSBzcGFjZXNSZW1vdmVkLCAxICsgaSAtIGxhc3RCcmVha1Bvcyk7XG4gICAgICAgICAgICAgICAgaSA9IGxhc3RCcmVha1BvcztcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSAtMTtcblxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0QnJlYWtXaWR0aCk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0QnJlYWtXaWR0aCk7XG4gICAgICAgICAgICAgICAgbGluZSsrO1xuXG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxhc3RDaGFyID0gdGV4dC5jaGFyQXQodGV4dC5sZW5ndGggLSAxKTtcblxuICAgICAgICBpZiAobGFzdENoYXIgIT09ICdcXHInICYmIGxhc3RDaGFyICE9PSAnXFxuJykge1xuICAgICAgICAgICAgaWYgKC8oPzpcXHMpLy50ZXN0KGxhc3RDaGFyKSkge1xuICAgICAgICAgICAgICAgIGxhc3RMaW5lV2lkdGggPSBsYXN0QnJlYWtXaWR0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsaW5lQWxpZ25PZmZzZXRzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8PSBsaW5lOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgYWxpZ25PZmZzZXQgPSAwO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udC5hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tfaV07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2ZvbnQuYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tfaV0pIC8gMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGluZUFsaWduT2Zmc2V0cy5wdXNoKGFsaWduT2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsZW5DaGFycyA9IGNoYXJzLmxlbmd0aDtcbiAgICAgICAgdmFyIHRpbnQgPSB0aGlzLnRpbnQ7XG5cbiAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgbGVuQ2hhcnM7IF9pMisrKSB7XG4gICAgICAgICAgICB2YXIgYyA9IHRoaXMuX2dseXBoc1tfaTJdOyAvLyBnZXQgdGhlIG5leHQgZ2x5cGggc3ByaXRlXG5cbiAgICAgICAgICAgIGlmIChjKSB7XG4gICAgICAgICAgICAgICAgYy50ZXh0dXJlID0gY2hhcnNbX2kyXS50ZXh0dXJlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjID0gbmV3IGNvcmUuU3ByaXRlKGNoYXJzW19pMl0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2x5cGhzLnB1c2goYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGMucG9zaXRpb24ueCA9IChjaGFyc1tfaTJdLnBvc2l0aW9uLnggKyBsaW5lQWxpZ25PZmZzZXRzW2NoYXJzW19pMl0ubGluZV0pICogc2NhbGU7XG4gICAgICAgICAgICBjLnBvc2l0aW9uLnkgPSBjaGFyc1tfaTJdLnBvc2l0aW9uLnkgKiBzY2FsZTtcbiAgICAgICAgICAgIGMuc2NhbGUueCA9IGMuc2NhbGUueSA9IHNjYWxlO1xuICAgICAgICAgICAgYy50aW50ID0gdGludDtcblxuICAgICAgICAgICAgaWYgKCFjLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgdW5uZWNlc3NhcnkgY2hpbGRyZW4uXG4gICAgICAgIGZvciAodmFyIF9pMyA9IGxlbkNoYXJzOyBfaTMgPCB0aGlzLl9nbHlwaHMubGVuZ3RoOyArK19pMykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLl9nbHlwaHNbX2kzXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0V2lkdGggPSBtYXhMaW5lV2lkdGggKiBzY2FsZTtcbiAgICAgICAgdGhpcy5fdGV4dEhlaWdodCA9IChwb3MueSArIGRhdGEubGluZUhlaWdodCkgKiBzY2FsZTtcblxuICAgICAgICAvLyBhcHBseSBhbmNob3JcbiAgICAgICAgaWYgKHRoaXMuYW5jaG9yLnggIT09IDAgfHwgdGhpcy5hbmNob3IueSAhPT0gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2k0ID0gMDsgX2k0IDwgbGVuQ2hhcnM7IF9pNCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2x5cGhzW19pNF0ueCAtPSB0aGlzLl90ZXh0V2lkdGggKiB0aGlzLmFuY2hvci54O1xuICAgICAgICAgICAgICAgIHRoaXMuX2dseXBoc1tfaTRdLnkgLT0gdGhpcy5fdGV4dEhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWF4TGluZUhlaWdodCA9IG1heExpbmVIZWlnaHQgKiBzY2FsZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9mIHRoaXMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHRleHQgYmVmb3JlIGNhbGxpbmcgcGFyZW50J3MgZ2V0TG9jYWxCb3VuZHNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYVxuICAgICAqL1xuXG5cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzKCkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIF9jb3JlJENvbnRhaW5lci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0ZXh0IHdoZW4gbmVlZGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uIHZhbGlkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KCk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgYml0bWFwIGZvbnQgd2l0aCBkYXRhIGFuZCBhIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtYTUxEb2N1bWVudH0geG1sIC0gVGhlIFhNTCBkb2N1bWVudCBkYXRhLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIFBJWEkuVGV4dHVyZT58UElYSS5UZXh0dXJlfFBJWEkuVGV4dHVyZVtdfSB0ZXh0dXJlcyAtIExpc3Qgb2YgdGV4dHVyZXMgZm9yIGVhY2ggcGFnZS5cbiAgICAgKiAgSWYgcHJvdmlkaW5nIGFuIG9iamVjdCwgdGhlIGtleSBpcyB0aGUgYDxwYWdlPmAgZWxlbWVudCdzIGBmaWxlYCBhdHRyaWJ1dGUgaW4gdGhlIEZOVCBmaWxlLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gUmVzdWx0IGZvbnQgb2JqZWN0IHdpdGggZm9udCwgc2l6ZSwgbGluZUhlaWdodCBhbmQgY2hhciBmaWVsZHMuXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5yZWdpc3RlckZvbnQgPSBmdW5jdGlvbiByZWdpc3RlckZvbnQoeG1sLCB0ZXh0dXJlcykge1xuICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICB2YXIgaW5mbyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpWzBdO1xuICAgICAgICB2YXIgY29tbW9uID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjb21tb24nKVswXTtcbiAgICAgICAgdmFyIHBhZ2VzID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJyk7XG4gICAgICAgIHZhciByZXMgPSAoMCwgX3V0aWxzLmdldFJlc29sdXRpb25PZlVybCkocGFnZXNbMF0uZ2V0QXR0cmlidXRlKCdmaWxlJyksIF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OKTtcbiAgICAgICAgdmFyIHBhZ2VzVGV4dHVyZXMgPSB7fTtcblxuICAgICAgICBkYXRhLmZvbnQgPSBpbmZvLmdldEF0dHJpYnV0ZSgnZmFjZScpO1xuICAgICAgICBkYXRhLnNpemUgPSBwYXJzZUludChpbmZvLmdldEF0dHJpYnV0ZSgnc2l6ZScpLCAxMCk7XG4gICAgICAgIGRhdGEubGluZUhlaWdodCA9IHBhcnNlSW50KGNvbW1vbi5nZXRBdHRyaWJ1dGUoJ2xpbmVIZWlnaHQnKSwgMTApIC8gcmVzO1xuICAgICAgICBkYXRhLmNoYXJzID0ge307XG5cbiAgICAgICAgLy8gU2luZ2xlIHRleHR1cmUsIGNvbnZlcnQgdG8gbGlzdFxuICAgICAgICBpZiAodGV4dHVyZXMgaW5zdGFuY2VvZiBjb3JlLlRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmVzID0gW3RleHR1cmVzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnZlcnQgdGhlIGlucHV0IFRleHR1cmUsIFRleHR1cmVzIG9yIG9iamVjdFxuICAgICAgICAvLyBpbnRvIGEgcGFnZSBUZXh0dXJlIGxvb2t1cCBieSBcImlkXCJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGlkID0gcGFnZXNbaV0uZ2V0QXR0cmlidXRlKCdpZCcpO1xuICAgICAgICAgICAgdmFyIGZpbGUgPSBwYWdlc1tpXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKTtcblxuICAgICAgICAgICAgcGFnZXNUZXh0dXJlc1tpZF0gPSB0ZXh0dXJlcyBpbnN0YW5jZW9mIEFycmF5ID8gdGV4dHVyZXNbaV0gOiB0ZXh0dXJlc1tmaWxlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhcnNlIGxldHRlcnNcbiAgICAgICAgdmFyIGxldHRlcnMgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NoYXInKTtcblxuICAgICAgICBmb3IgKHZhciBfaTUgPSAwOyBfaTUgPCBsZXR0ZXJzLmxlbmd0aDsgX2k1KyspIHtcbiAgICAgICAgICAgIHZhciBsZXR0ZXIgPSBsZXR0ZXJzW19pNV07XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdpZCcpLCAxMCk7XG4gICAgICAgICAgICB2YXIgcGFnZSA9IGxldHRlci5nZXRBdHRyaWJ1dGUoJ3BhZ2UnKSB8fCAwO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVSZWN0ID0gbmV3IGNvcmUuUmVjdGFuZ2xlKHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3gnKSwgMTApIC8gcmVzICsgcGFnZXNUZXh0dXJlc1twYWdlXS5mcmFtZS54IC8gcmVzLCBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5JyksIDEwKSAvIHJlcyArIHBhZ2VzVGV4dHVyZXNbcGFnZV0uZnJhbWUueSAvIHJlcywgcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSwgMTApIC8gcmVzLCBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSwgMTApIC8gcmVzKTtcblxuICAgICAgICAgICAgZGF0YS5jaGFyc1tjaGFyQ29kZV0gPSB7XG4gICAgICAgICAgICAgICAgeE9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneG9mZnNldCcpLCAxMCkgLyByZXMsXG4gICAgICAgICAgICAgICAgeU9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneW9mZnNldCcpLCAxMCkgLyByZXMsXG4gICAgICAgICAgICAgICAgeEFkdmFuY2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hhZHZhbmNlJyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICBrZXJuaW5nOiB7fSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBuZXcgY29yZS5UZXh0dXJlKHBhZ2VzVGV4dHVyZXNbcGFnZV0uYmFzZVRleHR1cmUsIHRleHR1cmVSZWN0KSxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYWdlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFyc2Uga2VybmluZ3NcbiAgICAgICAgdmFyIGtlcm5pbmdzID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdrZXJuaW5nJyk7XG5cbiAgICAgICAgZm9yICh2YXIgX2k2ID0gMDsgX2k2IDwga2VybmluZ3MubGVuZ3RoOyBfaTYrKykge1xuICAgICAgICAgICAgdmFyIGtlcm5pbmcgPSBrZXJuaW5nc1tfaTZdO1xuICAgICAgICAgICAgdmFyIGZpcnN0ID0gcGFyc2VJbnQoa2VybmluZy5nZXRBdHRyaWJ1dGUoJ2ZpcnN0JyksIDEwKSAvIHJlcztcbiAgICAgICAgICAgIHZhciBzZWNvbmQgPSBwYXJzZUludChrZXJuaW5nLmdldEF0dHJpYnV0ZSgnc2Vjb25kJyksIDEwKSAvIHJlcztcbiAgICAgICAgICAgIHZhciBhbW91bnQgPSBwYXJzZUludChrZXJuaW5nLmdldEF0dHJpYnV0ZSgnYW1vdW50JyksIDEwKSAvIHJlcztcblxuICAgICAgICAgICAgaWYgKGRhdGEuY2hhcnNbc2Vjb25kXSkge1xuICAgICAgICAgICAgICAgIGRhdGEuY2hhcnNbc2Vjb25kXS5rZXJuaW5nW2ZpcnN0XSA9IGFtb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEknbSBsZWF2aW5nIHRoaXMgYXMgYSB0ZW1wb3JhcnkgZml4IHNvIHdlIGNhbiB0ZXN0IHRoZSBiaXRtYXAgZm9udHMgaW4gdjNcbiAgICAgICAgLy8gYnV0IGl0J3MgdmVyeSBsaWtlbHkgdG8gY2hhbmdlXG4gICAgICAgIEJpdG1hcFRleHQuZm9udHNbZGF0YS5mb250XSA9IGRhdGE7XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhCaXRtYXBUZXh0LCBbe1xuICAgICAgICBrZXk6ICd0aW50JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udC50aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnQudGludCA9IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdmFsdWUgPj0gMCA/IHZhbHVlIDogMHhGRkZGRkY7XG5cbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbGlnbm1lbnQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2xlZnQnXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhbGlnbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnQuYWxpZ247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZm9udC5hbGlnbiA9IHZhbHVlIHx8ICdsZWZ0JztcblxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHQuXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIDAsMCB0aGlzIG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIHRoZSB0b3AgbGVmdFxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gMC41LDAuNSBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyBjZW50ZXJlZFxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gMSwxIHdvdWxkIG1lYW4gdGhlIHRleHQncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50IHwgbnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYW5jaG9yJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yLnNldCh2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBkZXNjcmlwdG9yIG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8b2JqZWN0fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9udCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9mb250Lm5hbWUgPSB2YWx1ZS5sZW5ndGggPT09IDEgPyB2YWx1ZVswXSA6IHZhbHVlLnNsaWNlKDEpLmpvaW4oJyAnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250LnNpemUgPSB2YWx1ZS5sZW5ndGggPj0gMiA/IHBhcnNlSW50KHZhbHVlWzBdLCAxMCkgOiBCaXRtYXBUZXh0LmZvbnRzW3RoaXMuX2ZvbnQubmFtZV0uc2l6ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udC5uYW1lID0gdmFsdWUubmFtZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250LnNpemUgPSB0eXBlb2YgdmFsdWUuc2l6ZSA9PT0gJ251bWJlcicgPyB2YWx1ZS5zaXplIDogcGFyc2VJbnQodmFsdWUuc2l6ZSwgMTApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpIHx8ICcgJztcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RleHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB2YWx1ZSB0byAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ21heFdpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWF4V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21heFdpZHRoID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21heFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IGxpbmUgaGVpZ2h0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRyeWluZyB0byB1c2UgdGhlIHRvdGFsIGhlaWdodCBvZiB0aGUgVGV4dCxcbiAgICAgICAgICogaWU6IHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdtYXhMaW5lSGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXhMaW5lSGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZXh0V2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRXaWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGRpdGlvbmFsIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGV0dGVyU3BhY2luZycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xldHRlclNwYWNpbmcgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dEhlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dEhlaWdodDtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBCaXRtYXBUZXh0O1xufShjb3JlLkNvbnRhaW5lcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJpdG1hcFRleHQ7XG5cblxuQml0bWFwVGV4dC5mb250cyA9IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qml0bWFwVGV4dC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfVGV4dHVyZSA9IHJlcXVpcmUoJy4uL2NvcmUvdGV4dHVyZXMvVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSk7XG5cbnZhciBfQmFzZVRleHR1cmUgPSByZXF1aXJlKCcuLi9jb3JlL3RleHR1cmVzL0Jhc2VUZXh0dXJlJyk7XG5cbnZhciBfQmFzZVRleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vY29yZS91dGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgRGlzcGxheU9iamVjdCA9IGNvcmUuRGlzcGxheU9iamVjdDtcbnZhciBfdGVtcE1hdHJpeCA9IG5ldyBjb3JlLk1hdHJpeCgpO1xuXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlRGF0YSA9IGZhbHNlO1xuXG4vLyBmaWd1cmVkIHRoZXJlcyBubyBwb2ludCBhZGRpbmcgQUxMIHRoZSBleHRyYSB2YXJpYWJsZXMgdG8gcHJvdG90eXBlLlxuLy8gdGhpcyBtb2RlbCBjYW4gaG9sZCB0aGUgaW5mb3JtYXRpb24gbmVlZGVkLiBUaGlzIGNhbiBhbHNvIGJlIGdlbmVyYXRlZCBvbiBkZW1hbmQgYXNcbi8vIG1vc3Qgb2JqZWN0cyBhcmUgbm90IGNhY2hlZCBhcyBiaXRtYXBzLlxuLyoqXG4gKiBAY2xhc3NcbiAqIEBpZ25vcmVcbiAqL1xuXG52YXIgQ2FjaGVEYXRhID1cbi8qKlxuICpcbiAqL1xuZnVuY3Rpb24gQ2FjaGVEYXRhKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYWNoZURhdGEpO1xuXG4gICAgdGhpcy50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG5cbiAgICB0aGlzLm9yaWdpbmFsUmVuZGVyV2ViR0wgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxSZW5kZXJDYW52YXMgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxHZXRMb2NhbEJvdW5kcyA9IG51bGw7XG5cbiAgICB0aGlzLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsSGl0VGVzdCA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbERlc3Ryb3kgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxNYXNrID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsRmlsdGVyQXJlYSA9IG51bGw7XG4gICAgdGhpcy5zcHJpdGUgPSBudWxsO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIHtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhpcyB0byB0cnVlIGlmIHlvdSB3YW50IHRoaXMgZGlzcGxheSBvYmplY3QgdG8gYmUgY2FjaGVkIGFzIGEgYml0bWFwLlxuICAgICAqIFRoaXMgYmFzaWNhbGx5IHRha2VzIGEgc25hcCBzaG90IG9mIHRoZSBkaXNwbGF5IG9iamVjdCBhcyBpdCBpcyBhdCB0aGF0IG1vbWVudC4gSXQgY2FuXG4gICAgICogcHJvdmlkZSBhIHBlcmZvcm1hbmNlIGJlbmVmaXQgZm9yIGNvbXBsZXggc3RhdGljIGRpc3BsYXlPYmplY3RzLlxuICAgICAqIFRvIHJlbW92ZSBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gJ2ZhbHNlJ1xuICAgICAqXG4gICAgICogSU1QT1JUQU5UIEdPVENIQSAtIG1ha2Ugc3VyZSB0aGF0IGFsbCB5b3VyIHRleHR1cmVzIGFyZSBwcmVsb2FkZWQgQkVGT1JFIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byB0cnVlXG4gICAgICogYXMgaXQgd2lsbCB0YWtlIGEgc25hcHNob3Qgb2Ygd2hhdCBpcyBjdXJyZW50bHkgdGhlcmUuIElmIHRoZSB0ZXh0dXJlcyBoYXZlIG5vdCBsb2FkZWQgdGhlbiB0aGV5IHdpbGwgbm90IGFwcGVhci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBjYWNoZUFzQml0bWFwOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlQXNCaXRtYXA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVBc0JpdG1hcCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NhY2hlQXNCaXRtYXAgPSB2YWx1ZTtcblxuICAgICAgICAgICAgdmFyIGRhdGEgPSB2b2lkIDA7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FjaGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlRGF0YSA9IG5ldyBDYWNoZURhdGEoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fY2FjaGVEYXRhO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlcldlYkdMID0gdGhpcy5yZW5kZXJXZWJHTDtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gdGhpcy5yZW5kZXJDYW52YXM7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gdGhpcy51cGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbERlc3Ryb3kgPSB0aGlzLmRlc3Ryb3k7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsQ29udGFpbnNQb2ludCA9IHRoaXMuY29udGFpbnNQb2ludDtcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxNYXNrID0gdGhpcy5fbWFzaztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsRmlsdGVyQXJlYSA9IHRoaXMuZmlsdGVyQXJlYTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyV2ViR0wgPSB0aGlzLl9yZW5kZXJDYWNoZWRXZWJHTDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX3JlbmRlckNhY2hlZENhbnZhcztcblxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IHRoaXMuX2NhY2hlQXNCaXRtYXBEZXN0cm95O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fY2FjaGVEYXRhO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3ByaXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJXZWJHTCA9IGRhdGEub3JpZ2luYWxSZW5kZXJXZWJHTDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IGRhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzID0gZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgICAgICAgICB0aGlzLmdldExvY2FsQm91bmRzID0gZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gZGF0YS5vcmlnaW5hbERlc3Ryb3k7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluc1BvaW50ID0gZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrID0gZGF0YS5vcmlnaW5hbE1hc2s7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gZGF0YS5vcmlnaW5hbEZpbHRlckFyZWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLyoqXG4gKiBSZW5kZXJzIGEgY2FjaGVkIHZlcnNpb24gb2YgdGhlIHNwcml0ZSB3aXRoIFdlYkdMXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZFdlYkdMID0gZnVuY3Rpb24gX3JlbmRlckNhY2hlZFdlYkdMKHJlbmRlcmVyKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3QocmVuZGVyZXIpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fcmVuZGVyV2ViR0wocmVuZGVyZXIpO1xufTtcblxuLyoqXG4gKiBQcmVwYXJlcyB0aGUgV2ViR0wgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcikge1xuICAgIGlmICh0aGlzLl9jYWNoZURhdGEgJiYgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gbWFrZSBzdXJlIGFscGhhIGlzIHNldCB0byAxIG90aGVyd2lzZSBpdCB3aWxsIGdldCByZW5kZXJlZCBhcyBpbnZpc2libGUhXG4gICAgdmFyIGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuXG4gICAgdGhpcy5hbHBoYSA9IDE7XG5cbiAgICAvLyBmaXJzdCB3ZSBmbHVzaCBhbnl0aGluZyBsZWZ0IGluIHRoZSByZW5kZXJlciAob3RoZXJ3aXNlIGl0IHdvdWxkIGdldCByZW5kZXJlZCB0byB0aGUgY2FjaGVkIHRleHR1cmUpXG4gICAgcmVuZGVyZXIuY3VycmVudFJlbmRlcmVyLmZsdXNoKCk7XG4gICAgLy8gdGhpcy5maWx0ZXJzPSBbXTtcblxuICAgIC8vIG5leHQgd2UgZmluZCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdW50cmFuc2Zvcm1lZCBvYmplY3RcbiAgICAvLyB0aGlzIGZ1bmN0aW9uIGFsc28gY2FsbHMgdXBkYXRldHJhbnNmb3JtIG9uIGFsbCBpdHMgY2hpbGRyZW4gYXMgcGFydCBvZiB0aGUgbWVhc3VyaW5nLlxuICAgIC8vIFRoaXMgbWVhbnMgd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIHRyYW5zZm9ybSBhZ2FpbiBpbiB0aGlzIGZ1bmN0aW9uXG4gICAgLy8gVE9ETyBwYXNzIGFuIG9iamVjdCB0byBjbG9uZSB0b28/IHNhdmVzIGhhdmluZyB0byBjcmVhdGUgYSBuZXcgb25lIGVhY2ggdGltZSFcbiAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLmNsb25lKCk7XG5cbiAgICAvLyBhZGQgc29tZSBwYWRkaW5nIVxuICAgIGlmICh0aGlzLl9maWx0ZXJzICYmIHRoaXMuX2ZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5fZmlsdGVyc1swXS5wYWRkaW5nO1xuXG4gICAgICAgIGJvdW5kcy5wYWQocGFkZGluZyk7XG4gICAgfVxuXG4gICAgLy8gZm9yIG5vdyB3ZSBjYWNoZSB0aGUgY3VycmVudCByZW5kZXJUYXJnZXQgdGhhdCB0aGUgd2ViR0wgcmVuZGVyZXIgaXMgY3VycmVudGx5IHVzaW5nLlxuICAgIC8vIHRoaXMgY291bGQgYmUgbW9yZSBlbGVnZW50Li5cbiAgICB2YXIgY2FjaGVkUmVuZGVyVGFyZ2V0ID0gcmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldDtcbiAgICAvLyBXZSBhbHNvIHN0b3JlIHRoZSBmaWx0ZXIgc3RhY2sgLSBJIHdpbGwgZGVmaW5pdGVseSBsb29rIHRvIGNoYW5nZSBob3cgdGhpcyB3b3JrcyBhIGxpdHRsZSBsYXRlciBkb3duIHRoZSBsaW5lLlxuICAgIHZhciBzdGFjayA9IHJlbmRlcmVyLmZpbHRlck1hbmFnZXIuZmlsdGVyU3RhY2s7XG5cbiAgICAvLyB0aGlzIHJlbmRlclRleHR1cmUgd2lsbCBiZSB1c2VkIHRvIHN0b3JlIHRoZSBjYWNoZWQgRGlzcGxheU9iamVjdFxuXG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBjb3JlLlJlbmRlclRleHR1cmUuY3JlYXRlKGJvdW5kcy53aWR0aCB8IDAsIGJvdW5kcy5oZWlnaHQgfCAwKTtcblxuICAgIHZhciB0ZXh0dXJlQ2FjaGVJZCA9ICdjYWNoZUFzQml0bWFwXycgKyAoMCwgX3V0aWxzLnVpZCkoKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuXG4gICAgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIF9UZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuXG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICB2YXIgbSA9IF90ZW1wTWF0cml4O1xuXG4gICAgbS50eCA9IC1ib3VuZHMueDtcbiAgICBtLnR5ID0gLWJvdW5kcy55O1xuXG4gICAgLy8gcmVzZXRcbiAgICB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS5pZGVudGl0eSgpO1xuXG4gICAgLy8gc2V0IGFsbCBwcm9wZXJ0aWVzIHRvIHRoZXJlIG9yaWdpbmFsIHNvIHdlIGNhbiByZW5kZXIgdG8gYSB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJXZWJHTCA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlcldlYkdMO1xuXG4gICAgcmVuZGVyZXIucmVuZGVyKHRoaXMsIHJlbmRlclRleHR1cmUsIHRydWUsIG0sIHRydWUpO1xuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuXG4gICAgcmVuZGVyZXIuYmluZFJlbmRlclRhcmdldChjYWNoZWRSZW5kZXJUYXJnZXQpO1xuXG4gICAgcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjayA9IHN0YWNrO1xuXG4gICAgdGhpcy5yZW5kZXJXZWJHTCA9IHRoaXMuX3JlbmRlckNhY2hlZFdlYkdMO1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuXG4gICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIHZhciBjYWNoZWRTcHJpdGUgPSBuZXcgY29yZS5TcHJpdGUocmVuZGVyVGV4dHVyZSk7XG5cbiAgICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci55ID0gLShib3VuZHMueSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG5cbiAgICAvLyBlYXN5IGJvdW5kcy4uXG4gICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG5cbiAgICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAvLyByZXN0b3JlIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhY2hlZCBzcHJpdGUgdG8gYXZvaWQgdGhlIG5hc3R5IGZsaWNrZXIuLlxuICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSByZW5kZXJlci5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIC8vIG1hcCB0aGUgaGl0IHRlc3QuLlxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG5cbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBjYW52YXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVuZGVyQ2FjaGVkQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhY2hlZENhbnZhcyhyZW5kZXJlcikge1xuICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKHJlbmRlcmVyKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUucmVuZGVyQ2FudmFzKHJlbmRlcmVyKTtcbn07XG5cbi8vIFRPRE8gdGhpcyBjYW4gYmUgdGhlIHNhbWUgYXMgdGhlIHdlYkdMIHZlcmlzb24uLiB3aWxsIG5lZWQgdG8gZG8gYSBsaXR0bGUgdHdlYWtpbmcgZmlyc3QgdGhvdWdoLi5cbi8qKlxuICogUHJlcGFyZXMgdGhlIENhbnZhcyByZW5kZXJlciB0byBjYWNoZSB0aGUgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzID0gZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKHJlbmRlcmVyKSB7XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBnZXQgYm91bmRzIGFjdHVhbGx5IHRyYW5zZm9ybXMgdGhlIG9iamVjdCBmb3IgdXMgYWxyZWFkeSFcbiAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpO1xuXG4gICAgdmFyIGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuXG4gICAgdGhpcy5hbHBoYSA9IDE7XG5cbiAgICB2YXIgY2FjaGVkUmVuZGVyVGFyZ2V0ID0gcmVuZGVyZXIuY29udGV4dDtcblxuICAgIHZhciByZW5kZXJUZXh0dXJlID0gY29yZS5SZW5kZXJUZXh0dXJlLmNyZWF0ZShib3VuZHMud2lkdGggfCAwLCBib3VuZHMuaGVpZ2h0IHwgMCk7XG5cbiAgICB2YXIgdGV4dHVyZUNhY2hlSWQgPSAnY2FjaGVBc0JpdG1hcF8nICsgKDAsIF91dGlscy51aWQpKCk7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcblxuICAgIF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICBfVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcblxuICAgIC8vIG5lZWQgdG8gc2V0IC8vXG4gICAgdmFyIG0gPSBfdGVtcE1hdHJpeDtcblxuICAgIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHkobSk7XG4gICAgbS5pbnZlcnQoKTtcblxuICAgIG0udHggLT0gYm91bmRzLng7XG4gICAgbS50eSAtPSBib3VuZHMueTtcblxuICAgIC8vIG0uYXBwZW5kKHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLilcbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcblxuICAgIC8vIHJlbmRlclRleHR1cmUucmVuZGVyKHRoaXMsIG0sIHRydWUpO1xuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCByZW5kZXJUZXh0dXJlLCB0cnVlLCBtLCBmYWxzZSk7XG5cbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcbiAgICByZW5kZXJlci5jb250ZXh0ID0gY2FjaGVkUmVuZGVyVGFyZ2V0O1xuXG4gICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9yZW5kZXJDYWNoZWRDYW52YXM7XG4gICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuXG4gICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIHZhciBjYWNoZWRTcHJpdGUgPSBuZXcgY29yZS5TcHJpdGUocmVuZGVyVGV4dHVyZSk7XG5cbiAgICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci55ID0gLShib3VuZHMueSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGNhY2hlZFNwcml0ZS5fYm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG5cbiAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcmVuZGVyZXIuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG5cbiAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBjYWNoZWRTcHJpdGUuY29udGFpbnNQb2ludC5iaW5kKGNhY2hlZFNwcml0ZSk7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQ2FjaGVkQm91bmRzKCkge1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX2NhbGN1bGF0ZUJvdW5kcygpO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBib3VuZHMgb2YgdGhlIGNhY2hlZCBzcHJpdGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhlIGxvY2FsIGJvdW5kcy5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2dldENhY2hlZExvY2FsQm91bmRzID0gZnVuY3Rpb24gX2dldENhY2hlZExvY2FsQm91bmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLmdldExvY2FsQm91bmRzKCk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjYWNoZWQgc3ByaXRlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCgpIHtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl90ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IG51bGw7XG5cbiAgICBfQmFzZVRleHR1cmUyLmRlZmF1bHQucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG4gICAgX1RleHR1cmUyLmRlZmF1bHQucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZS5cbiAqICBVc2VkIHdoZW4gZGVzdHJveWluZyBjb250YWluZXJzLCBzZWUgdGhlIENvbnRhaW5lci5kZXN0cm95IG1ldGhvZC5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXBEZXN0cm95ID0gZnVuY3Rpb24gX2NhY2hlQXNCaXRtYXBEZXN0cm95KG9wdGlvbnMpIHtcbiAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbiAgICB0aGlzLmRlc3Ryb3kob3B0aW9ucyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FjaGVBc0JpdG1hcC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8qKlxuICogVGhlIGluc3RhbmNlIG5hbWUgb2YgdGhlIG9iamVjdC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQG1lbWJlciB7c3RyaW5nfSBuYW1lXG4gKi9cbmNvcmUuRGlzcGxheU9iamVjdC5wcm90b3R5cGUubmFtZSA9IG51bGw7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGlzcGxheSBvYmplY3QgaW4gdGhlIGNvbnRhaW5lclxuICpcbiAqIEBtZXRob2QgZ2V0Q2hpbGRCeU5hbWVcbiAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gaW5zdGFuY2UgbmFtZVxuICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKi9cbmNvcmUuQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEJ5TmFtZSA9IGZ1bmN0aW9uIGdldENoaWxkQnlOYW1lKG5hbWUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baV0ubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRDaGlsZEJ5TmFtZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LiBEb2VzIG5vdCBkZXBlbmQgb24gb2JqZWN0IHNjYWxlLCByb3RhdGlvbiBhbmQgcGl2b3QuXG4gKlxuICogQG1ldGhvZCBnZXRHbG9iYWxQb3NpdGlvblxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIHdyaXRlIHRoZSBnbG9iYWwgdmFsdWUgdG8uIElmIG51bGwgYSBuZXcgcG9pbnQgd2lsbCBiZSByZXR1cm5lZFxuICogQHBhcmFtIHtib29sZWFufSBza2lwVXBkYXRlIC0gc2V0dGluZyB0byB0cnVlIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdFxuICogQHJldHVybiB7UG9pbnR9IFRoZSB1cGRhdGVkIHBvaW50XG4gKi9cbmNvcmUuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0R2xvYmFsUG9zaXRpb24gPSBmdW5jdGlvbiBnZXRHbG9iYWxQb3NpdGlvbigpIHtcbiAgICB2YXIgcG9pbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG5ldyBjb3JlLlBvaW50KCk7XG4gICAgdmFyIHNraXBVcGRhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50LnRvR2xvYmFsKHRoaXMucG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwb2ludC54ID0gdGhpcy5wb3NpdGlvbi54O1xuICAgICAgICBwb2ludC55ID0gdGhpcy5wb3NpdGlvbi55O1xuICAgIH1cblxuICAgIHJldHVybiBwb2ludDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRHbG9iYWxQb3NpdGlvbi5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfRlhBQUZpbHRlciA9IHJlcXVpcmUoJy4vZnhhYS9GWEFBRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnRlhBQUZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZYQUFGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX05vaXNlRmlsdGVyID0gcmVxdWlyZSgnLi9ub2lzZS9Ob2lzZUZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ05vaXNlRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTm9pc2VGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0Rpc3BsYWNlbWVudEZpbHRlciA9IHJlcXVpcmUoJy4vZGlzcGxhY2VtZW50L0Rpc3BsYWNlbWVudEZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0Rpc3BsYWNlbWVudEZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Rpc3BsYWNlbWVudEZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmx1ckZpbHRlciA9IHJlcXVpcmUoJy4vYmx1ci9CbHVyRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmx1ckZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JsdXJGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0JsdXJYRmlsdGVyID0gcmVxdWlyZSgnLi9ibHVyL0JsdXJYRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmx1clhGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CbHVyWEZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmx1cllGaWx0ZXIgPSByZXF1aXJlKCcuL2JsdXIvQmx1cllGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCbHVyWUZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JsdXJZRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Db2xvck1hdHJpeEZpbHRlciA9IHJlcXVpcmUoJy4vY29sb3JtYXRyaXgvQ29sb3JNYXRyaXhGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDb2xvck1hdHJpeEZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbG9yTWF0cml4RmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9BbHBoYUZpbHRlciA9IHJlcXVpcmUoJy4vYWxwaGEvQWxwaGFGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdBbHBoYUZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FscGhhRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICpcbiAqIEJhc2ljIEZYQUEgaW1wbGVtZW50YXRpb24gYmFzZWQgb24gdGhlIGNvZGUgb24gZ2Vla3MzZC5jb20gd2l0aCB0aGVcbiAqIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXQnc1xuICogdW5zdXBwb3J0ZWQgYnkgV2ViR0wuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWl0c3VoaWtvL3dlYmdsLW1laW5jcmFmdFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqXG4gKi9cbnZhciBGWEFBRmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhGWEFBRmlsdGVyLCBfY29yZSRGaWx0ZXIpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGWEFBRmlsdGVyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRlhBQUZpbHRlcik7XG5cbiAgICAgICAgLy8gVE9ETyAtIG5lZWRzIHdvcmtcbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgJ1xcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2X3JnYk5XO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk5FO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNXO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNFO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk07XFxuXFxudW5pZm9ybSB2ZWM0IGZpbHRlckFyZWE7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudmVjMiBtYXBDb29yZCggdmVjMiBjb29yZCApXFxue1xcbiAgICBjb29yZCAqPSBmaWx0ZXJBcmVhLnh5O1xcbiAgICBjb29yZCArPSBmaWx0ZXJBcmVhLnp3O1xcblxcbiAgICByZXR1cm4gY29vcmQ7XFxufVxcblxcbnZlYzIgdW5tYXBDb29yZCggdmVjMiBjb29yZCApXFxue1xcbiAgICBjb29yZCAtPSBmaWx0ZXJBcmVhLnp3O1xcbiAgICBjb29yZCAvPSBmaWx0ZXJBcmVhLnh5O1xcblxcbiAgICByZXR1cm4gY29vcmQ7XFxufVxcblxcbnZvaWQgdGV4Y29vcmRzKHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIHJlc29sdXRpb24sXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JOVywgb3V0IHZlYzIgdl9yZ2JORSxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYlNXLCBvdXQgdmVjMiB2X3JnYlNFLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiTSkge1xcbiAgICB2ZWMyIGludmVyc2VWUCA9IDEuMCAvIHJlc29sdXRpb24ueHk7XFxuICAgIHZfcmdiTlcgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAtMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiTkUgPSAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIC0xLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JTVyA9IChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIDEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYlNFID0gKGZyYWdDb29yZCArIHZlYzIoMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JNID0gdmVjMihmcmFnQ29vcmQgKiBpbnZlcnNlVlApO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcbiAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcblxcbiAgIHZlYzIgZnJhZ0Nvb3JkID0gdlRleHR1cmVDb29yZCAqIGZpbHRlckFyZWEueHk7XFxuXFxuICAgdGV4Y29vcmRzKGZyYWdDb29yZCwgZmlsdGVyQXJlYS54eSwgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXG59JyxcbiAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JORTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JNO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCBmaWx0ZXJBcmVhO1xcblxcbi8qKlxcbiBCYXNpYyBGWEFBIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tIHdpdGggdGhlXFxuIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXRcXCdzXFxuIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxcbiBcXG4gLS1cXG4gXFxuIEZyb206XFxuIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vd2ViZ2wtbWVpbmNyYWZ0XFxuIFxcbiBDb3B5cmlnaHQgKGMpIDIwMTEgYnkgQXJtaW4gUm9uYWNoZXIuXFxuIFxcbiBTb21lIHJpZ2h0cyByZXNlcnZlZC5cXG4gXFxuIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxcbiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXFxuIG1ldDpcXG4gXFxuICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcXG4gbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxcbiBcXG4gKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXFxuIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXFxuIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxcbiB3aXRoIHRoZSBkaXN0cmlidXRpb24uXFxuIFxcbiAqIFRoZSBuYW1lcyBvZiB0aGUgY29udHJpYnV0b3JzIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yXFxuIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpY1xcbiBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXFxuIFxcbiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXFxuIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcXG4gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXFxuIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXFxuIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxcbiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXFxuIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxcbiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcXG4gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxcbiAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0VcXG4gT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cXG4gKi9cXG5cXG4jaWZuZGVmIEZYQUFfUkVEVUNFX01JTlxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTUlOICAgKDEuMC8gMTI4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1JFRFVDRV9NVUxcXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01VTCAgICgxLjAgLyA4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1NQQU5fTUFYXFxuI2RlZmluZSBGWEFBX1NQQU5fTUFYICAgICA4LjBcXG4jZW5kaWZcXG5cXG4vL29wdGltaXplZCB2ZXJzaW9uIGZvciBtb2JpbGUsIHdoZXJlIGRlcGVuZGVudFxcbi8vdGV4dHVyZSByZWFkcyBjYW4gYmUgYSBib3R0bGVuZWNrXFxudmVjNCBmeGFhKHNhbXBsZXIyRCB0ZXgsIHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIHJlc29sdXRpb24sXFxuICAgICAgICAgIHZlYzIgdl9yZ2JOVywgdmVjMiB2X3JnYk5FLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiU1csIHZlYzIgdl9yZ2JTRSxcXG4gICAgICAgICAgdmVjMiB2X3JnYk0pIHtcXG4gICAgdmVjNCBjb2xvcjtcXG4gICAgbWVkaXVtcCB2ZWMyIGludmVyc2VWUCA9IHZlYzIoMS4wIC8gcmVzb2x1dGlvbi54LCAxLjAgLyByZXNvbHV0aW9uLnkpO1xcbiAgICB2ZWMzIHJnYk5XID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JOVykueHl6O1xcbiAgICB2ZWMzIHJnYk5FID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JORSkueHl6O1xcbiAgICB2ZWMzIHJnYlNXID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTVykueHl6O1xcbiAgICB2ZWMzIHJnYlNFID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTRSkueHl6O1xcbiAgICB2ZWM0IHRleENvbG9yID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JNKTtcXG4gICAgdmVjMyByZ2JNICA9IHRleENvbG9yLnh5ejtcXG4gICAgdmVjMyBsdW1hID0gdmVjMygwLjI5OSwgMC41ODcsIDAuMTE0KTtcXG4gICAgZmxvYXQgbHVtYU5XID0gZG90KHJnYk5XLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU5FID0gZG90KHJnYk5FLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNXID0gZG90KHJnYlNXLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNFID0gZG90KHJnYlNFLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU0gID0gZG90KHJnYk0sICBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU1pbiA9IG1pbihsdW1hTSwgbWluKG1pbihsdW1hTlcsIGx1bWFORSksIG1pbihsdW1hU1csIGx1bWFTRSkpKTtcXG4gICAgZmxvYXQgbHVtYU1heCA9IG1heChsdW1hTSwgbWF4KG1heChsdW1hTlcsIGx1bWFORSksIG1heChsdW1hU1csIGx1bWFTRSkpKTtcXG4gICAgXFxuICAgIG1lZGl1bXAgdmVjMiBkaXI7XFxuICAgIGRpci54ID0gLSgobHVtYU5XICsgbHVtYU5FKSAtIChsdW1hU1cgKyBsdW1hU0UpKTtcXG4gICAgZGlyLnkgPSAgKChsdW1hTlcgKyBsdW1hU1cpIC0gKGx1bWFORSArIGx1bWFTRSkpO1xcbiAgICBcXG4gICAgZmxvYXQgZGlyUmVkdWNlID0gbWF4KChsdW1hTlcgKyBsdW1hTkUgKyBsdW1hU1cgKyBsdW1hU0UpICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICgwLjI1ICogRlhBQV9SRURVQ0VfTVVMKSwgRlhBQV9SRURVQ0VfTUlOKTtcXG4gICAgXFxuICAgIGZsb2F0IHJjcERpck1pbiA9IDEuMCAvIChtaW4oYWJzKGRpci54KSwgYWJzKGRpci55KSkgKyBkaXJSZWR1Y2UpO1xcbiAgICBkaXIgPSBtaW4odmVjMihGWEFBX1NQQU5fTUFYLCBGWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgIG1heCh2ZWMyKC1GWEFBX1NQQU5fTUFYLCAtRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICAgICAgZGlyICogcmNwRGlyTWluKSkgKiBpbnZlcnNlVlA7XFxuICAgIFxcbiAgICB2ZWMzIHJnYkEgPSAwLjUgKiAoXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAoMS4wIC8gMy4wIC0gMC41KSkueHl6ICtcXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqICgyLjAgLyAzLjAgLSAwLjUpKS54eXopO1xcbiAgICB2ZWMzIHJnYkIgPSByZ2JBICogMC41ICsgMC4yNSAqIChcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogLTAuNSkueHl6ICtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogMC41KS54eXopO1xcbiAgICBcXG4gICAgZmxvYXQgbHVtYUIgPSBkb3QocmdiQiwgbHVtYSk7XFxuICAgIGlmICgobHVtYUIgPCBsdW1hTWluKSB8fCAobHVtYUIgPiBsdW1hTWF4KSlcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JBLCB0ZXhDb2xvci5hKTtcXG4gICAgZWxzZVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkIsIHRleENvbG9yLmEpO1xcbiAgICByZXR1cm4gY29sb3I7XFxufVxcblxcbnZvaWQgbWFpbigpIHtcXG5cXG4gICAgICB2ZWMyIGZyYWdDb29yZCA9IHZUZXh0dXJlQ29vcmQgKiBmaWx0ZXJBcmVhLnh5O1xcblxcbiAgICAgIHZlYzQgY29sb3I7XFxuXFxuICAgIGNvbG9yID0gZnhhYSh1U2FtcGxlciwgZnJhZ0Nvb3JkLCBmaWx0ZXJBcmVhLnh5LCB2X3JnYk5XLCB2X3JnYk5FLCB2X3JnYlNXLCB2X3JnYlNFLCB2X3JnYk0pO1xcblxcbiAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG4nKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIEZYQUFGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRlhBQUZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZYQUFGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBAYXV0aG9yIFZpY28gQHZpY29jb3RlYVxuICogb3JpZ2luYWwgZmlsdGVyOiBodHRwczovL2dpdGh1Yi5jb20vZXZhbncvZ2xmeC5qcy9ibG9iL21hc3Rlci9zcmMvZmlsdGVycy9hZGp1c3Qvbm9pc2UuanNcbiAqL1xuXG4vKipcbiAqIEEgTm9pc2UgZWZmZWN0IGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBOb2lzZUZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoTm9pc2VGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbm9pc2UgLSBUaGUgbm9pc2UgaW50ZW5zaXR5LCBzaG91bGQgYmUgYSBub3JtYWxpemVkIHZhbHVlIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgLSBBIHJhbmRvbSBzZWVkIGZvciB0aGUgbm9pc2UgZ2VuZXJhdGlvbi4gRGVmYXVsdCBpcyBgTWF0aC5yYW5kb20oKWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTm9pc2VGaWx0ZXIoKSB7XG4gICAgICAgIHZhciBub2lzZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMC41O1xuICAgICAgICB2YXIgc2VlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogTWF0aC5yYW5kb20oKTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm9pc2VGaWx0ZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn0nLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnVuaWZvcm0gZmxvYXQgdU5vaXNlO1xcbnVuaWZvcm0gZmxvYXQgdVNlZWQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxuZmxvYXQgcmFuZCh2ZWMyIGNvKVxcbntcXG4gICAgcmV0dXJuIGZyYWN0KHNpbihkb3QoY28ueHksIHZlYzIoMTIuOTg5OCwgNzguMjMzKSkpICogNDM3NTguNTQ1Myk7XFxufVxcblxcbnZvaWQgbWFpbigpXFxue1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgZmxvYXQgcmFuZG9tVmFsdWUgPSByYW5kKGdsX0ZyYWdDb29yZC54eSAqIHVTZWVkKTtcXG4gICAgZmxvYXQgZGlmZiA9IChyYW5kb21WYWx1ZSAtIDAuNSkgKiB1Tm9pc2U7XFxuXFxuICAgIC8vIFVuLXByZW11bHRpcGx5IGFscGhhIGJlZm9yZSBhcHBseWluZyB0aGUgY29sb3IgbWF0cml4LiBTZWUgaXNzdWUgIzM1MzkuXFxuICAgIGlmIChjb2xvci5hID4gMC4wKSB7XFxuICAgICAgICBjb2xvci5yZ2IgLz0gY29sb3IuYTtcXG4gICAgfVxcblxcbiAgICBjb2xvci5yICs9IGRpZmY7XFxuICAgIGNvbG9yLmcgKz0gZGlmZjtcXG4gICAgY29sb3IuYiArPSBkaWZmO1xcblxcbiAgICAvLyBQcmVtdWx0aXBseSBhbHBoYSBhZ2Fpbi5cXG4gICAgY29sb3IucmdiICo9IGNvbG9yLmE7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG4nKSk7XG5cbiAgICAgICAgX3RoaXMubm9pc2UgPSBub2lzZTtcbiAgICAgICAgX3RoaXMuc2VlZCA9IHNlZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW1vdW50IG9mIG5vaXNlIHRvIGFwcGx5LCB0aGlzIHZhbHVlIHNob3VsZCBiZSBpbiB0aGUgcmFuZ2UgKDAsIDFdLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoTm9pc2VGaWx0ZXIsIFt7XG4gICAgICAgIGtleTogJ25vaXNlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51Tm9pc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51Tm9pc2UgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNlZWQgdmFsdWUgdG8gYXBwbHkgdG8gdGhlIHJhbmRvbSBub2lzZSBnZW5lcmF0aW9uLiBgTWF0aC5yYW5kb20oKWAgaXMgYSBnb29kIHZhbHVlIHRvIHVzZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2VlZCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudVNlZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2VlZCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIE5vaXNlRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE5vaXNlRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm9pc2VGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgRGlzcGxhY2VtZW50RmlsdGVyIGNsYXNzIHVzZXMgdGhlIHBpeGVsIHZhbHVlcyBmcm9tIHRoZSBzcGVjaWZpZWQgdGV4dHVyZVxuICogKGNhbGxlZCB0aGUgZGlzcGxhY2VtZW50IG1hcCkgdG8gcGVyZm9ybSBhIGRpc3BsYWNlbWVudCBvZiBhbiBvYmplY3QuIFlvdSBjYW5cbiAqIHVzZSB0aGlzIGZpbHRlciB0byBhcHBseSBhbGwgbWFub3Igb2YgY3Jhenkgd2FycGluZyBlZmZlY3RzLiBDdXJyZW50bHkgdGhlIHJcbiAqIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSB4IGFuZCB0aGUgZyBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZVxuICogaXMgdXNlZCB0byBvZmZzZXQgdGhlIHkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgRGlzcGxhY2VtZW50RmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhEaXNwbGFjZW1lbnRGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHVzZWQgZm9yIHRoZSBkaXNwbGFjZW1lbnQgbWFwLiAobWFrZSBzdXJlIGl0cyBhZGRlZCB0byB0aGUgc2NlbmUhKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIFRoZSBzY2FsZSBvZiB0aGUgZGlzcGxhY2VtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gRGlzcGxhY2VtZW50RmlsdGVyKHNwcml0ZSwgc2NhbGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERpc3BsYWNlbWVudEZpbHRlcik7XG5cbiAgICAgICAgdmFyIG1hc2tNYXRyaXggPSBuZXcgY29yZS5NYXRyaXgoKTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBmaWx0ZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgdkZpbHRlckNvb3JkID0gKCBmaWx0ZXJNYXRyaXggKiB2ZWMzKCBhVGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn0nLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWMyIHNjYWxlO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gc2FtcGxlcjJEIG1hcFNhbXBsZXI7XFxuXFxudW5pZm9ybSB2ZWM0IGZpbHRlckFyZWE7XFxudW5pZm9ybSB2ZWM0IGZpbHRlckNsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gIHZlYzQgbWFwID0gIHRleHR1cmUyRChtYXBTYW1wbGVyLCB2RmlsdGVyQ29vcmQpO1xcblxcbiAgbWFwIC09IDAuNTtcXG4gIG1hcC54eSAqPSBzY2FsZSAvIGZpbHRlckFyZWEueHk7XFxuXFxuICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNsYW1wKHZlYzIodlRleHR1cmVDb29yZC54ICsgbWFwLngsIHZUZXh0dXJlQ29vcmQueSArIG1hcC55KSwgZmlsdGVyQ2xhbXAueHksIGZpbHRlckNsYW1wLnp3KSk7XFxufVxcbicpKTtcblxuICAgICAgICBfdGhpcy5tYXNrU3ByaXRlID0gc3ByaXRlO1xuICAgICAgICBfdGhpcy5tYXNrTWF0cml4ID0gbWFza01hdHJpeDtcblxuICAgICAgICBfdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICBfdGhpcy51bmlmb3Jtcy5maWx0ZXJNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgICAgICBfdGhpcy51bmlmb3Jtcy5zY2FsZSA9IHsgeDogMSwgeTogMSB9O1xuXG4gICAgICAgIGlmIChzY2FsZSA9PT0gbnVsbCB8fCBzY2FsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzY2FsZSA9IDIwO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc2NhbGUgPSBuZXcgY29yZS5Qb2ludChzY2FsZSwgc2NhbGUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlck1hbmFnZXJ9IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICovXG5cblxuICAgIERpc3BsYWNlbWVudEZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0KSB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCB0aGlzLm1hc2tTcHJpdGUpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnggPSB0aGlzLnNjYWxlLng7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueSA9IHRoaXMuc2NhbGUueTtcblxuICAgICAgICAvLyBkcmF3IHRoZSBmaWx0ZXIuLi5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHR1cmUgdXNlZCBmb3IgdGhlIGRpc3BsYWNlbWVudCBtYXAuIE11c3QgYmUgcG93ZXIgb2YgMiBzaXplZCB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoRGlzcGxhY2VtZW50RmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdtYXAnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRGlzcGxhY2VtZW50RmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IERpc3BsYWNlbWVudEZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURpc3BsYWNlbWVudEZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfQmx1clhGaWx0ZXIgPSByZXF1aXJlKCcuL0JsdXJYRmlsdGVyJyk7XG5cbnZhciBfQmx1clhGaWx0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmx1clhGaWx0ZXIpO1xuXG52YXIgX0JsdXJZRmlsdGVyID0gcmVxdWlyZSgnLi9CbHVyWUZpbHRlcicpO1xuXG52YXIgX0JsdXJZRmlsdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JsdXJZRmlsdGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyIGFwcGxpZXMgYSBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBjYW4gYmUgc2V0IGZvciB4LSBhbmQgeS1heGlzIHNlcGFyYXRlbHkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1ckZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQmx1ckZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aCAtIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHF1YWxpdHkgLSBUaGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1ckZpbHRlcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmx1ckZpbHRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLmJsdXJYRmlsdGVyID0gbmV3IF9CbHVyWEZpbHRlcjIuZGVmYXVsdChzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIF90aGlzLmJsdXJZRmlsdGVyID0gbmV3IF9CbHVyWUZpbHRlcjIuZGVmYXVsdChzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG5cbiAgICAgICAgX3RoaXMucGFkZGluZyA9IDA7XG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IGNvcmUuc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgX3RoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcbiAgICAgICAgX3RoaXMuYmx1ciA9IHN0cmVuZ3RoIHx8IDg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyTWFuYWdlcn0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKi9cblxuXG4gICAgQmx1ckZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0KSB7XG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldFJlbmRlclRhcmdldCh0cnVlKTtcblxuICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCByZW5kZXJUYXJnZXQsIHRydWUpO1xuICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIHJlbmRlclRhcmdldCwgb3V0cHV0LCBmYWxzZSk7XG5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5SZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1clggYW5kIGJsdXJZIHByb3BlcnRpZXMgc2ltdWx0YW5lb3VzbHlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhCbHVyRmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdibHVyJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksIE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKSAqIDI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHBhc3NlcyBmb3IgYmx1ci4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyIHF1YWlsaXR5IGJsdXJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncXVhbGl0eScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHkgPSB0aGlzLmJsdXJZRmlsdGVyLnF1YWxpdHkgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clggcHJvcGVydHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdibHVyWCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IE1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpLCBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKSkgKiAyO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWSBwcm9wZXJ0eVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDJcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JsdXJZJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksIE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKSAqIDI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgYmxlbmRtb2RlIG9mIHRoZSBmaWx0ZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYmxlbmRNb2RlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5fYmxlbmRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEJsdXJGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQmx1ckZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsdXJGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgQ29sb3JNYXRyaXhGaWx0ZXIgY2xhc3MgbGV0cyB5b3UgYXBwbHkgYSA1eDQgbWF0cml4IHRyYW5zZm9ybWF0aW9uIG9uIHRoZSBSR0JBXG4gKiBjb2xvciBhbmQgYWxwaGEgdmFsdWVzIG9mIGV2ZXJ5IHBpeGVsIG9uIHlvdXIgZGlzcGxheU9iamVjdCB0byBwcm9kdWNlIGEgcmVzdWx0XG4gKiB3aXRoIGEgbmV3IHNldCBvZiBSR0JBIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMuIEl0J3MgcHJldHR5IHBvd2VyZnVsIVxuICpcbiAqIGBgYGpzXG4gKiAgbGV0IGNvbG9yTWF0cml4ID0gbmV3IFBJWEkuZmlsdGVycy5Db2xvck1hdHJpeEZpbHRlcigpO1xuICogIGNvbnRhaW5lci5maWx0ZXJzID0gW2NvbG9yTWF0cml4XTtcbiAqICBjb2xvck1hdHJpeC5jb250cmFzdCgyKTtcbiAqIGBgYFxuICogQGF1dGhvciBDbMOpbWVudCBDaGVuZWJhdWx0IDxjbGVtZW50QGdvb2Rib3lkaWdpdGFsLmNvbT5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIENvbG9yTWF0cml4RmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhDb2xvck1hdHJpeEZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29sb3JNYXRyaXhGaWx0ZXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xvck1hdHJpeEZpbHRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufScsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCBtWzIwXTtcXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgYyA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuXFxuICAgIGlmICh1QWxwaGEgPT0gMC4wKSB7XFxuICAgICAgICBnbF9GcmFnQ29sb3IgPSBjO1xcbiAgICAgICAgcmV0dXJuO1xcbiAgICB9XFxuXFxuICAgIC8vIFVuLXByZW11bHRpcGx5IGFscGhhIGJlZm9yZSBhcHBseWluZyB0aGUgY29sb3IgbWF0cml4LiBTZWUgaXNzdWUgIzM1MzkuXFxuICAgIGlmIChjLmEgPiAwLjApIHtcXG4gICAgICBjLnJnYiAvPSBjLmE7XFxuICAgIH1cXG5cXG4gICAgdmVjNCByZXN1bHQ7XFxuXFxuICAgIHJlc3VsdC5yID0gKG1bMF0gKiBjLnIpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bMV0gKiBjLmcpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bMl0gKiBjLmIpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bM10gKiBjLmEpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gbVs0XTtcXG5cXG4gICAgcmVzdWx0LmcgPSAobVs1XSAqIGMucik7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs2XSAqIGMuZyk7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs3XSAqIGMuYik7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs4XSAqIGMuYSk7XFxuICAgICAgICByZXN1bHQuZyArPSBtWzldO1xcblxcbiAgICByZXN1bHQuYiA9IChtWzEwXSAqIGMucik7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzExXSAqIGMuZyk7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEyXSAqIGMuYik7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEzXSAqIGMuYSk7XFxuICAgICAgIHJlc3VsdC5iICs9IG1bMTRdO1xcblxcbiAgICByZXN1bHQuYSA9IChtWzE1XSAqIGMucik7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE2XSAqIGMuZyk7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE3XSAqIGMuYik7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE4XSAqIGMuYSk7XFxuICAgICAgIHJlc3VsdC5hICs9IG1bMTldO1xcblxcbiAgICB2ZWMzIHJnYiA9IG1peChjLnJnYiwgcmVzdWx0LnJnYiwgdUFscGhhKTtcXG5cXG4gICAgLy8gUHJlbXVsdGlwbHkgYWxwaGEgYWdhaW4uXFxuICAgIHJnYiAqPSByZXN1bHQuYTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChyZ2IsIHJlc3VsdC5hKTtcXG59XFxuJykpO1xuXG4gICAgICAgIF90aGlzLnVuaWZvcm1zLm0gPSBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgX3RoaXMuYWxwaGEgPSAxO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBjdXJyZW50IG1hdHJpeCBhbmQgc2V0IHRoZSBuZXcgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBtYXRyaXggLSA1eDQgbWF0cml4XG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fbG9hZE1hdHJpeCA9IGZ1bmN0aW9uIF9sb2FkTWF0cml4KG1hdHJpeCkge1xuICAgICAgICB2YXIgbXVsdGlwbHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgICAgIHZhciBuZXdNYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgaWYgKG11bHRpcGx5KSB7XG4gICAgICAgICAgICB0aGlzLl9tdWx0aXBseShuZXdNYXRyaXgsIHRoaXMudW5pZm9ybXMubSwgbWF0cml4KTtcbiAgICAgICAgICAgIG5ld01hdHJpeCA9IHRoaXMuX2NvbG9yTWF0cml4KG5ld01hdHJpeCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgdGhlIG5ldyBtYXRyaXhcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gbmV3TWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byBtYXQ1J3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gb3V0IC0gNXg0IG1hdHJpeCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGEgLSA1eDQgbWF0cml4IHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYiAtIDV4NCBtYXRyaXggdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMge251bWJlcltdfSA1eDQgbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fbXVsdGlwbHkgPSBmdW5jdGlvbiBfbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gICAgICAgIC8vIFJlZCBDaGFubmVsXG4gICAgICAgIG91dFswXSA9IGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbNV0gKyBhWzJdICogYlsxMF0gKyBhWzNdICogYlsxNV07XG4gICAgICAgIG91dFsxXSA9IGFbMF0gKiBiWzFdICsgYVsxXSAqIGJbNl0gKyBhWzJdICogYlsxMV0gKyBhWzNdICogYlsxNl07XG4gICAgICAgIG91dFsyXSA9IGFbMF0gKiBiWzJdICsgYVsxXSAqIGJbN10gKyBhWzJdICogYlsxMl0gKyBhWzNdICogYlsxN107XG4gICAgICAgIG91dFszXSA9IGFbMF0gKiBiWzNdICsgYVsxXSAqIGJbOF0gKyBhWzJdICogYlsxM10gKyBhWzNdICogYlsxOF07XG4gICAgICAgIG91dFs0XSA9IGFbMF0gKiBiWzRdICsgYVsxXSAqIGJbOV0gKyBhWzJdICogYlsxNF0gKyBhWzNdICogYlsxOV0gKyBhWzRdO1xuXG4gICAgICAgIC8vIEdyZWVuIENoYW5uZWxcbiAgICAgICAgb3V0WzVdID0gYVs1XSAqIGJbMF0gKyBhWzZdICogYls1XSArIGFbN10gKiBiWzEwXSArIGFbOF0gKiBiWzE1XTtcbiAgICAgICAgb3V0WzZdID0gYVs1XSAqIGJbMV0gKyBhWzZdICogYls2XSArIGFbN10gKiBiWzExXSArIGFbOF0gKiBiWzE2XTtcbiAgICAgICAgb3V0WzddID0gYVs1XSAqIGJbMl0gKyBhWzZdICogYls3XSArIGFbN10gKiBiWzEyXSArIGFbOF0gKiBiWzE3XTtcbiAgICAgICAgb3V0WzhdID0gYVs1XSAqIGJbM10gKyBhWzZdICogYls4XSArIGFbN10gKiBiWzEzXSArIGFbOF0gKiBiWzE4XTtcbiAgICAgICAgb3V0WzldID0gYVs1XSAqIGJbNF0gKyBhWzZdICogYls5XSArIGFbN10gKiBiWzE0XSArIGFbOF0gKiBiWzE5XSArIGFbOV07XG5cbiAgICAgICAgLy8gQmx1ZSBDaGFubmVsXG4gICAgICAgIG91dFsxMF0gPSBhWzEwXSAqIGJbMF0gKyBhWzExXSAqIGJbNV0gKyBhWzEyXSAqIGJbMTBdICsgYVsxM10gKiBiWzE1XTtcbiAgICAgICAgb3V0WzExXSA9IGFbMTBdICogYlsxXSArIGFbMTFdICogYls2XSArIGFbMTJdICogYlsxMV0gKyBhWzEzXSAqIGJbMTZdO1xuICAgICAgICBvdXRbMTJdID0gYVsxMF0gKiBiWzJdICsgYVsxMV0gKiBiWzddICsgYVsxMl0gKiBiWzEyXSArIGFbMTNdICogYlsxN107XG4gICAgICAgIG91dFsxM10gPSBhWzEwXSAqIGJbM10gKyBhWzExXSAqIGJbOF0gKyBhWzEyXSAqIGJbMTNdICsgYVsxM10gKiBiWzE4XTtcbiAgICAgICAgb3V0WzE0XSA9IGFbMTBdICogYls0XSArIGFbMTFdICogYls5XSArIGFbMTJdICogYlsxNF0gKyBhWzEzXSAqIGJbMTldICsgYVsxNF07XG5cbiAgICAgICAgLy8gQWxwaGEgQ2hhbm5lbFxuICAgICAgICBvdXRbMTVdID0gYVsxNV0gKiBiWzBdICsgYVsxNl0gKiBiWzVdICsgYVsxN10gKiBiWzEwXSArIGFbMThdICogYlsxNV07XG4gICAgICAgIG91dFsxNl0gPSBhWzE1XSAqIGJbMV0gKyBhWzE2XSAqIGJbNl0gKyBhWzE3XSAqIGJbMTFdICsgYVsxOF0gKiBiWzE2XTtcbiAgICAgICAgb3V0WzE3XSA9IGFbMTVdICogYlsyXSArIGFbMTZdICogYls3XSArIGFbMTddICogYlsxMl0gKyBhWzE4XSAqIGJbMTddO1xuICAgICAgICBvdXRbMThdID0gYVsxNV0gKiBiWzNdICsgYVsxNl0gKiBiWzhdICsgYVsxN10gKiBiWzEzXSArIGFbMThdICogYlsxOF07XG4gICAgICAgIG91dFsxOV0gPSBhWzE1XSAqIGJbNF0gKyBhWzE2XSAqIGJbOV0gKyBhWzE3XSAqIGJbMTRdICsgYVsxOF0gKiBiWzE5XSArIGFbMTldO1xuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSA1eDQgbWF0cml4IHdpdGggYWxsIHZhbHVlcyBiZXR3ZWVuIDAtMVxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX2NvbG9yTWF0cml4ID0gZnVuY3Rpb24gX2NvbG9yTWF0cml4KG1hdHJpeCkge1xuICAgICAgICAvLyBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICAgIHZhciBtID0gbmV3IEZsb2F0MzJBcnJheShtYXRyaXgpO1xuXG4gICAgICAgIG1bNF0gLz0gMjU1O1xuICAgICAgICBtWzldIC89IDI1NTtcbiAgICAgICAgbVsxNF0gLz0gMjU1O1xuICAgICAgICBtWzE5XSAvPSAyNTU7XG5cbiAgICAgICAgcmV0dXJuIG07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkanVzdHMgYnJpZ2h0bmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGIgLSB2YWx1ZSBvZiB0aGUgYnJpZ3RobmVzcyAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYnJpZ2h0bmVzcyA9IGZ1bmN0aW9uIGJyaWdodG5lc3MoYiwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtiLCAwLCAwLCAwLCAwLCAwLCBiLCAwLCAwLCAwLCAwLCAwLCBiLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1hdHJpY2VzIGluIGdyZXkgc2NhbGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB2YWx1ZSBvZiB0aGUgZ3JleSAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlID0gZnVuY3Rpb24gZ3JleXNjYWxlKHNjYWxlLCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW3NjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYmxhY2sgYW5kIHdoaXRlIG1hdHJpY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJsYWNrQW5kV2hpdGUgPSBmdW5jdGlvbiBibGFja0FuZFdoaXRlKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMC4zLCAwLjYsIDAuMSwgMCwgMCwgMC4zLCAwLjYsIDAuMSwgMCwgMCwgMC4zLCAwLjYsIDAuMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBodWUgcHJvcGVydHkgb2YgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBpbiBkZWdyZWVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5odWUgPSBmdW5jdGlvbiBodWUocm90YXRpb24sIG11bHRpcGx5KSB7XG4gICAgICAgIHJvdGF0aW9uID0gKHJvdGF0aW9uIHx8IDApIC8gMTgwICogTWF0aC5QSTtcblxuICAgICAgICB2YXIgY29zUiA9IE1hdGguY29zKHJvdGF0aW9uKTtcbiAgICAgICAgdmFyIHNpblIgPSBNYXRoLnNpbihyb3RhdGlvbik7XG4gICAgICAgIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuXG4gICAgICAgIC8qIGEgZ29vZCBhcHByb3hpbWF0aW9uIGZvciBodWUgcm90YXRpb25cbiAgICAgICAgIFRoaXMgbWF0cml4IGlzIGZhciBiZXR0ZXIgdGhhbiB0aGUgdmVyc2lvbnMgd2l0aCBtYWdpYyBsdW1pbmFuY2UgY29uc3RhbnRzXG4gICAgICAgICBmb3JtZXJseSB1c2VkIGhlcmUsIGJ1dCBhbHNvIHVzZWQgaW4gdGhlIHN0YXJsaW5nIGZyYW1ld29yayAoZmxhc2gpIGFuZCBrbm93biBmcm9tIHRoaXNcbiAgICAgICAgIG9sZCBwYXJ0IG9mIHRoZSBpbnRlcm5ldDogcXVhc2ltb25kby5jb20vYXJjaGl2ZXMvMDAwNTY1LnBocFxuICAgICAgICAgIFRoaXMgbmV3IG1hdHJpeCBpcyBiYXNlZCBvbiByZ2IgY3ViZSByb3RhdGlvbiBpbiBzcGFjZS4gTG9vayBoZXJlIGZvciBhIG1vcmUgZGVzY3JpcHRpdmVcbiAgICAgICAgIGltcGxlbWVudGF0aW9uIGFzIGEgc2hhZGVyIG5vdCBhIGdlbmVyYWwgbWF0cml4OlxuICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi81ODg0MWMyMzkxOWJkNTk3ODdlZmZjMDMzM2E0ODk3YjQzODM1NDEyL3NyYy9maWx0ZXJzL2FkanVzdC9odWVzYXR1cmF0aW9uLmpzXG4gICAgICAgICAgVGhpcyBpcyB0aGUgc291cmNlIGZvciB0aGUgY29kZTpcbiAgICAgICAgIHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg1MDc4ODUvc2hpZnQtaHVlLW9mLWFuLXJnYi1jb2xvci84NTEwNzUxIzg1MTA3NTFcbiAgICAgICAgICovXG5cbiAgICAgICAgdmFyIHcgPSAxIC8gMztcbiAgICAgICAgdmFyIHNxclcgPSBzcXJ0KHcpOyAvLyB3ZWlnaHQgaXNcblxuICAgICAgICB2YXIgYTAwID0gY29zUiArICgxLjAgLSBjb3NSKSAqIHc7XG4gICAgICAgIHZhciBhMDEgPSB3ICogKDEuMCAtIGNvc1IpIC0gc3FyVyAqIHNpblI7XG4gICAgICAgIHZhciBhMDIgPSB3ICogKDEuMCAtIGNvc1IpICsgc3FyVyAqIHNpblI7XG5cbiAgICAgICAgdmFyIGExMCA9IHcgKiAoMS4wIC0gY29zUikgKyBzcXJXICogc2luUjtcbiAgICAgICAgdmFyIGExMSA9IGNvc1IgKyB3ICogKDEuMCAtIGNvc1IpO1xuICAgICAgICB2YXIgYTEyID0gdyAqICgxLjAgLSBjb3NSKSAtIHNxclcgKiBzaW5SO1xuXG4gICAgICAgIHZhciBhMjAgPSB3ICogKDEuMCAtIGNvc1IpIC0gc3FyVyAqIHNpblI7XG4gICAgICAgIHZhciBhMjEgPSB3ICogKDEuMCAtIGNvc1IpICsgc3FyVyAqIHNpblI7XG4gICAgICAgIHZhciBhMjIgPSBjb3NSICsgdyAqICgxLjAgLSBjb3NSKTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW2EwMCwgYTAxLCBhMDIsIDAsIDAsIGExMCwgYTExLCBhMTIsIDAsIDAsIGEyMCwgYTIxLCBhMjIsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29udHJhc3QgbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGRhcmsgYW5kIGJyaWdodFxuICAgICAqIEluY3JlYXNlIGNvbnRyYXN0IDogc2hhZG93cyBkYXJrZXIgYW5kIGhpZ2hsaWdodHMgYnJpZ2h0ZXJcbiAgICAgKiBEZWNyZWFzZSBjb250cmFzdCA6IGJyaW5nIHRoZSBzaGFkb3dzIHVwIGFuZCB0aGUgaGlnaGxpZ2h0cyBkb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdmFsdWUgb2YgdGhlIGNvbnRyYXN0ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5jb250cmFzdCA9IGZ1bmN0aW9uIGNvbnRyYXN0KGFtb3VudCwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIHYgPSAoYW1vdW50IHx8IDApICsgMTtcbiAgICAgICAgdmFyIG8gPSAtMC41ICogKHYgLSAxKTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW3YsIDAsIDAsIDAsIG8sIDAsIHYsIDAsIDAsIG8sIDAsIDAsIHYsIDAsIG8sIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2F0dXJhdGlvbiBtYXRyaXgsIGluY3JlYXNlIHRoZSBzZXBhcmF0aW9uIGJldHdlZW4gY29sb3JzXG4gICAgICogSW5jcmVhc2Ugc2F0dXJhdGlvbiA6IGluY3JlYXNlIGNvbnRyYXN0LCBicmlnaHRuZXNzLCBhbmQgc2hhcnBuZXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIHNhdHVyYXRpb24gYW1vdW50ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zYXR1cmF0ZSA9IGZ1bmN0aW9uIHNhdHVyYXRlKCkge1xuICAgICAgICB2YXIgYW1vdW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgbXVsdGlwbHkgPSBhcmd1bWVudHNbMV07XG5cbiAgICAgICAgdmFyIHggPSBhbW91bnQgKiAyIC8gMyArIDE7XG4gICAgICAgIHZhciB5ID0gKHggLSAxKSAqIC0wLjU7XG5cbiAgICAgICAgdmFyIG1hdHJpeCA9IFt4LCB5LCB5LCAwLCAwLCB5LCB4LCB5LCAwLCAwLCB5LCB5LCB4LCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXNhdHVyYXRlIGltYWdlIChyZW1vdmUgY29sb3IpXG4gICAgICpcbiAgICAgKiBDYWxsIHRoZSBzYXR1cmF0ZSBmdW5jdGlvblxuICAgICAqXG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5kZXNhdHVyYXRlID0gZnVuY3Rpb24gZGVzYXR1cmF0ZSgpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIHRoaXMuc2F0dXJhdGUoLTEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBOZWdhdGl2ZSBpbWFnZSAoaW52ZXJzZSBvZiBjbGFzc2ljIHJnYiBtYXRyaXgpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5lZ2F0aXZlID0gZnVuY3Rpb24gbmVnYXRpdmUobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFstMSwgMCwgMCwgMSwgMCwgMCwgLTEsIDAsIDEsIDAsIDAsIDAsIC0xLCAxLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXBpYSBpbWFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zZXBpYSA9IGZ1bmN0aW9uIHNlcGlhKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMC4zOTMsIDAuNzY4OTk5OSwgMC4xODg5OTk5OSwgMCwgMCwgMC4zNDksIDAuNjg1OTk5OSwgMC4xNjc5OTk5OSwgMCwgMCwgMC4yNzIsIDAuNTMzOTk5OSwgMC4xMzA5OTk5OSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29sb3IgbW90aW9uIHBpY3R1cmUgcHJvY2VzcyBpbnZlbnRlZCBpbiAxOTE2ICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS50ZWNobmljb2xvciA9IGZ1bmN0aW9uIHRlY2huaWNvbG9yKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMS45MTI1Mjc3ODkxNDU2MDgzLCAtMC44NTQ1MzQ0OTc2OTUxNjQ1LCAtMC4wOTE1NTUwODQ4Mjc1NTU4NSwgMCwgMTEuNzkzNjAzNDM0Mzc3MzM3LCAtMC4zMDg3ODMzMzg1OTI4MDk3LCAxLjc2NTg5MDg1NTU0NTg0MjgsIC0wLjEwNjAxNzQzMDc0NzIyMjQ1LCAwLCAtNzAuMzUyMDUxNjE0NjEzOTgsIC0wLjIzMTEwMzM3NzU0ODYxNiwgLTAuNzUwMTg5OTE5NzQ0MDIxMiwgMS44NDc1OTc4MTYxMDgxODksIDAsIDMwLjk1MDk0MDg2OTQ5MTEzOCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUG9sYXJvaWQgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnBvbGFyb2lkID0gZnVuY3Rpb24gcG9sYXJvaWQobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFsxLjQzOCwgLTAuMDYyLCAtMC4wNjIsIDAsIDAsIC0wLjEyMiwgMS4zNzgsIC0wLjEyMiwgMCwgMCwgLTAuMDE2LCAtMC4wMTYsIDEuNDgzLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgd2hvIHRyYW5zZm9ybXMgOiBSZWQgLT4gQmx1ZSBhbmQgQmx1ZSAtPiBSZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudG9CR1IgPSBmdW5jdGlvbiB0b0JHUihtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzAsIDAsIDEsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbG9yIHJldmVyc2FsIGZpbG0gaW50cm9kdWNlZCBieSBFYXN0bWFuIEtvZGFrIGluIDE5MzUuICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5rb2RhY2hyb21lID0gZnVuY3Rpb24ga29kYWNocm9tZShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzEuMTI4NTU4MjM5NjU5MzUyNSwgLTAuMzk2NzM4MjI4MzYwMTM0OCwgLTAuMDM5OTI1NTkxNzI5MjE3OTMsIDAsIDYzLjcyOTU4NzYyMTk2NTAyLCAtMC4xNjQwNDMzOTk2MjI0NDYxNiwgMS4wODM1MjUxNTY2MjkxMzA0LCAtMC4wNTQ5ODgwNTExNTYzMzEzMiwgMCwgMjQuNzMyNDA3ODk2NzA2MjAzLCAtMC4xNjc4NjAxMDcwNjE1NTc2MywgLTAuNTYwMzQxNjI3NzY5NTI0OCwgMS42MDE0ODUwNzYxOTY0OTQzLCAwLCAzNS42Mjk4MjgwNzQ2MDk0NiwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQnJvd24gZGVsaWNpb3VzIGJyb3duaSBmaWx0ZXIgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJyb3duaSA9IGZ1bmN0aW9uIGJyb3duaShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzAuNTk5NzAyMzQ5ODE1OTcxNSwgMC4zNDU1MzI0MzA0ODM5MTI2MywgLTAuMjcwODI5ODY3NDUzODA0MiwgMCwgNDcuNDMxOTI4NTU2MDA4NzMsIC0wLjAzNzcwMzI0OTgzNzc4MzE1NywgMC44NjA5NTc3NTg3OTkyNjQxLCAwLjE1MDU5NTUyMzg4NDU5OTEzLCAwLCAtMzYuOTY4NDE0OTgzMTkxMjcsIDAuMjQxMTM2MzUxMjgxNTMzMzUsIC0wLjA3NDQxMDM3OTA4NDIyNDkyLCAwLjQ0OTcyMTgyMDY0ODc3MTUzLCAwLCAtNy41NjIwNzUyNzc1OTEyODMsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFZpbnRhZ2UgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS52aW50YWdlID0gZnVuY3Rpb24gdmludGFnZShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzAuNjI3OTM0NTYzNTYwNTk5NCwgMC4zMjAyMTgzNDIwODE5MzY3LCAtMC4wMzk2NTQwODIxMTMxMjQ1MywgMCwgOS42NTEyODU4MzUyOTQxMjMsIDAuMDI1NzgzOTc3MDQ4MDg4NjgsIDAuNjQ0MTE4ODY0NDM3NDc3MSwgMC4wMzI1OTEyNzYxNjE0OTI5NCwgMCwgNy40NjI4MjkxNzY0NzA1OTEsIDAuMDQ2NjA1NTU1Njc4MjcxOSwgLTAuMDg1MTIzMjk4NzI0Nzg5MSwgMC41MjQxNjQ4MDE4NzAwNDY1LCAwLCA1LjE1OTE5MDU4ODIzNTI5NiwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2UgZG9uJ3Qga25vdyBleGFjdGx5IHdoYXQgaXQgZG9lcywga2luZCBvZiBncmFkaWVudCBtYXAsIGJ1dCBmdW5ueSB0byBwbGF5IHdpdGghXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVzYXR1cmF0aW9uIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbmVkIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpZ2h0Q29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXJrQ29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29sb3JUb25lID0gZnVuY3Rpb24gY29sb3JUb25lKGRlc2F0dXJhdGlvbiwgdG9uZWQsIGxpZ2h0Q29sb3IsIGRhcmtDb2xvciwgbXVsdGlwbHkpIHtcbiAgICAgICAgZGVzYXR1cmF0aW9uID0gZGVzYXR1cmF0aW9uIHx8IDAuMjtcbiAgICAgICAgdG9uZWQgPSB0b25lZCB8fCAwLjE1O1xuICAgICAgICBsaWdodENvbG9yID0gbGlnaHRDb2xvciB8fCAweEZGRTU4MDtcbiAgICAgICAgZGFya0NvbG9yID0gZGFya0NvbG9yIHx8IDB4MzM4MDAwO1xuXG4gICAgICAgIHZhciBsUiA9IChsaWdodENvbG9yID4+IDE2ICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBsRyA9IChsaWdodENvbG9yID4+IDggJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGxCID0gKGxpZ2h0Q29sb3IgJiAweEZGKSAvIDI1NTtcblxuICAgICAgICB2YXIgZFIgPSAoZGFya0NvbG9yID4+IDE2ICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBkRyA9IChkYXJrQ29sb3IgPj4gOCAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgZEIgPSAoZGFya0NvbG9yICYgMHhGRikgLyAyNTU7XG5cbiAgICAgICAgdmFyIG1hdHJpeCA9IFswLjMsIDAuNTksIDAuMTEsIDAsIDAsIGxSLCBsRywgbEIsIGRlc2F0dXJhdGlvbiwgMCwgZFIsIGRHLCBkQiwgdG9uZWQsIDAsIGxSIC0gZFIsIGxHIC0gZEcsIGxCIC0gZEIsIDAsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE5pZ2h0IGVmZmVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVuc2l0eSAtIFRoZSBpbnRlbnNpdHkgb2YgdGhlIG5pZ2h0IGVmZmVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5pZ2h0ID0gZnVuY3Rpb24gbmlnaHQoaW50ZW5zaXR5LCBtdWx0aXBseSkge1xuICAgICAgICBpbnRlbnNpdHkgPSBpbnRlbnNpdHkgfHwgMC4xO1xuICAgICAgICB2YXIgbWF0cml4ID0gW2ludGVuc2l0eSAqIC0yLjAsIC1pbnRlbnNpdHksIDAsIDAsIDAsIC1pbnRlbnNpdHksIDAsIGludGVuc2l0eSwgMCwgMCwgMCwgaW50ZW5zaXR5LCBpbnRlbnNpdHkgKiAyLjAsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByZWRhdG9yIGVmZmVjdFxuICAgICAqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgYSBuZXcgaW5kZXBlbnQgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gaG93IG11Y2ggdGhlIHByZWRhdG9yIGZlZWxzIGhpcyBmdXR1cmUgdmljdGltXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5wcmVkYXRvciA9IGZ1bmN0aW9uIHByZWRhdG9yKGFtb3VudCwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgLy8gcm93IDFcbiAgICAgICAgMTEuMjI0MTMwNjMwNDkzMTY0ICogYW1vdW50LCAtNC43OTQ0ODY5OTk1MTE3MTkgKiBhbW91bnQsIC0yLjg3NDYxMTg1NDU1MzIyMjcgKiBhbW91bnQsIDAgKiBhbW91bnQsIDAuNDAzNDI0MzgyMjA5Nzc3ODMgKiBhbW91bnQsXG4gICAgICAgIC8vIHJvdyAyXG4gICAgICAgIC0zLjYzMzA2OTc1MzY0Njg1MDYgKiBhbW91bnQsIDkuMTkzMTU3MTk2MDQ0OTIyICogYW1vdW50LCAtMi45NTE4MTA4MzY3OTE5OTIgKiBhbW91bnQsIDAgKiBhbW91bnQsIC0xLjMxNjEzNTA0ODg2NjI3MiAqIGFtb3VudCxcbiAgICAgICAgLy8gcm93IDNcbiAgICAgICAgLTMuMjE4NDE5NzkwMjY3OTQ0MyAqIGFtb3VudCwgLTQuMjM3NTAzMDUxNzU3ODEyNSAqIGFtb3VudCwgNy40NzY0NDgwNTkwODIwMzEgKiBhbW91bnQsIDAgKiBhbW91bnQsIDAuODA0NDQ1OTIyMzc0NzI1MyAqIGFtb3VudCxcbiAgICAgICAgLy8gcm93IDRcbiAgICAgICAgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTFNEIGVmZmVjdFxuICAgICAqXG4gICAgICogTXVsdGlwbHkgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmxzZCA9IGZ1bmN0aW9uIGxzZChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzIsIC0wLjQsIDAuNSwgMCwgMCwgLTAuNSwgMiwgLTAuNCwgMCwgMCwgLTAuNCwgLTAuNSwgMywgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgdGhlIGRlZmF1bHQgb25lXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1hdHJpeCBvZiB0aGUgY29sb3IgbWF0cml4IGZpbHRlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICogQGRlZmF1bHQgWzEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDBdXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhDb2xvck1hdHJpeEZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnbWF0cml4JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMubSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcGFjaXR5IHZhbHVlIHRvIHVzZSB3aGVuIG1peGluZyB0aGUgb3JpZ2luYWwgYW5kIHJlc3VsdGFudCBjb2xvcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDAsIHRoZSBvcmlnaW5hbCBjb2xvciBpcyB1c2VkIHdpdGhvdXQgbW9kaWZpY2F0aW9uLlxuICAgICAgICAgKiBXaGVuIHRoZSB2YWx1ZSBpcyAxLCB0aGUgcmVzdWx0IGNvbG9yIGlzIHVzZWQuXG4gICAgICAgICAqIFdoZW4gaW4gdGhlIHJhbmdlICgwLCAxKSB0aGUgY29sb3IgaXMgaW50ZXJwb2xhdGVkIGJldHdlZW4gdGhlIG9yaWdpbmFsIGFuZCByZXN1bHQgYnkgdGhpcyBhbW91bnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYWxwaGEnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENvbG9yTWF0cml4RmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbi8vIEFtZXJpY2FuaXplZCBhbGlhc1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IENvbG9yTWF0cml4RmlsdGVyO1xuQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyYXlzY2FsZSA9IENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db2xvck1hdHJpeEZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFNpbXBsZXN0IGZpbHRlciAtIGFwcGxpZXMgYWxwaGFcbiAqXG4gKiBVc2UgdGhpcyBpbnN0ZWFkIG9mIENvbnRhaW5lcidzIGFscGhhIHByb3BlcnR5IHRvIGF2b2lkIHZpc3VhbCBsYXllcmluZyBvZiBpbmRpdmlkdWFsIGVsZW1lbnRzLlxuICogQWxwaGFGaWx0ZXIgYXBwbGllcyBhbHBoYSBldmVubHkgYWNyb3NzIHRoZSBlbnRpcmUgZGlzcGxheSBvYmplY3QgYW5kIGFueSBvcGFxdWUgZWxlbWVudHMgaXQgY29udGFpbnMuXG4gKiBJZiBlbGVtZW50cyBhcmUgbm90IG9wYXF1ZSwgdGhleSB3aWxsIGJsZW5kIHdpdGggZWFjaCBvdGhlciBhbnl3YXkuXG4gKlxuICogVmVyeSBoYW5keSBpZiB5b3Ugd2FudCB0byB1c2UgY29tbW9uIGZlYXR1cmVzIG9mIGFsbCBmaWx0ZXJzOlxuICpcbiAqIDEuIEFzc2lnbiBhIGJsZW5kTW9kZSB0byB0aGlzIGZpbHRlciwgYmxlbmQgYWxsIGVsZW1lbnRzIGluc2lkZSBkaXNwbGF5IG9iamVjdCB3aXRoIGJhY2tncm91bmQuXG4gKlxuICogMi4gVG8gdXNlIGNsaXBwaW5nIGluIGRpc3BsYXkgY29vcmRpbmF0ZXMsIGFzc2lnbiBhIGZpbHRlckFyZWEgdG8gdGhlIHNhbWUgY29udGFpbmVyIHRoYXQgaGFzIHRoaXMgZmlsdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEFscGhhRmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhBbHBoYUZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gQW1vdW50IG9mIGFscGhhIGZyb20gMCB0byAxLCB3aGVyZSAwIGlzIHRyYW5zcGFyZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gQWxwaGFGaWx0ZXIoKSB7XG4gICAgICAgIHZhciBhbHBoYSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMS4wO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBbHBoYUZpbHRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufScsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1QWxwaGE7XFxufVxcbicpKTtcblxuICAgICAgICBfdGhpcy5hbHBoYSA9IGFscGhhO1xuICAgICAgICBfdGhpcy5nbFNoYWRlcktleSA9ICdhbHBoYSc7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb2VmZmljaWVudCBmb3IgYWxwaGEgbXVsdGlwbGljYXRpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhBbHBoYUZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnYWxwaGEnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFscGhhRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEFscGhhRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWxwaGFGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0ludGVyYWN0aW9uRGF0YSA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25EYXRhJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnSW50ZXJhY3Rpb25EYXRhJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25EYXRhKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9JbnRlcmFjdGlvbk1hbmFnZXIgPSByZXF1aXJlKCcuL0ludGVyYWN0aW9uTWFuYWdlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0ludGVyYWN0aW9uTWFuYWdlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludGVyYWN0aW9uTWFuYWdlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfaW50ZXJhY3RpdmVUYXJnZXQgPSByZXF1aXJlKCcuL2ludGVyYWN0aXZlVGFyZ2V0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnaW50ZXJhY3RpdmVUYXJnZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnRlcmFjdGl2ZVRhcmdldCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEgPSByZXF1aXJlKCcuL0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfSW50ZXJhY3Rpb25FdmVudCA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25FdmVudCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0ludGVyYWN0aW9uRXZlbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnRlcmFjdGlvbkV2ZW50KS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0ludGVyYWN0aW9uRGF0YSA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25EYXRhJyk7XG5cbnZhciBfSW50ZXJhY3Rpb25EYXRhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludGVyYWN0aW9uRGF0YSk7XG5cbnZhciBfSW50ZXJhY3Rpb25FdmVudCA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25FdmVudCcpO1xuXG52YXIgX0ludGVyYWN0aW9uRXZlbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25FdmVudCk7XG5cbnZhciBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEgPSByZXF1aXJlKCcuL0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhJyk7XG5cbnZhciBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF9pbnRlcmFjdGl2ZVRhcmdldCA9IHJlcXVpcmUoJy4vaW50ZXJhY3RpdmVUYXJnZXQnKTtcblxudmFyIF9pbnRlcmFjdGl2ZVRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnRlcmFjdGl2ZVRhcmdldCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLy8gTWl4IGludGVyYWN0aXZlVGFyZ2V0IGludG8gY29yZS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgYWZ0ZXIgZGVwcmVjYXRpb24gaGFzIGJlZW4gaGFuZGxlZFxuY29yZS51dGlscy5taXhpbnMuZGVsYXlNaXhpbihjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLCBfaW50ZXJhY3RpdmVUYXJnZXQyLmRlZmF1bHQpO1xuXG52YXIgTU9VU0VfUE9JTlRFUl9JRCA9IDE7XG5cbi8vIGhlbHBlcnMgZm9yIGhpdFRlc3QoKSAtIG9ubHkgdXNlZCBpbnNpZGUgaGl0VGVzdCgpXG52YXIgaGl0VGVzdEV2ZW50ID0ge1xuICAgIHRhcmdldDogbnVsbCxcbiAgICBkYXRhOiB7XG4gICAgICAgIGdsb2JhbDogbnVsbFxuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGludGVyYWN0aW9uIG1hbmFnZXIgZGVhbHMgd2l0aCBtb3VzZSwgdG91Y2ggYW5kIHBvaW50ZXIgZXZlbnRzLiBBbnkgRGlzcGxheU9iamVjdCBjYW4gYmUgaW50ZXJhY3RpdmVcbiAqIGlmIGl0cyBpbnRlcmFjdGl2ZSBwYXJhbWV0ZXIgaXMgc2V0IHRvIHRydWVcbiAqIFRoaXMgbWFuYWdlciBhbHNvIHN1cHBvcnRzIG11bHRpdG91Y2guXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCByZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cblxudmFyIEludGVyYWN0aW9uTWFuYWdlciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gICAgX2luaGVyaXRzKEludGVyYWN0aW9uTWFuYWdlciwgX0V2ZW50RW1pdHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ8UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdD10cnVlXSAtIFNob3VsZCB0aGUgbWFuYWdlciBhdXRvbWF0aWNhbGx5IHByZXZlbnQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5PTEwXSAtIEZyZXF1ZW5jeSBpbmNyZWFzZXMgdGhlIGludGVyYWN0aW9uIGV2ZW50cyB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25NYW5hZ2VyKHJlbmRlcmVyLCBvcHRpb25zKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnRlcmFjdGlvbk1hbmFnZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGludGVyYWN0aW9uIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN5c3RlbVJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIGRlZmF1bHQgYnJvd3NlciBhY3Rpb25zIGF1dG9tYXRpY2FsbHkgYmUgcHJldmVudGVkLlxuICAgICAgICAgKiBEb2VzIG5vdCBhcHBseSB0byBwb2ludGVyIGV2ZW50cyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICogcHJldmVudERlZmF1bHQgb24gcG9pbnRlciBldmVudHMgc3RvcHMgbW91c2UgZXZlbnRzIGZyb20gZmlyaW5nXG4gICAgICAgICAqIFRodXMsIGZvciBldmVyeSBwb2ludGVyIGV2ZW50LCB0aGVyZSB3aWxsIGFsd2F5cyBiZSBlaXRoZXIgYSBtb3VzZSBvZiB0b3VjaCBldmVudCBhbG9uZ3NpZGUgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCA9IG9wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCA6IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyZXF1ZW5jeSBpbiBtaWxsaXNlY29uZHMgdGhhdCB0aGUgbW91c2Vtb3ZlLCBtb3Zlb3ZlciAmIG1vdXNlb3V0IGludGVyYWN0aW9uIGV2ZW50cyB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5ID0gb3B0aW9ucy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSB8fCAxMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vdXNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3VzZSA9IG5ldyBfSW50ZXJhY3Rpb25EYXRhMi5kZWZhdWx0KCk7XG4gICAgICAgIF90aGlzLm1vdXNlLmlkZW50aWZpZXIgPSBNT1VTRV9QT0lOVEVSX0lEO1xuXG4gICAgICAgIC8vIHNldHRpbmcgdGhlIG1vdXNlIHRvIHN0YXJ0IG9mZiBmYXIgb2ZmIHNjcmVlbiB3aWxsIG1lYW4gdGhhdCBtb3VzZSBvdmVyIGRvZXNcbiAgICAgICAgLy8gIG5vdCBnZXQgY2FsbGVkIGJlZm9yZSB3ZSBldmVuIG1vdmUgdGhlIG1vdXNlLlxuICAgICAgICBfdGhpcy5tb3VzZS5nbG9iYWwuc2V0KC05OTk5OTkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmVseSB0cmFja2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPG51bWJlcixQSVhJLmludGVyYXRpb24uSW50ZXJhY3Rpb25EYXRhPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSA9IHt9O1xuICAgICAgICBfdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbTU9VU0VfUE9JTlRFUl9JRF0gPSBfdGhpcy5tb3VzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhdGlvbi5JbnRlcmFjdGlvbkRhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRGF0YVBvb2wgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZXZlbnQgZGF0YSBvYmplY3QgdG8gaGFuZGxlIGFsbCB0aGUgZXZlbnQgdHJhY2tpbmcvZGlzcGF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXZlbnREYXRhID0gbmV3IF9JbnRlcmFjdGlvbkV2ZW50Mi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBET00gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcHJvcGVydHkgZGV0ZXJtaW5lcyBpZiBtb3VzZW1vdmUgYW5kIHRvdWNobW92ZSBldmVudHMgYXJlIGZpcmVkIG9ubHkgd2hlbiB0aGUgY3Vyc29yXG4gICAgICAgICAqIGlzIG92ZXIgdGhlIG9iamVjdC5cbiAgICAgICAgICogU2V0dGluZyB0byB0cnVlIHdpbGwgbWFrZSB0aGluZ3Mgd29yayBtb3JlIGluIGxpbmUgd2l0aCBob3cgdGhlIERPTSB2ZXJpc29uIHdvcmtzLlxuICAgICAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIGNhbiBtYWtlIHRoaW5ncyBlYXNpZXIgZm9yIHRoaW5ncyBsaWtlIGRyYWdnaW5nXG4gICAgICAgICAqIEl0IGlzIGN1cnJlbnRseSBzZXQgdG8gZmFsc2UgYXMgdGhpcyBpcyBob3cgUGl4aUpTIHVzZWQgdG8gd29yay4gVGhpcyB3aWxsIGJlIHNldCB0byB0cnVlIGluXG4gICAgICAgICAqIGZ1dHVyZSB2ZXJzaW9ucyBvZiBwaXhpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW92ZVdoZW5JbnNpZGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGF2ZSBldmVudHMgYmVlbiBhdHRhY2hlZCB0byB0aGUgZG9tIGVsZW1lbnQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgbW91c2UgaG92ZXJpbmcgb3ZlciB0aGUgcmVuZGVyZXI/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCB0b3VjaCBldmVudHNcbiAgICAgICAgICogaHR0cHM6Ly93d3cudzMub3JnL1RSL3RvdWNoLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCBwb2ludGVyIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvU3VibWlzc2lvbi9wb2ludGVyLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMgPSAhIXdpbmRvdy5Qb2ludGVyRXZlbnQ7XG5cbiAgICAgICAgLy8gdGhpcyB3aWxsIG1ha2UgaXQgc28gdGhhdCB5b3UgZG9uJ3QgaGF2ZSB0byBjYWxsIGJpbmQgYWxsIHRoZSB0aW1lXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyVXAgPSBfdGhpcy5vblBvaW50ZXJVcC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IF90aGlzLnByb2Nlc3NQb2ludGVyVXAuYmluZChfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyQ2FuY2VsID0gX3RoaXMub25Qb2ludGVyQ2FuY2VsLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IF90aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsLmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlckRvd24gPSBfdGhpcy5vblBvaW50ZXJEb3duLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSBfdGhpcy5wcm9jZXNzUG9pbnRlckRvd24uYmluZChfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyTW92ZSA9IF90aGlzLm9uUG9pbnRlck1vdmUuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IF90aGlzLnByb2Nlc3NQb2ludGVyTW92ZS5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJPdXQgPSBfdGhpcy5vblBvaW50ZXJPdXQuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IF90aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dC5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJPdmVyID0gX3RoaXMub25Qb2ludGVyT3Zlci5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGljdGlvbmFyeSBvZiBob3cgZGlmZmVyZW50IGN1cnNvciBtb2RlcyBhcmUgaGFuZGxlZC4gU3RyaW5ncyBhcmUgaGFuZGxlZCBhcyBDU1MgY3Vyc29yXG4gICAgICAgICAqIHZhbHVlcywgb2JqZWN0cyBhcmUgaGFuZGxlZCBhcyBkaWN0aW9uYXJpZXMgb2YgQ1NTIHZhbHVlcyBmb3IgaW50ZXJhY3Rpb25ET01FbGVtZW50LFxuICAgICAgICAgKiBhbmQgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW5zdGVhZCBvZiBjaGFuZ2luZyB0aGUgQ1NTLlxuICAgICAgICAgKiBEZWZhdWx0IENTUyBjdXJzb3IgdmFsdWVzIGFyZSBwcm92aWRlZCBmb3IgJ2RlZmF1bHQnIGFuZCAncG9pbnRlcicgbW9kZXMuXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCAoc3RyaW5nfEZ1bmN0aW9ufE9iamVjdC48c3RyaW5nLCBzdHJpbmc+KT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJzb3JTdHlsZXMgPSB7XG4gICAgICAgICAgICBkZWZhdWx0OiAnaW5oZXJpdCcsXG4gICAgICAgICAgICBwb2ludGVyOiAncG9pbnRlcidcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vZGUgb2YgdGhlIGN1cnNvciB0aGF0IGlzIGJlaW5nIHVzZWQuXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGlzIGlzIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnNvciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGVtcFBvaW50ID0gbmV3IGNvcmUuUG9pbnQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpby5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gMTtcblxuICAgICAgICBfdGhpcy5zZXRUYXJnZXRFbGVtZW50KF90aGlzLnJlbmRlcmVyLnZpZXcsIF90aGlzLnJlbmRlcmVyLnJlc29sdXRpb24pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHRjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZVxuICAgICAgICAgKiBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW21vdXNlZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNldXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFtyaWdodGRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogTm90IGFsd2F5cyBmaXJlZCB3aGVuIHNvbWUgYnV0dG9ucyBhcmUgaGVsZCBkb3duIHdoaWxlIG90aGVycyBhcmUgcmVsZWFzZWQuIEluIHRob3NlIGNhc2VzLFxuICAgICAgICAgKiB1c2UgW21vdXNlZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2Vkb3dufSBhbmRcbiAgICAgICAgICogW21vdXNldXBde0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNldXB9IGluc3RlYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHBvaW50ZXIgZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnRhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3BvaW50ZXJkb3duXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDpwb2ludGVyZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaHN0YXJ0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoZW5kXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSB0b3VjaFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIG91dHNpZGUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbdG91Y2hzdGFydF17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6dG91Y2hzdGFydH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGVuZG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBtb3ZlZCBhbG9uZyB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaG1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheS5cbiAgICAgICAgICogb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZWRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIG9uIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHRkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZXVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0dXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb25cbiAgICAgICAgICogdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHRjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZVxuICAgICAgICAgKiBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW21vdXNlZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50Om1vdXNlZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNldXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFtyaWdodGRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDpyaWdodGRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodHVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2VvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2VvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHBvaW50ZXIgZXZlbnQuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbcG9pbnRlcmRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDpwb2ludGVyZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hzdGFydFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoZW5kXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSB0b3VjaC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgb3V0c2lkZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFt0b3VjaHN0YXJ0XXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6dG91Y2hzdGFydH0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoZW5kb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIG1vdmVkIGFsb25nIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2htb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGl0IHRlc3RzIGEgcG9pbnQgYWdhaW5zdCB0aGUgZGlzcGxheSB0cmVlLCByZXR1cm5pbmcgdGhlIGZpcnN0IGludGVyYWN0aXZlIG9iamVjdCB0aGF0IGlzIGhpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gZ2xvYmFsUG9pbnQgLSBBIHBvaW50IHRvIGhpdCB0ZXN0IHdpdGgsIGluIGdsb2JhbCBzcGFjZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBbcm9vdF0gLSBUaGUgcm9vdCBkaXNwbGF5IG9iamVjdCB0byBzdGFydCBmcm9tLiBJZiBvbWl0dGVkLCBkZWZhdWx0c1xuICAgICAqIHRvIHRoZSBsYXN0IHJlbmRlcmVkIHJvb3Qgb2YgdGhlIGFzc29jaWF0ZWQgcmVuZGVyZXIuXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgaGl0IGRpc3BsYXkgb2JqZWN0LCBpZiBhbnkuXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuaGl0VGVzdCA9IGZ1bmN0aW9uIGhpdFRlc3QoZ2xvYmFsUG9pbnQsIHJvb3QpIHtcbiAgICAgICAgLy8gY2xlYXIgdGhlIHRhcmdldCBmb3Igb3VyIGhpdCB0ZXN0XG4gICAgICAgIGhpdFRlc3RFdmVudC50YXJnZXQgPSBudWxsO1xuICAgICAgICAvLyBhc3NpZ24gdGhlIGdsb2JhbCBwb2ludFxuICAgICAgICBoaXRUZXN0RXZlbnQuZGF0YS5nbG9iYWwgPSBnbG9iYWxQb2ludDtcbiAgICAgICAgLy8gZW5zdXJlIHNhZmV0eSBvZiB0aGUgcm9vdFxuICAgICAgICBpZiAoIXJvb3QpIHtcbiAgICAgICAgICAgIHJvb3QgPSB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcnVuIHRoZSBoaXQgdGVzdFxuICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShoaXRUZXN0RXZlbnQsIHJvb3QsIG51bGwsIHRydWUpO1xuICAgICAgICAvLyByZXR1cm4gb3VyIGZvdW5kIG9iamVjdCAtIGl0J2xsIGJlIG51bGwgaWYgd2UgZGlkbid0IGhpdCBhbnl0aGluZ1xuXG4gICAgICAgIHJldHVybiBoaXRUZXN0RXZlbnQudGFyZ2V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBET00gZWxlbWVudCB3aGljaCB3aWxsIHJlY2VpdmUgbW91c2UvdG91Y2ggZXZlbnRzLiBUaGlzIGlzIHVzZWZ1bCBmb3Igd2hlbiB5b3UgaGF2ZVxuICAgICAqIG90aGVyIERPTSBlbGVtZW50cyBvbiB0b3Agb2YgdGhlIHJlbmRlcmVycyBDYW52YXMgZWxlbWVudC4gV2l0aCB0aGlzIHlvdSdsbCBiZSBiYWxlIHRvIGRlbGV0ZWdhdGVcbiAgICAgKiBhbm90aGVyIERPTSBlbGVtZW50IHRvIHJlY2VpdmUgdGhvc2UgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gZWxlbWVudCAtIHRoZSBET00gZWxlbWVudCB3aGljaCB3aWxsIHJlY2VpdmUgbW91c2UgYW5kIHRvdWNoIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgbmV3IGVsZW1lbnQgKHJlbGF0aXZlIHRvIHRoZSBjYW52YXMpLlxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNldFRhcmdldEVsZW1lbnQgPSBmdW5jdGlvbiBzZXRUYXJnZXRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcblxuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLmFkZEV2ZW50cygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYWxsIHRoZSBET00gZXZlbnRzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uIGFkZEV2ZW50cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29yZS50aWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgY29yZS5VUERBVEVfUFJJT1JJVFkuSU5URVJBQ1RJT04pO1xuXG4gICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtY29udGVudC16b29taW5nJ10gPSAnbm9uZSc7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLXRvdWNoLWFjdGlvbiddID0gJ25vbmUnO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsndG91Y2gtYWN0aW9uJ10gPSAnbm9uZSc7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlc2UgZXZlbnRzIGFyZSBhZGRlZCBmaXJzdCwgc28gdGhhdCBpZiBwb2ludGVyIGV2ZW50cyBhcmUgbm9ybWFsaXNlZCwgdGhleSBhcmUgZmlyZWRcbiAgICAgICAgICogaW4gdGhlIHNhbWUgb3JkZXIgYXMgbm9uLW5vcm1hbGlzZWQgZXZlbnRzLiBpZS4gcG9pbnRlciBldmVudCAxc3QsIG1vdXNlIC8gdG91Y2ggMm5kXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICAvLyBwb2ludGVyb3V0IGlzIGZpcmVkIGluIGFkZGl0aW9uIHRvIHBvaW50ZXJ1cCAoZm9yIHRvdWNoIGV2ZW50cykgYW5kIHBvaW50ZXJjYW5jZWxcbiAgICAgICAgICAgIC8vIHdlIGFscmVhZHkgaGFuZGxlIHRob3NlLCBzbyBmb3IgdGhlIHB1cnBvc2VzIG9mIHdoYXQgd2UgZG8gaW4gb25Qb2ludGVyT3V0LCB3ZSBvbmx5XG4gICAgICAgICAgICAvLyBjYXJlIGFib3V0IHRoZSBwb2ludGVybGVhdmUgZXZlbnRcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFsd2F5cyBsb29rIGRpcmVjdGx5IGZvciB0b3VjaCBldmVudHMgc28gdGhhdCB3ZSBjYW4gcHJvdmlkZSBvcmlnaW5hbCBkYXRhXG4gICAgICAgIC8vIEluIGEgZnV0dXJlIHZlcnNpb24gd2Ugc2hvdWxkIGNoYW5nZSB0aGlzIHRvIGJlaW5nIGp1c3QgYSBmYWxsYmFjayBhbmQgcmVseSBzb2xlbHkgb25cbiAgICAgICAgLy8gUG9pbnRlckV2ZW50cyB3aGVuZXZlciBhdmFpbGFibGVcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSBET00gZXZlbnRzIHRoYXQgd2VyZSBwcmV2aW91c2x5IHJlZ2lzdGVyZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRzID0gZnVuY3Rpb24gcmVtb3ZlRXZlbnRzKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb3JlLnRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcblxuICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLWNvbnRlbnQtem9vbWluZyddID0gJyc7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLXRvdWNoLWFjdGlvbiddID0gJyc7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyd0b3VjaC1hY3Rpb24nXSA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc3RhdGUgb2YgaW50ZXJhY3RpdmUgb2JqZWN0cy5cbiAgICAgKiBJbnZva2VkIGJ5IGEgdGhyb3R0bGVkIHRpY2tlciB1cGRhdGUgZnJvbSB7QGxpbmsgUElYSS50aWNrZXIuc2hhcmVkfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSB0aW1lIGRlbHRhIHNpbmNlIGxhc3QgdGlja1xuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShkZWx0YVRpbWUpIHtcbiAgICAgICAgdGhpcy5fZGVsdGFUaW1lICs9IGRlbHRhVGltZTtcblxuICAgICAgICBpZiAodGhpcy5fZGVsdGFUaW1lIDwgdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGVsdGFUaW1lID0gMDtcblxuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGUgdXNlciBtb3ZlIHRoZSBtb3VzZSB0aGlzIGNoZWNrIGhhcyBhbHJlYWR5IGJlZW4gZG9uZSB1c2luZyB0aGUgbW91c2UgbW92ZSFcbiAgICAgICAgaWYgKHRoaXMuZGlkTW92ZSkge1xuICAgICAgICAgICAgdGhpcy5kaWRNb3ZlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcblxuICAgICAgICAvLyBSZXNldHMgdGhlIGZsYWcgYXMgc2V0IGJ5IGEgc3RvcFByb3BhZ2F0aW9uIGNhbGwuIFRoaXMgZmxhZyBpcyB1c3VhbGx5IHJlc2V0IGJ5IGEgdXNlciBpbnRlcmFjdGlvbiBvZiBhbnkga2luZCxcbiAgICAgICAgLy8gYnV0IHRoZXJlIHdhcyBhIHNjZW5hcmlvIG9mIGEgZGlzcGxheSBvYmplY3QgbW92aW5nIHVuZGVyIGEgc3RhdGljIG1vdXNlIGN1cnNvci5cbiAgICAgICAgLy8gSW4gdGhpcyBjYXNlLCBtb3VzZW92ZXIgYW5kIG1vdXNlZXZlbnRzIHdvdWxkIG5vdCBwYXNzIHRoZSBmbGFnIHRlc3QgaW4gZGlzcGF0Y2hFdmVudCBmdW5jdGlvblxuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEuaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFba107XG5cbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgJiYgaW50ZXJhY3Rpb25EYXRhLnBvaW50ZXJUeXBlICE9PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcik7XG5cbiAgICAgICAgLy8gVE9ET1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IGN1cnNvciBtb2RlLCBoYW5kbGluZyBhbnkgY2FsbGJhY2tzIG9yIENTUyBzdHlsZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBjdXJzb3IgbW9kZSwgYSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnlcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5zZXRDdXJzb3JNb2RlID0gZnVuY3Rpb24gc2V0Q3Vyc29yTW9kZShtb2RlKSB7XG4gICAgICAgIG1vZGUgPSBtb2RlIHx8ICdkZWZhdWx0JztcbiAgICAgICAgLy8gaWYgdGhlIG1vZGUgZGlkbid0IGFjdHVhbGx5IGNoYW5nZSwgYmFpbCBlYXJseVxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9PT0gbW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudEN1cnNvck1vZGUgPSBtb2RlO1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmN1cnNvclN0eWxlc1ttb2RlXTtcblxuICAgICAgICAvLyBvbmx5IGRvIHRoaW5ncyBpZiB0aGVyZSBpcyBhIGN1cnNvciBzdHlsZSBmb3IgaXRcbiAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBzdHlsZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yoc3R5bGUpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RyaW5nIHN0eWxlcyBhcmUgaGFuZGxlZCBhcyBjdXJzb3IgQ1NTXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IHN0eWxlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIC8vIGZ1bmN0aW9ucyBhcmUganVzdCBjYWxsZWQsIGFuZCBwYXNzZWQgdGhlIGN1cnNvciBtb2RlXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlKG1vZGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCBpcyBhbiBvYmplY3QsIGFzc3VtZSB0aGF0IGl0IGlzIGEgZGljdGlvbmFyeSBvZiBDU1Mgc3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICAvLyBhcHBseSBpdCB0byB0aGUgaW50ZXJhY3Rpb25ET01FbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUsIHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZGUgPT09ICdzdHJpbmcnICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jdXJzb3JTdHlsZXMsIG1vZGUpKSB7XG4gICAgICAgICAgICAvLyBpZiBpdCBtb2RlIGlzIGEgc3RyaW5nIChub3QgYSBTeW1ib2wpIGFuZCBjdXJzb3JTdHlsZXMgZG9lc24ndCBoYXZlIGFueSBlbnRyeVxuICAgICAgICAgICAgLy8gZm9yIHRoZSBtb2RlLCB0aGVuIGFzc3VtZSB0aGF0IHRoZSBkZXYgd2FudHMgaXQgdG8gYmUgQ1NTIGZvciB0aGUgY3Vyc29yLlxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gbW9kZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IG9uIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyBpbnRlcmFjdGVkIHdpdGhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXkgb2JqZWN0IGluIHF1ZXN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50U3RyaW5nIC0gdGhlIG5hbWUgb2YgdGhlIGV2ZW50IChlLmcsIG1vdXNlZG93bilcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnREYXRhIC0gdGhlIGV2ZW50IGRhdGEgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZywgZXZlbnREYXRhKSB7XG4gICAgICAgIGlmICghZXZlbnREYXRhLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIGV2ZW50RGF0YS5jdXJyZW50VGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgIGV2ZW50RGF0YS50eXBlID0gZXZlbnRTdHJpbmc7XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QuZW1pdChldmVudFN0cmluZywgZXZlbnREYXRhKTtcblxuICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdFtldmVudFN0cmluZ10oZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHggYW5kIHkgY29vcmRzIGZyb20gYSBET00gb2JqZWN0IGFuZCBtYXBzIHRoZW0gY29ycmVjdGx5IHRvIHRoZSBQaXhpSlMgdmlldy4gVGhlXG4gICAgICogcmVzdWx0aW5nIHZhbHVlIGlzIHN0b3JlZCBpbiB0aGUgcG9pbnQuIFRoaXMgdGFrZXMgaW50byBhY2NvdW50IHRoZSBmYWN0IHRoYXQgdGhlIERPTVxuICAgICAqIGVsZW1lbnQgY291bGQgYmUgc2NhbGVkIGFuZCBwb3NpdGlvbmVkIGFueXdoZXJlIG9uIHRoZSBzY3JlZW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0aGF0IHRoZSByZXN1bHQgd2lsbCBiZSBzdG9yZWQgaW5cbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHggLSB0aGUgeCBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB5IC0gdGhlIHkgY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm1hcFBvc2l0aW9uVG9Qb2ludCA9IGZ1bmN0aW9uIG1hcFBvc2l0aW9uVG9Qb2ludChwb2ludCwgeCwgeSkge1xuICAgICAgICB2YXIgcmVjdCA9IHZvaWQgMDtcblxuICAgICAgICAvLyBJRSAxMSBmaXhcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICByZWN0ID0geyB4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWN0ID0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzb2x1dGlvbk11bHRpcGxpZXIgPSBuYXZpZ2F0b3IuaXNDb2Nvb25KUyA/IHRoaXMucmVzb2x1dGlvbiA6IDEuMCAvIHRoaXMucmVzb2x1dGlvbjtcblxuICAgICAgICBwb2ludC54ID0gKHggLSByZWN0LmxlZnQpICogKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LndpZHRoIC8gcmVjdC53aWR0aCkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICAgICAgcG9pbnQueSA9ICh5IC0gcmVjdC50b3ApICogKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmhlaWdodCAvIHJlY3QuaGVpZ2h0KSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHByb3ZpZGVzIGEgbmVhdCB3YXkgb2YgY3Jhd2xpbmcgdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIHJ1bm5pbmcgYVxuICAgICAqIHNwZWNpZmllZCBmdW5jdGlvbiBvbiBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0cyBpdCBmaW5kcy4gSXQgd2lsbCBhbHNvIHRha2UgY2FyZSBvZiBoaXRcbiAgICAgKiB0ZXN0aW5nIHRoZSBpbnRlcmFjdGl2ZSBvYmplY3RzIGFuZCBwYXNzZXMgdGhlIGhpdCBhY3Jvc3MgaW4gdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICogIHRoYXQgd2lsbCBiZSBoaXQgdGVzdCAocmVjdXJzaXZlbHkgY3Jhd2xzIGl0cyBjaGlsZHJlbilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuY10gLSB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGludGVyYWN0aXZlIG9iamVjdC4gVGhlXG4gICAgICogIGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QgYW5kIGhpdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoaXRUZXN0XSAtIHRoaXMgaW5kaWNhdGVzIGlmIHRoZSBvYmplY3RzIGluc2lkZSBzaG91bGQgYmUgaGl0IHRlc3QgYWdhaW5zdCB0aGUgcG9pbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbnRlcmFjdGl2ZV0gLSBXaGV0aGVyIHRoZSBkaXNwbGF5T2JqZWN0IGlzIGludGVyYWN0aXZlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gcmV0dXJucyB0cnVlIGlmIHRoZSBkaXNwbGF5T2JqZWN0IGhpdCB0aGUgcG9pbnRcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzSW50ZXJhY3RpdmUgPSBmdW5jdGlvbiBwcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCwgaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0IHx8ICFkaXNwbGF5T2JqZWN0LnZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb2ludCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5nbG9iYWw7XG5cbiAgICAgICAgLy8gVG9vayBhIGxpdHRsZSB3aGlsZSB0byByZXdvcmsgdGhpcyBmdW5jdGlvbiBjb3JyZWN0bHkhIEJ1dCBub3cgaXQgaXMgZG9uZSBhbmQgbmljZSBhbmQgb3B0aW1pc2VkLiBeX15cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIG5vdyBsb29wIHRocm91Z2ggYWxsIG9iamVjdHMgYW5kIHRoZW4gb25seSBoaXQgdGVzdCB0aGUgb2JqZWN0cyBpdCBIQVNcbiAgICAgICAgLy8gdG8sIG5vdCBhbGwgb2YgdGhlbS4gTVVDSCBmYXN0ZXIuLlxuICAgICAgICAvLyBBbiBvYmplY3Qgd2lsbCBiZSBoaXQgdGVzdCBpZiB0aGUgZm9sbG93aW5nIGlzIHRydWU6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIDE6IEl0IGlzIGludGVyYWN0aXZlLlxuICAgICAgICAvLyAyOiBJdCBiZWxvbmdzIHRvIGEgcGFyZW50IHRoYXQgaXMgaW50ZXJhY3RpdmUgQU5EIG9uZSBvZiB0aGUgcGFyZW50cyBjaGlsZHJlbiBoYXZlIG5vdCBhbHJlYWR5IGJlZW4gaGl0LlxuICAgICAgICAvL1xuICAgICAgICAvLyBBcyBhbm90aGVyIGxpdHRsZSBvcHRpbWlzYXRpb24gb25jZSBhbiBpbnRlcmFjdGl2ZSBvYmplY3QgaGFzIGJlZW4gaGl0IHdlIGNhbiBjYXJyeSBvblxuICAgICAgICAvLyB0aHJvdWdoIHRoZSBzY2VuZWdyYXBoLCBidXQgd2Uga25vdyB0aGF0IHRoZXJlIHdpbGwgYmUgbm8gbW9yZSBoaXRzISBTbyB3ZSBjYW4gYXZvaWQgZXh0cmEgaGl0IHRlc3RzXG4gICAgICAgIC8vIEEgZmluYWwgb3B0aW1pc2F0aW9uIGlzIHRoYXQgYW4gb2JqZWN0IGlzIG5vdCBoaXQgdGVzdCBkaXJlY3RseSBpZiBhIGNoaWxkIGhhcyBhbHJlYWR5IGJlZW4gaGl0LlxuXG4gICAgICAgIGludGVyYWN0aXZlID0gZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSB8fCBpbnRlcmFjdGl2ZTtcblxuICAgICAgICB2YXIgaGl0ID0gZmFsc2U7XG4gICAgICAgIHZhciBpbnRlcmFjdGl2ZVBhcmVudCA9IGludGVyYWN0aXZlO1xuXG4gICAgICAgIC8vIEZsYWcgaGVyZSBjYW4gc2V0IHRvIGZhbHNlIGlmIHRoZSBldmVudCBpcyBvdXRzaWRlIHRoZSBwYXJlbnRzIGhpdEFyZWEgb3IgbWFza1xuICAgICAgICB2YXIgaGl0VGVzdENoaWxkcmVuID0gdHJ1ZTtcblxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGhpdEFyZWEsIG5vIG5lZWQgdG8gdGVzdCBhZ2FpbnN0IGFueXRoaW5nIGVsc2UgaWYgdGhlIHBvaW50ZXIgaXMgbm90IHdpdGhpbiB0aGUgaGl0QXJlYVxuICAgICAgICAvLyBUaGVyZSBpcyBhbHNvIG5vIGxvbmdlciBhIG5lZWQgdG8gaGl0VGVzdCBjaGlsZHJlbi5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuaGl0QXJlYSkge1xuICAgICAgICAgICAgaWYgKGhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGhpcy5fdGVtcFBvaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYS5jb250YWlucyh0aGlzLl90ZW1wUG9pbnQueCwgdGhpcy5fdGVtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdENoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnRlcmFjdGl2ZVBhcmVudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgbWFzaywgbm8gbmVlZCB0byB0ZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBtYXNrXG4gICAgICAgIGVsc2UgaWYgKGRpc3BsYXlPYmplY3QuX21hc2spIHtcbiAgICAgICAgICAgICAgICBpZiAoaGl0VGVzdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuX21hc2suY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdFRlc3RDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIC8vICoqIEZSRUUgVElQICoqISBJZiBhbiBvYmplY3QgaXMgbm90IGludGVyYWN0aXZlIG9yIGhhcyBubyBidXR0b25zIGluIGl0XG4gICAgICAgIC8vIChzdWNoIGFzIGEgZ2FtZSBzY2VuZSEpIHNldCBpbnRlcmFjdGl2ZUNoaWxkcmVuIHRvIGZhbHNlIGZvciB0aGF0IGRpc3BsYXlPYmplY3QuXG4gICAgICAgIC8vIFRoaXMgd2lsbCBhbGxvdyBQaXhpSlMgdG8gY29tcGxldGVseSBpZ25vcmUgYW5kIGJ5cGFzcyBjaGVja2luZyB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW4uXG4gICAgICAgIGlmIChoaXRUZXN0Q2hpbGRyZW4gJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZUNoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICAgICAgLy8gdGltZSB0byBnZXQgcmVjdXJzaXZlLi4gaWYgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBpZiBzb21ldGhpbmcgaXMgaGl0Li5cbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRIaXQgPSB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCBjaGlsZCwgZnVuYywgaGl0VGVzdCwgaW50ZXJhY3RpdmVQYXJlbnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkSGl0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGl0cyBhIGdvb2QgaWRlYSB0byBjaGVjayBpZiBhIGNoaWxkIGhhcyBsb3N0IGl0cyBwYXJlbnQuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgaXQgaGFzIGJlZW4gcmVtb3ZlZCB3aGlsc3QgbG9vcGluZyBzbyBpdHMgYmVzdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnkgbW9yZSBvYmplY3RzIGluIHRoaXMgY29udGFpbmVyIGFzIHdlIHdlXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdyBrbm93IHRoZSBwYXJlbnQgaGFzIGJlZW4gaGl0XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGNoaWxkIGlzIGludGVyYWN0aXZlICwgdGhhdCBtZWFucyB0aGF0IHRoZSBvYmplY3QgaGl0IHdhcyBhY3R1YWxseVxuICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcmFjdGl2ZSBhbmQgbm90IGp1c3QgdGhlIGNoaWxkIG9mIGFuIGludGVyYWN0aXZlIG9iamVjdC5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnl0aGluZyBlbHNlLiBXZSBzdGlsbCBuZWVkIHRvIHJ1blxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdWdoIGFsbCBvYmplY3RzLCBidXQgd2UgZG9uJ3QgbmVlZCB0byBwZXJmb3JtIGFueSBoaXQgdGVzdHMuXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkSGl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm8gcG9pbnQgcnVubmluZyB0aGlzIGlmIHRoZSBpdGVtIGlzIG5vdCBpbnRlcmFjdGl2ZSBvciBkb2VzIG5vdCBoYXZlIGFuIGludGVyYWN0aXZlIHBhcmVudC5cbiAgICAgICAgaWYgKGludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgaGl0IHRlc3RpbmcgKGFzIGluIHdlIGhhdmUgbm8gaGl0IGFueSBvYmplY3RzIHlldClcbiAgICAgICAgICAgIC8vIFdlIGFsc28gZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBoaXQgdGVzdGluZyBpZiBvbmNlIG9mIHRoZSBkaXNwbGF5T2JqZWN0cyBjaGlsZHJlblxuICAgICAgICAgICAgLy8gaGFzIGFscmVhZHkgYmVlbiBoaXQgLSBidXQgb25seSBpZiBpdCB3YXMgaW50ZXJhY3RpdmUsIG90aGVyd2lzZSB3ZSBuZWVkIHRvIGtlZXBcbiAgICAgICAgICAgIC8vIGxvb2tpbmcgZm9yIGFuIGludGVyYWN0aXZlIGNoaWxkLCBqdXN0IGluIGNhc2Ugd2UgaGl0IG9uZVxuICAgICAgICAgICAgaWYgKGhpdFRlc3QgJiYgIWludGVyYWN0aW9uRXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSB0ZXN0ZWQgYWdhaW5zdCBoaXRBcmVhIGlmIGl0IGlzIGRlZmluZWRcbiAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYSAmJiBkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhpdCAmJiAhaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC50YXJnZXQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChmdW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmMoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgISFoaXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBwcmVzc2VkIGRvd24gb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcHJlc3NlZCBkb3duXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyRG93biA9IGZ1bmN0aW9uIG9uUG9pbnRlckRvd24ob3JpZ2luYWxFdmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTm8gbmVlZCB0byBwcmV2ZW50IGRlZmF1bHQgb24gbmF0dXJhbCBwb2ludGVyIGV2ZW50cywgYXMgdGhlcmUgYXJlIG5vIHNpZGUgZWZmZWN0c1xuICAgICAgICAgKiBOb3JtYWxpemVkIGV2ZW50cywgaG93ZXZlciwgbWF5IGhhdmUgdGhlIGRvdWJsZSBtb3VzZWRvd24vdG91Y2hzdGFydCBpc3N1ZSBvbiB0aGUgbmF0aXZlIGFuZHJvaWQgYnJvd3NlcixcbiAgICAgICAgICogc28gc3RpbGwgbmVlZCB0byBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8vIEd1YXJhbnRlZWQgdGhhdCB0aGVyZSB3aWxsIGJlIGF0IGxlYXN0IG9uZSBldmVudCBpbiBldmVudHMsIGFuZCBhbGwgZXZlbnRzIG11c3QgaGF2ZSB0aGUgc2FtZSBwb2ludGVyIHR5cGVcblxuICAgICAgICBpZiAodGhpcy5hdXRvUHJldmVudERlZmF1bHQgJiYgZXZlbnRzWzBdLmlzTm9ybWFsaXplZCkge1xuICAgICAgICAgICAgb3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyRG93biwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcmRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgndG91Y2hzdGFydCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZW1pdCBhIG1vdXNlIGV2ZW50IGZvciBcInBlblwiIHBvaW50ZXJzLCB0aGUgd2F5IGEgYnJvd3NlciB3b3VsZCBlbWl0IGEgZmFsbGJhY2sgZXZlbnRcbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgZG93biBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlckRvd24gPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlckRvd24oaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEyLmRlZmF1bHQoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hzdGFydCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBkYXRhLmJ1dHRvbiA9PT0gMjtcblxuICAgICAgICAgICAgICAgIGlmIChpc1JpZ2h0QnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXS5yaWdodERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXS5sZWZ0RG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHRkb3duJyA6ICdtb3VzZWRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNhbmNlbGxlZCAtIHRydWUgaWYgdGhlIHBvaW50ZXIgaXMgY2FuY2VsbGVkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIEZ1bmN0aW9uIHBhc3NlZCB0byB7QGxpbmsgcHJvY2Vzc0ludGVyYWN0aXZlfVxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlckNvbXBsZXRlID0gZnVuY3Rpb24gb25Qb2ludGVyQ29tcGxldGUob3JpZ2luYWxFdmVudCwgY2FuY2VsbGVkLCBmdW5jKSB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGUgZXZlbnQgd2Fzbid0IHRhcmdldGluZyBvdXIgY2FudmFzLCB0aGVuIGNvbnNpZGVyIGl0IHRvIGJlIHBvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgLy8gaW4gYWxsIGNhc2VzICh1bmxlc3MgaXQgd2FzIGEgcG9pbnRlcmNhbmNlbClcbiAgICAgICAgdmFyIGV2ZW50QXBwZW5kID0gb3JpZ2luYWxFdmVudC50YXJnZXQgIT09IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID8gJ291dHNpZGUnIDogJyc7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIC8vIHBlcmZvcm0gaGl0IHRlc3RpbmcgZm9yIGV2ZW50cyB0YXJnZXRpbmcgb3VyIGNhbnZhcyBvciBjYW5jZWwgZXZlbnRzXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIGZ1bmMsIGNhbmNlbGxlZCB8fCAhZXZlbnRBcHBlbmQpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoY2FuY2VsbGVkID8gJ3BvaW50ZXJjYW5jZWwnIDogJ3BvaW50ZXJ1cCcgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcblxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0dXAnICsgZXZlbnRBcHBlbmQgOiAnbW91c2V1cCcgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGNhbmNlbGxlZCA/ICd0b3VjaGNhbmNlbCcgOiAndG91Y2hlbmQnICsgZXZlbnRBcHBlbmQsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudC5wb2ludGVySWQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIGNhbmNlbGxlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiBvblBvaW50ZXJDYW5jZWwoZXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCB0cnVlLCB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgY2FuY2VsIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyQ2FuY2VsKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyY2FuY2VsJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGNhbmNlbCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyByZWxlYXNlZCBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJVcCA9IGZ1bmN0aW9uIG9uUG9pbnRlclVwKGV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDb21wbGV0ZShldmVudCwgZmFsc2UsIHRoaXMucHJvY2Vzc1BvaW50ZXJVcCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIHVwIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyVXAgPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlclVwKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICB2YXIgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuXG4gICAgICAgIHZhciBpc1RvdWNoID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcblxuICAgICAgICB2YXIgaXNNb3VzZSA9IGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3Blbic7XG4gICAgICAgIC8vIG5lZWQgdG8gdHJhY2sgbW91c2UgZG93biBzdGF0dXMgaW4gdGhlIG1vdXNlIGJsb2NrIHNvIHRoYXQgd2UgY2FuIGVtaXRcbiAgICAgICAgLy8gZXZlbnQgaW4gYSBsYXRlciBibG9ja1xuICAgICAgICB2YXIgaXNNb3VzZVRhcCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIE1vdXNlIG9ubHlcbiAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgIHZhciBmbGFncyA9IF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YTIuZGVmYXVsdC5GTEFHUztcblxuICAgICAgICAgICAgdmFyIHRlc3QgPSBpc1JpZ2h0QnV0dG9uID8gZmxhZ3MuUklHSFRfRE9XTiA6IGZsYWdzLkxFRlRfRE9XTjtcblxuICAgICAgICAgICAgdmFyIGlzRG93biA9IHRyYWNraW5nRGF0YSAhPT0gdW5kZWZpbmVkICYmIHRyYWNraW5nRGF0YS5mbGFncyAmIHRlc3Q7XG5cbiAgICAgICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwJyA6ICdtb3VzZXVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0Y2xpY2snIDogJ2NsaWNrJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgY2FuIGNvbmZpcm0gdGhhdCB0aGUgbW91c2Vkb3duIGhhcHBlbmVkIG9uIHRoaXMgb2JqZWN0LCBmbGFnIGZvciBsYXRlciBlbWl0IG9mIHBvaW50ZXJ0YXBcbiAgICAgICAgICAgICAgICAgICAgaXNNb3VzZVRhcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0Rvd24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwb3V0c2lkZScgOiAnbW91c2V1cG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgZG93biBzdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1JpZ2h0QnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5yaWdodERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEubGVmdERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQb2ludGVycyBhbmQgVG91Y2hlcywgYW5kIE1vdXNlXG4gICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZCcsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gZW1pdCBwb2ludGVydGFwIGlmIG5vdCBhIG1vdXNlLCBvciBpZiB0aGUgbW91c2UgYmxvY2sgZGVjaWRlZCBpdCB3YXMgYSB0YXBcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW91c2UgfHwgaXNNb3VzZVRhcCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG91Y2hlcyBhcmUgbm8gbG9uZ2VyIG92ZXIgKGlmIHRoZXkgZXZlciB3ZXJlKSB3aGVuIHdlIGdldCB0aGUgdG91Y2hlbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGVuc3VyZSB0aGF0IHdlIGRvbid0IGtlZXAgcHJldGVuZGluZyB0aGF0IHRoZXkgYXJlXG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPbmx5IHJlbW92ZSB0aGUgdHJhY2tpbmcgZGF0YSBpZiB0aGVyZSBpcyBubyBvdmVyL2Rvd24gc3RhdGUgc3RpbGwgYXNzb2NpYXRlZCB3aXRoIGl0XG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgJiYgdHJhY2tpbmdEYXRhLm5vbmUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgbW92aW5nXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyTW92ZSA9IGZ1bmN0aW9uIG9uUG9pbnRlck1vdmUob3JpZ2luYWxFdmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuZGlkTW92ZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGl2ZSA9IGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnID8gdGhpcy5tb3ZlV2hlbkluc2lkZSA6IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUsIGludGVyYWN0aXZlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgdGhpcy5lbWl0KCd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHRoaXMuZW1pdCgnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuXG4gICAgICAgICAgICAvLyBUT0RPIEJVRyBmb3IgcGFyZW50cyBpbnRlcmFjdGl2ZSBvYmplY3QgKGJvcmRlciBvcmRlciBpc3N1ZSlcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBtb3ZlIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyTW92ZSA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyTW92ZShpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuXG4gICAgICAgIHZhciBpc01vdXNlID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJztcblxuICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5tb3ZlV2hlbkluc2lkZSB8fCBoaXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKSB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNobW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzTW91c2UpIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92ZWQgb3V0IG9mIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYmVpbmcgbW92ZWQgb3V0XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyT3V0ID0gZnVuY3Rpb24gb25Qb2ludGVyT3V0KG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgLy8gT25seSBtb3VzZSBhbmQgcG9pbnRlciBjYW4gY2FsbCBvblBvaW50ZXJPdXQsIHNvIGV2ZW50cyB3aWxsIGFsd2F5cyBiZSBsZW5ndGggMVxuICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbMF07XG5cbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG5cbiAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB3ZSBjYW4gZ2V0IHRvdWNobGVhdmUgZXZlbnRzIGFmdGVyIHRvdWNoZW5kLCBzbyB3ZSB3YW50IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gaW50cm9kdWNlIG1lbW9yeSBsZWFrc1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGludGVyYWN0aW9uRGF0YS5pZGVudGlmaWVyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBvdmVyL291dCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlck92ZXJPdXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIHZhciBpc01vdXNlID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJztcblxuICAgICAgICB2YXIgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuXG4gICAgICAgIC8vIGlmIHdlIGp1c3QgbW91c2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LCB0aGVuIHdlIG5lZWQgdG8gdHJhY2sgdGhhdCBzdGF0ZVxuICAgICAgICBpZiAoaGl0ICYmICF0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEyLmRlZmF1bHQoaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGhpdCAmJiB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyKSB7XG4gICAgICAgICAgICBpZiAoIXRyYWNraW5nRGF0YS5vdmVyKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb25seSBjaGFuZ2UgdGhlIGN1cnNvciBpZiBpdCBoYXMgbm90IGFscmVhZHkgYmVlbiBjaGFuZ2VkIChieSBzb21ldGhpbmcgZGVlcGVyIGluIHRoZVxuICAgICAgICAgICAgLy8gZGlzcGxheSB0cmVlKVxuICAgICAgICAgICAgaWYgKGlzTW91c2UgJiYgdGhpcy5jdXJzb3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvciA9IGRpc3BsYXlPYmplY3QuY3Vyc29yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRyYWNraW5nRGF0YS5vdmVyKSB7XG4gICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyb3V0JywgdGhpcy5ldmVudERhdGEpO1xuICAgICAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBtb3VzZSBkb3duIGluZm9ybWF0aW9uIGZvciB0aGUgcG9pbnRlciwgdGhlbiBpdCBpcyBzYWZlIHRvIGRlbGV0ZVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YS5ub25lKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBpbnRvIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIHZpZXdcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJPdmVyID0gZnVuY3Rpb24gb25Qb2ludGVyT3ZlcihvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgLy8gT25seSBtb3VzZSBhbmQgcG9pbnRlciBjYW4gY2FsbCBvblBvaW50ZXJPdmVyLCBzbyBldmVudHMgd2lsbCBhbHdheXMgYmUgbGVuZ3RoIDFcbiAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzWzBdO1xuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcblxuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBJbnRlcmFjdGlvbkRhdGEgZm9yIGEgZ2l2ZW4gcG9pbnRlcklkLiBTdG9yZSB0aGF0IGRhdGEgYXMgd2VsbFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBOb3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIG91dHB1dCBmcm9tIG5vcm1hbGl6ZVRvUG9pbnRlckRhdGFcbiAgICAgKiBAcmV0dXJuIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX0gLSBJbnRlcmFjdGlvbiBkYXRhIGZvciB0aGUgZ2l2ZW4gcG9pbnRlciBpZGVudGlmaWVyXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkID0gZnVuY3Rpb24gZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KSB7XG4gICAgICAgIHZhciBwb2ludGVySWQgPSBldmVudC5wb2ludGVySWQ7XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHZvaWQgMDtcblxuICAgICAgICBpZiAocG9pbnRlcklkID09PSBNT1VTRV9QT0lOVEVSX0lEIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLm1vdXNlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0pIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucG9wKCkgfHwgbmV3IF9JbnRlcmFjdGlvbkRhdGEyLmRlZmF1bHQoKTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5pZGVudGlmaWVyID0gcG9pbnRlcklkO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXSA9IGludGVyYWN0aW9uRGF0YTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb3B5IHByb3BlcnRpZXMgZnJvbSB0aGUgZXZlbnQsIHNvIHRoYXQgd2UgY2FuIG1ha2Ugc3VyZSB0aGF0IHRvdWNoL3BvaW50ZXIgc3BlY2lmaWNcbiAgICAgICAgLy8gZGF0YSBpcyBhdmFpbGFibGVcbiAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmNvcHlFdmVudChldmVudCk7XG5cbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uRGF0YTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHVudXNlZCBJbnRlcmFjdGlvbkRhdGEgdG8gdGhlIHBvb2wsIGZvciBhIGdpdmVuIHBvaW50ZXJJZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIC0gSWRlbnRpZmllciBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgPSBmdW5jdGlvbiByZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKHBvaW50ZXJJZCkge1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcblxuICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sLnB1c2goaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmUgYW4gSW50ZXJhY3Rpb25FdmVudCB0byB3cmFwIGEgRE9NIFBvaW50ZXJFdmVudCBhbmQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGV2ZW50IHRvIGJlIGNvbmZpZ3VyZWRcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IC0gVGhlIERPTSBldmVudCB0aGF0IHdpbGwgYmUgcGFpcmVkIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfSBpbnRlcmFjdGlvbkRhdGEgLSBUaGUgSW50ZXJhY3Rpb25EYXRhIHRoYXQgd2lsbCBiZSBwYWlyZWRcbiAgICAgKiAgICAgICAgd2l0aCB0aGUgSW50ZXJhY3Rpb25FdmVudFxuICAgICAqIEByZXR1cm4ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gdGhlIGludGVyYWN0aW9uIGV2ZW50IHRoYXQgd2FzIHBhc3NlZCBpblxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCA9IGZ1bmN0aW9uIGNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudChpbnRlcmFjdGlvbkV2ZW50LCBwb2ludGVyRXZlbnQsIGludGVyYWN0aW9uRGF0YSkge1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEgPSBpbnRlcmFjdGlvbkRhdGE7XG5cbiAgICAgICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoaW50ZXJhY3Rpb25EYXRhLmdsb2JhbCwgcG9pbnRlckV2ZW50LmNsaWVudFgsIHBvaW50ZXJFdmVudC5jbGllbnRZKTtcblxuICAgICAgICAvLyBUaGlzIGlzIHRoZSB3YXkgSW50ZXJhY3Rpb25NYW5hZ2VyIHByb2Nlc3NlZCB0b3VjaCBldmVudHMgYmVmb3JlIHRoZSByZWZhY3RvcmluZywgc28gSSd2ZSBrZXB0XG4gICAgICAgIC8vIGl0IGhlcmUuIEJ1dCBpdCBkb2Vzbid0IG1ha2UgdGhhdCBtdWNoIHNlbnNlIHRvIG1lLCBzaW5jZSBtYXBQb3NpdGlvblRvUG9pbnQgYWxyZWFkeSBmYWN0b3JzXG4gICAgICAgIC8vIGluIHRoaXMucmVzb2x1dGlvbiwgc28gdGhpcyBqdXN0IGRpdmlkZXMgYnkgdGhpcy5yZXNvbHV0aW9uIHR3aWNlIGZvciB0b3VjaCBldmVudHMuLi5cbiAgICAgICAgaWYgKG5hdmlnYXRvci5pc0NvY29vbkpTICYmIHBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC54ID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC54IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55ID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90IHJlYWxseSBzdXJlIHdoeSB0aGlzIGlzIGhhcHBlbmluZywgYnV0IGl0J3MgaG93IGEgcHJldmlvdXMgdmVyc2lvbiBoYW5kbGVkIHRoaW5nc1xuICAgICAgICBpZiAocG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWCA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueDtcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudC5nbG9iYWxZID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55O1xuICAgICAgICB9XG5cbiAgICAgICAgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgPSBwb2ludGVyRXZlbnQ7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQucmVzZXQoKTtcblxuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25FdmVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGF0IHRoZSBvcmlnaW5hbCBldmVudCBvYmplY3QgY29udGFpbnMgYWxsIGRhdGEgdGhhdCBhIHJlZ3VsYXIgcG9pbnRlciBldmVudCB3b3VsZCBoYXZlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VG91Y2hFdmVudHxNb3VzZUV2ZW50fFBvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgb3JpZ2luYWwgZXZlbnQgZGF0YSBmcm9tIGEgdG91Y2ggb3IgbW91c2UgZXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQb2ludGVyRXZlbnRbXX0gQW4gYXJyYXkgY29udGFpbmluZyBhIHNpbmdsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIGluIHRoZSBjYXNlIG9mIGEgcG9pbnRlclxuICAgICAqICBvciBtb3VzZSBldmVudCwgb3IgYSBtdWx0aXBsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnRzIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBjaGFuZ2VkIHRvdWNoZXNcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5ub3JtYWxpemVUb1BvaW50ZXJEYXRhID0gZnVuY3Rpb24gbm9ybWFsaXplVG9Qb2ludGVyRGF0YShldmVudCkge1xuICAgICAgICB2YXIgbm9ybWFsaXplZEV2ZW50cyA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGkgPSBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkgPCBsaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbiA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmJ1dHRvbiA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b25zID09PSAndW5kZWZpbmVkJykgdG91Y2guYnV0dG9ucyA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5pc1ByaW1hcnkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoLmlzUHJpbWFyeSA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAxICYmIGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLndpZHRoID0gdG91Y2gucmFkaXVzWCB8fCAxO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guaGVpZ2h0ID09PSAndW5kZWZpbmVkJykgdG91Y2guaGVpZ2h0ID0gdG91Y2gucmFkaXVzWSB8fCAxO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFggPT09ICd1bmRlZmluZWQnKSB0b3VjaC50aWx0WCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WSA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnRpbHRZID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJykgdG91Y2gucG9pbnRlclR5cGUgPSAndG91Y2gnO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlcklkID09PSAndW5kZWZpbmVkJykgdG91Y2gucG9pbnRlcklkID0gdG91Y2guaWRlbnRpZmllciB8fCAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5wcmVzc3VyZSA9IHRvdWNoLmZvcmNlIHx8IDAuNTtcbiAgICAgICAgICAgICAgICB0b3VjaC50d2lzdCA9IDA7XG4gICAgICAgICAgICAgICAgdG91Y2gudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgdGhlc2UsIGFzIGxheWVyWC9ZIGlzIG5vdCBhIHN0YW5kYXJkLCBpcyBkZXByZWNhdGVkLCBoYXMgdW5ldmVuXG4gICAgICAgICAgICAgICAgLy8gc3VwcG9ydCwgYW5kIHRoZSBmaWxsIGlucyBhcmUgbm90IHF1aXRlIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgLy8gb2Zmc2V0WC9ZIG1pZ2h0IGJlIG9rYXksIGJ1dCBpcyBub3QgdGhlIHNhbWUgYXMgY2xpZW50WC9ZIHdoZW4gdGhlIGNhbnZhcydzIHRvcFxuICAgICAgICAgICAgICAgIC8vIGxlZnQgaXMgbm90IDAsMCBvbiB0aGUgcGFnZVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJYID09PSAndW5kZWZpbmVkJykgdG91Y2gubGF5ZXJYID0gdG91Y2gub2Zmc2V0WCA9IHRvdWNoLmNsaWVudFg7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclkgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5sYXllclkgPSB0b3VjaC5vZmZzZXRZID0gdG91Y2guY2xpZW50WTtcblxuICAgICAgICAgICAgICAgIC8vIG1hcmsgdGhlIHRvdWNoIGFzIG5vcm1hbGl6ZWQsIGp1c3Qgc28gdGhhdCB3ZSBrbm93IHdlIGRpZCBpdFxuICAgICAgICAgICAgICAgIHRvdWNoLmlzTm9ybWFsaXplZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2godG91Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGFyZW50bHkgUG9pbnRlckV2ZW50IHN1YmNsYXNzZXMgTW91c2VFdmVudCwgc28geWF5XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCAmJiAoIXRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzIHx8ICEoZXZlbnQgaW5zdGFuY2VvZiB3aW5kb3cuUG9pbnRlckV2ZW50KSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LmlzUHJpbWFyeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LndpZHRoID0gMTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LmhlaWdodCA9IDE7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnRpbHRYID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnRpbHRZID09PSAndW5kZWZpbmVkJykgZXZlbnQudGlsdFkgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucG9pbnRlclR5cGUgPT09ICd1bmRlZmluZWQnKSBldmVudC5wb2ludGVyVHlwZSA9ICdtb3VzZSc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKSBldmVudC5wb2ludGVySWQgPSBNT1VTRV9QT0lOVEVSX0lEO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSBldmVudC5wcmVzc3VyZSA9IDAuNTtcbiAgICAgICAgICAgICAgICBldmVudC50d2lzdCA9IDA7XG4gICAgICAgICAgICAgICAgZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcblxuICAgICAgICAgICAgICAgIC8vIG1hcmsgdGhlIG1vdXNlIGV2ZW50IGFzIG5vcm1hbGl6ZWQsIGp1c3Qgc28gdGhhdCB3ZSBrbm93IHdlIGRpZCBpdFxuICAgICAgICAgICAgICAgIGV2ZW50LmlzTm9ybWFsaXplZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub3JtYWxpemVkRXZlbnRzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgaW50ZXJhY3Rpb24gbWFuYWdlclxuICAgICAqXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLm1vdXNlID0gbnVsbDtcblxuICAgICAgICB0aGlzLmV2ZW50RGF0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyRG93biA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlclVwID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNhbmNlbCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyTW92ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck91dCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck92ZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3RlbXBQb2ludCA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBJbnRlcmFjdGlvbk1hbmFnZXI7XG59KF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBJbnRlcmFjdGlvbk1hbmFnZXI7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdpbnRlcmFjdGlvbicsIEludGVyYWN0aW9uTWFuYWdlcik7XG5jb3JlLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdpbnRlcmFjdGlvbicsIEludGVyYWN0aW9uTWFuYWdlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnRlcmFjdGlvbk1hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5zaGFyZWQgPSBleHBvcnRzLlJlc291cmNlID0gZXhwb3J0cy50ZXh0dXJlUGFyc2VyID0gZXhwb3J0cy5nZXRSZXNvdXJjZVBhdGggPSBleHBvcnRzLnNwcml0ZXNoZWV0UGFyc2VyID0gZXhwb3J0cy5wYXJzZUJpdG1hcEZvbnREYXRhID0gZXhwb3J0cy5iaXRtYXBGb250UGFyc2VyID0gZXhwb3J0cy5Mb2FkZXIgPSB1bmRlZmluZWQ7XG5cbnZhciBfYml0bWFwRm9udFBhcnNlciA9IHJlcXVpcmUoJy4vYml0bWFwRm9udFBhcnNlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2JpdG1hcEZvbnRQYXJzZXInLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpdG1hcEZvbnRQYXJzZXIpLmRlZmF1bHQ7XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3BhcnNlQml0bWFwRm9udERhdGEnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9iaXRtYXBGb250UGFyc2VyLnBhcnNlO1xuICAgIH1cbn0pO1xuXG52YXIgX3Nwcml0ZXNoZWV0UGFyc2VyID0gcmVxdWlyZSgnLi9zcHJpdGVzaGVldFBhcnNlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3Nwcml0ZXNoZWV0UGFyc2VyJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zcHJpdGVzaGVldFBhcnNlcikuZGVmYXVsdDtcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZ2V0UmVzb3VyY2VQYXRoJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfc3ByaXRlc2hlZXRQYXJzZXIuZ2V0UmVzb3VyY2VQYXRoO1xuICAgIH1cbn0pO1xuXG52YXIgX3RleHR1cmVQYXJzZXIgPSByZXF1aXJlKCcuL3RleHR1cmVQYXJzZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd0ZXh0dXJlUGFyc2VyJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90ZXh0dXJlUGFyc2VyKS5kZWZhdWx0O1xuICAgIH1cbn0pO1xuXG52YXIgX3Jlc291cmNlTG9hZGVyID0gcmVxdWlyZSgncmVzb3VyY2UtbG9hZGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUmVzb3VyY2UnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZTtcbiAgICB9XG59KTtcblxudmFyIF9BcHBsaWNhdGlvbiA9IHJlcXVpcmUoJy4uL2NvcmUvQXBwbGljYXRpb24nKTtcblxudmFyIF9BcHBsaWNhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BcHBsaWNhdGlvbik7XG5cbnZhciBfbG9hZGVyID0gcmVxdWlyZSgnLi9sb2FkZXInKTtcblxudmFyIF9sb2FkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9hZGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBBUElzIHdoaWNoIGV4dGVuZHMgdGhlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyIHJlc291cmNlLWxvYWRlcn0gbW9kdWxlXG4gKiBmb3IgbG9hZGluZyBhc3NldHMsIGRhdGEsIGFuZCBvdGhlciByZXNvdXJjZXMgZHluYW1pY2FsbHkuXG4gKiBAZXhhbXBsZVxuICogY29uc3QgbG9hZGVyID0gbmV3IFBJWEkubG9hZGVycy5Mb2FkZXIoKTtcbiAqIGxvYWRlci5hZGQoJ2J1bm55JywgJ2RhdGEvYnVubnkucG5nJylcbiAqICAgICAgIC5hZGQoJ3NwYWNlc2hpcCcsICdhc3NldHMvc3ByaXRlc2hlZXQuanNvbicpO1xuICogbG9hZGVyLmxvYWQoKGxvYWRlciwgcmVzb3VyY2VzKSA9PiB7XG4gKiAgICAvLyByZXNvdXJjZXMuYnVubnlcbiAqICAgIC8vIHJlc291cmNlcy5zcGFjZXNoaXBcbiAqIH0pO1xuICogQG5hbWVzcGFjZSBQSVhJLmxvYWRlcnNcbiAqL1xuZXhwb3J0cy5Mb2FkZXIgPSBfbG9hZGVyMi5kZWZhdWx0O1xuXG5cbi8qKlxuICogQSBwcmVtYWRlIGluc3RhbmNlIG9mIHRoZSBsb2FkZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBsb2FkIHJlc291cmNlcy5cbiAqIEBuYW1lIHNoYXJlZFxuICogQG1lbWJlcm9mIFBJWEkubG9hZGVyc1xuICogQHR5cGUge1BJWEkubG9hZGVycy5Mb2FkZXJ9XG4gKi9cbnZhciBzaGFyZWQgPSBuZXcgX2xvYWRlcjIuZGVmYXVsdCgpO1xuXG5zaGFyZWQuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBwcm90ZWN0IGRlc3Ryb3lpbmcgc2hhcmVkIGxvYWRlclxufTtcblxuZXhwb3J0cy5zaGFyZWQgPSBzaGFyZWQ7XG5cbi8vIE1peGluIHRoZSBsb2FkZXIgY29uc3RydWN0aW9uXG5cbnZhciBBcHBQcm90b3R5cGUgPSBfQXBwbGljYXRpb24yLmRlZmF1bHQucHJvdG90eXBlO1xuXG5BcHBQcm90b3R5cGUuX2xvYWRlciA9IG51bGw7XG5cbi8qKlxuICogTG9hZGVyIGluc3RhbmNlIHRvIGhlbHAgd2l0aCBhc3NldCBsb2FkaW5nLlxuICogQG5hbWUgUElYSS5BcHBsaWNhdGlvbiNsb2FkZXJcbiAqIEB0eXBlIHtQSVhJLmxvYWRlcnMuTG9hZGVyfVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwUHJvdG90eXBlLCAnbG9hZGVyJywge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xvYWRlcikge1xuICAgICAgICAgICAgdmFyIHNoYXJlZExvYWRlciA9IHRoaXMuX29wdGlvbnMuc2hhcmVkTG9hZGVyO1xuXG4gICAgICAgICAgICB0aGlzLl9sb2FkZXIgPSBzaGFyZWRMb2FkZXIgPyBzaGFyZWQgOiBuZXcgX2xvYWRlcjIuZGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRlcjtcbiAgICB9XG59KTtcblxuLy8gT3ZlcnJpZGUgdGhlIGRlc3Ryb3kgZnVuY3Rpb25cbi8vIG1ha2luZyBzdXJlIHRvIGRlc3Ryb3kgdGhlIGN1cnJlbnQgTG9hZGVyXG5BcHBQcm90b3R5cGUuX3BhcmVudERlc3Ryb3kgPSBBcHBQcm90b3R5cGUuZGVzdHJveTtcbkFwcFByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShyZW1vdmVWaWV3LCBzdGFnZU9wdGlvbnMpIHtcbiAgICBpZiAodGhpcy5fbG9hZGVyKSB7XG4gICAgICAgIHRoaXMuX2xvYWRlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2xvYWRlciA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuX3BhcmVudERlc3Ryb3kocmVtb3ZlVmlldywgc3RhZ2VPcHRpb25zKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkxvYWRlciA9IHVuZGVmaW5lZDtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX21pbmlTaWduYWxzID0gcmVxdWlyZSgnbWluaS1zaWduYWxzJyk7XG5cbnZhciBfbWluaVNpZ25hbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWluaVNpZ25hbHMpO1xuXG52YXIgX3BhcnNlVXJpID0gcmVxdWlyZSgncGFyc2UtdXJpJyk7XG5cbnZhciBfcGFyc2VVcmkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFyc2VVcmkpO1xuXG52YXIgX2FzeW5jID0gcmVxdWlyZSgnLi9hc3luYycpO1xuXG52YXIgYXN5bmMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfYXN5bmMpO1xuXG52YXIgX1Jlc291cmNlID0gcmVxdWlyZSgnLi9SZXNvdXJjZScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vLyBzb21lIGNvbnN0YW50c1xudmFyIE1BWF9QUk9HUkVTUyA9IDEwMDtcbnZhciByZ3hFeHRyYWN0VXJsSGFzaCA9IC8oI1tcXHctXSspPyQvO1xuXG4vKipcbiAqIE1hbmFnZXMgdGhlIHN0YXRlIGFuZCBsb2FkaW5nIG9mIG11bHRpcGxlIHJlc291cmNlcyB0byBsb2FkLlxuICpcbiAqIEBjbGFzc1xuICovXG5cbnZhciBMb2FkZXIgPSBleHBvcnRzLkxvYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvYWRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICB2YXIgYmFzZVVybCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgICAgIHZhciBjb25jdXJyZW5jeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTA7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvYWRlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcm9ncmVzcyBwZXJjZW50IG9mIHRoZSBsb2FkZXIgZ29pbmcgdGhyb3VnaCB0aGUgcXVldWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2FkaW5nIHN0YXRlIG9mIHRoZSBsb2FkZXIsIHRydWUgaWYgaXQgaXMgY3VycmVudGx5IGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcXVlcnlzdHJpbmcgdG8gYXBwZW5kIHRvIGV2ZXJ5IFVSTCBhZGRlZCB0byB0aGUgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIHNob3VsZCBiZSBhIHZhbGlkIHF1ZXJ5IHN0cmluZyAqd2l0aG91dCogdGhlIHF1ZXN0aW9uLW1hcmsgKGA/YCkuIFRoZSBsb2FkZXIgd2lsbFxuICAgICAgICAgKiBhbHNvICpub3QqIGVzY2FwZSB2YWx1ZXMgZm9yIHlvdS4gTWFrZSBzdXJlIHRvIGVzY2FwZSB5b3VyIHBhcmFtZXRlcnMgd2l0aFxuICAgICAgICAgKiBbYGVuY29kZVVSSUNvbXBvbmVudGBdKGh0dHBzOi8vbWRuLmlvL2VuY29kZVVSSUNvbXBvbmVudCkgYmVmb3JlIGFzc2lnbmluZyB0aGlzIHByb3BlcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjb25zdCBsb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGxvYWRlci5kZWZhdWx0UXVlcnlTdHJpbmcgPSAndXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3VzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAgICAgKiBsb2FkZXIuYWRkKCdpbWFnZS5wbmcnKS5sb2FkKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGxvYWRlci5yZXNldCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3Y9MSZ1c2VyPW1lJnBhc3N3b3JkPXNlY3JldCdcbiAgICAgICAgICogbG9hZGVyLmFkZCgnaWFtZ2UucG5nP3Y9MScpLmxvYWQoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcgPSAnJztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1pZGRsZXdhcmUgdG8gcnVuIGJlZm9yZSBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iZWZvcmVNaWRkbGV3YXJlID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtaWRkbGV3YXJlIHRvIHJ1biBhZnRlciBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRyYWNrcyB0aGUgcmVzb3VyY2VzIHdlIGFyZSBjdXJyZW50bHkgY29tcGxldGluZyBwYXJzaW5nIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Jlc291cmNlc1BhcnNpbmcgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfbG9hZFJlc291cmNlYCBmdW5jdGlvbiBib3VuZCB3aXRoIHRoaXMgb2JqZWN0IGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByIC0gVGhlIHJlc291cmNlIHRvIGxvYWRcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZCAtIFRoZSBkZXF1ZXVlIGZ1bmN0aW9uXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kTG9hZFJlc291cmNlID0gZnVuY3Rpb24gKHIsIGQpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fbG9hZFJlc291cmNlKHIsIGQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb3VyY2VzIHdhaXRpbmcgdG8gYmUgbG9hZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcXVldWUgPSBhc3luYy5xdWV1ZSh0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSwgY29uY3VycmVuY3kpO1xuXG4gICAgICAgIHRoaXMuX3F1ZXVlLnBhdXNlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbCB0aGUgcmVzb3VyY2VzIGZvciB0aGlzIGxvYWRlciBrZXllZCBieSBuYW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8c3RyaW5nLCBSZXNvdXJjZT59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCBvciBlcnJvcmVkIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uUHJvZ3Jlc3NTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgZXJyb3JlZCByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PbkVycm9yU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkVycm9yID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PbkxvYWRTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uTG9hZCA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSBsb2FkZXIgYmVnaW5zIHRvIHByb2Nlc3MgdGhlIHF1ZXVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uU3RhcnRTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uU3RhcnQgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PbkNvbXBsZXRlU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8vIEFkZCBkZWZhdWx0IGJlZm9yZSBtaWRkbGV3YXJlXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5wcmUoTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZVtpXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgZGVmYXVsdCBhZnRlciBtaWRkbGV3YXJlXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUubGVuZ3RoOyArK19pKSB7XG4gICAgICAgICAgICB0aGlzLnVzZShMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmVbX2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHByb2dyZXNzIGNoYW5nZXMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgcHJvZ3Jlc3MgaXMgYWR2YW5jaW5nIG9uLlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgaGFzIGNvbXBsZXRlZCBvciBmYWlsZWQgdG8gY2F1c2UgdGhlIHByb2dyZXNzIHRvIGFkdmFuY2UuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGFuIGVycm9yIG9jY3VycnMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICogQGNhbGxiYWNrIE9uRXJyb3JTaWduYWxcbiAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgZXJyb3IgaGFwcGVuZWQgaW4uXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBjYXVzZWQgdGhlIGVycm9yLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogV2hlbiBhIGxvYWQgY29tcGxldGVzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAqIEBjYWxsYmFjayBPbkxvYWRTaWduYWxcbiAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGxhb2RlZCB0aGUgcmVzb3VyY2UuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIGxvYWRpbmcuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBsb2FkZXIgc3RhcnRzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgaGFzIHN0YXJ0ZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBsb2FkZXIgY29tcGxldGVzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgaGFzIGZpbmlzaGVkIGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogT3B0aW9ucyBmb3IgYSBjYWxsIHRvIGAuYWRkKClgLlxuICAgICAqXG4gICAgICogQHNlZSBMb2FkZXIjYWRkXG4gICAgICpcbiAgICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBJQWRkT3B0aW9uc1xuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbmFtZV0gLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZCwgaWYgbm90IHBhc3NlZCB0aGUgdXJsIGlzIHVzZWQuXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldIC0gQWxpYXMgZm9yIGBuYW1lYC5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xib29sZWFufSBbY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0b1xuICAgICAqICAgICAgZGV0ZXJtaW5lIGF1dG9tYXRpY2FsbHkuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAgICogICAgICBsb25nZXIgdGhhbiB0aGlzIHRpbWUgaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpc1xuICAgICAqICAgICAgc2V0IHRvIGAwYCB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtsb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgICAqICAgICAgYmUgbG9hZGVkP1xuICAgICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFt4aHJUeXBlPVJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFRdIC0gSG93XG4gICAgICogICAgICBzaG91bGQgdGhlIGRhdGEgYmVpbmcgbG9hZGVkIGJlIGludGVycHJldGVkIHdoZW4gdXNpbmcgWEhSP1xuICAgICAqIEBwcm9wZXJ0eSB7TG9hZGVyLk9uQ29tcGxldGVTaWduYWx9IFtvbkNvbXBsZXRlXSAtIENhbGxiYWNrIHRvIGFkZCBhbiBhbiBvbkNvbXBsZXRlIHNpZ25hbCBpc3RlbmVyLlxuICAgICAqIEBwcm9wZXJ0eSB7TG9hZGVyLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBBbGlhcyBmb3IgYG9uQ29tcGxldGVgLlxuICAgICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuSU1ldGFkYXRhfSBbbWV0YWRhdGFdIC0gRXh0cmEgY29uZmlndXJhdGlvbiBmb3IgbWlkZGxld2FyZSBhbmQgdGhlIFJlc291cmNlIG9iamVjdC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSByZXNvdXJjZSAob3IgbXVsdGlwbGUgcmVzb3VyY2VzKSB0byB0aGUgbG9hZGVyIHF1ZXVlLlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4gdGFrZSBhIHdpZGUgdmFyaWV0eSBvZiBkaWZmZXJlbnQgcGFyYW1ldGVycy4gVGhlIG9ubHkgdGhpbmcgdGhhdCBpcyBhbHdheXNcbiAgICAgKiByZXF1aXJlZCB0aGUgdXJsIHRvIGxvYWQuIEFsbCB0aGUgZm9sbG93aW5nIHdpbGwgd29yazpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogbG9hZGVyXG4gICAgICogICAgIC8vIG5vcm1hbCBwYXJhbSBzeW50YXhcbiAgICAgKiAgICAgLmFkZCgna2V5JywgJ2h0dHA6Ly8uLi4nLCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicsIGZ1bmN0aW9uICgpIHt9KVxuICAgICAqICAgICAuYWRkKCdodHRwOi8vLi4uJylcbiAgICAgKlxuICAgICAqICAgICAvLyBvYmplY3Qgc3ludGF4XG4gICAgICogICAgIC5hZGQoe1xuICAgICAqICAgICAgICAgbmFtZTogJ2tleTInLFxuICAgICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoe1xuICAgICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoe1xuICAgICAqICAgICAgICAgbmFtZTogJ2tleTMnLFxuICAgICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICAgKiAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9XG4gICAgICogICAgIH0pXG4gICAgICogICAgIC5hZGQoe1xuICAgICAqICAgICAgICAgdXJsOiAnaHR0cHM6Ly8uLi4nLFxuICAgICAqICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30sXG4gICAgICogICAgICAgICBjcm9zc09yaWdpbjogdHJ1ZVxuICAgICAqICAgICB9KVxuICAgICAqXG4gICAgICogICAgIC8vIHlvdSBjYW4gYWxzbyBwYXNzIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJscyBvciBib3RoXG4gICAgICogICAgIC5hZGQoW1xuICAgICAqICAgICAgICAgeyBuYW1lOiAna2V5NCcsIHVybDogJ2h0dHA6Ly8uLi4nLCBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSB9LFxuICAgICAqICAgICAgICAgeyB1cmw6ICdodHRwOi8vLi4uJywgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30gfSxcbiAgICAgKiAgICAgICAgICdodHRwOi8vLi4uJ1xuICAgICAqICAgICBdKVxuICAgICAqXG4gICAgICogICAgIC8vIGFuZCB5b3UgY2FuIHVzZSBib3RoIHBhcmFtcyBhbmQgb3B0aW9uc1xuICAgICAqICAgICAuYWRkKCdrZXknLCAnaHR0cDovLy4uLicsIHsgY3Jvc3NPcmlnaW46IHRydWUgfSwgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nLCB7IGNyb3NzT3JpZ2luOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfElBZGRPcHRpb25zfSBbbmFtZV0gLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZCwgaWYgbm90IHBhc3NlZCB0aGUgdXJsIGlzIHVzZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1cmxdIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICAgICogQHBhcmFtIHtJQWRkT3B0aW9uc30gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7TG9hZGVyLk9uQ29tcGxldGVTaWduYWx9IFtjYl0gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQobmFtZSwgdXJsLCBvcHRpb25zLCBjYikge1xuICAgICAgICAvLyBzcGVjaWFsIGNhc2Ugb2YgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWUpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChuYW1lW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBhbiBvYmplY3QgaXMgcGFzc2VkIGluc3RlYWQgb2YgcGFyYW1zXG4gICAgICAgIGlmICgodHlwZW9mIG5hbWUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG5hbWUpKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNiID0gdXJsIHx8IG5hbWUuY2FsbGJhY2sgfHwgbmFtZS5vbkNvbXBsZXRlO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG5hbWU7XG4gICAgICAgICAgICB1cmwgPSBuYW1lLnVybDtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLm5hbWUgfHwgbmFtZS5rZXkgfHwgbmFtZS51cmw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYXNlIHdoZXJlIG5vIG5hbWUgaXMgcGFzc2VkIHNoaWZ0IGFsbCBhcmdzIG92ZXIgYnkgb25lLlxuICAgICAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB1cmw7XG4gICAgICAgICAgICB1cmwgPSBuYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm93IHRoYXQgd2Ugc2hpZnRlZCBtYWtlIHN1cmUgd2UgaGF2ZSBhIHByb3BlciB1cmwuXG4gICAgICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1cmwgcGFzc2VkIHRvIGFkZCByZXNvdXJjZSB0byBsb2FkZXIuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvcHRpb25zIGFyZSBvcHRpb25hbCBzbyBwZW9wbGUgbWlnaHQgcGFzcyBhIGZ1bmN0aW9uIGFuZCBubyBvcHRpb25zXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2IgPSBvcHRpb25zO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBsb2FkaW5nIGFscmVhZHkgeW91IGNhbiBvbmx5IGFkZCByZXNvdXJjZXMgdGhhdCBoYXZlIGEgcGFyZW50LlxuICAgICAgICBpZiAodGhpcy5sb2FkaW5nICYmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5wYXJlbnRSZXNvdXJjZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCByZXNvdXJjZXMgd2hpbGUgdGhlIGxvYWRlciBpcyBydW5uaW5nLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHMuXG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlc1tuYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBuYW1lZCBcIicgKyBuYW1lICsgJ1wiIGFscmVhZHkgZXhpc3RzLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIGJhc2UgdXJsIGlmIHRoaXMgaXNuJ3QgYW4gYWJzb2x1dGUgdXJsXG4gICAgICAgIHVybCA9IHRoaXMuX3ByZXBhcmVVcmwodXJsKTtcblxuICAgICAgICAvLyBjcmVhdGUgdGhlIHN0b3JlIHRoZSByZXNvdXJjZVxuICAgICAgICB0aGlzLnJlc291cmNlc1tuYW1lXSA9IG5ldyBfUmVzb3VyY2UuUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5vbkFmdGVyTWlkZGxld2FyZS5vbmNlKGNiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGFjdGl2ZWx5IGxvYWRpbmcsIG1ha2Ugc3VyZSB0byBhZGp1c3QgcHJvZ3Jlc3MgY2h1bmtzIGZvciB0aGF0IHBhcmVudCBhbmQgaXRzIGNoaWxkcmVuXG4gICAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBvcHRpb25zLnBhcmVudFJlc291cmNlO1xuICAgICAgICAgICAgdmFyIGluY29tcGxldGVDaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoOyArK19pMikge1xuICAgICAgICAgICAgICAgIGlmICghcGFyZW50LmNoaWxkcmVuW19pMl0uaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW4ucHVzaChwYXJlbnQuY2hpbGRyZW5bX2kyXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZnVsbENodW5rID0gcGFyZW50LnByb2dyZXNzQ2h1bmsgKiAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDEpOyAvLyArMSBmb3IgcGFyZW50XG4gICAgICAgICAgICB2YXIgZWFjaENodW5rID0gZnVsbENodW5rIC8gKGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGggKyAyKTsgLy8gKzIgZm9yIHBhcmVudCAmIG5ldyBjaGlsZFxuXG4gICAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG4gICAgICAgICAgICBwYXJlbnQucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aDsgKytfaTMpIHtcbiAgICAgICAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW5bX2kzXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRoZSByZXNvdXJjZSB0byB0aGUgcXVldWVcbiAgICAgICAgdGhpcy5fcXVldWUucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmJlZm9yZSogdGhlXG4gICAgICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5wcmUgPSBmdW5jdGlvbiBwcmUoZm4pIHtcbiAgICAgICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICAgICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gdXNlKGZuKSB7XG4gICAgICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBxdWV1ZSBvZiB0aGUgbG9hZGVyIHRvIHByZXBhcmUgZm9yIGEgbmV3IGxvYWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fcXVldWUua2lsbCgpO1xuICAgICAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuXG4gICAgICAgIC8vIGFib3J0IGFsbCByZXNvdXJjZSBsb2Fkc1xuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gdGhpcy5yZXNvdXJjZXNba107XG5cbiAgICAgICAgICAgIGlmIChyZXMuX29uTG9hZEJpbmRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXMuX29uTG9hZEJpbmRpbmcuZGV0YWNoKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZXMuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgbG9hZGluZyB0aGUgcXVldWVkIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0aGF0IHdpbGwgYmUgYm91bmQgdG8gdGhlIGBjb21wbGV0ZWAgZXZlbnQuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY2IpIHtcbiAgICAgICAgLy8gcmVnaXN0ZXIgY29tcGxldGUgY2FsbGJhY2sgaWYgdGhleSBwYXNzIG9uZVxuICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGUgcXVldWUgaGFzIGFscmVhZHkgc3RhcnRlZCB3ZSBhcmUgZG9uZSBoZXJlXG4gICAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3F1ZXVlLmlkbGUoKSkge1xuICAgICAgICAgICAgdGhpcy5fb25TdGFydCgpO1xuICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZGlzdHJpYnV0ZSBwcm9ncmVzcyBjaHVua3NcbiAgICAgICAgICAgIHZhciBudW1UYXNrcyA9IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgY2h1bmsgPSBNQVhfUFJPR1JFU1MgLyBudW1UYXNrcztcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9xdWV1ZS5fdGFza3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZS5fdGFza3NbaV0uZGF0YS5wcm9ncmVzc0NodW5rID0gY2h1bms7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5vdGlmeSB3ZSBhcmUgc3RhcnRpbmdcbiAgICAgICAgICAgIHRoaXMuX29uU3RhcnQoKTtcblxuICAgICAgICAgICAgLy8gc3RhcnQgbG9hZGluZ1xuICAgICAgICAgICAgdGhpcy5fcXVldWUucmVzdW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTBcbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogUHJlcGFyZXMgYSB1cmwgZm9yIHVzYWdlIGJhc2VkIG9uIHRoZSBjb25maWd1cmF0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHByZXBhcmUuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgcHJlcGFyZWQgdXJsLlxuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuX3ByZXBhcmVVcmwgPSBmdW5jdGlvbiBfcHJlcGFyZVVybCh1cmwpIHtcbiAgICAgICAgdmFyIHBhcnNlZFVybCA9ICgwLCBfcGFyc2VVcmkyLmRlZmF1bHQpKHVybCwgeyBzdHJpY3RNb2RlOiB0cnVlIH0pO1xuICAgICAgICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIGFic29sdXRlIHVybCwganVzdCB1c2UgaXQgYXMgaXMuXG4gICAgICAgIGlmIChwYXJzZWRVcmwucHJvdG9jb2wgfHwgIXBhcnNlZFVybC5wYXRoIHx8IHVybC5pbmRleE9mKCcvLycpID09PSAwKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgYmFzZVVybCBkb2Vzbid0IGVuZCBpbiBzbGFzaCBhbmQgdXJsIGRvZXNuJ3Qgc3RhcnQgd2l0aCBzbGFzaCwgdGhlbiBhZGQgYSBzbGFzaCBpbmJldHdlZW5cbiAgICAgICAgZWxzZSBpZiAodGhpcy5iYXNlVXJsLmxlbmd0aCAmJiB0aGlzLmJhc2VVcmwubGFzdEluZGV4T2YoJy8nKSAhPT0gdGhpcy5iYXNlVXJsLmxlbmd0aCAtIDEgJiYgdXJsLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5iYXNlVXJsICsgJy8nICsgdXJsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyB1cmw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgd2UgbmVlZCB0byBhZGQgYSBkZWZhdWx0IHF1ZXJ5c3RyaW5nLCB0aGVyZSBpcyBhIGJpdCBtb3JlIHdvcmtcbiAgICAgICAgaWYgKHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgICB2YXIgaGFzaCA9IHJneEV4dHJhY3RVcmxIYXNoLmV4ZWMocmVzdWx0KVswXTtcblxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnN1YnN0cigwLCByZXN1bHQubGVuZ3RoIC0gaGFzaC5sZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0LmluZGV4T2YoJz8nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJyYnICsgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnPycgKyB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0ICs9IGhhc2g7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhIHNpbmdsZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBkZXF1ZXVlIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB3ZSBuZWVkIHRvIGRlcXVldWUgdGhpcyBpdGVtLlxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLl9sb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiBfbG9hZFJlc291cmNlKHJlc291cmNlLCBkZXF1ZXVlKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHJlc291cmNlLl9kZXF1ZXVlID0gZGVxdWV1ZTtcblxuICAgICAgICAvLyBydW4gYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgYXN5bmMuZWFjaFNlcmllcyh0aGlzLl9iZWZvcmVNaWRkbGV3YXJlLCBmdW5jdGlvbiAoZm4sIG5leHQpIHtcbiAgICAgICAgICAgIGZuLmNhbGwoX3RoaXMyLCByZXNvdXJjZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBiZWZvcmUgbWlkZGxld2FyZSBtYXJrcyB0aGUgcmVzb3VyY2UgYXMgY29tcGxldGUsXG4gICAgICAgICAgICAgICAgLy8gYnJlYWsgYW5kIGRvbid0IHByb2Nlc3MgYW55IG1vcmUgYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgICAgICAgICBuZXh0KHJlc291cmNlLmlzQ29tcGxldGUgPyB7fSA6IG51bGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZS5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLl9vbkxvYWQocmVzb3VyY2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5fb25Mb2FkQmluZGluZyA9IHJlc291cmNlLm9uQ29tcGxldGUub25jZShfdGhpczIuX29uTG9hZCwgX3RoaXMyKTtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRydWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb25jZSBsb2FkaW5nIGhhcyBzdGFydGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5fb25TdGFydCA9IGZ1bmN0aW9uIF9vblN0YXJ0KCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb25jZSBlYWNoIHJlc291cmNlIGhhcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLl9vbkNvbXBsZXRlID0gZnVuY3Rpb24gX29uQ29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBNQVhfUFJPR1JFU1M7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcywgdGhpcy5yZXNvdXJjZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgZWFjaCB0aW1lIGEgcmVzb3VyY2VzIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB3YXMgbG9hZGVkXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuX29uTG9hZCA9IGZ1bmN0aW9uIF9vbkxvYWQocmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgcmVzb3VyY2UuX29uTG9hZEJpbmRpbmcgPSBudWxsO1xuXG4gICAgICAgIC8vIHJlbW92ZSB0aGlzIHJlc291cmNlIGZyb20gdGhlIGFzeW5jIHF1ZXVlLCBhbmQgYWRkIGl0IHRvIG91ciBsaXN0IG9mIHJlc291cmNlcyB0aGF0IGFyZSBiZWluZyBwYXJzZWRcbiAgICAgICAgdGhpcy5fcmVzb3VyY2VzUGFyc2luZy5wdXNoKHJlc291cmNlKTtcbiAgICAgICAgcmVzb3VyY2UuX2RlcXVldWUoKTtcblxuICAgICAgICAvLyBydW4gYWxsIHRoZSBhZnRlciBtaWRkbGV3YXJlIGZvciB0aGlzIHJlc291cmNlXG4gICAgICAgIGFzeW5jLmVhY2hTZXJpZXModGhpcy5fYWZ0ZXJNaWRkbGV3YXJlLCBmdW5jdGlvbiAoZm4sIG5leHQpIHtcbiAgICAgICAgICAgIGZuLmNhbGwoX3RoaXMzLCByZXNvdXJjZSwgbmV4dCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmRpc3BhdGNoKHJlc291cmNlKTtcblxuICAgICAgICAgICAgX3RoaXMzLnByb2dyZXNzID0gTWF0aC5taW4oTUFYX1BST0dSRVNTLCBfdGhpczMucHJvZ3Jlc3MgKyByZXNvdXJjZS5wcm9ncmVzc0NodW5rKTtcbiAgICAgICAgICAgIF90aGlzMy5vblByb2dyZXNzLmRpc3BhdGNoKF90aGlzMywgcmVzb3VyY2UpO1xuXG4gICAgICAgICAgICBpZiAocmVzb3VyY2UuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpczMub25FcnJvci5kaXNwYXRjaChyZXNvdXJjZS5lcnJvciwgX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzMy5vbkxvYWQuZGlzcGF0Y2goX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5zcGxpY2UoX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLmluZGV4T2YocmVzb3VyY2UpLCAxKTtcblxuICAgICAgICAgICAgLy8gZG8gY29tcGxldGlvbiBjaGVja1xuICAgICAgICAgICAgaWYgKF90aGlzMy5fcXVldWUuaWRsZSgpICYmIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBfdGhpczMuX29uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhMb2FkZXIsIFt7XG4gICAgICAgIGtleTogJ2NvbmN1cnJlbmN5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUuY29uY3VycmVuY3k7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChjb25jdXJyZW5jeSkge1xuICAgICAgICAgICAgdGhpcy5fcXVldWUuY29uY3VycmVuY3kgPSBjb25jdXJyZW5jeTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59KCk7XG5cbi8qKlxuICogQSBkZWZhdWx0IGFycmF5IG9mIG1pZGRsZXdhcmUgdG8gcnVuIGJlZm9yZSBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gKiBFYWNoIG9mIHRoZXNlIG1pZGRsZXdhcmVzIGFyZSBhZGRlZCB0byBhbnkgbmV3IExvYWRlciBpbnN0YW5jZXMgd2hlbiB0aGV5IGFyZSBjcmVhdGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICovXG5cblxuTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZSA9IFtdO1xuXG4vKipcbiAqIEEgZGVmYXVsdCBhcnJheSBvZiBtaWRkbGV3YXJlIHRvIHJ1biBhZnRlciBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gKiBFYWNoIG9mIHRoZXNlIG1pZGRsZXdhcmVzIGFyZSBhZGRlZCB0byBhbnkgbmV3IExvYWRlciBpbnN0YW5jZXMgd2hlbiB0aGV5IGFyZSBjcmVhdGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICovXG5Mb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUgPSBbXTtcblxuLyoqXG4gKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICpiZWZvcmUqIHRoZVxuICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5Mb2FkZXIucHJlID0gZnVuY3Rpb24gTG9hZGVyUHJlU3RhdGljKGZuKSB7XG4gICAgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59O1xuXG4vKipcbiAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmFmdGVyKiB0aGVcbiAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAqL1xuTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIExvYWRlclVzZVN0YXRpYyhmbikge1xuICAgIExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TG9hZGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9yZXNvdXJjZUxvYWRlciA9IHJlcXVpcmUoJ3Jlc291cmNlLWxvYWRlcicpO1xuXG52YXIgX3Jlc291cmNlTG9hZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc291cmNlTG9hZGVyKTtcblxudmFyIF9ibG9iID0gcmVxdWlyZSgncmVzb3VyY2UtbG9hZGVyL2xpYi9taWRkbGV3YXJlcy9wYXJzaW5nL2Jsb2InKTtcblxudmFyIF9ldmVudGVtaXR0ZXIgPSByZXF1aXJlKCdldmVudGVtaXR0ZXIzJyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50ZW1pdHRlcik7XG5cbnZhciBfdGV4dHVyZVBhcnNlciA9IHJlcXVpcmUoJy4vdGV4dHVyZVBhcnNlcicpO1xuXG52YXIgX3RleHR1cmVQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGV4dHVyZVBhcnNlcik7XG5cbnZhciBfc3ByaXRlc2hlZXRQYXJzZXIgPSByZXF1aXJlKCcuL3Nwcml0ZXNoZWV0UGFyc2VyJyk7XG5cbnZhciBfc3ByaXRlc2hlZXRQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ByaXRlc2hlZXRQYXJzZXIpO1xuXG52YXIgX2JpdG1hcEZvbnRQYXJzZXIgPSByZXF1aXJlKCcuL2JpdG1hcEZvbnRQYXJzZXInKTtcblxudmFyIF9iaXRtYXBGb250UGFyc2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpdG1hcEZvbnRQYXJzZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICpcbiAqIFRoZSBuZXcgbG9hZGVyLCBleHRlbmRzIFJlc291cmNlIExvYWRlciBieSBDaGFkIEVuZ2xlcjogaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBsb2FkZXIgPSBQSVhJLmxvYWRlcjsgLy8gUGl4aUpTIGV4cG9zZXMgYSBwcmVtYWRlIGluc3RhbmNlIGZvciB5b3UgdG8gdXNlLlxuICogLy9vclxuICogY29uc3QgbG9hZGVyID0gbmV3IFBJWEkubG9hZGVycy5Mb2FkZXIoKTsgLy8geW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biBpZiB5b3Ugd2FudFxuICpcbiAqIGNvbnN0IHNwcml0ZXMgPSB7fTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYGFkZGAgdG8gZW5xdWV1ZSBhIHJlc291cmNlXG4gKiBsb2FkZXIuYWRkKCdidW5ueScsICdkYXRhL2J1bm55LnBuZycpXG4gKiAgICAgICAuYWRkKCdzcGFjZXNoaXAnLCAnYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb24nKTtcbiAqIGxvYWRlci5hZGQoJ3Njb3JlRm9udCcsICdhc3NldHMvc2NvcmUuZm50Jyk7XG4gKlxuICogLy8gQ2hhaW5hYmxlIGBwcmVgIHRvIGFkZCBhIG1pZGRsZXdhcmUgdGhhdCBydW5zIGZvciBlYWNoIHJlc291cmNlLCAqYmVmb3JlKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIGNhY2hpbmcgbW9kdWxlcyAodXNpbmcgZmlsZXN5c3RlbSwgaW5kZXhlZGRiLCBtZW1vcnksIGV0YykuXG4gKiBsb2FkZXIucHJlKGNhY2hpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHVzZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICphZnRlciogbG9hZGluZyB0aGF0IHJlc291cmNlLlxuICogLy8gVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IGN1c3RvbSBwYXJzaW5nIG1vZHVsZXMgKGxpa2Ugc3ByaXRlc2hlZXQgcGFyc2Vycywgc3BpbmUgcGFyc2VyLCBldGMpLlxuICogbG9hZGVyLnVzZShwYXJzaW5nTWlkZGxld2FyZSk7XG4gKlxuICogLy8gVGhlIGBsb2FkYCBtZXRob2QgbG9hZHMgdGhlIHF1ZXVlIG9mIHJlc291cmNlcywgYW5kIGNhbGxzIHRoZSBwYXNzZWQgaW4gY2FsbGJhY2sgY2FsbGVkIG9uY2UgYWxsXG4gKiAvLyByZXNvdXJjZXMgaGF2ZSBsb2FkZWQuXG4gKiBsb2FkZXIubG9hZCgobG9hZGVyLCByZXNvdXJjZXMpID0+IHtcbiAqICAgICAvLyByZXNvdXJjZXMgaXMgYW4gb2JqZWN0IHdoZXJlIHRoZSBrZXkgaXMgdGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIGxvYWRlZCBhbmQgdGhlIHZhbHVlIGlzIHRoZSByZXNvdXJjZSBvYmplY3QuXG4gKiAgICAgLy8gVGhleSBoYXZlIGEgY291cGxlIGRlZmF1bHQgcHJvcGVydGllczpcbiAqICAgICAvLyAtIGB1cmxgOiBUaGUgVVJMIHRoYXQgdGhlIHJlc291cmNlIHdhcyBsb2FkZWQgZnJvbVxuICogICAgIC8vIC0gYGVycm9yYDogVGhlIGVycm9yIHRoYXQgaGFwcGVuZWQgd2hlbiB0cnlpbmcgdG8gbG9hZCAoaWYgYW55KVxuICogICAgIC8vIC0gYGRhdGFgOiBUaGUgcmF3IGRhdGEgdGhhdCB3YXMgbG9hZGVkXG4gKiAgICAgLy8gYWxzbyBtYXkgY29udGFpbiBvdGhlciBwcm9wZXJ0aWVzIGJhc2VkIG9uIHRoZSBtaWRkbGV3YXJlIHRoYXQgcnVucy5cbiAqICAgICBzcHJpdGVzLmJ1bm55ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5idW5ueS50ZXh0dXJlKTtcbiAqICAgICBzcHJpdGVzLnNwYWNlc2hpcCA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuc3BhY2VzaGlwLnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc2NvcmVGb250ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zY29yZUZvbnQudGV4dHVyZSk7XG4gKiB9KTtcbiAqXG4gKiAvLyB0aHJvdWdob3V0IHRoZSBwcm9jZXNzIG11bHRpcGxlIHNpZ25hbHMgY2FuIGJlIGRpc3BhdGNoZWQuXG4gKiBsb2FkZXIub25Qcm9ncmVzcy5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkL2Vycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uRXJyb3IuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGVycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uTG9hZC5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkIGZpbGVcbiAqIGxvYWRlci5vbkNvbXBsZXRlLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIG1vZHVsZTpyZXNvdXJjZS1sb2FkZXIuUmVzb3VyY2VMb2FkZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmxvYWRlcnNcbiAqL1xudmFyIExvYWRlciA9IGZ1bmN0aW9uIChfUmVzb3VyY2VMb2FkZXIpIHtcbiAgICBfaW5oZXJpdHMoTG9hZGVyLCBfUmVzb3VyY2VMb2FkZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtiYXNlVXJsPScnXSAtIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW5jeT0xMF0gLSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2FkZXIoYmFzZVVybCwgY29uY3VycmVuY3kpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvYWRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1Jlc291cmNlTG9hZGVyLmNhbGwodGhpcywgYmFzZVVybCwgY29uY3VycmVuY3kpKTtcblxuICAgICAgICBfZXZlbnRlbWl0dGVyMi5kZWZhdWx0LmNhbGwoX3RoaXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTG9hZGVyLl9waXhpTWlkZGxld2FyZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgX3RoaXMudXNlKExvYWRlci5fcGl4aU1pZGRsZXdhcmVbaV0oKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21wYXQgbGF5ZXIsIHRyYW5zbGF0ZSB0aGUgbmV3IHYyIHNpZ25hbHMgaW50byBvbGQgdjEgZXZlbnRzLlxuICAgICAgICBfdGhpcy5vblN0YXJ0LmFkZChmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoJ3N0YXJ0JywgbCk7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5vblByb2dyZXNzLmFkZChmdW5jdGlvbiAobCwgcikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoJ3Byb2dyZXNzJywgbCwgcik7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5vbkVycm9yLmFkZChmdW5jdGlvbiAoZSwgbCwgcikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoJ2Vycm9yJywgZSwgbCwgcik7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5vbkxvYWQuYWRkKGZ1bmN0aW9uIChsLCByKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdCgnbG9hZCcsIGwsIHIpO1xuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMub25Db21wbGV0ZS5hZGQoZnVuY3Rpb24gKGwsIHIpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5lbWl0KCdjb21wbGV0ZScsIGwsIHIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBkZWZhdWx0IG1pZGRsZXdhcmUgdG8gdGhlIFBpeGlKUyBsb2FkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSB0byBhZGQuXG4gICAgICovXG5cblxuICAgIExvYWRlci5hZGRQaXhpTWlkZGxld2FyZSA9IGZ1bmN0aW9uIGFkZFBpeGlNaWRkbGV3YXJlKGZuKSB7XG4gICAgICAgIExvYWRlci5fcGl4aU1pZGRsZXdhcmUucHVzaChmbik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIGxvYWRlciwgcmVtb3ZlcyByZWZlcmVuY2VzLlxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59KF9yZXNvdXJjZUxvYWRlcjIuZGVmYXVsdCk7XG5cbi8vIENvcHkgRUUzIHByb3RvdHlwZSAobWl4aW4pXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gTG9hZGVyO1xuZm9yICh2YXIgayBpbiBfZXZlbnRlbWl0dGVyMi5kZWZhdWx0LnByb3RvdHlwZSkge1xuICAgIExvYWRlci5wcm90b3R5cGVba10gPSBfZXZlbnRlbWl0dGVyMi5kZWZhdWx0LnByb3RvdHlwZVtrXTtcbn1cblxuTG9hZGVyLl9waXhpTWlkZGxld2FyZSA9IFtcbi8vIHBhcnNlIGFueSBibG9iIGludG8gbW9yZSB1c2FibGUgb2JqZWN0cyAoZS5nLiBJbWFnZSlcbl9ibG9iLmJsb2JNaWRkbGV3YXJlRmFjdG9yeSxcbi8vIHBhcnNlIGFueSBJbWFnZSBvYmplY3RzIGludG8gdGV4dHVyZXNcbl90ZXh0dXJlUGFyc2VyMi5kZWZhdWx0LFxuLy8gcGFyc2UgYW55IHNwcml0ZXNoZWV0IGRhdGEgaW50byBtdWx0aXBsZSB0ZXh0dXJlc1xuX3Nwcml0ZXNoZWV0UGFyc2VyMi5kZWZhdWx0LFxuLy8gcGFyc2UgYml0bWFwIGZvbnQgZGF0YSBpbnRvIG11bHRpcGxlIHRleHR1cmVzXG5fYml0bWFwRm9udFBhcnNlcjIuZGVmYXVsdF07XG5cbi8vIEFkZCBjdXN0b20gZXh0ZW50aW9uc1xudmFyIFJlc291cmNlID0gX3Jlc291cmNlTG9hZGVyMi5kZWZhdWx0LlJlc291cmNlO1xuXG5SZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlKCdmbnQnLCBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5ibG9iTWlkZGxld2FyZUZhY3RvcnkgPSBibG9iTWlkZGxld2FyZUZhY3Rvcnk7XG5cbnZhciBfUmVzb3VyY2UgPSByZXF1aXJlKCcuLi8uLi9SZXNvdXJjZScpO1xuXG52YXIgX2IgPSByZXF1aXJlKCcuLi8uLi9iNjQnKTtcblxudmFyIFVybCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDtcblxuLy8gYSBtaWRkbGV3YXJlIGZvciB0cmFuc2Zvcm1pbmcgWEhSIGxvYWRlZCBCbG9icyBpbnRvIG1vcmUgdXNlZnVsIG9iamVjdHNcbmZ1bmN0aW9uIGJsb2JNaWRkbGV3YXJlRmFjdG9yeSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYmxvYk1pZGRsZXdhcmUocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgaWYgKCFyZXNvdXJjZS5kYXRhKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoaXMgd2FzIGFuIFhIUiBsb2FkIG9mIGEgYmxvYlxuICAgICAgICBpZiAocmVzb3VyY2UueGhyICYmIHJlc291cmNlLnhoclR5cGUgPT09IF9SZXNvdXJjZS5SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBibG9iIHN1cHBvcnQgd2UgcHJvYmFibHkgZ290IGEgYmluYXJ5IHN0cmluZyBiYWNrXG4gICAgICAgICAgICBpZiAoIXdpbmRvdy5CbG9iIHx8IHR5cGVvZiByZXNvdXJjZS5kYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gcmVzb3VyY2UueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTtcblxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYW4gaW1hZ2UsIGNvbnZlcnQgdGhlIGJpbmFyeSBzdHJpbmcgaW50byBhIGRhdGEgdXJsXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgJiYgdHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSAnZGF0YTonICsgdHlwZSArICc7YmFzZTY0LCcgKyAoMCwgX2IuZW5jb2RlQmluYXJ5KShyZXNvdXJjZS54aHIucmVzcG9uc2VUZXh0KTtcblxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS50eXBlID0gX1Jlc291cmNlLlJlc291cmNlLlRZUEUuSU1BR0U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2FpdCB1bnRpbCB0aGUgaW1hZ2UgbG9hZHMgYW5kIHRoZW4gY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGNvbnRlbnQgdHlwZSBzYXlzIHRoaXMgaXMgYW4gaW1hZ2UsIHRoZW4gd2Ugc2hvdWxkIHRyYW5zZm9ybSB0aGUgYmxvYiBpbnRvIGFuIEltYWdlIG9iamVjdFxuICAgICAgICAgICAgZWxzZSBpZiAocmVzb3VyY2UuZGF0YS50eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNyYyA9IFVybC5jcmVhdGVPYmplY3RVUkwocmVzb3VyY2UuZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuYmxvYiA9IHJlc291cmNlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBzcmM7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UudHlwZSA9IF9SZXNvdXJjZS5SZXNvdXJjZS5UWVBFLklNQUdFO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNsZWFudXAgdGhlIG5vIGxvbmdlciB1c2VkIGJsb2IgYWZ0ZXIgdGhlIGltYWdlIGxvYWRzXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IElzIHRoaXMgY29ycmVjdD8gV2lsbCB0aGUgaW1hZ2UgYmUgaW52YWxpZCBhZnRlciByZXZva2luZz9cbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBVcmwucmV2b2tlT2JqZWN0VVJMKHNyYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWQuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0KCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJsb2IuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX01lc2ggPSByZXF1aXJlKCcuL01lc2gnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdNZXNoJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfTWVzaFJlbmRlcmVyID0gcmVxdWlyZSgnLi93ZWJnbC9NZXNoUmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdNZXNoUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc01lc2hSZW5kZXJlciA9IHJlcXVpcmUoJy4vY2FudmFzL0NhbnZhc01lc2hSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NhbnZhc01lc2hSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc01lc2hSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUGxhbmUgPSByZXF1aXJlKCcuL1BsYW5lJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUGxhbmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QbGFuZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfTmluZVNsaWNlUGxhbmUgPSByZXF1aXJlKCcuL05pbmVTbGljZVBsYW5lJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnTmluZVNsaWNlUGxhbmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9OaW5lU2xpY2VQbGFuZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUm9wZSA9IHJlcXVpcmUoJy4vUm9wZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1JvcGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Sb3BlKS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxudmFyIF9NZXNoID0gcmVxdWlyZSgnLi4vTWVzaCcpO1xuXG52YXIgX01lc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaCk7XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgbWF0cml4SWRlbnRpdHkgPSBjb3JlLk1hdHJpeC5JREVOVElUWTtcblxuLyoqXG4gKiBXZWJHTCByZW5kZXJlciBwbHVnaW4gZm9yIHRpbGluZyBzcHJpdGVzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG5cbnZhciBNZXNoUmVuZGVyZXIgPSBmdW5jdGlvbiAoX2NvcmUkT2JqZWN0UmVuZGVyZXIpIHtcbiAgICBfaW5oZXJpdHMoTWVzaFJlbmRlcmVyLCBfY29yZSRPYmplY3RSZW5kZXJlcik7XG5cbiAgICAvKipcbiAgICAgKiBjb25zdHJ1Y3RvciBmb3IgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgVGhlIHJlbmRlcmVyIHRoaXMgdGlsaW5nIGF3ZXNvbWVuZXNzIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNZXNoUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1lc2hSZW5kZXJlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkT2JqZWN0UmVuZGVyZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIE1lc2hSZW5kZXJlci5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gb25Db250ZXh0Q2hhbmdlKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gbmV3IGNvcmUuU2hhZGVyKGdsLCAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuJywgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdUNvbG9yO1xcbn1cXG4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcmVuZGVycyBtZXNoXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkubWVzaC5NZXNofSBtZXNoIG1lc2ggaW5zdGFuY2VcbiAgICAgKi9cblxuXG4gICAgTWVzaFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIobWVzaCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBtZXNoLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdsRGF0YSA9IG1lc2guX2dsRGF0YXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghZ2xEYXRhKSB7XG4gICAgICAgICAgICByZW5kZXJlci5iaW5kVmFvKG51bGwpO1xuXG4gICAgICAgICAgICBnbERhdGEgPSB7XG4gICAgICAgICAgICAgICAgc2hhZGVyOiB0aGlzLnNoYWRlcixcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhCdWZmZXI6IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihnbCwgbWVzaC52ZXJ0aWNlcywgZ2wuU1RSRUFNX0RSQVcpLFxuICAgICAgICAgICAgICAgIHV2QnVmZmVyOiBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIG1lc2gudXZzLCBnbC5TVFJFQU1fRFJBVyksXG4gICAgICAgICAgICAgICAgaW5kZXhCdWZmZXI6IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZUluZGV4QnVmZmVyKGdsLCBtZXNoLmluZGljZXMsIGdsLlNUQVRJQ19EUkFXKSxcbiAgICAgICAgICAgICAgICAvLyBidWlsZCB0aGUgdmFvIG9iamVjdCB0aGF0IHdpbGwgcmVuZGVyLi5cbiAgICAgICAgICAgICAgICB2YW86IG51bGwsXG4gICAgICAgICAgICAgICAgZGlydHk6IG1lc2guZGlydHksXG4gICAgICAgICAgICAgICAgaW5kZXhEaXJ0eTogbWVzaC5pbmRleERpcnR5LFxuICAgICAgICAgICAgICAgIHZlcnRleERpcnR5OiBtZXNoLnZlcnRleERpcnR5XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBidWlsZCB0aGUgdmFvIG9iamVjdCB0aGF0IHdpbGwgcmVuZGVyLi5cbiAgICAgICAgICAgIGdsRGF0YS52YW8gPSBuZXcgX3BpeGlHbENvcmUyLmRlZmF1bHQuVmVydGV4QXJyYXlPYmplY3QoZ2wpLmFkZEluZGV4KGdsRGF0YS5pbmRleEJ1ZmZlcikuYWRkQXR0cmlidXRlKGdsRGF0YS52ZXJ0ZXhCdWZmZXIsIGdsRGF0YS5zaGFkZXIuYXR0cmlidXRlcy5hVmVydGV4UG9zaXRpb24sIGdsLkZMT0FULCBmYWxzZSwgMiAqIDQsIDApLmFkZEF0dHJpYnV0ZShnbERhdGEudXZCdWZmZXIsIGdsRGF0YS5zaGFkZXIuYXR0cmlidXRlcy5hVGV4dHVyZUNvb3JkLCBnbC5GTE9BVCwgZmFsc2UsIDIgKiA0LCAwKTtcblxuICAgICAgICAgICAgbWVzaC5fZ2xEYXRhc1tyZW5kZXJlci5DT05URVhUX1VJRF0gPSBnbERhdGE7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iaW5kVmFvKGdsRGF0YS52YW8pO1xuXG4gICAgICAgIGlmIChtZXNoLmRpcnR5ICE9PSBnbERhdGEuZGlydHkpIHtcbiAgICAgICAgICAgIGdsRGF0YS5kaXJ0eSA9IG1lc2guZGlydHk7XG4gICAgICAgICAgICBnbERhdGEudXZCdWZmZXIudXBsb2FkKG1lc2gudXZzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZXNoLmluZGV4RGlydHkgIT09IGdsRGF0YS5pbmRleERpcnR5KSB7XG4gICAgICAgICAgICBnbERhdGEuaW5kZXhEaXJ0eSA9IG1lc2guaW5kZXhEaXJ0eTtcbiAgICAgICAgICAgIGdsRGF0YS5pbmRleEJ1ZmZlci51cGxvYWQobWVzaC5pbmRpY2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZXNoLnZlcnRleERpcnR5ICE9PSBnbERhdGEudmVydGV4RGlydHkpIHtcbiAgICAgICAgICAgIGdsRGF0YS52ZXJ0ZXhEaXJ0eSA9IG1lc2gudmVydGV4RGlydHk7XG4gICAgICAgICAgICBnbERhdGEudmVydGV4QnVmZmVyLnVwbG9hZChtZXNoLnZlcnRpY2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJpbmRTaGFkZXIoZ2xEYXRhLnNoYWRlcik7XG5cbiAgICAgICAgZ2xEYXRhLnNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IHJlbmRlcmVyLmJpbmRUZXh0dXJlKHRleHR1cmUpO1xuXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldEJsZW5kTW9kZShjb3JlLnV0aWxzLmNvcnJlY3RCbGVuZE1vZGUobWVzaC5ibGVuZE1vZGUsIHRleHR1cmUuYmFzZVRleHR1cmUucHJlbXVsdGlwbGllZEFscGhhKSk7XG5cbiAgICAgICAgaWYgKGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgaWYgKG1lc2gudXBsb2FkVXZUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICBnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnVUcmFuc2Zvcm0gPSBtZXNoLl91dlRyYW5zZm9ybS5tYXBDb29yZC50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnVUcmFuc2Zvcm0gPSBtYXRyaXhJZGVudGl0eS50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSBtZXNoLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG5cbiAgICAgICAgZ2xEYXRhLnNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBjb3JlLnV0aWxzLnByZW11bHRpcGx5UmdiYShtZXNoLnRpbnRSZ2IsIG1lc2gud29ybGRBbHBoYSwgZ2xEYXRhLnNoYWRlci51bmlmb3Jtcy51Q29sb3IsIHRleHR1cmUuYmFzZVRleHR1cmUucHJlbXVsdGlwbGllZEFscGhhKTtcblxuICAgICAgICB2YXIgZHJhd01vZGUgPSBtZXNoLmRyYXdNb2RlID09PSBfTWVzaDIuZGVmYXVsdC5EUkFXX01PREVTLlRSSUFOR0xFX01FU0ggPyBnbC5UUklBTkdMRV9TVFJJUCA6IGdsLlRSSUFOR0xFUztcblxuICAgICAgICBnbERhdGEudmFvLmRyYXcoZHJhd01vZGUsIG1lc2guaW5kaWNlcy5sZW5ndGgsIDApO1xuICAgIH07XG5cbiAgICByZXR1cm4gTWVzaFJlbmRlcmVyO1xufShjb3JlLk9iamVjdFJlbmRlcmVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTWVzaFJlbmRlcmVyO1xuXG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbignbWVzaCcsIE1lc2hSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZXNoUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX01lc2ggPSByZXF1aXJlKCcuLi9NZXNoJyk7XG5cbnZhciBfTWVzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBSZW5kZXJlciBkZWRpY2F0ZWQgdG8gbWVzaGVzLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNZXNoU3ByaXRlUmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIGRvd25wb3J0IHdvcmtzIGZvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2hTcHJpdGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVzaFNwcml0ZVJlbmRlcmVyKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgTWVzaFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLm1lc2guTWVzaH0gbWVzaCAtIHRoZSBNZXNoIHRvIHJlbmRlclxuICAgICAqL1xuXG5cbiAgICBNZXNoU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihtZXNoKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBjb250ZXh0ID0gcmVuZGVyZXIuY29udGV4dDtcblxuICAgICAgICB2YXIgdHJhbnNmb3JtID0gbWVzaC53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHJlcyA9IHJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHJlbmRlcmVyLnJvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlcywgdHJhbnNmb3JtLmIgKiByZXMsIHRyYW5zZm9ybS5jICogcmVzLCB0cmFuc2Zvcm0uZCAqIHJlcywgdHJhbnNmb3JtLnR4ICogcmVzIHwgMCwgdHJhbnNmb3JtLnR5ICogcmVzIHwgMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlcywgdHJhbnNmb3JtLmIgKiByZXMsIHRyYW5zZm9ybS5jICogcmVzLCB0cmFuc2Zvcm0uZCAqIHJlcywgdHJhbnNmb3JtLnR4ICogcmVzLCB0cmFuc2Zvcm0udHkgKiByZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuY29udGV4dC5nbG9iYWxBbHBoYSA9IG1lc2gud29ybGRBbHBoYTtcbiAgICAgICAgcmVuZGVyZXIuc2V0QmxlbmRNb2RlKG1lc2guYmxlbmRNb2RlKTtcblxuICAgICAgICBpZiAobWVzaC5kcmF3TW9kZSA9PT0gX01lc2gyLmRlZmF1bHQuRFJBV19NT0RFUy5UUklBTkdMRV9NRVNIKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUcmlhbmdsZU1lc2gobWVzaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUcmlhbmdsZXMobWVzaCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIG9iamVjdCBpbiBUcmlhbmdsZSBNZXNoIG1vZGVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLm1lc2guTWVzaH0gbWVzaCAtIHRoZSBNZXNoIHRvIHJlbmRlclxuICAgICAqL1xuXG5cbiAgICBNZXNoU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLl9yZW5kZXJUcmlhbmdsZU1lc2ggPSBmdW5jdGlvbiBfcmVuZGVyVHJpYW5nbGVNZXNoKG1lc2gpIHtcbiAgICAgICAgLy8gZHJhdyB0cmlhbmdsZXMhIVxuICAgICAgICB2YXIgbGVuZ3RoID0gbWVzaC52ZXJ0aWNlcy5sZW5ndGggLyAyO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoIC0gMjsgaSsrKSB7XG4gICAgICAgICAgICAvLyBkcmF3IHNvbWUgdHJpYW5nbGVzIVxuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDI7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckRyYXdUcmlhbmdsZShtZXNoLCBpbmRleCwgaW5kZXggKyAyLCBpbmRleCArIDQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBvYmplY3QgaW4gdHJpYW5nbGUgbW9kZSB1c2luZyBjYW52YXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLm1lc2guTWVzaH0gbWVzaCAtIHRoZSBjdXJyZW50IG1lc2hcbiAgICAgKi9cblxuXG4gICAgTWVzaFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5fcmVuZGVyVHJpYW5nbGVzID0gZnVuY3Rpb24gX3JlbmRlclRyaWFuZ2xlcyhtZXNoKSB7XG4gICAgICAgIC8vIGRyYXcgdHJpYW5nbGVzISFcbiAgICAgICAgdmFyIGluZGljZXMgPSBtZXNoLmluZGljZXM7XG4gICAgICAgIHZhciBsZW5ndGggPSBpbmRpY2VzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgICAgICAvLyBkcmF3IHNvbWUgdHJpYW5nbGVzIVxuICAgICAgICAgICAgdmFyIGluZGV4MCA9IGluZGljZXNbaV0gKiAyO1xuICAgICAgICAgICAgdmFyIGluZGV4MSA9IGluZGljZXNbaSArIDFdICogMjtcbiAgICAgICAgICAgIHZhciBpbmRleDIgPSBpbmRpY2VzW2kgKyAyXSAqIDI7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckRyYXdUcmlhbmdsZShtZXNoLCBpbmRleDAsIGluZGV4MSwgaW5kZXgyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBvbmUgb2YgdGhlIHRyaWFuZ2xlcyB0aGF0IGZyb20gdGhlIE1lc2hcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLm1lc2guTWVzaH0gbWVzaCAtIHRoZSBjdXJyZW50IG1lc2hcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXgwIC0gdGhlIGluZGV4IG9mIHRoZSBmaXJzdCB2ZXJ0ZXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXgxIC0gdGhlIGluZGV4IG9mIHRoZSBzZWNvbmQgdmVydGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4MiAtIHRoZSBpbmRleCBvZiB0aGUgdGhpcmQgdmVydGV4XG4gICAgICovXG5cblxuICAgIE1lc2hTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuX3JlbmRlckRyYXdUcmlhbmdsZSA9IGZ1bmN0aW9uIF9yZW5kZXJEcmF3VHJpYW5nbGUobWVzaCwgaW5kZXgwLCBpbmRleDEsIGluZGV4Mikge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMucmVuZGVyZXIuY29udGV4dDtcbiAgICAgICAgdmFyIHV2cyA9IG1lc2gudXZzO1xuICAgICAgICB2YXIgdmVydGljZXMgPSBtZXNoLnZlcnRpY2VzO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IG1lc2guX3RleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFzZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciB0ZXh0dXJlU291cmNlID0gYmFzZS5zb3VyY2U7XG4gICAgICAgIHZhciB0ZXh0dXJlV2lkdGggPSBiYXNlLndpZHRoO1xuICAgICAgICB2YXIgdGV4dHVyZUhlaWdodCA9IGJhc2UuaGVpZ2h0O1xuXG4gICAgICAgIHZhciB1MCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHUxID0gdm9pZCAwO1xuICAgICAgICB2YXIgdTIgPSB2b2lkIDA7XG4gICAgICAgIHZhciB2MCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHYxID0gdm9pZCAwO1xuICAgICAgICB2YXIgdjIgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKG1lc2gudXBsb2FkVXZUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHZhciB1dCA9IG1lc2guX3V2VHJhbnNmb3JtLm1hcENvb3JkO1xuXG4gICAgICAgICAgICB1MCA9ICh1dnNbaW5kZXgwXSAqIHV0LmEgKyB1dnNbaW5kZXgwICsgMV0gKiB1dC5jICsgdXQudHgpICogYmFzZS53aWR0aDtcbiAgICAgICAgICAgIHUxID0gKHV2c1tpbmRleDFdICogdXQuYSArIHV2c1tpbmRleDEgKyAxXSAqIHV0LmMgKyB1dC50eCkgKiBiYXNlLndpZHRoO1xuICAgICAgICAgICAgdTIgPSAodXZzW2luZGV4Ml0gKiB1dC5hICsgdXZzW2luZGV4MiArIDFdICogdXQuYyArIHV0LnR4KSAqIGJhc2Uud2lkdGg7XG4gICAgICAgICAgICB2MCA9ICh1dnNbaW5kZXgwXSAqIHV0LmIgKyB1dnNbaW5kZXgwICsgMV0gKiB1dC5kICsgdXQudHkpICogYmFzZS5oZWlnaHQ7XG4gICAgICAgICAgICB2MSA9ICh1dnNbaW5kZXgxXSAqIHV0LmIgKyB1dnNbaW5kZXgxICsgMV0gKiB1dC5kICsgdXQudHkpICogYmFzZS5oZWlnaHQ7XG4gICAgICAgICAgICB2MiA9ICh1dnNbaW5kZXgyXSAqIHV0LmIgKyB1dnNbaW5kZXgyICsgMV0gKiB1dC5kICsgdXQudHkpICogYmFzZS5oZWlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1MCA9IHV2c1tpbmRleDBdICogYmFzZS53aWR0aDtcbiAgICAgICAgICAgIHUxID0gdXZzW2luZGV4MV0gKiBiYXNlLndpZHRoO1xuICAgICAgICAgICAgdTIgPSB1dnNbaW5kZXgyXSAqIGJhc2Uud2lkdGg7XG4gICAgICAgICAgICB2MCA9IHV2c1tpbmRleDAgKyAxXSAqIGJhc2UuaGVpZ2h0O1xuICAgICAgICAgICAgdjEgPSB1dnNbaW5kZXgxICsgMV0gKiBiYXNlLmhlaWdodDtcbiAgICAgICAgICAgIHYyID0gdXZzW2luZGV4MiArIDFdICogYmFzZS5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeDAgPSB2ZXJ0aWNlc1tpbmRleDBdO1xuICAgICAgICB2YXIgeDEgPSB2ZXJ0aWNlc1tpbmRleDFdO1xuICAgICAgICB2YXIgeDIgPSB2ZXJ0aWNlc1tpbmRleDJdO1xuICAgICAgICB2YXIgeTAgPSB2ZXJ0aWNlc1tpbmRleDAgKyAxXTtcbiAgICAgICAgdmFyIHkxID0gdmVydGljZXNbaW5kZXgxICsgMV07XG4gICAgICAgIHZhciB5MiA9IHZlcnRpY2VzW2luZGV4MiArIDFdO1xuXG4gICAgICAgIHZhciBjYW52YXNQYWRkaW5nID0gbWVzaC5jYW52YXNQYWRkaW5nIC8gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChjYW52YXNQYWRkaW5nID4gMCkge1xuICAgICAgICAgICAgdmFyIHBhZGRpbmdYID0gY2FudmFzUGFkZGluZyAvIE1hdGguYWJzKG1lc2gud29ybGRUcmFuc2Zvcm0uYSk7XG4gICAgICAgICAgICB2YXIgcGFkZGluZ1kgPSBjYW52YXNQYWRkaW5nIC8gTWF0aC5hYnMobWVzaC53b3JsZFRyYW5zZm9ybS5kKTtcbiAgICAgICAgICAgIHZhciBjZW50ZXJYID0gKHgwICsgeDEgKyB4MikgLyAzO1xuICAgICAgICAgICAgdmFyIGNlbnRlclkgPSAoeTAgKyB5MSArIHkyKSAvIDM7XG5cbiAgICAgICAgICAgIHZhciBub3JtWCA9IHgwIC0gY2VudGVyWDtcbiAgICAgICAgICAgIHZhciBub3JtWSA9IHkwIC0gY2VudGVyWTtcblxuICAgICAgICAgICAgdmFyIGRpc3QgPSBNYXRoLnNxcnQobm9ybVggKiBub3JtWCArIG5vcm1ZICogbm9ybVkpO1xuXG4gICAgICAgICAgICB4MCA9IGNlbnRlclggKyBub3JtWCAvIGRpc3QgKiAoZGlzdCArIHBhZGRpbmdYKTtcbiAgICAgICAgICAgIHkwID0gY2VudGVyWSArIG5vcm1ZIC8gZGlzdCAqIChkaXN0ICsgcGFkZGluZ1kpO1xuXG4gICAgICAgICAgICAvL1xuXG4gICAgICAgICAgICBub3JtWCA9IHgxIC0gY2VudGVyWDtcbiAgICAgICAgICAgIG5vcm1ZID0geTEgLSBjZW50ZXJZO1xuXG4gICAgICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KG5vcm1YICogbm9ybVggKyBub3JtWSAqIG5vcm1ZKTtcbiAgICAgICAgICAgIHgxID0gY2VudGVyWCArIG5vcm1YIC8gZGlzdCAqIChkaXN0ICsgcGFkZGluZ1gpO1xuICAgICAgICAgICAgeTEgPSBjZW50ZXJZICsgbm9ybVkgLyBkaXN0ICogKGRpc3QgKyBwYWRkaW5nWSk7XG5cbiAgICAgICAgICAgIG5vcm1YID0geDIgLSBjZW50ZXJYO1xuICAgICAgICAgICAgbm9ybVkgPSB5MiAtIGNlbnRlclk7XG5cbiAgICAgICAgICAgIGRpc3QgPSBNYXRoLnNxcnQobm9ybVggKiBub3JtWCArIG5vcm1ZICogbm9ybVkpO1xuICAgICAgICAgICAgeDIgPSBjZW50ZXJYICsgbm9ybVggLyBkaXN0ICogKGRpc3QgKyBwYWRkaW5nWCk7XG4gICAgICAgICAgICB5MiA9IGNlbnRlclkgKyBub3JtWSAvIGRpc3QgKiAoZGlzdCArIHBhZGRpbmdZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGNvbnRleHQubW92ZVRvKHgwLCB5MCk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKHgxLCB5MSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKHgyLCB5Mik7XG5cbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcblxuICAgICAgICBjb250ZXh0LmNsaXAoKTtcblxuICAgICAgICAvLyBDb21wdXRlIG1hdHJpeCB0cmFuc2Zvcm1cbiAgICAgICAgdmFyIGRlbHRhID0gdTAgKiB2MSArIHYwICogdTIgKyB1MSAqIHYyIC0gdjEgKiB1MiAtIHYwICogdTEgLSB1MCAqIHYyO1xuICAgICAgICB2YXIgZGVsdGFBID0geDAgKiB2MSArIHYwICogeDIgKyB4MSAqIHYyIC0gdjEgKiB4MiAtIHYwICogeDEgLSB4MCAqIHYyO1xuICAgICAgICB2YXIgZGVsdGFCID0gdTAgKiB4MSArIHgwICogdTIgKyB1MSAqIHgyIC0geDEgKiB1MiAtIHgwICogdTEgLSB1MCAqIHgyO1xuICAgICAgICB2YXIgZGVsdGFDID0gdTAgKiB2MSAqIHgyICsgdjAgKiB4MSAqIHUyICsgeDAgKiB1MSAqIHYyIC0geDAgKiB2MSAqIHUyIC0gdjAgKiB1MSAqIHgyIC0gdTAgKiB4MSAqIHYyO1xuICAgICAgICB2YXIgZGVsdGFEID0geTAgKiB2MSArIHYwICogeTIgKyB5MSAqIHYyIC0gdjEgKiB5MiAtIHYwICogeTEgLSB5MCAqIHYyO1xuICAgICAgICB2YXIgZGVsdGFFID0gdTAgKiB5MSArIHkwICogdTIgKyB1MSAqIHkyIC0geTEgKiB1MiAtIHkwICogdTEgLSB1MCAqIHkyO1xuICAgICAgICB2YXIgZGVsdGFGID0gdTAgKiB2MSAqIHkyICsgdjAgKiB5MSAqIHUyICsgeTAgKiB1MSAqIHYyIC0geTAgKiB2MSAqIHUyIC0gdjAgKiB1MSAqIHkyIC0gdTAgKiB5MSAqIHYyO1xuXG4gICAgICAgIGNvbnRleHQudHJhbnNmb3JtKGRlbHRhQSAvIGRlbHRhLCBkZWx0YUQgLyBkZWx0YSwgZGVsdGFCIC8gZGVsdGEsIGRlbHRhRSAvIGRlbHRhLCBkZWx0YUMgLyBkZWx0YSwgZGVsdGFGIC8gZGVsdGEpO1xuXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRleHR1cmVTb3VyY2UsIDAsIDAsIHRleHR1cmVXaWR0aCAqIGJhc2UucmVzb2x1dGlvbiwgdGV4dHVyZUhlaWdodCAqIGJhc2UucmVzb2x1dGlvbiwgMCwgMCwgdGV4dHVyZVdpZHRoLCB0ZXh0dXJlSGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5pbnZhbGlkYXRlQmxlbmRNb2RlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBmbGF0IE1lc2hcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLm1lc2guTWVzaH0gbWVzaCAtIFRoZSBNZXNoIHRvIHJlbmRlclxuICAgICAqL1xuXG5cbiAgICBNZXNoU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlck1lc2hGbGF0ID0gZnVuY3Rpb24gcmVuZGVyTWVzaEZsYXQobWVzaCkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMucmVuZGVyZXIuY29udGV4dDtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gbWVzaC52ZXJ0aWNlcztcbiAgICAgICAgdmFyIGxlbmd0aCA9IHZlcnRpY2VzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgLy8gdGhpcy5jb3VudCsrO1xuXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGggLSAyOyArK2kpIHtcbiAgICAgICAgICAgIC8vIGRyYXcgc29tZSB0cmlhbmdsZXMhXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogMjtcblxuICAgICAgICAgICAgdmFyIHgwID0gdmVydGljZXNbaW5kZXhdO1xuICAgICAgICAgICAgdmFyIHkwID0gdmVydGljZXNbaW5kZXggKyAxXTtcblxuICAgICAgICAgICAgdmFyIHgxID0gdmVydGljZXNbaW5kZXggKyAyXTtcbiAgICAgICAgICAgIHZhciB5MSA9IHZlcnRpY2VzW2luZGV4ICsgM107XG5cbiAgICAgICAgICAgIHZhciB4MiA9IHZlcnRpY2VzW2luZGV4ICsgNF07XG4gICAgICAgICAgICB2YXIgeTIgPSB2ZXJ0aWNlc1tpbmRleCArIDVdO1xuXG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4MCwgeTApO1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeDEsIHkxKTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHgyLCB5Mik7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjRkYwMDAwJztcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGRlc3Ryb3kgdGhlIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBNZXNoU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIE1lc2hTcHJpdGVSZW5kZXJlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTWVzaFNwcml0ZVJlbmRlcmVyO1xuXG5cbmNvcmUuQ2FudmFzUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ21lc2gnLCBNZXNoU3ByaXRlUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzTWVzaFJlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9QbGFuZTIgPSByZXF1aXJlKCcuL1BsYW5lJyk7XG5cbnZhciBfUGxhbmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGxhbmUyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgREVGQVVMVF9CT1JERVJfU0laRSA9IDEwO1xuXG4vKipcbiAqIFRoZSBOaW5lU2xpY2VQbGFuZSBhbGxvd3MgeW91IHRvIHN0cmV0Y2ggYSB0ZXh0dXJlIHVzaW5nIDktc2xpY2Ugc2NhbGluZy4gVGhlIGNvcm5lcnMgd2lsbCByZW1haW4gdW5zY2FsZWQgKHVzZWZ1bFxuICogZm9yIGJ1dHRvbnMgd2l0aCByb3VuZGVkIGNvcm5lcnMgZm9yIGV4YW1wbGUpIGFuZCB0aGUgb3RoZXIgYXJlYXMgd2lsbCBiZSBzY2FsZWQgaG9yaXpvbnRhbGx5IGFuZCBvciB2ZXJ0aWNhbGx5XG4gKlxuICpgYGBqc1xuICogbGV0IFBsYW5lOSA9IG5ldyBQSVhJLk5pbmVTbGljZVBsYW5lKFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoJ0JveFdpdGhSb3VuZGVkQ29ybmVycy5wbmcnKSwgMTUsIDE1LCAxNSwgMTUpO1xuICogIGBgYFxuICogPHByZT5cbiAqICAgICAgQSAgICAgICAgICAgICAgICAgICAgICAgICAgQlxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBDIHwgMSB8ICAgICAgICAgIDIgICAgICAgICAgIHwgMyB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogICAgfCAgIHwgICAgICAgICAgICAgICAgICAgICAgfCAgIHxcbiAqICAgIHwgNCB8ICAgICAgICAgIDUgICAgICAgICAgIHwgNiB8XG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBEIHwgNyB8ICAgICAgICAgIDggICAgICAgICAgIHwgOSB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuXG4gKiAgV2hlbiBjaGFuZ2luZyB0aGlzIG9iamVjdHMgd2lkdGggYW5kL29yIGhlaWdodDpcbiAqICAgICBhcmVhcyAxIDMgNyBhbmQgOSB3aWxsIHJlbWFpbiB1bnNjYWxlZC5cbiAqICAgICBhcmVhcyAyIGFuZCA4IHdpbGwgYmUgc3RyZXRjaGVkIGhvcml6b250YWxseVxuICogICAgIGFyZWFzIDQgYW5kIDYgd2lsbCBiZSBzdHJldGNoZWQgdmVydGljYWxseVxuICogICAgIGFyZWEgNSB3aWxsIGJlIHN0cmV0Y2hlZCBib3RoIGhvcml6b250YWxseSBhbmQgdmVydGljYWxseVxuICogPC9wcmU+XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLm1lc2guUGxhbmVcbiAqIEBtZW1iZXJvZiBQSVhJLm1lc2hcbiAqXG4gKi9cblxudmFyIE5pbmVTbGljZVBsYW5lID0gZnVuY3Rpb24gKF9QbGFuZSkge1xuICAgIF9pbmhlcml0cyhOaW5lU2xpY2VQbGFuZSwgX1BsYW5lKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBOaW5lU2xpY2VQbGFuZS5cbiAgICAgKiBAcGFyYW0ge2ludH0gW2xlZnRXaWR0aD0xMF0gc2l6ZSBvZiB0aGUgbGVmdCB2ZXJ0aWNhbCBiYXIgKEEpXG4gICAgICogQHBhcmFtIHtpbnR9IFt0b3BIZWlnaHQ9MTBdIHNpemUgb2YgdGhlIHRvcCBob3Jpem9udGFsIGJhciAoQylcbiAgICAgKiBAcGFyYW0ge2ludH0gW3JpZ2h0V2lkdGg9MTBdIHNpemUgb2YgdGhlIHJpZ2h0IHZlcnRpY2FsIGJhciAoQilcbiAgICAgKiBAcGFyYW0ge2ludH0gW2JvdHRvbUhlaWdodD0xMF0gc2l6ZSBvZiB0aGUgYm90dG9tIGhvcml6b250YWwgYmFyIChEKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE5pbmVTbGljZVBsYW5lKHRleHR1cmUsIGxlZnRXaWR0aCwgdG9wSGVpZ2h0LCByaWdodFdpZHRoLCBib3R0b21IZWlnaHQpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5pbmVTbGljZVBsYW5lKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUGxhbmUuY2FsbCh0aGlzLCB0ZXh0dXJlLCA0LCA0KSk7XG5cbiAgICAgICAgX3RoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgX3RoaXMuX29yaWdIZWlnaHQgPSB0ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5OaW5lU2xpY2VQbGFuZSNcbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fd2lkdGggPSBfdGhpcy5fb3JpZ1dpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTmluZVNsaWNlUGxhbmUjXG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IF90aGlzLl9vcmlnSGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGxlZnQgY29sdW1uIChhKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLk5pbmVTbGljZVBsYW5lI1xuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sZWZ0V2lkdGggPSB0eXBlb2YgbGVmdFdpZHRoICE9PSAndW5kZWZpbmVkJyA/IGxlZnRXaWR0aCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmlnaHQgY29sdW1uIChiKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLk5pbmVTbGljZVBsYW5lI1xuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yaWdodFdpZHRoID0gdHlwZW9mIHJpZ2h0V2lkdGggIT09ICd1bmRlZmluZWQnID8gcmlnaHRXaWR0aCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3cgKGMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTmluZVNsaWNlUGxhbmUjXG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RvcEhlaWdodCA9IHR5cGVvZiB0b3BIZWlnaHQgIT09ICd1bmRlZmluZWQnID8gdG9wSGVpZ2h0IDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgYm90dG9tIHJvdyAoZClcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5OaW5lU2xpY2VQbGFuZSNcbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYm90dG9tSGVpZ2h0ID0gdHlwZW9mIGJvdHRvbUhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgPyBib3R0b21IZWlnaHQgOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIF90aGlzLnJlZnJlc2godHJ1ZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBob3Jpem9udGFsIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS51cGRhdGVIb3Jpem9udGFsVmVydGljZXMgPSBmdW5jdGlvbiB1cGRhdGVIb3Jpem9udGFsVmVydGljZXMoKSB7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG5cbiAgICAgICAgdmFyIGggPSB0aGlzLl90b3BIZWlnaHQgKyB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuX2hlaWdodCA+IGggPyAxLjAgOiB0aGlzLl9oZWlnaHQgLyBoO1xuXG4gICAgICAgIHZlcnRpY2VzWzldID0gdmVydGljZXNbMTFdID0gdmVydGljZXNbMTNdID0gdmVydGljZXNbMTVdID0gdGhpcy5fdG9wSGVpZ2h0ICogc2NhbGU7XG4gICAgICAgIHZlcnRpY2VzWzE3XSA9IHZlcnRpY2VzWzE5XSA9IHZlcnRpY2VzWzIxXSA9IHZlcnRpY2VzWzIzXSA9IHRoaXMuX2hlaWdodCAtIHRoaXMuX2JvdHRvbUhlaWdodCAqIHNjYWxlO1xuICAgICAgICB2ZXJ0aWNlc1syNV0gPSB2ZXJ0aWNlc1syN10gPSB2ZXJ0aWNlc1syOV0gPSB2ZXJ0aWNlc1szMV0gPSB0aGlzLl9oZWlnaHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHZlcnRpY2FsIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzID0gZnVuY3Rpb24gdXBkYXRlVmVydGljYWxWZXJ0aWNlcygpIHtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcblxuICAgICAgICB2YXIgdyA9IHRoaXMuX2xlZnRXaWR0aCArIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuX3dpZHRoID4gdyA/IDEuMCA6IHRoaXMuX3dpZHRoIC8gdztcblxuICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzEwXSA9IHZlcnRpY2VzWzE4XSA9IHZlcnRpY2VzWzI2XSA9IHRoaXMuX2xlZnRXaWR0aCAqIHNjYWxlO1xuICAgICAgICB2ZXJ0aWNlc1s0XSA9IHZlcnRpY2VzWzEyXSA9IHZlcnRpY2VzWzIwXSA9IHZlcnRpY2VzWzI4XSA9IHRoaXMuX3dpZHRoIC0gdGhpcy5fcmlnaHRXaWR0aCAqIHNjYWxlO1xuICAgICAgICB2ZXJ0aWNlc1s2XSA9IHZlcnRpY2VzWzE0XSA9IHZlcnRpY2VzWzIyXSA9IHZlcnRpY2VzWzMwXSA9IHRoaXMuX3dpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIENhbnZhcyByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIGNhbnZhcyByZW5kZXJlciB0byByZW5kZXIgd2l0aC5cbiAgICAgKi9cblxuXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLl9yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gcmVuZGVyZXIuY29udGV4dDtcblxuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgICAgICByZW5kZXJlci5zZXRCbGVuZE1vZGUodGhpcy5ibGVuZE1vZGUpO1xuXG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgcmVzID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAocmVuZGVyZXIucm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybS5hICogcmVzLCB0cmFuc2Zvcm0uYiAqIHJlcywgdHJhbnNmb3JtLmMgKiByZXMsIHRyYW5zZm9ybS5kICogcmVzLCB0cmFuc2Zvcm0udHggKiByZXMgfCAwLCB0cmFuc2Zvcm0udHkgKiByZXMgfCAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybS5hICogcmVzLCB0cmFuc2Zvcm0uYiAqIHJlcywgdHJhbnNmb3JtLmMgKiByZXMsIHRyYW5zZm9ybS5kICogcmVzLCB0cmFuc2Zvcm0udHggKiByZXMsIHRyYW5zZm9ybS50eSAqIHJlcyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFzZSA9IHRoaXMuX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciB0ZXh0dXJlU291cmNlID0gYmFzZS5zb3VyY2U7XG4gICAgICAgIHZhciB3ID0gYmFzZS53aWR0aCAqIGJhc2UucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGggPSBiYXNlLmhlaWdodCAqIGJhc2UucmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDAsIDEsIDEwLCAxMSk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgMiwgMywgMTIsIDEzKTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCA0LCA1LCAxNCwgMTUpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDgsIDksIDE4LCAxOSk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgMTAsIDExLCAyMCwgMjEpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDEyLCAxMywgMjIsIDIzKTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAxNiwgMTcsIDI2LCAyNyk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgMTgsIDE5LCAyOCwgMjkpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDIwLCAyMSwgMzAsIDMxKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBvbmUgc2VnbWVudCBvZiB0aGUgcGxhbmUuXG4gICAgICogdG8gbWltaWMgdGhlIGV4YWN0IGRyYXdpbmcgYmVoYXZpb3Igb2Ygc3RyZXRjaGluZyB0aGUgaW1hZ2UgbGlrZSBXZWJHTCBkb2VzLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZVxuICAgICAqIHRoYXQgdGhlIHNvdXJjZSBhcmVhIGlzIGF0IGxlYXN0IDEgcGl4ZWwgaW4gc2l6ZSwgb3RoZXJ3aXNlIG5vdGhpbmcgZ2V0cyBkcmF3biB3aGVuIGEgc2xpY2Ugc2l6ZSBvZiAwIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IC0gVGhlIGNvbnRleHQgdG8gZHJhdyB3aXRoLlxuICAgICAqIEBwYXJhbSB7Q2FudmFzSW1hZ2VTb3VyY2V9IHRleHR1cmVTb3VyY2UgLSBUaGUgc291cmNlIHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHcgLSB3aWR0aCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoIC0gaGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0geCBpbmRleCAxXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0geSBpbmRleCAxXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgyIC0geCBpbmRleCAyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkyIC0geSBpbmRleCAyXG4gICAgICovXG5cblxuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS5kcmF3U2VnbWVudCA9IGZ1bmN0aW9uIGRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgICAgIC8vIG90aGVyd2lzZSB5b3UgZ2V0IHdlaXJkIHJlc3VsdHMgd2hlbiB1c2luZyBzbGljZXMgb2YgdGhhdCBhcmUgMCB3aWRlIG9yIGhpZ2guXG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcblxuICAgICAgICB2YXIgc3cgPSAodXZzW3gyXSAtIHV2c1t4MV0pICogdztcbiAgICAgICAgdmFyIHNoID0gKHV2c1t5Ml0gLSB1dnNbeTFdKSAqIGg7XG4gICAgICAgIHZhciBkdyA9IHZlcnRpY2VzW3gyXSAtIHZlcnRpY2VzW3gxXTtcbiAgICAgICAgdmFyIGRoID0gdmVydGljZXNbeTJdIC0gdmVydGljZXNbeTFdO1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgc291cmNlIGlzIGF0IGxlYXN0IDEgcGl4ZWwgd2lkZSBhbmQgaGlnaCwgb3RoZXJ3aXNlIG5vdGhpbmcgd2lsbCBiZSBkcmF3bi5cbiAgICAgICAgaWYgKHN3IDwgMSkge1xuICAgICAgICAgICAgc3cgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNoIDwgMSkge1xuICAgICAgICAgICAgc2ggPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIGRlc3RpbmF0aW9uIGlzIGF0IGxlYXN0IDEgcGl4ZWwgd2lkZSBhbmQgaGlnaCwgb3RoZXJ3aXNlIHlvdSBnZXRcbiAgICAgICAgLy8gbGluZXMgd2hlbiByZW5kZXJpbmcgY2xvc2UgdG8gb3JpZ2luYWwgc2l6ZS5cbiAgICAgICAgaWYgKGR3IDwgMSkge1xuICAgICAgICAgICAgZHcgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRoIDwgMSkge1xuICAgICAgICAgICAgZGggPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZVNvdXJjZSwgdXZzW3gxXSAqIHcsIHV2c1t5MV0gKiBoLCBzdywgc2gsIHZlcnRpY2VzW3gxXSwgdmVydGljZXNbeTFdLCBkdywgZGgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIE5pbmVTbGljZVBsYW5lIGNvb3Jkcy4gQWxsIG9mIHRoZW0uXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLl9yZWZyZXNoID0gZnVuY3Rpb24gX3JlZnJlc2goKSB7XG4gICAgICAgIF9QbGFuZS5wcm90b3R5cGUuX3JlZnJlc2guY2FsbCh0aGlzKTtcblxuICAgICAgICB2YXIgdXZzID0gdGhpcy51dnM7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcblxuICAgICAgICB0aGlzLl9vcmlnV2lkdGggPSB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHRoaXMuX29yaWdIZWlnaHQgPSB0ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuXG4gICAgICAgIHZhciBfdXZ3ID0gMS4wIC8gdGhpcy5fb3JpZ1dpZHRoO1xuICAgICAgICB2YXIgX3V2aCA9IDEuMCAvIHRoaXMuX29yaWdIZWlnaHQ7XG5cbiAgICAgICAgdXZzWzBdID0gdXZzWzhdID0gdXZzWzE2XSA9IHV2c1syNF0gPSAwO1xuICAgICAgICB1dnNbMV0gPSB1dnNbM10gPSB1dnNbNV0gPSB1dnNbN10gPSAwO1xuICAgICAgICB1dnNbNl0gPSB1dnNbMTRdID0gdXZzWzIyXSA9IHV2c1szMF0gPSAxO1xuICAgICAgICB1dnNbMjVdID0gdXZzWzI3XSA9IHV2c1syOV0gPSB1dnNbMzFdID0gMTtcblxuICAgICAgICB1dnNbMl0gPSB1dnNbMTBdID0gdXZzWzE4XSA9IHV2c1syNl0gPSBfdXZ3ICogdGhpcy5fbGVmdFdpZHRoO1xuICAgICAgICB1dnNbNF0gPSB1dnNbMTJdID0gdXZzWzIwXSA9IHV2c1syOF0gPSAxIC0gX3V2dyAqIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgICAgIHV2c1s5XSA9IHV2c1sxMV0gPSB1dnNbMTNdID0gdXZzWzE1XSA9IF91dmggKiB0aGlzLl90b3BIZWlnaHQ7XG4gICAgICAgIHV2c1sxN10gPSB1dnNbMTldID0gdXZzWzIxXSA9IHV2c1syM10gPSAxIC0gX3V2aCAqIHRoaXMuX2JvdHRvbUhlaWdodDtcblxuICAgICAgICB0aGlzLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMoKTtcblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgdGhpcy5tdWx0aXBseVV2cygpO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoTmluZVNsaWNlUGxhbmUsIFt7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGxlZnQgY29sdW1uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2xlZnRXaWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlZnRXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sZWZ0V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyaWdodFdpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yaWdodFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgdG9wIHJvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0b3BIZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90b3BIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdG9wSGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgYm90dG9tIHJvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdib3R0b21IZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYm90dG9tSGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTmluZVNsaWNlUGxhbmU7XG59KF9QbGFuZTMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE5pbmVTbGljZVBsYW5lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TmluZVNsaWNlUGxhbmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX01lc2gyID0gcmVxdWlyZSgnLi9NZXNoJyk7XG5cbnZhciBfTWVzaDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgcm9wZSBhbGxvd3MgeW91IHRvIGRyYXcgYSB0ZXh0dXJlIGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbSBtYW5pcHVsYXRlIHRoZXNlIHBvaW50c1xuICpcbiAqYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGxldCByb3BlID0gbmV3IFBJWEkuUm9wZShQSVhJLlRleHR1cmUuZnJvbUltYWdlKFwic25ha2UucG5nXCIpLCBwb2ludHMpO1xuICogIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5tZXNoLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJLm1lc2hcbiAqXG4gKi9cbnZhciBSb3BlID0gZnVuY3Rpb24gKF9NZXNoKSB7XG4gICAgX2luaGVyaXRzKFJvcGUsIF9NZXNoKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSByb3BlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfSBwb2ludHMgLSBBbiBhcnJheSBvZiB7QGxpbmsgUElYSS5Qb2ludH0gb2JqZWN0cyB0byBjb25zdHJ1Y3QgdGhpcyByb3BlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJvcGUodGV4dHVyZSwgcG9pbnRzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb3BlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgcG9pbnRzIHRoYXQgZGV0ZXJtaW5lIHRoZSByb3BlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnRbXX1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9NZXNoLmNhbGwodGhpcywgdGV4dHVyZSkpO1xuXG4gICAgICAgIF90aGlzLnBvaW50cyA9IHBvaW50cztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgdmVydGljZXMgdXNlZCB0byBjb25zdHJ1Y3QgdGhpcyByb3BlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgVXZzIG9mIHRoZSByb3BlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dnMgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgY29udGFpbmluZyB0aGUgY29sb3IgY29tcG9uZW50c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb2xvcnMgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiAyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgY29udGFpbmluZyB0aGUgaW5kaWNlcyBvZiB0aGUgdmVydGljZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KHBvaW50cy5sZW5ndGggKiAyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmVmcmVzaGVzIHZlcnRpY2VzIG9uIGV2ZXJ5IHVwZGF0ZVRyYW5zZm9ybVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvVXBkYXRlID0gdHJ1ZTtcblxuICAgICAgICBfdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXNcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBSb3BlLnByb3RvdHlwZS5fcmVmcmVzaCA9IGZ1bmN0aW9uIF9yZWZyZXNoKCkge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG5cbiAgICAgICAgLy8gaWYgdG9vIGxpdHRsZSBwb2ludHMsIG9yIHRleHR1cmUgaGFzbid0IGdvdCBVVnMgc2V0IHlldCBqdXN0IG1vdmUgb24uXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSB8fCAhdGhpcy5fdGV4dHVyZS5fdXZzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGUgbnVtYmVyIG9mIHBvaW50cyBoYXMgY2hhbmdlZCB3ZSB3aWxsIG5lZWQgdG8gcmVjcmVhdGUgdGhlIGFycmF5YnVmZmVyc1xuICAgICAgICBpZiAodGhpcy52ZXJ0aWNlcy5sZW5ndGggLyA0ICE9PSBwb2ludHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICB0aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuICAgICAgICAgICAgdGhpcy5jb2xvcnMgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiAyKTtcbiAgICAgICAgICAgIHRoaXMuaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShwb2ludHMubGVuZ3RoICogMik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdXZzID0gdGhpcy51dnM7XG5cbiAgICAgICAgdmFyIGluZGljZXMgPSB0aGlzLmluZGljZXM7XG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLmNvbG9ycztcblxuICAgICAgICB1dnNbMF0gPSAwO1xuICAgICAgICB1dnNbMV0gPSAwO1xuICAgICAgICB1dnNbMl0gPSAwO1xuICAgICAgICB1dnNbM10gPSAxO1xuXG4gICAgICAgIGNvbG9yc1swXSA9IDE7XG4gICAgICAgIGNvbG9yc1sxXSA9IDE7XG5cbiAgICAgICAgaW5kaWNlc1swXSA9IDA7XG4gICAgICAgIGluZGljZXNbMV0gPSAxO1xuXG4gICAgICAgIHZhciB0b3RhbCA9IHBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICAvLyB0aW1lIHRvIGRvIHNvbWUgc21hcnQgZHJhd2luZyFcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiA0O1xuICAgICAgICAgICAgdmFyIGFtb3VudCA9IGkgLyAodG90YWwgLSAxKTtcblxuICAgICAgICAgICAgdXZzW2luZGV4XSA9IGFtb3VudDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDFdID0gMDtcblxuICAgICAgICAgICAgdXZzW2luZGV4ICsgMl0gPSBhbW91bnQ7XG4gICAgICAgICAgICB1dnNbaW5kZXggKyAzXSA9IDE7XG5cbiAgICAgICAgICAgIGluZGV4ID0gaSAqIDI7XG4gICAgICAgICAgICBjb2xvcnNbaW5kZXhdID0gMTtcbiAgICAgICAgICAgIGNvbG9yc1tpbmRleCArIDFdID0gMTtcblxuICAgICAgICAgICAgaW5kZXggPSBpICogMjtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhdID0gaW5kZXg7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4ICsgMV0gPSBpbmRleCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgY2hhbmdlcyBhcmUgdXBsb2FkZWRcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICB0aGlzLmluZGV4RGlydHkrKztcblxuICAgICAgICB0aGlzLm11bHRpcGx5VXZzKCk7XG4gICAgICAgIHRoaXMucmVmcmVzaFZlcnRpY2VzKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHJlZnJlc2hlcyB2ZXJ0aWNlcyBvZiBSb3BlIG1lc2hcbiAgICAgKi9cblxuXG4gICAgUm9wZS5wcm90b3R5cGUucmVmcmVzaFZlcnRpY2VzID0gZnVuY3Rpb24gcmVmcmVzaFZlcnRpY2VzKCkge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGFzdFBvaW50ID0gcG9pbnRzWzBdO1xuICAgICAgICB2YXIgbmV4dFBvaW50ID0gdm9pZCAwO1xuICAgICAgICB2YXIgcGVycFggPSAwO1xuICAgICAgICB2YXIgcGVycFkgPSAwO1xuXG4gICAgICAgIC8vIHRoaXMuY291bnQgLT0gMC4yO1xuXG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgICAgIHZhciB0b3RhbCA9IHBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogNDtcblxuICAgICAgICAgICAgaWYgKGkgPCBwb2ludHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIG5leHRQb2ludCA9IHBvaW50c1tpICsgMV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5leHRQb2ludCA9IHBvaW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwZXJwWSA9IC0obmV4dFBvaW50LnggLSBsYXN0UG9pbnQueCk7XG4gICAgICAgICAgICBwZXJwWCA9IG5leHRQb2ludC55IC0gbGFzdFBvaW50Lnk7XG5cbiAgICAgICAgICAgIHZhciByYXRpbyA9ICgxIC0gaSAvICh0b3RhbCAtIDEpKSAqIDEwO1xuXG4gICAgICAgICAgICBpZiAocmF0aW8gPiAxKSB7XG4gICAgICAgICAgICAgICAgcmF0aW8gPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcGVycExlbmd0aCA9IE1hdGguc3FydChwZXJwWCAqIHBlcnBYICsgcGVycFkgKiBwZXJwWSk7XG4gICAgICAgICAgICB2YXIgbnVtID0gdGhpcy5fdGV4dHVyZS5oZWlnaHQgLyAyOyAvLyAoMjAgKyBNYXRoLmFicyhNYXRoLnNpbigoaSArIHRoaXMuY291bnQpICogMC4zKSAqIDUwKSApKiByYXRpbztcblxuICAgICAgICAgICAgcGVycFggLz0gcGVycExlbmd0aDtcbiAgICAgICAgICAgIHBlcnBZIC89IHBlcnBMZW5ndGg7XG5cbiAgICAgICAgICAgIHBlcnBYICo9IG51bTtcbiAgICAgICAgICAgIHBlcnBZICo9IG51bTtcblxuICAgICAgICAgICAgdmVydGljZXNbaW5kZXhdID0gcG9pbnQueCArIHBlcnBYO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAxXSA9IHBvaW50LnkgKyBwZXJwWTtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgMl0gPSBwb2ludC54IC0gcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDNdID0gcG9pbnQueSAtIHBlcnBZO1xuXG4gICAgICAgICAgICBsYXN0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFJvcGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoVmVydGljZXMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUm9wZTtcbn0oX01lc2gzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSb3BlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Um9wZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfUGFydGljbGVDb250YWluZXIgPSByZXF1aXJlKCcuL1BhcnRpY2xlQ29udGFpbmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUGFydGljbGVDb250YWluZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXJ0aWNsZUNvbnRhaW5lcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUGFydGljbGVSZW5kZXJlciA9IHJlcXVpcmUoJy4vd2ViZ2wvUGFydGljbGVSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1BhcnRpY2xlUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXJ0aWNsZVJlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL2NvcmUvdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBQYXJ0aWNsZUNvbnRhaW5lciBjbGFzcyBpcyBhIHJlYWxseSBmYXN0IHZlcnNpb24gb2YgdGhlIENvbnRhaW5lciBidWlsdCBzb2xlbHkgZm9yIHNwZWVkLFxuICogc28gdXNlIHdoZW4geW91IG5lZWQgYSBsb3Qgb2Ygc3ByaXRlcyBvciBwYXJ0aWNsZXMuIFRoZSB0cmFkZW9mZiBvZiB0aGUgUGFydGljbGVDb250YWluZXIgaXMgdGhhdCBtb3N0IGFkdmFuY2VkXG4gKiBmdW5jdGlvbmFsaXR5IHdpbGwgbm90IHdvcmsuIFBhcnRpY2xlQ29udGFpbmVyIGltcGxlbWVudHMgdGhlIGJhc2ljIG9iamVjdCB0cmFuc2Zvcm0gKHBvc2l0aW9uLCBzY2FsZSwgcm90YXRpb24pXG4gKiBhbmQgc29tZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgdGludCAoYXMgb2YgdjQuNS42KS5cbiAqIE90aGVyIG1vcmUgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSBsaWtlIG1hc2tpbmcsIGNoaWxkcmVuLCBmaWx0ZXJzLCBldGMgd2lsbCBub3Qgd29yayBvbiBzcHJpdGVzIGluIHRoaXMgYmF0Y2guXG4gKlxuICogSXQncyBleHRyZW1lbHkgZWFzeSB0byB1c2UgOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBhcnRpY2xlQ29udGFpbmVyKCk7XG4gKlxuICogZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7ICsraSlcbiAqIHtcbiAqICAgICBsZXQgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlLmZyb21JbWFnZShcIm15SW1hZ2UucG5nXCIpO1xuICogICAgIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogfVxuICogYGBgXG4gKlxuICogQW5kIGhlcmUgeW91IGhhdmUgYSBodW5kcmVkIHNwcml0ZXMgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGF0IHRoZSBzcGVlZCBvZiBsaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSS5wYXJ0aWNsZXNcbiAqL1xudmFyIFBhcnRpY2xlQ29udGFpbmVyID0gZnVuY3Rpb24gKF9jb3JlJENvbnRhaW5lcikge1xuICAgIF9pbmhlcml0cyhQYXJ0aWNsZUNvbnRhaW5lciwgX2NvcmUkQ29udGFpbmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4U2l6ZT0xNTAwXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwYXJ0aWNsZXMgdGhhdCBjYW4gYmUgcmVuZGVyZWQgYnkgdGhlIGNvbnRhaW5lci5cbiAgICAgKiAgQWZmZWN0cyBzaXplIG9mIGFsbG9jYXRlZCBidWZmZXJzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcGVydGllc10gLSBUaGUgcHJvcGVydGllcyBvZiBjaGlsZHJlbiB0aGF0IHNob3VsZCBiZSB1cGxvYWRlZCB0byB0aGUgZ3B1IGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudmVydGljZXM9ZmFsc2VdIC0gV2hlbiB0cnVlLCB2ZXJ0aWNlcyBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiAgICAgICAgICAgICAgICAgIGlmIHNwcml0ZSdzIGAgc2NhbGUvYW5jaG9yL3RyaW0vZnJhbWUvb3JpZ2AgaXMgZHluYW1pYywgcGxlYXNlIHNldCBgdHJ1ZWAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5wb3NpdGlvbj10cnVlXSAtIFdoZW4gdHJ1ZSwgcG9zaXRpb24gYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5yb3RhdGlvbj1mYWxzZV0gLSBXaGVuIHRydWUsIHJvdGF0aW9uIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudXZzPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgdXZzIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudGludD1mYWxzZV0gLSBXaGVuIHRydWUsIGFscGhhIGFuZCB0aW50IGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmF0Y2hTaXplPTE2Mzg0XSAtIE51bWJlciBvZiBwYXJ0aWNsZXMgcGVyIGJhdGNoLiBJZiBsZXNzIHRoYW4gbWF4U2l6ZSwgaXQgdXNlcyBtYXhTaXplIGluc3RlYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1Jlc2l6ZT1mYWxzZV0gSWYgdHJ1ZSwgY29udGFpbmVyIGFsbG9jYXRlcyBtb3JlIGJhdGNoZXMgaW4gY2FzZVxuICAgICAqICB0aGVyZSBhcmUgbW9yZSB0aGFuIGBtYXhTaXplYCBwYXJ0aWNsZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVDb250YWluZXIoKSB7XG4gICAgICAgIHZhciBtYXhTaXplID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxNTAwO1xuICAgICAgICB2YXIgcHJvcGVydGllcyA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTYzODQ7XG4gICAgICAgIHZhciBhdXRvUmVzaXplID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFydGljbGVDb250YWluZXIpO1xuXG4gICAgICAgIC8vIE1ha2luZyBzdXJlIHRoZSBiYXRjaCBzaXplIGlzIHZhbGlkXG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCB2ZXJ0ZXggaW5kZXggaW4gdGhlIGluZGV4IGJ1ZmZlciAoc2VlIFBhcnRpY2xlUmVuZGVyZXIpXG4gICAgICAgIC8vIHNvIG1heCBudW1iZXIgb2YgcGFydGljbGVzIGlzIDY1NTM2IC8gNCA9IDE2Mzg0XG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJENvbnRhaW5lci5jYWxsKHRoaXMpKTtcblxuICAgICAgICB2YXIgbWF4QmF0Y2hTaXplID0gMTYzODQ7XG5cbiAgICAgICAgaWYgKGJhdGNoU2l6ZSA+IG1heEJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgYmF0Y2hTaXplID0gbWF4QmF0Y2hTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJhdGNoU2l6ZSA+IG1heFNpemUpIHtcbiAgICAgICAgICAgIGJhdGNoU2l6ZSA9IG1heFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHByb3BlcnRpZXMgdG8gYmUgZHluYW1pYyAodHJ1ZSkgLyBzdGF0aWMgKGZhbHNlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFuW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcHJvcGVydGllcyA9IFtmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXhTaXplID0gbWF4U2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhdGNoU2l6ZSA9IGJhdGNoU2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgV2ViR0xCdWZmZXI+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2dsQnVmZmVycyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBmb3IgZXZlcnkgYmF0Y2ggc3RvcmVzIF91cGRhdGVJRCBjb3JyZXNwb25kaW5nIHRvIHRoZSBsYXN0IGNoYW5nZSBpbiB0aGF0IGJhdGNoXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlclVwZGF0ZUlEcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB3aGVuIGNoaWxkIGluc2VydGVkLCByZW1vdmVkIG9yIGNoYW5nZXMgcG9zaXRpb24gdGhpcyBudW1iZXIgZ29lcyB1cFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgXG4gICAgICAgICAqIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gY29yZS5CTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUsIGNvbnRhaW5lciBhbGxvY2F0ZXMgbW9yZSBiYXRjaGVzIGluIGNhc2UgdGhlcmUgYXJlIG1vcmUgdGhhbiBgbWF4U2l6ZWAgcGFydGljbGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1Jlc2l6ZSA9IGF1dG9SZXNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgZm9yIGNhbnZhcyByZW5kZXJlcmluZy4gSWYgdHJ1ZSB0aGVuIHRoZSBlbGVtZW50cyB3aWxsIGJlIHBvc2l0aW9uZWQgYXQgdGhlXG4gICAgICAgICAqIG5lYXJlc3QgcGl4ZWwuIFRoaXMgcHJvdmlkZXMgYSBuaWNlIHNwZWVkIGJvb3N0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlO1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucm91bmRQaXhlbHMgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIHRvIHJlbmRlciB0aGUgY2hpbGRyZW4uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtCYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5zZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIuXG4gICAgICAgICAqIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGludCA9IDA7XG4gICAgICAgIF90aGlzLnRpbnRSZ2IgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwcml2YXRlIHByb3BlcnRpZXMgYXJyYXkgdG8gZHluYW1pYyAvIHN0YXRpYyBiYXNlZCBvbiB0aGUgcGFzc2VkIHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcHJvcGVydGllcyAtIFRoZSBwcm9wZXJ0aWVzIHRvIGJlIHVwbG9hZGVkXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzBdID0gJ3ZlcnRpY2VzJyBpbiBwcm9wZXJ0aWVzIHx8ICdzY2FsZScgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy52ZXJ0aWNlcyB8fCAhIXByb3BlcnRpZXMuc2NhbGUgOiB0aGlzLl9wcm9wZXJ0aWVzWzBdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1sxXSA9ICdwb3NpdGlvbicgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy5wb3NpdGlvbiA6IHRoaXMuX3Byb3BlcnRpZXNbMV07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzJdID0gJ3JvdGF0aW9uJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnJvdGF0aW9uIDogdGhpcy5fcHJvcGVydGllc1syXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbM10gPSAndXZzJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnV2cyA6IHRoaXMuX3Byb3BlcnRpZXNbM107XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzRdID0gJ3RpbnQnIGluIHByb3BlcnRpZXMgfHwgJ2FscGhhJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnRpbnQgfHwgISFwcm9wZXJ0aWVzLmFscGhhIDogdGhpcy5fcHJvcGVydGllc1s0XTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0oKSB7XG4gICAgICAgIC8vIFRPRE8gZG9uJ3QgbmVlZCB0byFcbiAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIC8vICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLmNhbGwoIHRoaXMgKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSB3ZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250YWluZXIgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlclxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLmNoaWxkcmVuLmxlbmd0aCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSB0aGlzLmNoaWxkcmVuWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub25jZSgndXBkYXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ2hpbGRyZW5DaGFuZ2UoMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZmxhZyB0aGF0IHN0YXRpYyBkYXRhIHNob3VsZCBiZSB1cGRhdGVkIHRvIHRydWVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNtYWxsZXN0Q2hpbGRJbmRleCAtIFRoZSBzbWFsbGVzdCBjaGlsZCBpbmRleFxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUub25DaGlsZHJlbkNoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hpbGRyZW5DaGFuZ2Uoc21hbGxlc3RDaGlsZEluZGV4KSB7XG4gICAgICAgIHZhciBidWZmZXJJbmRleCA9IE1hdGguZmxvb3Ioc21hbGxlc3RDaGlsZEluZGV4IC8gdGhpcy5fYmF0Y2hTaXplKTtcblxuICAgICAgICB3aGlsZSAodGhpcy5fYnVmZmVyVXBkYXRlSURzLmxlbmd0aCA8IGJ1ZmZlckluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHNbYnVmZmVySW5kZXhdID0gKyt0aGlzLl91cGRhdGVJRDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnJlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIHJlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5jaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSByZW5kZXJlci5jb250ZXh0O1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGlzUm90YXRlZCA9IHRydWU7XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgIHZhciBwb3NpdGlvblkgPSAwO1xuXG4gICAgICAgIHZhciBmaW5hbFdpZHRoID0gMDtcbiAgICAgICAgdmFyIGZpbmFsSGVpZ2h0ID0gMDtcblxuICAgICAgICByZW5kZXJlci5zZXRCbGVuZE1vZGUodGhpcy5ibGVuZE1vZGUpO1xuXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG5cbiAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWNoaWxkLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGZyYW1lID0gY2hpbGQuX3RleHR1cmUuZnJhbWU7XG5cbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSB0aGlzLndvcmxkQWxwaGEgKiBjaGlsZC5hbHBoYTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLnJvdGF0aW9uICUgKE1hdGguUEkgKiAyKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgdGhlIGZhc3Rlc3QgIHdheSB0byBvcHRpbWlzZSEgLSBpZiByb3RhdGlvbiBpcyAwIHRoZW4gd2UgY2FuIGF2b2lkIGFueSBraW5kIG9mIHNldFRyYW5zZm9ybSBjYWxsXG4gICAgICAgICAgICAgICAgaWYgKGlzUm90YXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSwgdHJhbnNmb3JtLmIsIHRyYW5zZm9ybS5jLCB0cmFuc2Zvcm0uZCwgdHJhbnNmb3JtLnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgdHJhbnNmb3JtLnR5ICogcmVuZGVyZXIucmVzb2x1dGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgaXNSb3RhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcG9zaXRpb25YID0gY2hpbGQuYW5jaG9yLnggKiAoLWZyYW1lLndpZHRoICogY2hpbGQuc2NhbGUueCkgKyBjaGlsZC5wb3NpdGlvbi54ICsgMC41O1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSA9IGNoaWxkLmFuY2hvci55ICogKC1mcmFtZS5oZWlnaHQgKiBjaGlsZC5zY2FsZS55KSArIGNoaWxkLnBvc2l0aW9uLnkgKyAwLjU7XG5cbiAgICAgICAgICAgICAgICBmaW5hbFdpZHRoID0gZnJhbWUud2lkdGggKiBjaGlsZC5zY2FsZS54O1xuICAgICAgICAgICAgICAgIGZpbmFsSGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogY2hpbGQuc2NhbGUueTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1JvdGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNSb3RhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjaGlsZC5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRUcmFuc2Zvcm0gPSBjaGlsZC53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlci5yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybShjaGlsZFRyYW5zZm9ybS5hLCBjaGlsZFRyYW5zZm9ybS5iLCBjaGlsZFRyYW5zZm9ybS5jLCBjaGlsZFRyYW5zZm9ybS5kLCBjaGlsZFRyYW5zZm9ybS50eCAqIHJlbmRlcmVyLnJlc29sdXRpb24gfCAwLCBjaGlsZFRyYW5zZm9ybS50eSAqIHJlbmRlcmVyLnJlc29sdXRpb24gfCAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybShjaGlsZFRyYW5zZm9ybS5hLCBjaGlsZFRyYW5zZm9ybS5iLCBjaGlsZFRyYW5zZm9ybS5jLCBjaGlsZFRyYW5zZm9ybS5kLCBjaGlsZFRyYW5zZm9ybS50eCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGNoaWxkVHJhbnNmb3JtLnR5ICogcmVuZGVyZXIucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcG9zaXRpb25YID0gY2hpbGQuYW5jaG9yLnggKiAtZnJhbWUud2lkdGggKyAwLjU7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25ZID0gY2hpbGQuYW5jaG9yLnkgKiAtZnJhbWUuaGVpZ2h0ICsgMC41O1xuXG4gICAgICAgICAgICAgICAgZmluYWxXaWR0aCA9IGZyYW1lLndpZHRoO1xuICAgICAgICAgICAgICAgIGZpbmFsSGVpZ2h0ID0gZnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGNoaWxkLl90ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGNoaWxkLl90ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSwgZnJhbWUueCAqIHJlc29sdXRpb24sIGZyYW1lLnkgKiByZXNvbHV0aW9uLCBmcmFtZS53aWR0aCAqIHJlc29sdXRpb24sIGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb24sIHBvc2l0aW9uWCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIHBvc2l0aW9uWSAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGZpbmFsV2lkdGggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBmaW5hbEhlaWdodCAqIHJlbmRlcmVyLnJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcbiAgICAgKiAgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShvcHRpb25zKSB7XG4gICAgICAgIF9jb3JlJENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLl9idWZmZXJzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXJzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFBhcnRpY2xlQ29udGFpbmVyLCBbe1xuICAgICAgICBrZXk6ICd0aW50JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgICAgICAoMCwgX3V0aWxzLmhleDJyZ2IpKHZhbHVlLCB0aGlzLnRpbnRSZ2IpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFBhcnRpY2xlQ29udGFpbmVyO1xufShjb3JlLkNvbnRhaW5lcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBhcnRpY2xlQ29udGFpbmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFydGljbGVDb250YWluZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX1BhcnRpY2xlU2hhZGVyID0gcmVxdWlyZSgnLi9QYXJ0aWNsZVNoYWRlcicpO1xuXG52YXIgX1BhcnRpY2xlU2hhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhcnRpY2xlU2hhZGVyKTtcblxudmFyIF9QYXJ0aWNsZUJ1ZmZlciA9IHJlcXVpcmUoJy4vUGFydGljbGVCdWZmZXInKTtcblxudmFyIF9QYXJ0aWNsZUJ1ZmZlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXJ0aWNsZUJ1ZmZlcik7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi9jb3JlL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0IHRoZXkgbm93XG4gKiBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBQYXJ0aWNsZVJlbmRlcmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZVJlbmRlcmVyLmphdmFcbiAqL1xuXG4vKipcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVSZW5kZXJlciA9IGZ1bmN0aW9uIChfY29yZSRPYmplY3RSZW5kZXJlcikge1xuICAgIF9pbmhlcml0cyhQYXJ0aWNsZVJlbmRlcmVyLCBfY29yZSRPYmplY3RSZW5kZXJlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBzcHJpdGUgYmF0Y2ggd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcnRpY2xlUmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCB2ZXJ0ZXggaW5kZXggaW4gdGhlIGluZGV4IGJ1ZmZlciAoc2VlIFBhcnRpY2xlUmVuZGVyZXIpXG4gICAgICAgIC8vIHNvIG1heCBudW1iZXIgb2YgcGFydGljbGVzIGlzIDY1NTM2IC8gNCA9IDE2Mzg0XG4gICAgICAgIC8vIGFuZCBtYXggbnVtYmVyIG9mIGVsZW1lbnQgaW4gdGhlIGluZGV4IGJ1ZmZlciBpcyAxNjM4NCAqIDYgPSA5ODMwNFxuICAgICAgICAvLyBDcmVhdGluZyBhIGZ1bGwgaW5kZXggYnVmZmVyLCBvdmVyaGVhZCBpcyA5ODMwNCAqIDIgPSAxOTZLb1xuICAgICAgICAvLyBsZXQgbnVtSW5kaWNlcyA9IDk4MzA0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzaGFkZXIgdGhhdCBpcyB1c2VkIGlmIGEgc3ByaXRlIGRvZXNuJ3QgaGF2ZSBhIG1vcmUgc3BlY2lmaWMgb25lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJE9iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5wcm9wZXJ0aWVzID0gbnVsbDtcblxuICAgICAgICBfdGhpcy50ZW1wTWF0cml4ID0gbmV3IGNvcmUuTWF0cml4KCk7XG5cbiAgICAgICAgX3RoaXMuQ09OVEVYVF9VSUQgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGVyZSBpcyBhIFdlYkdMIGNvbnRleHQgY2hhbmdlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5vbkNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBvbkNvbnRleHRDaGFuZ2UoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG5cbiAgICAgICAgLy8gc2V0dXAgZGVmYXVsdCBzaGFkZXJcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBuZXcgX1BhcnRpY2xlU2hhZGVyMi5kZWZhdWx0KGdsKTtcblxuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBbXG4gICAgICAgIC8vIHZlcnRpY2VzRGF0YVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYVZlcnRleFBvc2l0aW9uLFxuICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFZlcnRpY2VzLFxuICAgICAgICAgICAgb2Zmc2V0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIC8vIHBvc2l0aW9uRGF0YVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYVBvc2l0aW9uQ29vcmQsXG4gICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkUG9zaXRpb24sXG4gICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgLy8gcm90YXRpb25EYXRhXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogdGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hUm90YXRpb24sXG4gICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkUm90YXRpb24sXG4gICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgLy8gdXZzRGF0YVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYVRleHR1cmVDb29yZCxcbiAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRVdnMsXG4gICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgLy8gdGludERhdGFcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmlidXRlOiB0aGlzLnNoYWRlci5hdHRyaWJ1dGVzLmFDb2xvcixcbiAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICB1bnNpZ25lZEJ5dGU6IHRydWUsXG4gICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRUaW50LFxuICAgICAgICAgICAgb2Zmc2V0OiAwXG4gICAgICAgIH1dO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgYSBuZXcgcGFydGljbGUgYmF0Y2guXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iaW5kU2hhZGVyKHRoaXMuc2hhZGVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgcGFydGljbGUgY29udGFpbmVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gY29udGFpbmVyLmNoaWxkcmVuO1xuICAgICAgICB2YXIgbWF4U2l6ZSA9IGNvbnRhaW5lci5fbWF4U2l6ZTtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgdG90YWxDaGlsZHJlbiA9IGNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgICBpZiAodG90YWxDaGlsZHJlbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKHRvdGFsQ2hpbGRyZW4gPiBtYXhTaXplKSB7XG4gICAgICAgICAgICB0b3RhbENoaWxkcmVuID0gbWF4U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBidWZmZXJzID0gY29udGFpbmVyLl9nbEJ1ZmZlcnNbcmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghYnVmZmVycykge1xuICAgICAgICAgICAgYnVmZmVycyA9IGNvbnRhaW5lci5fZ2xCdWZmZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IHRoaXMuZ2VuZXJhdGVCdWZmZXJzKGNvbnRhaW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBjaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAvLyBpZiB0aGUgdXZzIGhhdmUgbm90IHVwZGF0ZWQgdGhlbiBubyBwb2ludCByZW5kZXJpbmcganVzdCB5ZXQhXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0QmxlbmRNb2RlKGNvcmUudXRpbHMuY29ycmVjdEJsZW5kTW9kZShjb250YWluZXIuYmxlbmRNb2RlLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpKTtcblxuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICB2YXIgbSA9IGNvbnRhaW5lci53b3JsZFRyYW5zZm9ybS5jb3B5KHRoaXMudGVtcE1hdHJpeCk7XG5cbiAgICAgICAgbS5wcmVwZW5kKHJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeCk7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IG0udG9BcnJheSh0cnVlKTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBjb3JlLnV0aWxzLnByZW11bHRpcGx5UmdiYShjb250YWluZXIudGludFJnYiwgY29udGFpbmVyLndvcmxkQWxwaGEsIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleHR1cmUucHJlbXVsdGlwbGllZEFscGhhKTtcblxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHRleHR1cmUgaXMgYm91bmQuLlxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IHJlbmRlcmVyLmJpbmRUZXh0dXJlKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICB2YXIgdXBkYXRlU3RhdGljID0gZmFsc2U7XG5cbiAgICAgICAgLy8gbm93IGxldHMgdXBsb2FkIGFuZCByZW5kZXIgdGhlIGJ1ZmZlcnMuLlxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPCB0b3RhbENoaWxkcmVuOyBpICs9IGJhdGNoU2l6ZSwgaiArPSAxKSB7XG4gICAgICAgICAgICB2YXIgYW1vdW50ID0gdG90YWxDaGlsZHJlbiAtIGk7XG5cbiAgICAgICAgICAgIGlmIChhbW91bnQgPiBiYXRjaFNpemUpIHtcbiAgICAgICAgICAgICAgICBhbW91bnQgPSBiYXRjaFNpemU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChqID49IGJ1ZmZlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb250YWluZXIuYXV0b1Jlc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnVmZmVycy5wdXNoKHRoaXMuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlcihjb250YWluZXIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbal07XG5cbiAgICAgICAgICAgIC8vIHdlIGFsd2F5cyB1cGxvYWQgdGhlIGR5bmFtaWNcbiAgICAgICAgICAgIGJ1ZmZlci51cGxvYWREeW5hbWljKGNoaWxkcmVuLCBpLCBhbW91bnQpO1xuXG4gICAgICAgICAgICB2YXIgYmlkID0gY29udGFpbmVyLl9idWZmZXJVcGRhdGVJRHNbal0gfHwgMDtcblxuICAgICAgICAgICAgdXBkYXRlU3RhdGljID0gdXBkYXRlU3RhdGljIHx8IGJ1ZmZlci5fdXBkYXRlSUQgPCBiaWQ7XG4gICAgICAgICAgICAvLyB3ZSBvbmx5IHVwbG9hZCB0aGUgc3RhdGljIGNvbnRlbnQgd2hlbiB3ZSBoYXZlIHRvIVxuICAgICAgICAgICAgaWYgKHVwZGF0ZVN0YXRpYykge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fdXBkYXRlSUQgPSBjb250YWluZXIuX3VwZGF0ZUlEO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci51cGxvYWRTdGF0aWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFZhbyhidWZmZXIudmFvKTtcbiAgICAgICAgICAgIGJ1ZmZlci52YW8uZHJhdyhnbC5UUklBTkdMRVMsIGFtb3VudCAqIDYpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb25lIHBhcnRpY2xlIGJ1ZmZlciBmb3IgZWFjaCBjaGlsZCBpbiB0aGUgY29udGFpbmVyIHdlIHdhbnQgdG8gcmVuZGVyIGFuZCB1cGRhdGVzIGludGVybmFsIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcltdfSBUaGUgYnVmZmVyc1xuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5nZW5lcmF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiBnZW5lcmF0ZUJ1ZmZlcnMoY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBidWZmZXJzID0gW107XG4gICAgICAgIHZhciBzaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciBkeW5hbWljUHJvcGVydHlGbGFncyA9IGNvbnRhaW5lci5fcHJvcGVydGllcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBidWZmZXJzLnB1c2gobmV3IF9QYXJ0aWNsZUJ1ZmZlcjIuZGVmYXVsdChnbCwgdGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnVmZmVycztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvbmUgbW9yZSBwYXJ0aWNsZSBidWZmZXIsIGJlY2F1c2UgY29udGFpbmVyIGhhcyBhdXRvUmVzaXplIGZlYXR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcn0gZ2VuZXJhdGVkIGJ1ZmZlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIgPSBmdW5jdGlvbiBfZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciBkeW5hbWljUHJvcGVydHlGbGFncyA9IGNvbnRhaW5lci5fcHJvcGVydGllcztcblxuICAgICAgICByZXR1cm4gbmV3IF9QYXJ0aWNsZUJ1ZmZlcjIuZGVmYXVsdChnbCwgdGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdmVydGljaWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgdmVydGljZXMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRWZXJ0aWNlcyA9IGZ1bmN0aW9uIHVwbG9hZFZlcnRpY2VzKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV07XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBzeCA9IHNwcml0ZS5zY2FsZS54O1xuICAgICAgICAgICAgdmFyIHN5ID0gc3ByaXRlLnNjYWxlLnk7XG4gICAgICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZCBhbmQgaXMgbm90IGEgdGlsaW5nc3ByaXRlIHRoZW4gd2UgbmVlZCB0byBhZGQgdGhlXG4gICAgICAgICAgICAgICAgLy8gZXh0cmEgc3BhY2UgYmVmb3JlIHRyYW5zZm9ybWluZyB0aGUgc3ByaXRlIGNvb3Jkcy4uXG4gICAgICAgICAgICAgICAgdzEgPSB0cmltLnggLSBzcHJpdGUuYW5jaG9yLnggKiBvcmlnLndpZHRoO1xuICAgICAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuXG4gICAgICAgICAgICAgICAgaDEgPSB0cmltLnkgLSBzcHJpdGUuYW5jaG9yLnkgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgICAgICAgICBoMCA9IGgxICsgdHJpbS5oZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHcwID0gb3JpZy53aWR0aCAqICgxIC0gc3ByaXRlLmFuY2hvci54KTtcbiAgICAgICAgICAgICAgICB3MSA9IG9yaWcud2lkdGggKiAtc3ByaXRlLmFuY2hvci54O1xuXG4gICAgICAgICAgICAgICAgaDAgPSBvcmlnLmhlaWdodCAqICgxIC0gc3ByaXRlLmFuY2hvci55KTtcbiAgICAgICAgICAgICAgICBoMSA9IG9yaWcuaGVpZ2h0ICogLXNwcml0ZS5hbmNob3IueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHcxICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IGgxICogc3k7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBoMSAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyICsgMV0gPSBoMCAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzXSA9IHcxICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzICsgMV0gPSBoMCAqIHN5O1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHBvc2l0aW9ucyB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFBvc2l0aW9uID0gZnVuY3Rpb24gdXBsb2FkUG9zaXRpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVQb3NpdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5wb3NpdGlvbjtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkUm90YXRpb24gPSBmdW5jdGlvbiB1cGxvYWRSb3RhdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNwcml0ZVJvdGF0aW9uID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLnJvdGF0aW9uO1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSBzcHJpdGVSb3RhdGlvbjtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFV2cyA9IGZ1bmN0aW9uIHVwbG9hZFV2cyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIHRleHR1cmVVdnMgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0uX3RleHR1cmUuX3V2cztcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVVdnMpIHtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHRleHR1cmVVdnMueTA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gdGV4dHVyZVV2cy54MTtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHRleHR1cmVVdnMueTE7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHRleHR1cmVVdnMueDI7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMiArIDFdID0gdGV4dHVyZVV2cy55MjtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzICsgMV0gPSB0ZXh0dXJlVXZzLnkzO1xuXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8geW91IGtub3cgdGhpcyBjYW4gYmUgZWFzaWVyIVxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDMgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVGludCA9IGZ1bmN0aW9uIHVwbG9hZFRpbnQoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV07XG4gICAgICAgICAgICB2YXIgcHJlbXVsdGlwbGllZCA9IHNwcml0ZS5fdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGE7XG4gICAgICAgICAgICB2YXIgYWxwaGEgPSBzcHJpdGUuYWxwaGE7XG4gICAgICAgICAgICAvLyB3ZSBkb250IGNhbGwgZXh0cmEgZnVuY3Rpb24gaWYgYWxwaGEgaXMgMS4wLCB0aGF0J3MgZmFzdGVyXG4gICAgICAgICAgICB2YXIgYXJnYiA9IGFscGhhIDwgMS4wICYmIHByZW11bHRpcGxpZWQgPyAoMCwgX3V0aWxzLnByZW11bHRpcGx5VGludCkoc3ByaXRlLl90aW50UkdCLCBhbHBoYSkgOiBzcHJpdGUuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMl0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSBhcmdiO1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVSZW5kZXJlci5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIuZ2wpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuZGVsZXRlQnVmZmVyKHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NvcmUkT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZW1wTWF0cml4ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhcnRpY2xlUmVuZGVyZXI7XG59KGNvcmUuT2JqZWN0UmVuZGVyZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQYXJ0aWNsZVJlbmRlcmVyO1xuXG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbigncGFydGljbGUnLCBQYXJ0aWNsZVJlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnRpY2xlUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1NoYWRlcjIgPSByZXF1aXJlKCcuLi8uLi9jb3JlL1NoYWRlcicpO1xuXG52YXIgX1NoYWRlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXIyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZVNoYWRlciA9IGZ1bmN0aW9uIChfU2hhZGVyKSB7XG4gICAgX2luaGVyaXRzKFBhcnRpY2xlU2hhZGVyLCBfU2hhZGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IGdsIC0gVGhlIHdlYmdsIHNoYWRlciBtYW5hZ2VyIHRoaXMgc2hhZGVyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZVNoYWRlcihnbCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFydGljbGVTaGFkZXIpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfU2hhZGVyLmNhbGwodGhpcywgZ2wsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgWydhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247JywgJ2F0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7JywgJ2F0dHJpYnV0ZSB2ZWM0IGFDb2xvcjsnLCAnYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uQ29vcmQ7JywgJ2F0dHJpYnV0ZSBmbG9hdCBhUm90YXRpb247JywgJ3VuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4OycsICd1bmlmb3JtIHZlYzQgdUNvbG9yOycsICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDsnLCAndmFyeWluZyB2ZWM0IHZDb2xvcjsnLCAndm9pZCBtYWluKHZvaWQpeycsICcgICBmbG9hdCB4ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIGNvcyhhUm90YXRpb24pIC0gKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIHNpbihhUm90YXRpb24pOycsICcgICBmbG9hdCB5ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIHNpbihhUm90YXRpb24pICsgKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIGNvcyhhUm90YXRpb24pOycsICcgICB2ZWMyIHYgPSB2ZWMyKHgsIHkpOycsICcgICB2ID0gdiArIGFQb3NpdGlvbkNvb3JkOycsICcgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHYsIDEuMCkpLnh5LCAwLjAsIDEuMCk7JywgJyAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkOycsICcgICB2Q29sb3IgPSBhQ29sb3IgKiB1Q29sb3I7JywgJ30nXS5qb2luKCdcXG4nKSxcbiAgICAgICAgLy8gaGVsbG9cbiAgICAgICAgWyd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDsnLCAndmFyeWluZyB2ZWM0IHZDb2xvcjsnLCAndW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjsnLCAnICBnbF9GcmFnQ29sb3IgPSBjb2xvcjsnLCAnfSddLmpvaW4oJ1xcbicpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFBhcnRpY2xlU2hhZGVyO1xufShfU2hhZGVyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGFydGljbGVTaGFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXJ0aWNsZVNoYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3BpeGlHbENvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSk7XG5cbnZhciBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzID0gcmVxdWlyZSgnLi4vLi4vY29yZS91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHMnKTtcblxudmFyIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlSW5kaWNlc0ZvclF1YWRzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0XG4gKiB0aGV5IG5vdyBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBQYXJ0aWNsZUJ1ZmZlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvbWFzdGVyL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nMmQvUGFydGljbGVCdWZmZXIuamF2YVxuICovXG5cbi8qKlxuICogVGhlIHBhcnRpY2xlIGJ1ZmZlciBtYW5hZ2VzIHRoZSBzdGF0aWMgYW5kIGR5bmFtaWMgYnVmZmVycyBmb3IgYSBwYXJ0aWNsZSBjb250YWluZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcHJvcGVydGllcyAtIFRoZSBwcm9wZXJ0aWVzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW5bXX0gZHluYW1pY1Byb3BlcnR5RmxhZ3MgLSBGbGFncyBmb3Igd2hpY2ggcHJvcGVydGllcyBhcmUgZHluYW1pYy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIFRoZSBzaXplIG9mIHRoZSBiYXRjaC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZUJ1ZmZlcihnbCwgcHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIHNpemUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcnRpY2xlQnVmZmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgcGFydGljbGVzIHRoZSBidWZmZXIgY2FuIGhvbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIHRoZSBwcm9wZXJ0aWVzIHRoYXQgYXJlIGR5bmFtaWMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgc3RhdGljLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgLy8gTWFrZSBjb3B5IG9mIHByb3BlcnRpZXMgb2JqZWN0IHNvIHRoYXQgd2hlbiB3ZSBlZGl0IHRoZSBvZmZzZXQgaXQgZG9lc24ndFxuICAgICAgICAgICAgLy8gY2hhbmdlIGFsbCBvdGhlciBpbnN0YW5jZXMgb2YgdGhlIG9iamVjdCBsaXRlcmFsXG4gICAgICAgICAgICBwcm9wZXJ0eSA9IHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6IHByb3BlcnR5LmF0dHJpYnV0ZSxcbiAgICAgICAgICAgICAgICBzaXplOiBwcm9wZXJ0eS5zaXplLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbixcbiAgICAgICAgICAgICAgICB1bnNpZ25lZEJ5dGU6IHByb3BlcnR5LnVuc2lnbmVkQnl0ZSxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHByb3BlcnR5Lm9mZnNldFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKGR5bmFtaWNQcm9wZXJ0eUZsYWdzW2ldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5keW5hbWljUHJvcGVydGllcy5wdXNoKHByb3BlcnR5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgPSAwO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlID0gMDtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgICAgICB0aGlzLmluaXRCdWZmZXJzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUuaW5pdEJ1ZmZlcnMgPSBmdW5jdGlvbiBpbml0QnVmZmVycygpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGR5bmFtaWNPZmZzZXQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgaW5kaWNlcyBvZiB0aGUgZ2VvbWV0cnkgKHF1YWRzKSB0byBkcmF3XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRpY2VzID0gKDAsIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMyLmRlZmF1bHQpKHRoaXMuc2l6ZSk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihnbCwgdGhpcy5pbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG5cbiAgICAgICAgICAgIHByb3BlcnR5Lm9mZnNldCA9IGR5bmFtaWNPZmZzZXQ7XG4gICAgICAgICAgICBkeW5hbWljT2Zmc2V0ICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkeW5CdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5keW5hbWljU3RyaWRlICogNCAqIDQpO1xuXG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCBkeW5CdWZmZXIsIGdsLlNUUkVBTV9EUkFXKTtcblxuICAgICAgICAvLyBzdGF0aWMgLy9cbiAgICAgICAgdmFyIHN0YXRpY09mZnNldCA9IDA7XG5cbiAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK19pKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW19pXTtcblxuICAgICAgICAgICAgX3Byb3BlcnR5Lm9mZnNldCA9IHN0YXRpY09mZnNldDtcbiAgICAgICAgICAgIHN0YXRpY09mZnNldCArPSBfcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGljU3RyaWRlICs9IF9wcm9wZXJ0eS5zaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXRCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5zdGF0aWNTdHJpZGUgKiA0ICogNCk7XG5cbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihnbCwgc3RhdEJ1ZmZlciwgZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIHRoaXMudmFvID0gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KGdsKS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKTtcblxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytfaTIpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcGVydHkyID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tfaTJdO1xuXG4gICAgICAgICAgICBpZiAoX3Byb3BlcnR5Mi51bnNpZ25lZEJ5dGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhby5hZGRBdHRyaWJ1dGUodGhpcy5keW5hbWljQnVmZmVyLCBfcHJvcGVydHkyLmF0dHJpYnV0ZSwgZ2wuVU5TSUdORURfQllURSwgdHJ1ZSwgdGhpcy5keW5hbWljU3RyaWRlICogNCwgX3Byb3BlcnR5Mi5vZmZzZXQgKiA0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YW8uYWRkQXR0cmlidXRlKHRoaXMuZHluYW1pY0J1ZmZlciwgX3Byb3BlcnR5Mi5hdHRyaWJ1dGUsIGdsLkZMT0FULCBmYWxzZSwgdGhpcy5keW5hbWljU3RyaWRlICogNCwgX3Byb3BlcnR5Mi5vZmZzZXQgKiA0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7ICsrX2kzKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BlcnR5MyA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tfaTNdO1xuXG4gICAgICAgICAgICBpZiAoX3Byb3BlcnR5My51bnNpZ25lZEJ5dGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhby5hZGRBdHRyaWJ1dGUodGhpcy5zdGF0aWNCdWZmZXIsIF9wcm9wZXJ0eTMuYXR0cmlidXRlLCBnbC5VTlNJR05FRF9CWVRFLCB0cnVlLCB0aGlzLnN0YXRpY1N0cmlkZSAqIDQsIF9wcm9wZXJ0eTMub2Zmc2V0ICogNCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvLmFkZEF0dHJpYnV0ZSh0aGlzLnN0YXRpY0J1ZmZlciwgX3Byb3BlcnR5My5hdHRyaWJ1dGUsIGdsLkZMT0FULCBmYWxzZSwgdGhpcy5zdGF0aWNTdHJpZGUgKiA0LCBfcHJvcGVydHkzLm9mZnNldCAqIDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIGR5bmFtaWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCB0byBzdGFydCBhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIG51bWJlciB0byB1cGxvYWQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS51cGxvYWREeW5hbWljID0gZnVuY3Rpb24gdXBsb2FkRHluYW1pYyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgcHJvcGVydHkudW5zaWduZWRCeXRlID8gdGhpcy5keW5hbWljRGF0YVVpbnQzMiA6IHRoaXMuZHluYW1pY0RhdGEsIHRoaXMuZHluYW1pY1N0cmlkZSwgcHJvcGVydHkub2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlci51cGxvYWQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgc3RhdGljIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSBUaGUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBudW1iZXIgdG8gdXBsb2FkLlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUudXBsb2FkU3RhdGljID0gZnVuY3Rpb24gdXBsb2FkU3RhdGljKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgcHJvcGVydHkudW5zaWduZWRCeXRlID8gdGhpcy5zdGF0aWNEYXRhVWludDMyIDogdGhpcy5zdGF0aWNEYXRhLCB0aGlzLnN0YXRpY1N0cmlkZSwgcHJvcGVydHkub2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyLnVwbG9hZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVCdWZmZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gUGFydGljbGVCdWZmZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBhcnRpY2xlQnVmZmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFydGljbGVCdWZmZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMUHJlcGFyZSA9IHJlcXVpcmUoJy4vd2ViZ2wvV2ViR0xQcmVwYXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnd2ViZ2wnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTFByZXBhcmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc1ByZXBhcmUgPSByZXF1aXJlKCcuL2NhbnZhcy9DYW52YXNQcmVwYXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnY2FudmFzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUHJlcGFyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmFzZVByZXBhcmUgPSByZXF1aXJlKCcuL0Jhc2VQcmVwYXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmFzZVByZXBhcmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlUHJlcGFyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ291bnRMaW1pdGVyID0gcmVxdWlyZSgnLi9saW1pdGVycy9Db3VudExpbWl0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDb3VudExpbWl0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db3VudExpbWl0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RpbWVMaW1pdGVyID0gcmVxdWlyZSgnLi9saW1pdGVycy9UaW1lTGltaXRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RpbWVMaW1pdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGltZUxpbWl0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0Jhc2VQcmVwYXJlMiA9IHJlcXVpcmUoJy4uL0Jhc2VQcmVwYXJlJyk7XG5cbnZhciBfQmFzZVByZXBhcmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVByZXBhcmUyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBwcmVwYXJlIG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB1cGxvYWQgY29udGVudCB0byB0aGUgR1BVLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmVcbiAqIEBtZW1iZXJvZiBQSVhJLnByZXBhcmVcbiAqL1xudmFyIFdlYkdMUHJlcGFyZSA9IGZ1bmN0aW9uIChfQmFzZVByZXBhcmUpIHtcbiAgICBfaW5oZXJpdHMoV2ViR0xQcmVwYXJlLCBfQmFzZVByZXBhcmUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXZWJHTFByZXBhcmUocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMUHJlcGFyZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0Jhc2VQcmVwYXJlLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy51cGxvYWRIb29rSGVscGVyID0gX3RoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgLy8gQWRkIHRleHR1cmVzIGFuZCBncmFwaGljcyB0byB1cGxvYWRcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kR3JhcGhpY3MpO1xuICAgICAgICBfdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkQmFzZVRleHR1cmVzKTtcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEdyYXBoaWNzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBXZWJHTFByZXBhcmU7XG59KF9CYXNlUHJlcGFyZTMuZGVmYXVsdCk7XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuVGV4dHVyZSBvYmplY3RzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMUHJlcGFyZTtcbmZ1bmN0aW9uIHVwbG9hZEJhc2VUZXh0dXJlcyhyZW5kZXJlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5CYXNlVGV4dHVyZSkge1xuICAgICAgICAvLyBpZiB0aGUgdGV4dHVyZSBhbHJlYWR5IGhhcyBhIEdMIHRleHR1cmUsIHRoZW4gdGhlIHRleHR1cmUgaGFzIGJlZW4gcHJlcGFyZWQgb3IgcmVuZGVyZWRcbiAgICAgICAgLy8gYmVmb3JlIG5vdy4gSWYgdGhlIHRleHR1cmUgY2hhbmdlZCwgdGhlbiB0aGUgY2hhbmdlciBzaG91bGQgYmUgY2FsbGluZyB0ZXh0dXJlLnVwZGF0ZSgpIHdoaWNoXG4gICAgICAgIC8vIHJldXBsb2FkcyB0aGUgdGV4dHVyZSB3aXRob3V0IG5lZWQgZm9yIHByZXBhcmluZyBpdCBhZ2FpblxuICAgICAgICBpZiAoIWl0ZW0uX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlTWFuYWdlci51cGRhdGVUZXh0dXJlKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuR3JhcGhpY3MgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiB1cGxvYWRHcmFwaGljcyhyZW5kZXJlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5HcmFwaGljcykge1xuICAgICAgICAvLyBpZiB0aGUgaXRlbSBpcyBub3QgZGlydHkgYW5kIGFscmVhZHkgaGFzIHdlYmdsIGRhdGEsIHRoZW4gaXQgZ290IHByZXBhcmVkIG9yIHJlbmRlcmVkXG4gICAgICAgIC8vIGJlZm9yZSBub3cgYW5kIHdlIHNob3VsZG4ndCB3YXN0ZSB0aW1lIHVwZGF0aW5nIGl0IGFnYWluXG4gICAgICAgIGlmIChpdGVtLmRpcnR5IHx8IGl0ZW0uY2xlYXJEaXJ0eSB8fCAhaXRlbS5fd2ViR0xbcmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy5DT05URVhUX1VJRF0pIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MudXBkYXRlR3JhcGhpY3MoaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIGdyYXBoaWNzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuR3JhcGhpY3Mgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZEdyYXBoaWNzKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLkdyYXBoaWNzKSB7XG4gICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5jb3JlLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3ByZXBhcmUnLCBXZWJHTFByZXBhcmUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2ViR0xQcmVwYXJlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9CYXNlUHJlcGFyZTIgPSByZXF1aXJlKCcuLi9CYXNlUHJlcGFyZScpO1xuXG52YXIgX0Jhc2VQcmVwYXJlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VQcmVwYXJlMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIENBTlZBU19TVEFSVF9TSVpFID0gMTY7XG5cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFVcbiAqIFRoaXMgY2Fubm90IGJlIGRvbmUgZGlyZWN0bHkgZm9yIENhbnZhcyBsaWtlIGluIFdlYkdMLCBidXQgdGhlIGVmZmVjdCBjYW4gYmUgYWNoaWV2ZWQgYnkgZHJhd2luZ1xuICogdGV4dHVyZXMgdG8gYW4gb2ZmbGluZSBjYW52YXMuXG4gKiBUaGlzIGRyYXcgY2FsbCB3aWxsIGZvcmNlIHRoZSB0ZXh0dXJlIHRvIGJlIG1vdmVkIG9udG8gdGhlIEdQVS5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cblxudmFyIENhbnZhc1ByZXBhcmUgPSBmdW5jdGlvbiAoX0Jhc2VQcmVwYXJlKSB7XG4gICAgX2luaGVyaXRzKENhbnZhc1ByZXBhcmUsIF9CYXNlUHJlcGFyZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNQcmVwYXJlKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNQcmVwYXJlKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQmFzZVByZXBhcmUuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBfdGhpcztcblxuICAgICAgICAvKipcbiAgICAgICAgKiBBbiBvZmZsaW5lIGNhbnZhcyB0byByZW5kZXIgdGV4dHVyZXMgdG9cbiAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICogQHByaXZhdGVcbiAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIF90aGlzLmNhbnZhcy53aWR0aCA9IENBTlZBU19TVEFSVF9TSVpFO1xuICAgICAgICBfdGhpcy5jYW52YXMuaGVpZ2h0ID0gQ0FOVkFTX1NUQVJUX1NJWkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb250ZXh0IHRvIHRoZSBjYW52YXNcbiAgICAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICovXG4gICAgICAgIF90aGlzLmN0eCA9IF90aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIC8vIEFkZCB0ZXh0dXJlcyB0byB1cGxvYWRcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEJhc2VUZXh0dXJlcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgcGx1Z2luLCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNQcmVwYXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgX0Jhc2VQcmVwYXJlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuY3R4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzUHJlcGFyZTtcbn0oX0Jhc2VQcmVwYXJlMy5kZWZhdWx0KTtcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLlRleHR1cmUgb2JqZWN0cyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHByZXBhcmUgLSBJbnN0YW5jZSBvZiBDYW52YXNQcmVwYXJlXG4gKiBAcGFyYW0geyp9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc1ByZXBhcmU7XG5mdW5jdGlvbiB1cGxvYWRCYXNlVGV4dHVyZXMocHJlcGFyZSwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5CYXNlVGV4dHVyZSkge1xuICAgICAgICB2YXIgaW1hZ2UgPSBpdGVtLnNvdXJjZTtcblxuICAgICAgICAvLyBTb21ldGltZXMgaW1hZ2VzIChsaWtlIGF0bGFzIGltYWdlcykgcmVwb3J0IGEgc2l6ZSBvZiB6ZXJvLCBjYXVzaW5nIGVycm9ycyBvbiB3aW5kb3dzIHBob25lLlxuICAgICAgICAvLyBTbyBpZiB0aGUgd2lkdGggb3IgaGVpZ2h0IGlzIGVxdWFsIHRvIHplcm8gdGhlbiB1c2UgdGhlIGNhbnZhcyBzaXplXG4gICAgICAgIC8vIE90aGVyd2lzZSB1c2Ugd2hhdGV2ZXIgaXMgc21hbGxlciwgdGhlIGltYWdlIGRpbWVuc2lvbnMgb3IgdGhlIGNhbnZhcyBkaW1lbnNpb25zLlxuICAgICAgICB2YXIgaW1hZ2VXaWR0aCA9IGltYWdlLndpZHRoID09PSAwID8gcHJlcGFyZS5jYW52YXMud2lkdGggOiBNYXRoLm1pbihwcmVwYXJlLmNhbnZhcy53aWR0aCwgaW1hZ2Uud2lkdGgpO1xuICAgICAgICB2YXIgaW1hZ2VIZWlnaHQgPSBpbWFnZS5oZWlnaHQgPT09IDAgPyBwcmVwYXJlLmNhbnZhcy5oZWlnaHQgOiBNYXRoLm1pbihwcmVwYXJlLmNhbnZhcy5oZWlnaHQsIGltYWdlLmhlaWdodCk7XG5cbiAgICAgICAgLy8gT25seSBhIHNtYWxsIHN1YnNlY3Rpb25zIGlzIHJlcXVpcmVkIHRvIGJlIGRyYXduIHRvIGhhdmUgdGhlIHdob2xlIHRleHR1cmUgdXBsb2FkZWQgdG8gdGhlIEdQVVxuICAgICAgICAvLyBBIHNtYWxsZXIgZHJhdyBjYW4gYmUgZmFzdGVyLlxuICAgICAgICBwcmVwYXJlLmN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0LCAwLCAwLCBwcmVwYXJlLmNhbnZhcy53aWR0aCwgcHJlcGFyZS5jYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmNvcmUuQ2FudmFzUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3ByZXBhcmUnLCBDYW52YXNQcmVwYXJlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1ByZXBhcmUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGltZUxpbWl0ZXIgbGltaXRzIHRoZSBudW1iZXIgb2YgaXRlbXMgaGFuZGxlZCBieSBhIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSB0byBhIHNwZWNpZmllZFxuICogbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGltZUxpbWl0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4TWlsbGlzZWNvbmRzIC0gVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRoYXQgY2FuIGJlIHNwZW50IHByZXBhcmluZyBpdGVtcyBlYWNoIGZyYW1lLlxuICAgKi9cbiAgZnVuY3Rpb24gVGltZUxpbWl0ZXIobWF4TWlsbGlzZWNvbmRzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbWVMaW1pdGVyKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0aGF0IGNhbiBiZSBzcGVudCBwcmVwYXJpbmcgaXRlbXMgZWFjaCBmcmFtZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubWF4TWlsbGlzZWNvbmRzID0gbWF4TWlsbGlzZWNvbmRzO1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGFydCB0aW1lIG9mIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lU3RhcnQgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyBhbnkgY291bnRpbmcgcHJvcGVydGllcyB0byBzdGFydCBmcmVzaCBvbiBhIG5ldyBmcmFtZS5cbiAgICovXG5cblxuICBUaW1lTGltaXRlci5wcm90b3R5cGUuYmVnaW5GcmFtZSA9IGZ1bmN0aW9uIGJlZ2luRnJhbWUoKSB7XG4gICAgdGhpcy5mcmFtZVN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICAgKi9cblxuXG4gIFRpbWVMaW1pdGVyLnByb3RvdHlwZS5hbGxvd2VkVG9VcGxvYWQgPSBmdW5jdGlvbiBhbGxvd2VkVG9VcGxvYWQoKSB7XG4gICAgcmV0dXJuIERhdGUubm93KCkgLSB0aGlzLmZyYW1lU3RhcnQgPCB0aGlzLm1heE1pbGxpc2Vjb25kcztcbiAgfTtcblxuICByZXR1cm4gVGltZUxpbWl0ZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRpbWVMaW1pdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGltZUxpbWl0ZXIuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYWVkNjU3NWRlZTkxM2UxNDRjMjhlMzE2YmUyYzc2ODMucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZjI3ZTI0ODY2NmYyOGE4MDYxOWQyMzViODQ0ZmUwMGQucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiOTlhNTJjNTk0Y2YzZGQxYTRjZDZkYjc3NjM4NjEyOTAucG5nXCI7IiwiaW1wb3J0IEdhbWVPYnNlcnZlciwgeyBQbGF5ZXJTY29yZSB9IGZyb20gJy4vR2FtZU9ic2VydmVyJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb25zb2xlT2JzZXJ2ZXIgaW1wbGVtZW50cyBHYW1lT2JzZXJ2ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB3aW5kb3cuZ2FtZU9ic2VydmVyID0gdGhpc1xuICB9XG5cbiAgcmVwb3J0UGxheWVyU2NvcmUoc2NvcmU6IFBsYXllclNjb3JlKTogdm9pZCB7XG4gICAgY29uc29sZS50YWJsZShzY29yZSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgQXBwbGljYXRpb24sIFJlY3RhbmdsZSwgbG9hZGVycywgdGlja2VyIH0gZnJvbSAncGl4aS5qcydcbmltcG9ydCBLZXlib2FyZExpc3RlbmVyIGZyb20gJy4vS2V5Ym9hcmRMaXN0ZW5lcidcbmltcG9ydCBXb3JsZCBmcm9tICcuLi93b3JsZC9Xb3JsZCdcblxuY2xhc3MgR2FtZSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBwOiBBcHBsaWNhdGlvbikge31cblxuICBnZXQgc2NyZWVuKCk6IFJlY3RhbmdsZSB7XG4gICAgcmV0dXJuIHRoaXMuYXBwLnNjcmVlblxuICB9XG5cbiAgZ2V0IHJlc291cmNlcygpOiBsb2FkZXJzLlJlc291cmNlRGljdGlvbmFyeSB7XG4gICAgcmV0dXJuIHRoaXMuYXBwLmxvYWRlci5yZXNvdXJjZXNcbiAgfVxuXG4gIHdvcmxkOiBXb3JsZCA9IG5ldyBXb3JsZCh0aGlzKVxuXG4gIHJ1bigpIHtcbiAgICB0aGlzLmFwcC5sb2FkZXIubG9hZCgoKSA9PiB7XG4gICAgICB0aGlzLnNldHVwKClcbiAgICAgIHRoaXMuYXBwLnRpY2tlci5hZGQodGhpcy5sb29wLmJpbmQodGhpcykpXG4gICAgfSlcbiAgfVxuXG4gIHJlYWRvbmx5IGtleWJvYXJkOiBLZXlib2FyZExpc3RlbmVyID0gbmV3IEtleWJvYXJkTGlzdGVuZXIoKVxuXG4gIHNldHVwKCkge1xuICAgIHRoaXMua2V5Ym9hcmQuc3Vic2NyaWJlKClcblxuICAgIHRoaXMud29ybGQuc2V0dXAoKVxuXG4gICAgdGhpcy5hcHAuc3RhZ2UgPSB0aGlzLndvcmxkXG4gIH1cblxuICBsb29wKCkge1xuICAgIGNvbnN0IHRpY2tlciA9IHRoaXMuYXBwLnRpY2tlclxuXG4gICAgdGhpcy53b3JsZC51cGRhdGUodGlja2VyLmVsYXBzZWRNUyAvIDEwMDAsIHRoaXMpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR2FtZVxuIiwiaW1wb3J0IGNyZWF0ZURlYnVnIGZyb20gJ2RlYnVnJ1xuXG5jb25zdCBkZWJ1ZyA9IGNyZWF0ZURlYnVnKCdhcHA6S2V5Ym9hcmRMaXN0ZW5lcicpXG5cbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cydcbmltcG9ydCB7IERpY3Rpb25hcnkgfSBmcm9tICd0eXBlc2NyaXB0LWNvbGxlY3Rpb25zJ1xuXG5leHBvcnQgdHlwZSBLZXlCaW5kaW5nSGFuZGxlciA9IChiaW5kaW5nOiBLZXlCaW5kaW5nKSA9PiB2b2lkXG5cbnR5cGUgS2V5Ym9hcmRFdmVudEhhbmRsZXIgPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWRcblxudHlwZSBLZXlCaW5kaW5nRXZlbnRzID0gJ2tleURvd24nIHwgJ2tleURvd25TaW5nbGUnIHwgJ2tleVVwJ1xuXG5leHBvcnQgY2xhc3MgS2V5QmluZGluZyB7XG4gIHByaXZhdGUgX2lzRG93bjogYm9vbGVhblxuICBnZXQgaXNEb3duKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9pc0Rvd25cbiAgfVxuXG4gIHByaXZhdGUgX2lzUmVwZWF0aW5nOiBib29sZWFuXG4gIGdldCBpc1JlcGVhdGluZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5faXNSZXBlYXRpbmdcbiAgfVxuXG4gIGdldCBpc1VwKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhdGhpcy5pc0Rvd25cbiAgfVxuXG4gIHByaXZhdGUgZW1pdHRlcjogRXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpXG5cbiAgY29uc3RydWN0b3IocmVhZG9ubHkgY29kZTogc3RyaW5nKSB7XG4gICAgdGhpcy5faXNEb3duID0gZmFsc2VcbiAgICB0aGlzLl9pc1JlcGVhdGluZyA9IGZhbHNlXG4gIH1cblxuICBvbkV2ZW50KGV2ZW50OiBLZXlCaW5kaW5nRXZlbnRzLCBoYW5kbGVyOiBLZXlCaW5kaW5nSGFuZGxlcikge1xuICAgIGRlYnVnKGBMaXN0ZW4gb24gJXMgZm9yICVzYCwgdGhpcy5jb2RlLCBldmVudClcbiAgICB0aGlzLmVtaXR0ZXIub24oZXZlbnQsIGhhbmRsZXIpXG4gIH1cblxuICB0cmlnZ2VyKGV2ZW50OiBLZXlCaW5kaW5nRXZlbnRzKSB7XG4gICAgZGVidWcoYFRyaWdnZXIgJXMgZm9yICVzYCwgZXZlbnQsIHRoaXMuY29kZSlcbiAgICB0aGlzLmVtaXR0ZXIuZW1pdChldmVudCwgdGhpcylcbiAgfVxuXG4gIG9uS2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIHRoaXMuX2lzUmVwZWF0aW5nID0gdGhpcy5pc0Rvd25cbiAgICB0aGlzLl9pc0Rvd24gPSB0cnVlXG5cbiAgICB0aGlzLnRyaWdnZXIoJ2tleURvd24nKVxuICAgIGlmICghdGhpcy5pc1JlcGVhdGluZykge1xuICAgICAgdGhpcy50cmlnZ2VyKCdrZXlEb3duU2luZ2xlJylcbiAgICB9XG4gIH1cblxuICBvbktleVVwKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmNvZGUgPT09IHRoaXMuY29kZSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgICB0aGlzLl9pc0Rvd24gPSBmYWxzZVxuICAgICAgdGhpcy5faXNSZXBlYXRpbmcgPSBmYWxzZVxuXG4gICAgICB0aGlzLnRyaWdnZXIoJ2tleVVwJylcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS2V5Ym9hcmRMaXN0ZW5lciB7XG4gIHByaXZhdGUga2V5QmluZGluZ3M6IERpY3Rpb25hcnk8c3RyaW5nLCBLZXlCaW5kaW5nPiA9IG5ldyBEaWN0aW9uYXJ5KClcbiAgcHJpdmF0ZSByZWFkb25seSBvbktleURvd246IEtleWJvYXJkRXZlbnRIYW5kbGVyXG4gIHByaXZhdGUgcmVhZG9ubHkgb25LZXlVcDogS2V5Ym9hcmRFdmVudEhhbmRsZXJcblxuICBpc0xpc3RlbmluZyhjb2RlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5rZXlCaW5kaW5ncy5jb250YWluc0tleShjb2RlKVxuICB9XG5cbiAgc2lsZW5jZShjb2RlOiBzdHJpbmcpIHtcbiAgICB0aGlzLmtleUJpbmRpbmdzLnJlbW92ZShjb2RlKVxuICB9XG5cbiAgb25LZXkoY29kZTogc3RyaW5nKTogS2V5QmluZGluZyB7XG4gICAgaWYgKCF0aGlzLmlzTGlzdGVuaW5nKGNvZGUpKSB7XG4gICAgICB0aGlzLmtleUJpbmRpbmdzLnNldFZhbHVlKGNvZGUsIG5ldyBLZXlCaW5kaW5nKGNvZGUpKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmtleUJpbmRpbmdzLmdldFZhbHVlKGNvZGUpIVxuICB9XG5cbiAgcHJpdmF0ZSBpbnZva2VJZkxpc3RlbmluZyhjb2RlOiBzdHJpbmcsIGJsb2NrOiBLZXlCaW5kaW5nSGFuZGxlcikge1xuICAgIGNvbnN0IGJpbmRpbmcgPSB0aGlzLmtleUJpbmRpbmdzLmdldFZhbHVlKGNvZGUpXG5cbiAgICBpZiAoYmluZGluZyAhPSBudWxsKSB7XG4gICAgICBibG9jayhiaW5kaW5nKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMub25LZXlEb3duID0gKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmludm9rZUlmTGlzdGVuaW5nKGV2ZW50LmNvZGUsIGJpbmRpbmcgPT4ge1xuICAgICAgICBiaW5kaW5nLm9uS2V5RG93bihldmVudClcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgdGhpcy5vbktleVVwID0gKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmludm9rZUlmTGlzdGVuaW5nKGV2ZW50LmNvZGUsIGJpbmRpbmcgPT4ge1xuICAgICAgICBiaW5kaW5nLm9uS2V5VXAoZXZlbnQpXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHN1YnNjcmliZSgpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlEb3duKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMub25LZXlVcClcbiAgfVxuXG4gIHVuc3Vic2NyaWJlKCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleURvd24pXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbktleVVwKVxuICB9XG59XG4iLCJcbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1Z1snZGVmYXVsdCddID0gY3JlYXRlRGVidWc7XG5leHBvcnRzLmNvZXJjZSA9IGNvZXJjZTtcbmV4cG9ydHMuZGlzYWJsZSA9IGRpc2FibGU7XG5leHBvcnRzLmVuYWJsZSA9IGVuYWJsZTtcbmV4cG9ydHMuZW5hYmxlZCA9IGVuYWJsZWQ7XG5leHBvcnRzLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblxuLyoqXG4gKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cbiAqL1xuXG5leHBvcnRzLm5hbWVzID0gW107XG5leHBvcnRzLnNraXBzID0gW107XG5cbi8qKlxuICogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuICpcbiAqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMgPSB7fTtcblxuLyoqXG4gKiBQcmV2aW91cyBsb2cgdGltZXN0YW1wLlxuICovXG5cbnZhciBwcmV2VGltZTtcblxuLyoqXG4gKiBTZWxlY3QgYSBjb2xvci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuICB2YXIgaGFzaCA9IDAsIGk7XG5cbiAgZm9yIChpIGluIG5hbWVzcGFjZSkge1xuICAgIGhhc2ggID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICB9XG5cbiAgcmV0dXJuIGV4cG9ydHMuY29sb3JzW01hdGguYWJzKGhhc2gpICUgZXhwb3J0cy5jb2xvcnMubGVuZ3RoXTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cbiAgZnVuY3Rpb24gZGVidWcoKSB7XG4gICAgLy8gZGlzYWJsZWQ/XG4gICAgaWYgKCFkZWJ1Zy5lbmFibGVkKSByZXR1cm47XG5cbiAgICB2YXIgc2VsZiA9IGRlYnVnO1xuXG4gICAgLy8gc2V0IGBkaWZmYCB0aW1lc3RhbXBcbiAgICB2YXIgY3VyciA9ICtuZXcgRGF0ZSgpO1xuICAgIHZhciBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG4gICAgc2VsZi5kaWZmID0gbXM7XG4gICAgc2VsZi5wcmV2ID0gcHJldlRpbWU7XG4gICAgc2VsZi5jdXJyID0gY3VycjtcbiAgICBwcmV2VGltZSA9IGN1cnI7XG5cbiAgICAvLyB0dXJuIHRoZSBgYXJndW1lbnRzYCBpbnRvIGEgcHJvcGVyIEFycmF5XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGFyZ3NbMF0gPSBleHBvcnRzLmNvZXJjZShhcmdzWzBdKTtcblxuICAgIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIGFyZ3NbMF0pIHtcbiAgICAgIC8vIGFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG4gICAgICBhcmdzLnVuc2hpZnQoJyVPJyk7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCBmdW5jdGlvbihtYXRjaCwgZm9ybWF0KSB7XG4gICAgICAvLyBpZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG4gICAgICBpZiAobWF0Y2ggPT09ICclJScpIHJldHVybiBtYXRjaDtcbiAgICAgIGluZGV4Kys7XG4gICAgICB2YXIgZm9ybWF0dGVyID0gZXhwb3J0cy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG4gICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGZvcm1hdHRlcikge1xuICAgICAgICB2YXIgdmFsID0gYXJnc1tpbmRleF07XG4gICAgICAgIG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuICAgICAgICAvLyBub3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG4gICAgICAgIGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgaW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcblxuICAgIC8vIGFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG4gICAgZXhwb3J0cy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cbiAgICB2YXIgbG9nRm4gPSBkZWJ1Zy5sb2cgfHwgZXhwb3J0cy5sb2cgfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKTtcbiAgICBsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgfVxuXG4gIGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbiAgZGVidWcuZW5hYmxlZCA9IGV4cG9ydHMuZW5hYmxlZChuYW1lc3BhY2UpO1xuICBkZWJ1Zy51c2VDb2xvcnMgPSBleHBvcnRzLnVzZUNvbG9ycygpO1xuICBkZWJ1Zy5jb2xvciA9IHNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cbiAgLy8gZW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcbiAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBleHBvcnRzLmluaXQpIHtcbiAgICBleHBvcnRzLmluaXQoZGVidWcpO1xuICB9XG5cbiAgcmV0dXJuIGRlYnVnO1xufVxuXG4vKipcbiAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcbiAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcbiAgZXhwb3J0cy5zYXZlKG5hbWVzcGFjZXMpO1xuXG4gIGV4cG9ydHMubmFtZXMgPSBbXTtcbiAgZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4gIHZhciBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG4gIHZhciBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmICghc3BsaXRbaV0pIGNvbnRpbnVlOyAvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuICAgIG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuICAgIGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcbiAgICAgIGV4cG9ydHMuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gIGV4cG9ydHMuZW5hYmxlKCcnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuICB2YXIgaSwgbGVuO1xuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMubmFtZXNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDb2VyY2UgYHZhbGAuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gKiBAcmV0dXJuIHtNaXhlZH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcbiAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuICByZXR1cm4gdmFsO1xufVxuIiwiLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB5ID0gZCAqIDM2NS4yNTtcblxuLyoqXG4gKiBQYXJzZSBvciBmb3JtYXQgdGhlIGdpdmVuIGB2YWxgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogIC0gYGxvbmdgIHZlcmJvc2UgZm9ybWF0dGluZyBbZmFsc2VdXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSB2YWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEB0aHJvd3Mge0Vycm9yfSB0aHJvdyBhbiBlcnJvciBpZiB2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIG51bWJlclxuICogQHJldHVybiB7U3RyaW5nfE51bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih2YWwsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbDtcbiAgaWYgKHR5cGUgPT09ICdzdHJpbmcnICYmIHZhbC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHBhcnNlKHZhbCk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicgJiYgaXNOYU4odmFsKSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKCg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgaWYgKG1zID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtcyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHJldHVybiBwbHVyYWwobXMsIGQsICdkYXknKSB8fFxuICAgIHBsdXJhbChtcywgaCwgJ2hvdXInKSB8fFxuICAgIHBsdXJhbChtcywgbSwgJ21pbnV0ZScpIHx8XG4gICAgcGx1cmFsKG1zLCBzLCAnc2Vjb25kJykgfHxcbiAgICBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbiwgbmFtZSkge1xuICBpZiAobXMgPCBuKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChtcyA8IG4gKiAxLjUpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihtcyAvIG4pICsgJyAnICsgbmFtZTtcbiAgfVxuICByZXR1cm4gTWF0aC5jZWlsKG1zIC8gbikgKyAnICcgKyBuYW1lICsgJ3MnO1xufVxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG5FdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XG4gIGlmICghaXNOdW1iZXIobikgfHwgbiA8IDAgfHwgaXNOYU4obikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCduIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBlciwgaGFuZGxlciwgbGVuLCBhcmdzLCBpLCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuICAgIGlmICghdGhpcy5fZXZlbnRzLmVycm9yIHx8XG4gICAgICAgIChpc09iamVjdCh0aGlzLl9ldmVudHMuZXJyb3IpICYmICF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSkge1xuICAgICAgZXIgPSBhcmd1bWVudHNbMV07XG4gICAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4gKCcgKyBlciArICcpJyk7XG4gICAgICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc1VuZGVmaW5lZChoYW5kbGVyKSlcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIC8vIGZhc3QgY2FzZXNcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIHNsb3dlclxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG07XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcilcbiAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgZWxzZSBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlXG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXSwgbGlzdGVuZXJdO1xuXG4gIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pICYmICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkKSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKSB7XG4gICAgICBtID0gdGhpcy5fbWF4TGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgfVxuXG4gICAgaWYgKG0gJiYgbSA+IDAgJiYgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IG0pIHtcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcignKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXG4gICAgICAgICAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBpbiBJRSAxMFxuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcblxuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICB0aGlzLm9uKHR5cGUsIGcpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXR1cm4gdGhpcztcblxuICBsaXN0ID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgcG9zaXRpb24gPSAtMTtcblxuICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHxcbiAgICAgIChpc0Z1bmN0aW9uKGxpc3QubGlzdGVuZXIpICYmIGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG5cbiAgfSBlbHNlIGlmIChpc09iamVjdChsaXN0KSkge1xuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tID4gMDspIHtcbiAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGtleSBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXJzKSkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgfSBlbHNlIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAvLyBMSUZPIG9yZGVyXG4gICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoIC0gMV0pO1xuICB9XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSBbXTtcbiAgZWxzZSBpZiAoaXNGdW5jdGlvbih0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xuICBlbHNlXG4gICAgcmV0ID0gdGhpcy5fZXZlbnRzW3R5cGVdLnNsaWNlKCk7XG4gIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIGlmICh0aGlzLl9ldmVudHMpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGV2bGlzdGVuZXIpKVxuICAgICAgcmV0dXJuIDE7XG4gICAgZWxzZSBpZiAoZXZsaXN0ZW5lcilcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgfVxuICByZXR1cm4gMDtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xufTtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG52YXIgRGljdGlvbmFyeV8xID0gcmVxdWlyZShcIi4vRGljdGlvbmFyeVwiKTtcbnZhciBTZXRfMSA9IHJlcXVpcmUoXCIuL1NldFwiKTtcbnZhciBCYWcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBlbXB0eSBiYWcuXG4gICAgICogQGNsYXNzIDxwPkEgYmFnIGlzIGEgc3BlY2lhbCBraW5kIG9mIHNldCBpbiB3aGljaCBtZW1iZXJzIGFyZVxuICAgICAqIGFsbG93ZWQgdG8gYXBwZWFyIG1vcmUgdGhhbiBvbmNlLjwvcD5cbiAgICAgKiA8cD5JZiB0aGUgaW5zZXJ0ZWQgZWxlbWVudHMgYXJlIGN1c3RvbSBvYmplY3RzIGEgZnVuY3Rpb25cbiAgICAgKiB3aGljaCBjb252ZXJ0cyBlbGVtZW50cyB0byB1bmlxdWUgc3RyaW5ncyBtdXN0IGJlIHByb3ZpZGVkLiBFeGFtcGxlOjwvcD5cbiAgICAgKlxuICAgICAqIDxwcmU+XG4gICAgICogZnVuY3Rpb24gcGV0VG9TdHJpbmcocGV0KSB7XG4gICAgICogIHJldHVybiBwZXQubmFtZTtcbiAgICAgKiB9XG4gICAgICogPC9wcmU+XG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKE9iamVjdCk6c3RyaW5nPX0gdG9TdHJGdW5jdGlvbiBvcHRpb25hbCBmdW5jdGlvbiB1c2VkXG4gICAgICogdG8gY29udmVydCBlbGVtZW50cyB0byBzdHJpbmdzLiBJZiB0aGUgZWxlbWVudHMgYXJlbid0IHN0cmluZ3Mgb3IgaWYgdG9TdHJpbmcoKVxuICAgICAqIGlzIG5vdCBhcHByb3ByaWF0ZSwgYSBjdXN0b20gZnVuY3Rpb24gd2hpY2ggcmVjZWl2ZXMgYW4gb2JqZWN0IGFuZCByZXR1cm5zIGFcbiAgICAgKiB1bmlxdWUgc3RyaW5nIG11c3QgYmUgcHJvdmlkZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFnKHRvU3RyRnVuY3Rpb24pIHtcbiAgICAgICAgdGhpcy50b1N0ckYgPSB0b1N0ckZ1bmN0aW9uIHx8IHV0aWwuZGVmYXVsdFRvU3RyaW5nO1xuICAgICAgICB0aGlzLmRpY3Rpb25hcnkgPSBuZXcgRGljdGlvbmFyeV8xLmRlZmF1bHQodGhpcy50b1N0ckYpO1xuICAgICAgICB0aGlzLm5FbGVtZW50cyA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogQWRkcyBuQ29waWVzIG9mIHRoZSBzcGVjaWZpZWQgb2JqZWN0IHRvIHRoaXMgYmFnLlxuICAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgZWxlbWVudCB0byBhZGQuXG4gICAgKiBAcGFyYW0ge251bWJlcj19IG5Db3BpZXMgdGhlIG51bWJlciBvZiBjb3BpZXMgdG8gYWRkLCBpZiB0aGlzIGFyZ3VtZW50IGlzXG4gICAgKiB1bmRlZmluZWQgMSBjb3B5IGlzIGFkZGVkLlxuICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSB1bmxlc3MgZWxlbWVudCBpcyB1bmRlZmluZWQuXG4gICAgKi9cbiAgICBCYWcucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChlbGVtZW50LCBuQ29waWVzKSB7XG4gICAgICAgIGlmIChuQ29waWVzID09PSB2b2lkIDApIHsgbkNvcGllcyA9IDE7IH1cbiAgICAgICAgaWYgKHV0aWwuaXNVbmRlZmluZWQoZWxlbWVudCkgfHwgbkNvcGllcyA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5zKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZWxlbWVudCxcbiAgICAgICAgICAgICAgICBjb3BpZXM6IG5Db3BpZXNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmRpY3Rpb25hcnkuc2V0VmFsdWUoZWxlbWVudCwgbm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRpY3Rpb25hcnkuZ2V0VmFsdWUoZWxlbWVudCkuY29waWVzICs9IG5Db3BpZXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uRWxlbWVudHMgKz0gbkNvcGllcztcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAqIENvdW50cyB0aGUgbnVtYmVyIG9mIGNvcGllcyBvZiB0aGUgc3BlY2lmaWVkIG9iamVjdCBpbiB0aGlzIGJhZy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IHRoZSBvYmplY3QgdG8gc2VhcmNoIGZvci4uXG4gICAgKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBudW1iZXIgb2YgY29waWVzIG9mIHRoZSBvYmplY3QsIDAgaWYgbm90IGZvdW5kXG4gICAgKi9cbiAgICBCYWcucHJvdG90eXBlLmNvdW50ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5zKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpY3Rpb25hcnkuZ2V0VmFsdWUoZWxlbWVudCkuY29waWVzO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBiYWcgY29udGFpbnMgdGhlIHNwZWNpZmllZCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IGVsZW1lbnQgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoaXMgYmFnIGNvbnRhaW5zIHRoZSBzcGVjaWZpZWQgZWxlbWVudCxcbiAgICAgKiBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgQmFnLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpY3Rpb25hcnkuY29udGFpbnNLZXkoZWxlbWVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAqIFJlbW92ZXMgbkNvcGllcyBvZiB0aGUgc3BlY2lmaWVkIG9iamVjdCB0byB0aGlzIGJhZy5cbiAgICAqIElmIHRoZSBudW1iZXIgb2YgY29waWVzIHRvIHJlbW92ZSBpcyBncmVhdGVyIHRoYW4gdGhlIGFjdHVhbCBudW1iZXJcbiAgICAqIG9mIGNvcGllcyBpbiB0aGUgQmFnLCBhbGwgY29waWVzIGFyZSByZW1vdmVkLlxuICAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgZWxlbWVudCB0byByZW1vdmUuXG4gICAgKiBAcGFyYW0ge251bWJlcj19IG5Db3BpZXMgdGhlIG51bWJlciBvZiBjb3BpZXMgdG8gcmVtb3ZlLCBpZiB0aGlzIGFyZ3VtZW50IGlzXG4gICAgKiB1bmRlZmluZWQgMSBjb3B5IGlzIHJlbW92ZWQuXG4gICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGF0IGxlYXN0IDEgZWxlbWVudCB3YXMgcmVtb3ZlZC5cbiAgICAqL1xuICAgIEJhZy5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGVsZW1lbnQsIG5Db3BpZXMpIHtcbiAgICAgICAgaWYgKG5Db3BpZXMgPT09IHZvaWQgMCkgeyBuQ29waWVzID0gMTsgfVxuICAgICAgICBpZiAodXRpbC5pc1VuZGVmaW5lZChlbGVtZW50KSB8fCBuQ29waWVzIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuY29udGFpbnMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gdGhpcy5kaWN0aW9uYXJ5LmdldFZhbHVlKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKG5Db3BpZXMgPiBub2RlLmNvcGllcykge1xuICAgICAgICAgICAgICAgIHRoaXMubkVsZW1lbnRzIC09IG5vZGUuY29waWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uRWxlbWVudHMgLT0gbkNvcGllcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUuY29waWVzIC09IG5Db3BpZXM7XG4gICAgICAgICAgICBpZiAobm9kZS5jb3BpZXMgPD0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGljdGlvbmFyeS5yZW1vdmUoZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGUgZWxlbWVudHMgaW4gdGhpcyBiaWcgaW4gYXJiaXRyYXJ5IG9yZGVyLFxuICAgICAqIGluY2x1ZGluZyBtdWx0aXBsZSBjb3BpZXMuXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIG9mIHRoZSBlbGVtZW50cyBpbiB0aGlzIGJhZy5cbiAgICAgKi9cbiAgICBCYWcucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhID0gW107XG4gICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLmRpY3Rpb25hcnkudmFsdWVzKCk7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgdmFsdWVzXzEgPSB2YWx1ZXM7IF9pIDwgdmFsdWVzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHZhbHVlc18xW19pXTtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gbm9kZS52YWx1ZTtcbiAgICAgICAgICAgIHZhciBjb3BpZXMgPSBub2RlLmNvcGllcztcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29waWVzOyBqKyspIHtcbiAgICAgICAgICAgICAgICBhLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc2V0IG9mIHVuaXF1ZSBlbGVtZW50cyBpbiB0aGlzIGJhZy5cbiAgICAgKiBAcmV0dXJuIHtjb2xsZWN0aW9ucy5TZXQ8VD59IGEgc2V0IG9mIHVuaXF1ZSBlbGVtZW50cyBpbiB0aGlzIGJhZy5cbiAgICAgKi9cbiAgICBCYWcucHJvdG90eXBlLnRvU2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG9yZXQgPSBuZXcgU2V0XzEuZGVmYXVsdCh0aGlzLnRvU3RyRik7XG4gICAgICAgIHZhciBlbGVtZW50cyA9IHRoaXMuZGljdGlvbmFyeS52YWx1ZXMoKTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBlbGVtZW50c18xID0gZWxlbWVudHM7IF9pIDwgZWxlbWVudHNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBlbGUgPSBlbGVtZW50c18xW19pXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGVsZS52YWx1ZTtcbiAgICAgICAgICAgIHRvcmV0LmFkZCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvcmV0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIG9uY2UgZm9yIGVhY2ggZWxlbWVudFxuICAgICAqIHByZXNlbnQgaW4gdGhpcyBiYWcsIGluY2x1ZGluZyBtdWx0aXBsZSBjb3BpZXMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihPYmplY3QpOip9IGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGV4ZWN1dGUsIGl0IGlzXG4gICAgICogaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogdGhlIGVsZW1lbnQuIFRvIGJyZWFrIHRoZSBpdGVyYXRpb24geW91IGNhblxuICAgICAqIG9wdGlvbmFsbHkgcmV0dXJuIGZhbHNlLlxuICAgICAqL1xuICAgIEJhZy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmRpY3Rpb25hcnkuZm9yRWFjaChmdW5jdGlvbiAoaywgdikge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdi52YWx1ZTtcbiAgICAgICAgICAgIHZhciBjb3BpZXMgPSB2LmNvcGllcztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29waWVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sodmFsdWUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoaXMgYmFnLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGlzIGJhZy5cbiAgICAgKi9cbiAgICBCYWcucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5FbGVtZW50cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGJhZyBjb250YWlucyBubyBlbGVtZW50cy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoaXMgYmFnIGNvbnRhaW5zIG5vIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIEJhZy5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubkVsZW1lbnRzID09PSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgb2YgdGhlIGVsZW1lbnRzIGZyb20gdGhpcyBiYWcuXG4gICAgICovXG4gICAgQmFnLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5uRWxlbWVudHMgPSAwO1xuICAgICAgICB0aGlzLmRpY3Rpb25hcnkuY2xlYXIoKTtcbiAgICB9O1xuICAgIHJldHVybiBCYWc7XG59KCkpOyAvLyBFbmQgb2YgYmFnXG5leHBvcnRzLmRlZmF1bHQgPSBCYWc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYWcuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBCU1RyZWVLVl8xID0gcmVxdWlyZShcIi4vQlNUcmVlS1ZcIik7XG4vKipcbiAqIFNwZWNpYWwtY2FzZSBvZiB0aGUgYmluYXJ5IHNlYXJjaCB0cmVlIGluIHdoaWNoIHRoZSBzZWFyY2gga2V5IGlzIGVxdWFsIHRvIHRoZSBlbGVtZW50IHR5cGUuXG4gKiBUaGlzIGRlZmluaXRpb24gaXMgc3VpdGFibGUgd2hlbiB0aGUgZWxlbWVudCB0eXBlIGNhbiBub3QgYmUgc3BsaXQgYmV0d2VlbiB3aGF0IGRlZmluZXMgaXRzIG9yZGVyXG4gKiBhbmQgd2hhdCBkb2VzIG5vdCAoZWcuIHByaW1pdGl2ZSB0eXBlcyBhcyBvcHBvc2VkIHRvIGluZGV4ZWQgcmVjb3JkcykuXG4gKlxuICogVGhlIHRhYmxlIGJlbG93IHNob3dzIHNvbWUgdXNlLWNhc2UgZXhhbXBsZXMgZm9yIGJvdGggaW50ZXJmYWNlczpcbiAqXG4gKiAgICAgICAgICAgZWxlbWVudCB0eXBlICAgICAgICAgICAgICB8ICBtb3N0IHN1aXRhYmxlIGludGVyZmFjZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICAgIG51bWJlciAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgIEJTVHJlZTxudW1iZXI+XG4gKiAgICBzdHJpbmcgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICBCU1RyZWU8c3RyaW5nPlxuICogeyBvcmRlcjogbnVtYmVyLCBkYXRhOiBzdHJpbmcgfSAgICAgfCAgQlNUcmVlS1Y8e29yZGVyOiBudW1iZXJ9LCB7b3JkZXI6IG51bWJlciwgZGF0YTogc3RyaW5nfT5cbiAqXG4gKiBAc2VlIEJTVHJlZUtWXG4gKi9cbnZhciBCU1RyZWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJTVHJlZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCU1RyZWUoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEJTVHJlZTtcbn0oQlNUcmVlS1ZfMS5kZWZhdWx0KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBCU1RyZWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CU1RyZWUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBEaWN0aW9uYXJ5XzEgPSByZXF1aXJlKFwiLi9EaWN0aW9uYXJ5XCIpO1xudmFyIHV0aWwgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuLyoqXG4gKiBUaGlzIGNsYXNzIGlzIHVzZWQgYnkgdGhlIExpbmtlZERpY3Rpb25hcnkgSW50ZXJuYWxseVxuICogSGFzIHRvIGJlIGEgY2xhc3MsIG5vdCBhbiBpbnRlcmZhY2UsIGJlY2F1c2UgaXQgbmVlZHMgdG8gaGF2ZVxuICogdGhlICd1bmxpbmsnIGZ1bmN0aW9uIGRlZmluZWQuXG4gKi9cbnZhciBMaW5rZWREaWN0aW9uYXJ5UGFpciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMaW5rZWREaWN0aW9uYXJ5UGFpcihrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIExpbmtlZERpY3Rpb25hcnlQYWlyLnByb3RvdHlwZS51bmxpbmsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucHJldi5uZXh0ID0gdGhpcy5uZXh0O1xuICAgICAgICB0aGlzLm5leHQucHJldiA9IHRoaXMucHJldjtcbiAgICB9O1xuICAgIHJldHVybiBMaW5rZWREaWN0aW9uYXJ5UGFpcjtcbn0oKSk7XG4vKipcbiAqIFRoZSBoZWFkIGFuZCB0YWlsIGVsZW1lbnRzIG9mIHRoZSBsaXN0IGhhdmUgbnVsbCBrZXkgYW5kIHZhbHVlIHByb3BlcnRpZXMgYnV0IHRoZXlcbiAqIHVzdWFsbHkgbGluayB0byBub3JtYWwgbm9kZXMuXG4gKi9cbnZhciBIZWFkT3JUYWlsTGlua2VkRGljdGlvbmFyeVBhaXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSGVhZE9yVGFpbExpbmtlZERpY3Rpb25hcnlQYWlyKCkge1xuICAgICAgICB0aGlzLmtleSA9IG51bGw7XG4gICAgICAgIHRoaXMudmFsdWUgPSBudWxsO1xuICAgIH1cbiAgICBIZWFkT3JUYWlsTGlua2VkRGljdGlvbmFyeVBhaXIucHJvdG90eXBlLnVubGluayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wcmV2Lm5leHQgPSB0aGlzLm5leHQ7XG4gICAgICAgIHRoaXMubmV4dC5wcmV2ID0gdGhpcy5wcmV2O1xuICAgIH07XG4gICAgcmV0dXJuIEhlYWRPclRhaWxMaW5rZWREaWN0aW9uYXJ5UGFpcjtcbn0oKSk7XG5mdW5jdGlvbiBpc0hlYWRPclRhaWxMaW5rZWREaWN0aW9uYXJ5UGFpcihwKSB7XG4gICAgcmV0dXJuIHAubmV4dCA9PT0gbnVsbDtcbn1cbnZhciBMaW5rZWREaWN0aW9uYXJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMaW5rZWREaWN0aW9uYXJ5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExpbmtlZERpY3Rpb25hcnkodG9TdHJGdW5jdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0b1N0ckZ1bmN0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5oZWFkID0gbmV3IEhlYWRPclRhaWxMaW5rZWREaWN0aW9uYXJ5UGFpcigpO1xuICAgICAgICBfdGhpcy50YWlsID0gbmV3IEhlYWRPclRhaWxMaW5rZWREaWN0aW9uYXJ5UGFpcigpO1xuICAgICAgICBfdGhpcy5oZWFkLm5leHQgPSBfdGhpcy50YWlsO1xuICAgICAgICBfdGhpcy50YWlsLnByZXYgPSBfdGhpcy5oZWFkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydHMgdGhlIG5ldyBub2RlIHRvIHRoZSAndGFpbCcgb2YgdGhlIGxpc3QsIHVwZGF0aW5nIHRoZVxuICAgICAqIG5laWdoYm9ycywgYW5kIG1vdmluZyAndGhpcy50YWlsJyAodGhlIEVuZCBvZiBMaXN0IGluZGljYXRvcikgdGhhdFxuICAgICAqIHRvIHRoZSBlbmQuXG4gICAgICovXG4gICAgTGlua2VkRGljdGlvbmFyeS5wcm90b3R5cGUuYXBwZW5kVG9UYWlsID0gZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHZhciBsYXN0Tm9kZSA9IHRoaXMudGFpbC5wcmV2O1xuICAgICAgICBsYXN0Tm9kZS5uZXh0ID0gZW50cnk7XG4gICAgICAgIGVudHJ5LnByZXYgPSBsYXN0Tm9kZTtcbiAgICAgICAgZW50cnkubmV4dCA9IHRoaXMudGFpbDtcbiAgICAgICAgdGhpcy50YWlsLnByZXYgPSBlbnRyeTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIGxpbmtlZCBkaWN0aW9uYXJ5IGZyb20gdGhlIHRhYmxlIGludGVybmFsbHlcbiAgICAgKi9cbiAgICBMaW5rZWREaWN0aW9uYXJ5LnByb3RvdHlwZS5nZXRMaW5rZWREaWN0aW9uYXJ5UGFpciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKHV0aWwuaXNVbmRlZmluZWQoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgayA9ICckJyArIHRoaXMudG9TdHIoa2V5KTtcbiAgICAgICAgdmFyIHBhaXIgPSAodGhpcy50YWJsZVtrXSk7XG4gICAgICAgIHJldHVybiBwYWlyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgdG8gd2hpY2ggdGhpcyBkaWN0aW9uYXJ5IG1hcHMgdGhlIHNwZWNpZmllZCBrZXkuXG4gICAgICogUmV0dXJucyB1bmRlZmluZWQgaWYgdGhpcyBkaWN0aW9uYXJ5IGNvbnRhaW5zIG5vIG1hcHBpbmcgZm9yIHRoaXMga2V5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBrZXkga2V5IHdob3NlIGFzc29jaWF0ZWQgdmFsdWUgaXMgdG8gYmUgcmV0dXJuZWQuXG4gICAgICogQHJldHVybiB7Kn0gdGhlIHZhbHVlIHRvIHdoaWNoIHRoaXMgZGljdGlvbmFyeSBtYXBzIHRoZSBzcGVjaWZpZWQga2V5IG9yXG4gICAgICogdW5kZWZpbmVkIGlmIHRoZSBtYXAgY29udGFpbnMgbm8gbWFwcGluZyBmb3IgdGhpcyBrZXkuXG4gICAgICovXG4gICAgTGlua2VkRGljdGlvbmFyeS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBwYWlyID0gdGhpcy5nZXRMaW5rZWREaWN0aW9uYXJ5UGFpcihrZXkpO1xuICAgICAgICBpZiAoIXV0aWwuaXNVbmRlZmluZWQocGFpcikpIHtcbiAgICAgICAgICAgIHJldHVybiBwYWlyLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBtYXBwaW5nIGZvciB0aGlzIGtleSBmcm9tIHRoaXMgZGljdGlvbmFyeSBpZiBpdCBpcyBwcmVzZW50LlxuICAgICAqIEFsc28sIGlmIGEgdmFsdWUgaXMgcHJlc2VudCBmb3IgdGhpcyBrZXksIHRoZSBlbnRyeSBpcyByZW1vdmVkIGZyb20gdGhlXG4gICAgICogaW5zZXJ0aW9uIG9yZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBrZXkga2V5IHdob3NlIG1hcHBpbmcgaXMgdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZVxuICAgICAqIGRpY3Rpb25hcnkuXG4gICAgICogQHJldHVybiB7Kn0gcHJldmlvdXMgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHNwZWNpZmllZCBrZXksIG9yIHVuZGVmaW5lZCBpZlxuICAgICAqIHRoZXJlIHdhcyBubyBtYXBwaW5nIGZvciBrZXkuXG4gICAgICovXG4gICAgTGlua2VkRGljdGlvbmFyeS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgcGFpciA9IHRoaXMuZ2V0TGlua2VkRGljdGlvbmFyeVBhaXIoa2V5KTtcbiAgICAgICAgaWYgKCF1dGlsLmlzVW5kZWZpbmVkKHBhaXIpKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMsIGtleSk7IC8vIFRoaXMgd2lsbCByZW1vdmUgaXQgZnJvbSB0aGUgdGFibGVcbiAgICAgICAgICAgIHBhaXIudW5saW5rKCk7IC8vIFRoaXMgd2lsbCB1bmxpbmsgaXQgZnJvbSB0aGUgY2hhaW5cbiAgICAgICAgICAgIHJldHVybiBwYWlyLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAqIFJlbW92ZXMgYWxsIG1hcHBpbmdzIGZyb20gdGhpcyBMaW5rZWREaWN0aW9uYXJ5LlxuICAgICogQHRoaXMge2NvbGxlY3Rpb25zLkxpbmtlZERpY3Rpb25hcnl9XG4gICAgKi9cbiAgICBMaW5rZWREaWN0aW9uYXJ5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jbGVhci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmhlYWQubmV4dCA9IHRoaXMudGFpbDtcbiAgICAgICAgdGhpcy50YWlsLnByZXYgPSB0aGlzLmhlYWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBmdW5jdGlvbiB1c2VkIHdoZW4gdXBkYXRpbmcgYW4gZXhpc3RpbmcgS2V5VmFsdWUgcGFpci5cbiAgICAgKiBJdCBwbGFjZXMgdGhlIG5ldyB2YWx1ZSBpbmRleGVkIGJ5IGtleSBpbnRvIHRoZSB0YWJsZSwgYnV0IG1haW50YWluc1xuICAgICAqIGl0cyBwbGFjZSBpbiB0aGUgbGlua2VkIG9yZGVyaW5nLlxuICAgICAqL1xuICAgIExpbmtlZERpY3Rpb25hcnkucHJvdG90eXBlLnJlcGxhY2UgPSBmdW5jdGlvbiAob2xkUGFpciwgbmV3UGFpcikge1xuICAgICAgICB2YXIgayA9ICckJyArIHRoaXMudG9TdHIobmV3UGFpci5rZXkpO1xuICAgICAgICAvLyBzZXQgdGhlIG5ldyBQYWlyJ3MgbGlua3MgdG8gZXhpc3RpbmdQYWlyJ3MgbGlua3NcbiAgICAgICAgbmV3UGFpci5uZXh0ID0gb2xkUGFpci5uZXh0O1xuICAgICAgICBuZXdQYWlyLnByZXYgPSBvbGRQYWlyLnByZXY7XG4gICAgICAgIC8vIERlbGV0ZSBFeGlzdGluZyBQYWlyIGZyb20gdGhlIHRhYmxlLCB1bmxpbmsgaXQgZnJvbSBjaGFpbi5cbiAgICAgICAgLy8gQXMgYSByZXN1bHQsIHRoZSBuRWxlbWVudHMgZ2V0cyBkZWNyZW1lbnRlZCBieSB0aGlzIG9wZXJhdGlvblxuICAgICAgICB0aGlzLnJlbW92ZShvbGRQYWlyLmtleSk7XG4gICAgICAgIC8vIExpbmsgbmV3IFBhaXIgaW4gcGxhY2Ugb2Ygd2hlcmUgb2xkUGFpciB3YXMsXG4gICAgICAgIC8vIGJ5IHBvaW50aW5nIHRoZSBvbGQgcGFpcidzIG5laWdoYm9ycyB0byBpdC5cbiAgICAgICAgbmV3UGFpci5wcmV2Lm5leHQgPSBuZXdQYWlyO1xuICAgICAgICBuZXdQYWlyLm5leHQucHJldiA9IG5ld1BhaXI7XG4gICAgICAgIHRoaXMudGFibGVba10gPSBuZXdQYWlyO1xuICAgICAgICAvLyBUbyBtYWtlIHVwIGZvciB0aGUgZmFjdCB0aGF0IHRoZSBudW1iZXIgb2YgZWxlbWVudHMgd2FzIGRlY3JlbWVudGVkLFxuICAgICAgICAvLyBXZSBuZWVkIHRvIGluY3JlYXNlIGl0IGJ5IG9uZS5cbiAgICAgICAgKyt0aGlzLm5FbGVtZW50cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFzc29jaWF0ZXMgdGhlIHNwZWNpZmllZCB2YWx1ZSB3aXRoIHRoZSBzcGVjaWZpZWQga2V5IGluIHRoaXMgZGljdGlvbmFyeS5cbiAgICAgKiBJZiB0aGUgZGljdGlvbmFyeSBwcmV2aW91c2x5IGNvbnRhaW5lZCBhIG1hcHBpbmcgZm9yIHRoaXMga2V5LCB0aGUgb2xkXG4gICAgICogdmFsdWUgaXMgcmVwbGFjZWQgYnkgdGhlIHNwZWNpZmllZCB2YWx1ZS5cbiAgICAgKiBVcGRhdGluZyBvZiBhIGtleSB0aGF0IGFscmVhZHkgZXhpc3RzIG1haW50YWlucyBpdHMgcGxhY2UgaW4gdGhlXG4gICAgICogaW5zZXJ0aW9uIG9yZGVyIGludG8gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0ga2V5IGtleSB3aXRoIHdoaWNoIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgdG8gYmVcbiAgICAgKiBhc3NvY2lhdGVkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSB2YWx1ZSB0byBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIHNwZWNpZmllZCBrZXkuXG4gICAgICogQHJldHVybiB7Kn0gcHJldmlvdXMgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQga2V5LCBvciB1bmRlZmluZWQgaWZcbiAgICAgKiB0aGVyZSB3YXMgbm8gbWFwcGluZyBmb3IgdGhlIGtleSBvciBpZiB0aGUga2V5L3ZhbHVlIGFyZSB1bmRlZmluZWQuXG4gICAgICovXG4gICAgTGlua2VkRGljdGlvbmFyeS5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodXRpbC5pc1VuZGVmaW5lZChrZXkpIHx8IHV0aWwuaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBleGlzdGluZ1BhaXIgPSB0aGlzLmdldExpbmtlZERpY3Rpb25hcnlQYWlyKGtleSk7XG4gICAgICAgIHZhciBuZXdQYWlyID0gbmV3IExpbmtlZERpY3Rpb25hcnlQYWlyKGtleSwgdmFsdWUpO1xuICAgICAgICB2YXIgayA9ICckJyArIHRoaXMudG9TdHIoa2V5KTtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYWxyZWFkeSBhbiBlbGVtZW50IGZvciB0aGF0IGtleSwgd2VcbiAgICAgICAgLy8ga2VlcCBpdCdzIHBsYWNlIGluIHRoZSBMaW5rZWRMaXN0XG4gICAgICAgIGlmICghdXRpbC5pc1VuZGVmaW5lZChleGlzdGluZ1BhaXIpKSB7XG4gICAgICAgICAgICB0aGlzLnJlcGxhY2UoZXhpc3RpbmdQYWlyLCBuZXdQYWlyKTtcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ1BhaXIudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZFRvVGFpbChuZXdQYWlyKTtcbiAgICAgICAgICAgIHRoaXMudGFibGVba10gPSBuZXdQYWlyO1xuICAgICAgICAgICAgKyt0aGlzLm5FbGVtZW50cztcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyBhbGwgb2YgdGhlIGtleXMgaW4gdGhpcyBMaW5rZWREaWN0aW9uYXJ5LCBvcmRlcmVkXG4gICAgICogYnkgaW5zZXJ0aW9uIG9yZGVyLlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGUga2V5cyBpbiB0aGlzIExpbmtlZERpY3Rpb25hcnksXG4gICAgICogb3JkZXJlZCBieSBpbnNlcnRpb24gb3JkZXIuXG4gICAgICovXG4gICAgTGlua2VkRGljdGlvbmFyeS5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgYXJyYXkucHVzaChrZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGUgdmFsdWVzIGluIHRoaXMgTGlua2VkRGljdGlvbmFyeSwgb3JkZXJlZCBieVxuICAgICAqIGluc2VydGlvbiBvcmRlci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gYW4gYXJyYXkgY29udGFpbmluZyBhbGwgb2YgdGhlIHZhbHVlcyBpbiB0aGlzIExpbmtlZERpY3Rpb25hcnksXG4gICAgICogb3JkZXJlZCBieSBpbnNlcnRpb24gb3JkZXIuXG4gICAgICovXG4gICAgTGlua2VkRGljdGlvbmFyeS5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICBhcnJheS5wdXNoKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9O1xuICAgIC8qKlxuICAgICogRXhlY3V0ZXMgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIG9uY2UgZm9yIGVhY2gga2V5LXZhbHVlIHBhaXJcbiAgICAqIHByZXNlbnQgaW4gdGhpcyBMaW5rZWREaWN0aW9uYXJ5LiBJdCBpcyBkb25lIGluIHRoZSBvcmRlciBvZiBpbnNlcnRpb25cbiAgICAqIGludG8gdGhlIExpbmtlZERpY3Rpb25hcnlcbiAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oT2JqZWN0LE9iamVjdCk6Kn0gY2FsbGJhY2sgZnVuY3Rpb24gdG8gZXhlY3V0ZSwgaXQgaXNcbiAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiBrZXkgYW5kIHZhbHVlLiBUbyBicmVhayB0aGUgaXRlcmF0aW9uIHlvdSBjYW5cbiAgICAqIG9wdGlvbmFsbHkgcmV0dXJuIGZhbHNlLlxuICAgICovXG4gICAgTGlua2VkRGljdGlvbmFyeS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB2YXIgY3Jhd2xOb2RlID0gdGhpcy5oZWFkLm5leHQ7XG4gICAgICAgIHdoaWxlICghaXNIZWFkT3JUYWlsTGlua2VkRGljdGlvbmFyeVBhaXIoY3Jhd2xOb2RlKSkge1xuICAgICAgICAgICAgdmFyIHJldCA9IGNhbGxiYWNrKGNyYXdsTm9kZS5rZXksIGNyYXdsTm9kZS52YWx1ZSk7XG4gICAgICAgICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNyYXdsTm9kZSA9IGNyYXdsTm9kZS5uZXh0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTGlua2VkRGljdGlvbmFyeTtcbn0oRGljdGlvbmFyeV8xLmRlZmF1bHQpKTsgLy8gRW5kIG9mIExpbmtlZERpY3Rpb25hcnlcbmV4cG9ydHMuZGVmYXVsdCA9IExpbmtlZERpY3Rpb25hcnk7XG4vLyAvKipcbi8vICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGRpY3Rpb25hcnkgaXMgZXF1YWwgdG8gdGhlIGdpdmVuIGRpY3Rpb25hcnkuXG4vLyAgKiBUd28gZGljdGlvbmFyaWVzIGFyZSBlcXVhbCBpZiB0aGV5IGNvbnRhaW4gdGhlIHNhbWUgbWFwcGluZ3MuXG4vLyAgKiBAcGFyYW0ge2NvbGxlY3Rpb25zLkRpY3Rpb25hcnl9IG90aGVyIHRoZSBvdGhlciBkaWN0aW9uYXJ5LlxuLy8gICogQHBhcmFtIHtmdW5jdGlvbihPYmplY3QsT2JqZWN0KTpib29sZWFuPX0gdmFsdWVzRXF1YWxGdW5jdGlvbiBvcHRpb25hbFxuLy8gICogZnVuY3Rpb24gdXNlZCB0byBjaGVjayBpZiB0d28gdmFsdWVzIGFyZSBlcXVhbC5cbi8vICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhpcyBkaWN0aW9uYXJ5IGlzIGVxdWFsIHRvIHRoZSBnaXZlbiBkaWN0aW9uYXJ5LlxuLy8gICovXG4vLyBjb2xsZWN0aW9ucy5EaWN0aW9uYXJ5LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbihvdGhlcix2YWx1ZXNFcXVhbEZ1bmN0aW9uKSB7XG4vLyBcdGNvbnN0IGVxRiA9IHZhbHVlc0VxdWFsRnVuY3Rpb24gfHwgY29sbGVjdGlvbnMuZGVmYXVsdEVxdWFscztcbi8vIFx0aWYoIShvdGhlciBpbnN0YW5jZW9mIGNvbGxlY3Rpb25zLkRpY3Rpb25hcnkpKXtcbi8vIFx0XHRyZXR1cm4gZmFsc2U7XG4vLyBcdH1cbi8vIFx0aWYodGhpcy5zaXplKCkgIT09IG90aGVyLnNpemUoKSl7XG4vLyBcdFx0cmV0dXJuIGZhbHNlO1xuLy8gXHR9XG4vLyBcdHJldHVybiB0aGlzLmVxdWFsc0F1eCh0aGlzLmZpcnN0Tm9kZSxvdGhlci5maXJzdE5vZGUsZXFGKTtcbi8vIH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxpbmtlZERpY3Rpb25hcnkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG52YXIgRGljdGlvbmFyeV8xID0gcmVxdWlyZShcIi4vRGljdGlvbmFyeVwiKTtcbnZhciBhcnJheXMgPSByZXF1aXJlKFwiLi9hcnJheXNcIik7XG52YXIgTXVsdGlEaWN0aW9uYXJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gZW1wdHkgbXVsdGkgZGljdGlvbmFyeS5cbiAgICAgKiBAY2xhc3MgPHA+QSBtdWx0aSBkaWN0aW9uYXJ5IGlzIGEgc3BlY2lhbCBraW5kIG9mIGRpY3Rpb25hcnkgdGhhdCBob2xkc1xuICAgICAqIG11bHRpcGxlIHZhbHVlcyBhZ2FpbnN0IGVhY2gga2V5LiBTZXR0aW5nIGEgdmFsdWUgaW50byB0aGUgZGljdGlvbmFyeSB3aWxsXG4gICAgICogYWRkIHRoZSB2YWx1ZSB0byBhbiBhcnJheSBhdCB0aGF0IGtleS4gR2V0dGluZyBhIGtleSB3aWxsIHJldHVybiBhbiBhcnJheSxcbiAgICAgKiBob2xkaW5nIGFsbCB0aGUgdmFsdWVzIHNldCB0byB0aGF0IGtleS5cbiAgICAgKiBZb3UgY2FuIGNvbmZpZ3VyZSB0byBhbGxvdyBkdXBsaWNhdGVzIGluIHRoZSB2YWx1ZXMuXG4gICAgICogVGhpcyBpbXBsZW1lbnRhdGlvbiBhY2NlcHRzIGFueSBraW5kIG9mIG9iamVjdHMgYXMga2V5cy48L3A+XG4gICAgICpcbiAgICAgKiA8cD5JZiB0aGUga2V5cyBhcmUgY3VzdG9tIG9iamVjdHMgYSBmdW5jdGlvbiB3aGljaCBjb252ZXJ0cyBrZXlzIHRvIHN0cmluZ3MgbXVzdCBiZVxuICAgICAqIHByb3ZpZGVkLiBFeGFtcGxlOjwvcD5cbiAgICAgKlxuICAgICAqIDxwcmU+XG4gICAgICogZnVuY3Rpb24gcGV0VG9TdHJpbmcocGV0KSB7XG4gICAgICAgKiAgcmV0dXJuIHBldC5uYW1lO1xuICAgICAgICogfVxuICAgICAqIDwvcHJlPlxuICAgICAqIDxwPklmIHRoZSB2YWx1ZXMgYXJlIGN1c3RvbSBvYmplY3RzIGEgZnVuY3Rpb24gdG8gY2hlY2sgZXF1YWxpdHkgYmV0d2VlbiB2YWx1ZXNcbiAgICAgKiBtdXN0IGJlIHByb3ZpZGVkLiBFeGFtcGxlOjwvcD5cbiAgICAgKlxuICAgICAqIDxwcmU+XG4gICAgICogZnVuY3Rpb24gcGV0c0FyZUVxdWFsQnlBZ2UocGV0MSxwZXQyKSB7XG4gICAgICAgKiAgcmV0dXJuIHBldDEuYWdlPT09cGV0Mi5hZ2U7XG4gICAgICAgKiB9XG4gICAgICogPC9wcmU+XG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihPYmplY3QpOnN0cmluZz19IHRvU3RyRnVuY3Rpb24gb3B0aW9uYWwgZnVuY3Rpb25cbiAgICAgKiB0byBjb252ZXJ0IGtleXMgdG8gc3RyaW5ncy4gSWYgdGhlIGtleXMgYXJlbid0IHN0cmluZ3Mgb3IgaWYgdG9TdHJpbmcoKVxuICAgICAqIGlzIG5vdCBhcHByb3ByaWF0ZSwgYSBjdXN0b20gZnVuY3Rpb24gd2hpY2ggcmVjZWl2ZXMgYSBrZXkgYW5kIHJldHVybnMgYVxuICAgICAqIHVuaXF1ZSBzdHJpbmcgbXVzdCBiZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKE9iamVjdCxPYmplY3QpOmJvb2xlYW49fSB2YWx1ZXNFcXVhbHNGdW5jdGlvbiBvcHRpb25hbFxuICAgICAqIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHR3byB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFsbG93RHVwbGljYXRlVmFsdWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gTXVsdGlEaWN0aW9uYXJ5KHRvU3RyRnVuY3Rpb24sIHZhbHVlc0VxdWFsc0Z1bmN0aW9uLCBhbGxvd0R1cGxpY2F0ZVZhbHVlcykge1xuICAgICAgICBpZiAoYWxsb3dEdXBsaWNhdGVWYWx1ZXMgPT09IHZvaWQgMCkgeyBhbGxvd0R1cGxpY2F0ZVZhbHVlcyA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMuZGljdCA9IG5ldyBEaWN0aW9uYXJ5XzEuZGVmYXVsdCh0b1N0ckZ1bmN0aW9uKTtcbiAgICAgICAgdGhpcy5lcXVhbHNGID0gdmFsdWVzRXF1YWxzRnVuY3Rpb24gfHwgdXRpbC5kZWZhdWx0RXF1YWxzO1xuICAgICAgICB0aGlzLmFsbG93RHVwbGljYXRlID0gYWxsb3dEdXBsaWNhdGVWYWx1ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICogUmV0dXJucyBhbiBhcnJheSBob2xkaW5nIHRoZSB2YWx1ZXMgdG8gd2hpY2ggdGhpcyBkaWN0aW9uYXJ5IG1hcHNcbiAgICAqIHRoZSBzcGVjaWZpZWQga2V5LlxuICAgICogUmV0dXJucyBhbiBlbXB0eSBhcnJheSBpZiB0aGlzIGRpY3Rpb25hcnkgY29udGFpbnMgbm8gbWFwcGluZ3MgZm9yIHRoaXMga2V5LlxuICAgICogQHBhcmFtIHtPYmplY3R9IGtleSBrZXkgd2hvc2UgYXNzb2NpYXRlZCB2YWx1ZXMgYXJlIHRvIGJlIHJldHVybmVkLlxuICAgICogQHJldHVybiB7QXJyYXl9IGFuIGFycmF5IGhvbGRpbmcgdGhlIHZhbHVlcyB0byB3aGljaCB0aGlzIGRpY3Rpb25hcnkgbWFwc1xuICAgICogdGhlIHNwZWNpZmllZCBrZXkuXG4gICAgKi9cbiAgICBNdWx0aURpY3Rpb25hcnkucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgdmFsdWVzID0gdGhpcy5kaWN0LmdldFZhbHVlKGtleSk7XG4gICAgICAgIGlmICh1dGlsLmlzVW5kZWZpbmVkKHZhbHVlcykpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXlzLmNvcHkodmFsdWVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIHZhbHVlIHRvIHRoZSBhcnJheSBhc3NvY2lhdGVkIHdpdGggdGhlIHNwZWNpZmllZCBrZXksIGlmXG4gICAgICogaXQgaXMgbm90IGFscmVhZHkgcHJlc2VudC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0ga2V5IGtleSB3aXRoIHdoaWNoIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgdG8gYmVcbiAgICAgKiBhc3NvY2lhdGVkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSB0aGUgdmFsdWUgdG8gYWRkIHRvIHRoZSBhcnJheSBhdCB0aGUga2V5XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgdmFsdWUgd2FzIG5vdCBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCB0aGF0IGtleS5cbiAgICAgKi9cbiAgICBNdWx0aURpY3Rpb25hcnkucHJvdG90eXBlLnNldFZhbHVlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHV0aWwuaXNVbmRlZmluZWQoa2V5KSB8fCB1dGlsLmlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcnJheSA9IHRoaXMuZGljdC5nZXRWYWx1ZShrZXkpO1xuICAgICAgICBpZiAodXRpbC5pc1VuZGVmaW5lZChhcnJheSkpIHtcbiAgICAgICAgICAgIHRoaXMuZGljdC5zZXRWYWx1ZShrZXksIFt2YWx1ZV0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmFsbG93RHVwbGljYXRlKSB7XG4gICAgICAgICAgICBpZiAoYXJyYXlzLmNvbnRhaW5zKGFycmF5LCB2YWx1ZSwgdGhpcy5lcXVhbHNGKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhcnJheS5wdXNoKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgdmFsdWVzIGZyb20gdGhlIGFycmF5IG9mIHZhbHVlcyBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAgICogc3BlY2lmaWVkIGtleS4gSWYgYSB2YWx1ZSBpc24ndCBnaXZlbiwgYWxsIHZhbHVlcyBhc3NvY2lhdGVkIHdpdGggdGhlIHNwZWNpZmllZFxuICAgICAqIGtleSBhcmUgcmVtb3ZlZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0ga2V5IGtleSB3aG9zZSBtYXBwaW5nIGlzIHRvIGJlIHJlbW92ZWQgZnJvbSB0aGVcbiAgICAgKiBkaWN0aW9uYXJ5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gdmFsdWUgb3B0aW9uYWwgYXJndW1lbnQgdG8gc3BlY2lmeSB0aGUgdmFsdWUgdG8gcmVtb3ZlXG4gICAgICogZnJvbSB0aGUgYXJyYXkgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQga2V5LlxuICAgICAqIEByZXR1cm4geyp9IHRydWUgaWYgdGhlIGRpY3Rpb25hcnkgY2hhbmdlZCwgZmFsc2UgaWYgdGhlIGtleSBkb2Vzbid0IGV4aXN0IG9yXG4gICAgICogaWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBpc24ndCBhc3NvY2lhdGVkIHdpdGggdGhlIHNwZWNpZmllZCBrZXkuXG4gICAgICovXG4gICAgTXVsdGlEaWN0aW9uYXJ5LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodXRpbC5pc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhciB2ID0gdGhpcy5kaWN0LnJlbW92ZShrZXkpO1xuICAgICAgICAgICAgcmV0dXJuICF1dGlsLmlzVW5kZWZpbmVkKHYpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcnJheSA9IHRoaXMuZGljdC5nZXRWYWx1ZShrZXkpO1xuICAgICAgICBpZiAoIXV0aWwuaXNVbmRlZmluZWQoYXJyYXkpICYmIGFycmF5cy5yZW1vdmUoYXJyYXksIHZhbHVlLCB0aGlzLmVxdWFsc0YpKSB7XG4gICAgICAgICAgICBpZiAoYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaWN0LnJlbW92ZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGUga2V5cyBpbiB0aGlzIGRpY3Rpb25hcnkuXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIG9mIHRoZSBrZXlzIGluIHRoaXMgZGljdGlvbmFyeS5cbiAgICAgKi9cbiAgICBNdWx0aURpY3Rpb25hcnkucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpY3Qua2V5cygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGUgdmFsdWVzIGluIHRoaXMgZGljdGlvbmFyeS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gYW4gYXJyYXkgY29udGFpbmluZyBhbGwgb2YgdGhlIHZhbHVlcyBpbiB0aGlzIGRpY3Rpb25hcnkuXG4gICAgICovXG4gICAgTXVsdGlEaWN0aW9uYXJ5LnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLmRpY3QudmFsdWVzKCk7XG4gICAgICAgIHZhciBhcnJheSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIHZhbHVlc18xID0gdmFsdWVzOyBfaSA8IHZhbHVlc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZXNfMVtfaV07XG4gICAgICAgICAgICBmb3IgKHZhciBfYSA9IDAsIHZfMSA9IHY7IF9hIDwgdl8xLmxlbmd0aDsgX2ErKykge1xuICAgICAgICAgICAgICAgIHZhciB3ID0gdl8xW19hXTtcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKHcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGRpY3Rpb25hcnkgYXQgbGVhc3Qgb25lIHZhbHVlIGFzc29jaWF0dGVkIHRoZSBzcGVjaWZpZWQga2V5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBrZXkga2V5IHdob3NlIHByZXNlbmNlIGluIHRoaXMgZGljdGlvbmFyeSBpcyB0byBiZVxuICAgICAqIHRlc3RlZC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoaXMgZGljdGlvbmFyeSBhdCBsZWFzdCBvbmUgdmFsdWUgYXNzb2NpYXR0ZWRcbiAgICAgKiB0aGUgc3BlY2lmaWVkIGtleS5cbiAgICAgKi9cbiAgICBNdWx0aURpY3Rpb25hcnkucHJvdG90eXBlLmNvbnRhaW5zS2V5ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaWN0LmNvbnRhaW5zS2V5KGtleSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBtYXBwaW5ncyBmcm9tIHRoaXMgZGljdGlvbmFyeS5cbiAgICAgKi9cbiAgICBNdWx0aURpY3Rpb25hcnkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpY3QuY2xlYXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBrZXlzIGluIHRoaXMgZGljdGlvbmFyeS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBudW1iZXIgb2Yga2V5LXZhbHVlIG1hcHBpbmdzIGluIHRoaXMgZGljdGlvbmFyeS5cbiAgICAgKi9cbiAgICBNdWx0aURpY3Rpb25hcnkucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpY3Quc2l6ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgZGljdGlvbmFyeSBjb250YWlucyBubyBtYXBwaW5ncy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoaXMgZGljdGlvbmFyeSBjb250YWlucyBubyBtYXBwaW5ncy5cbiAgICAgKi9cbiAgICBNdWx0aURpY3Rpb25hcnkucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpY3QuaXNFbXB0eSgpO1xuICAgIH07XG4gICAgcmV0dXJuIE11bHRpRGljdGlvbmFyeTtcbn0oKSk7IC8vIGVuZCBvZiBtdWx0aSBkaWN0aW9uYXJ5XG5leHBvcnRzLmRlZmF1bHQgPSBNdWx0aURpY3Rpb25hcnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NdWx0aURpY3Rpb25hcnkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG52YXIgSGVhcF8xID0gcmVxdWlyZShcIi4vSGVhcFwiKTtcbnZhciBQcmlvcml0eVF1ZXVlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gZW1wdHkgcHJpb3JpdHkgcXVldWUuXG4gICAgICogQGNsYXNzIDxwPkluIGEgcHJpb3JpdHkgcXVldWUgZWFjaCBlbGVtZW50IGlzIGFzc29jaWF0ZWQgd2l0aCBhIFwicHJpb3JpdHlcIixcbiAgICAgKiBlbGVtZW50cyBhcmUgZGVxdWV1ZWQgaW4gaGlnaGVzdC1wcmlvcml0eS1maXJzdCBvcmRlciAodGhlIGVsZW1lbnRzIHdpdGggdGhlXG4gICAgICogaGlnaGVzdCBwcmlvcml0eSBhcmUgZGVxdWV1ZWQgZmlyc3QpLiBQcmlvcml0eSBRdWV1ZXMgYXJlIGltcGxlbWVudGVkIGFzIGhlYXBzLlxuICAgICAqIElmIHRoZSBpbnNlcnRlZCBlbGVtZW50cyBhcmUgY3VzdG9tIG9iamVjdHMgYSBjb21wYXJlIGZ1bmN0aW9uIG11c3QgYmUgcHJvdmlkZWQsXG4gICAgICogb3RoZXJ3aXNlIHRoZSA8PSwgPT09IGFuZCA+PSBvcGVyYXRvcnMgYXJlIHVzZWQgdG8gY29tcGFyZSBvYmplY3QgcHJpb3JpdHkuPC9wPlxuICAgICAqIDxwcmU+XG4gICAgICogZnVuY3Rpb24gY29tcGFyZShhLCBiKSB7XG4gICAgICogIGlmIChhIGlzIGxlc3MgdGhhbiBiIGJ5IHNvbWUgb3JkZXJpbmcgY3JpdGVyaW9uKSB7XG4gICAgICogICAgIHJldHVybiAtMTtcbiAgICAgKiAgfSBpZiAoYSBpcyBncmVhdGVyIHRoYW4gYiBieSB0aGUgb3JkZXJpbmcgY3JpdGVyaW9uKSB7XG4gICAgICogICAgIHJldHVybiAxO1xuICAgICAqICB9XG4gICAgICogIC8vIGEgbXVzdCBiZSBlcXVhbCB0byBiXG4gICAgICogIHJldHVybiAwO1xuICAgICAqIH1cbiAgICAgKiA8L3ByZT5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKE9iamVjdCxPYmplY3QpOm51bWJlcj19IGNvbXBhcmVGdW5jdGlvbiBvcHRpb25hbFxuICAgICAqIGZ1bmN0aW9uIHVzZWQgdG8gY29tcGFyZSB0d28gZWxlbWVudCBwcmlvcml0aWVzLiBNdXN0IHJldHVybiBhIG5lZ2F0aXZlIGludGVnZXIsXG4gICAgICogemVybywgb3IgYSBwb3NpdGl2ZSBpbnRlZ2VyIGFzIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBsZXNzIHRoYW4sIGVxdWFsIHRvLFxuICAgICAqIG9yIGdyZWF0ZXIgdGhhbiB0aGUgc2Vjb25kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFByaW9yaXR5UXVldWUoY29tcGFyZUZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMuaGVhcCA9IG5ldyBIZWFwXzEuZGVmYXVsdCh1dGlsLnJldmVyc2VDb21wYXJlRnVuY3Rpb24oY29tcGFyZUZ1bmN0aW9uKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydHMgdGhlIHNwZWNpZmllZCBlbGVtZW50IGludG8gdGhpcyBwcmlvcml0eSBxdWV1ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCB0aGUgZWxlbWVudCB0byBpbnNlcnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgZWxlbWVudCB3YXMgaW5zZXJ0ZWQsIG9yIGZhbHNlIGlmIGl0IGlzIHVuZGVmaW5lZC5cbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5lbnF1ZXVlID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVhcC5hZGQoZWxlbWVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHRoZSBzcGVjaWZpZWQgZWxlbWVudCBpbnRvIHRoaXMgcHJpb3JpdHkgcXVldWUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgdGhlIGVsZW1lbnQgdG8gaW5zZXJ0LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIGVsZW1lbnQgd2FzIGluc2VydGVkLCBvciBmYWxzZSBpZiBpdCBpcyB1bmRlZmluZWQuXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVhcC5hZGQoZWxlbWVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYW5kIHJlbW92ZXMgdGhlIGhpZ2hlc3QgcHJpb3JpdHkgZWxlbWVudCBvZiB0aGlzIHF1ZXVlLlxuICAgICAqIEByZXR1cm4geyp9IHRoZSB0aGUgaGlnaGVzdCBwcmlvcml0eSBlbGVtZW50IG9mIHRoaXMgcXVldWUsXG4gICAgICogIG9yIHVuZGVmaW5lZCBpZiB0aGlzIHF1ZXVlIGlzIGVtcHR5LlxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmRlcXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmhlYXAuc2l6ZSgpICE9PSAwKSB7XG4gICAgICAgICAgICB2YXIgZWwgPSB0aGlzLmhlYXAucGVlaygpO1xuICAgICAgICAgICAgdGhpcy5oZWFwLnJlbW92ZVJvb3QoKTtcbiAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzLCBidXQgZG9lcyBub3QgcmVtb3ZlLCB0aGUgaGlnaGVzdCBwcmlvcml0eSBlbGVtZW50IG9mIHRoaXMgcXVldWUuXG4gICAgICogQHJldHVybiB7Kn0gdGhlIGhpZ2hlc3QgcHJpb3JpdHkgZWxlbWVudCBvZiB0aGlzIHF1ZXVlLCBvciB1bmRlZmluZWQgaWYgdGhpcyBxdWV1ZSBpcyBlbXB0eS5cbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5wZWVrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oZWFwLnBlZWsoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHByaW9yaXR5IHF1ZXVlIGNvbnRhaW5zIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCBlbGVtZW50IHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGlzIHByaW9yaXR5IHF1ZXVlIGNvbnRhaW5zIHRoZSBzcGVjaWZpZWQgZWxlbWVudCxcbiAgICAgKiBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oZWFwLmNvbnRhaW5zKGVsZW1lbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoaXMgcHJpb3JpdHkgcXVldWUgaXMgZW1wdHkuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBhbmQgb25seSBpZiB0aGlzIHByaW9yaXR5IHF1ZXVlIGNvbnRhaW5zIG5vIGl0ZW1zOyBmYWxzZVxuICAgICAqIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oZWFwLmlzRW1wdHkoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGlzIHByaW9yaXR5IHF1ZXVlLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGlzIHByaW9yaXR5IHF1ZXVlLlxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhlYXAuc2l6ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgb2YgdGhlIGVsZW1lbnRzIGZyb20gdGhpcyBwcmlvcml0eSBxdWV1ZS5cbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oZWFwLmNsZWFyKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gb25jZSBmb3IgZWFjaCBlbGVtZW50IHByZXNlbnQgaW4gdGhpcyBxdWV1ZSBpblxuICAgICAqIG5vIHBhcnRpY3VsYXIgb3JkZXIuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihPYmplY3QpOip9IGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGV4ZWN1dGUsIGl0IGlzXG4gICAgICogaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogdGhlIGVsZW1lbnQgdmFsdWUsIHRvIGJyZWFrIHRoZSBpdGVyYXRpb24geW91IGNhblxuICAgICAqIG9wdGlvbmFsbHkgcmV0dXJuIGZhbHNlLlxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5oZWFwLmZvckVhY2goY2FsbGJhY2spO1xuICAgIH07XG4gICAgcmV0dXJuIFByaW9yaXR5UXVldWU7XG59KCkpOyAvLyBlbmQgb2YgcHJpb3JpdHkgcXVldWVcbmV4cG9ydHMuZGVmYXVsdCA9IFByaW9yaXR5UXVldWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcmlvcml0eVF1ZXVlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIExpbmtlZExpc3RfMSA9IHJlcXVpcmUoXCIuL0xpbmtlZExpc3RcIik7XG52YXIgU3RhY2sgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBlbXB0eSBTdGFjay5cbiAgICAgKiBAY2xhc3MgQSBTdGFjayBpcyBhIExhc3QtSW4tRmlyc3QtT3V0IChMSUZPKSBkYXRhIHN0cnVjdHVyZSwgdGhlIGxhc3RcbiAgICAgKiBlbGVtZW50IGFkZGVkIHRvIHRoZSBzdGFjayB3aWxsIGJlIHRoZSBmaXJzdCBvbmUgdG8gYmUgcmVtb3ZlZC4gVGhpc1xuICAgICAqIGltcGxlbWVudGF0aW9uIHVzZXMgYSBsaW5rZWQgbGlzdCBhcyBhIGNvbnRhaW5lci5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGFjaygpIHtcbiAgICAgICAgdGhpcy5saXN0ID0gbmV3IExpbmtlZExpc3RfMS5kZWZhdWx0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhbiBpdGVtIG9udG8gdGhlIHRvcCBvZiB0aGlzIHN0YWNrLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtIHRoZSBlbGVtZW50IHRvIGJlIHB1c2hlZCBvbnRvIHRoaXMgc3RhY2suXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgZWxlbWVudCB3YXMgcHVzaGVkIG9yIGZhbHNlIGlmIGl0IGlzIHVuZGVmaW5lZC5cbiAgICAgKi9cbiAgICBTdGFjay5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3QuYWRkKGVsZW0sIDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHVzaGVzIGFuIGl0ZW0gb250byB0aGUgdG9wIG9mIHRoaXMgc3RhY2suXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVsZW0gdGhlIGVsZW1lbnQgdG8gYmUgcHVzaGVkIG9udG8gdGhpcyBzdGFjay5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBlbGVtZW50IHdhcyBwdXNoZWQgb3IgZmFsc2UgaWYgaXQgaXMgdW5kZWZpbmVkLlxuICAgICAqL1xuICAgIFN0YWNrLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5saXN0LmFkZChlbGVtLCAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIG9iamVjdCBhdCB0aGUgdG9wIG9mIHRoaXMgc3RhY2sgYW5kIHJldHVybnMgdGhhdCBvYmplY3QuXG4gICAgICogQHJldHVybiB7Kn0gdGhlIG9iamVjdCBhdCB0aGUgdG9wIG9mIHRoaXMgc3RhY2sgb3IgdW5kZWZpbmVkIGlmIHRoZVxuICAgICAqIHN0YWNrIGlzIGVtcHR5LlxuICAgICAqL1xuICAgIFN0YWNrLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3QucmVtb3ZlRWxlbWVudEF0SW5kZXgoMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb29rcyBhdCB0aGUgb2JqZWN0IGF0IHRoZSB0b3Agb2YgdGhpcyBzdGFjayB3aXRob3V0IHJlbW92aW5nIGl0IGZyb20gdGhlXG4gICAgICogc3RhY2suXG4gICAgICogQHJldHVybiB7Kn0gdGhlIG9iamVjdCBhdCB0aGUgdG9wIG9mIHRoaXMgc3RhY2sgb3IgdW5kZWZpbmVkIGlmIHRoZVxuICAgICAqIHN0YWNrIGlzIGVtcHR5LlxuICAgICAqL1xuICAgIFN0YWNrLnByb3RvdHlwZS5wZWVrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saXN0LmZpcnN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhpcyBzdGFjay5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhpcyBzdGFjay5cbiAgICAgKi9cbiAgICBTdGFjay5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdC5zaXplKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBzdGFjayBjb250YWlucyB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAgICogPHA+SWYgdGhlIGVsZW1lbnRzIGluc2lkZSB0aGlzIHN0YWNrIGFyZVxuICAgICAqIG5vdCBjb21wYXJhYmxlIHdpdGggdGhlID09PSBvcGVyYXRvciwgYSBjdXN0b20gZXF1YWxzIGZ1bmN0aW9uIHNob3VsZCBiZVxuICAgICAqIHByb3ZpZGVkIHRvIHBlcmZvcm0gc2VhcmNoZXMsIHRoZSBmdW5jdGlvbiBtdXN0IHJlY2VpdmUgdHdvIGFyZ3VtZW50cyBhbmRcbiAgICAgKiByZXR1cm4gdHJ1ZSBpZiB0aGV5IGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLiBFeGFtcGxlOjwvcD5cbiAgICAgKlxuICAgICAqIDxwcmU+XG4gICAgICogY29uc3QgcGV0c0FyZUVxdWFsQnlOYW1lIChwZXQxLCBwZXQyKSB7XG4gICAgICogIHJldHVybiBwZXQxLm5hbWUgPT09IHBldDIubmFtZTtcbiAgICAgKiB9XG4gICAgICogPC9wcmU+XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVsZW0gZWxlbWVudCB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oT2JqZWN0LE9iamVjdCk6Ym9vbGVhbj19IGVxdWFsc0Z1bmN0aW9uIG9wdGlvbmFsXG4gICAgICogZnVuY3Rpb24gdG8gY2hlY2sgaWYgdHdvIGVsZW1lbnRzIGFyZSBlcXVhbC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoaXMgc3RhY2sgY29udGFpbnMgdGhlIHNwZWNpZmllZCBlbGVtZW50LFxuICAgICAqIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBTdGFjay5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoZWxlbSwgZXF1YWxzRnVuY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdC5jb250YWlucyhlbGVtLCBlcXVhbHNGdW5jdGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhpcyBzdGFjayBpcyBlbXB0eS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGFuZCBvbmx5IGlmIHRoaXMgc3RhY2sgY29udGFpbnMgbm8gaXRlbXM7IGZhbHNlXG4gICAgICogb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFN0YWNrLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saXN0LmlzRW1wdHkoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIG9mIHRoZSBlbGVtZW50cyBmcm9tIHRoaXMgc3RhY2suXG4gICAgICovXG4gICAgU3RhY2sucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxpc3QuY2xlYXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBwcm92aWRlZCBmdW5jdGlvbiBvbmNlIGZvciBlYWNoIGVsZW1lbnQgcHJlc2VudCBpbiB0aGlzIHN0YWNrIGluXG4gICAgICogTElGTyBvcmRlci5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKE9iamVjdCk6Kn0gY2FsbGJhY2sgZnVuY3Rpb24gdG8gZXhlY3V0ZSwgaXQgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiB0aGUgZWxlbWVudCB2YWx1ZSwgdG8gYnJlYWsgdGhlIGl0ZXJhdGlvbiB5b3UgY2FuXG4gICAgICogb3B0aW9uYWxseSByZXR1cm4gZmFsc2UuXG4gICAgICovXG4gICAgU3RhY2sucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5saXN0LmZvckVhY2goY2FsbGJhY2spO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YWNrO1xufSgpKTsgLy8gRW5kIG9mIHN0YWNrXG5leHBvcnRzLmRlZmF1bHQgPSBTdGFjaztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0YWNrLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIERpcmVjdGlvbjtcbihmdW5jdGlvbiAoRGlyZWN0aW9uKSB7XG4gICAgRGlyZWN0aW9uW0RpcmVjdGlvbltcIkJFRk9SRVwiXSA9IDBdID0gXCJCRUZPUkVcIjtcbiAgICBEaXJlY3Rpb25bRGlyZWN0aW9uW1wiQUZURVJcIl0gPSAxXSA9IFwiQUZURVJcIjtcbiAgICBEaXJlY3Rpb25bRGlyZWN0aW9uW1wiSU5TSURFX0FUX0VORFwiXSA9IDJdID0gXCJJTlNJREVfQVRfRU5EXCI7XG4gICAgRGlyZWN0aW9uW0RpcmVjdGlvbltcIklOU0lERV9BVF9TVEFSVFwiXSA9IDNdID0gXCJJTlNJREVfQVRfU1RBUlRcIjtcbn0pKERpcmVjdGlvbiB8fCAoRGlyZWN0aW9uID0ge30pKTtcbnZhciBNdWx0aVJvb3RUcmVlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE11bHRpUm9vdFRyZWUocm9vdElkcywgbm9kZXMpIHtcbiAgICAgICAgaWYgKHJvb3RJZHMgPT09IHZvaWQgMCkgeyByb290SWRzID0gW107IH1cbiAgICAgICAgaWYgKG5vZGVzID09PSB2b2lkIDApIHsgbm9kZXMgPSB7fTsgfVxuICAgICAgICB0aGlzLnJvb3RJZHMgPSByb290SWRzO1xuICAgICAgICB0aGlzLm5vZGVzID0gbm9kZXM7XG4gICAgICAgIHRoaXMuaW5pdFJvb3RJZHMoKTtcbiAgICAgICAgdGhpcy5pbml0Tm9kZXMoKTtcbiAgICB9XG4gICAgTXVsdGlSb290VHJlZS5wcm90b3R5cGUuaW5pdFJvb3RJZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnJvb3RJZHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgcm9vdElkID0gX2FbX2ldO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVFbXB0eU5vZGVJZk5vdEV4aXN0KHJvb3RJZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLmluaXROb2RlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgbm9kZUtleSBpbiB0aGlzLm5vZGVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShub2RlS2V5KSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLm5vZGVzW25vZGVLZXldOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZUxpc3RJdGVtID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUVtcHR5Tm9kZUlmTm90RXhpc3Qobm9kZUxpc3RJdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLmNyZWF0ZUVtcHR5Tm9kZUlmTm90RXhpc3QgPSBmdW5jdGlvbiAobm9kZUtleSkge1xuICAgICAgICBpZiAoIXRoaXMubm9kZXNbbm9kZUtleV0pIHtcbiAgICAgICAgICAgIHRoaXMubm9kZXNbbm9kZUtleV0gPSBbXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTXVsdGlSb290VHJlZS5wcm90b3R5cGUuZ2V0Um9vdElkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNsb25lID0gdGhpcy5yb290SWRzLnNsaWNlKCk7XG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLmdldE5vZGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2xvbmUgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgbm9kZUtleSBpbiB0aGlzLm5vZGVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShub2RlS2V5KSkge1xuICAgICAgICAgICAgICAgIGNsb25lW25vZGVLZXldID0gdGhpcy5ub2Rlc1tub2RlS2V5XS5zbGljZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLmdldE9iamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJvb3RJZHM6IHRoaXMuZ2V0Um9vdElkcygpLFxuICAgICAgICAgICAgbm9kZXM6IHRoaXMuZ2V0Tm9kZXMoKSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3QoKTtcbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLmZsYXR0ZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBleHRyYVByb3BzT2JqZWN0ID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yb290SWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcm9vdElkID0gdGhpcy5yb290SWRzW2ldO1xuICAgICAgICAgICAgZXh0cmFQcm9wc09iamVjdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogcm9vdElkLFxuICAgICAgICAgICAgICAgIGxldmVsOiAwLFxuICAgICAgICAgICAgICAgIGhhc1BhcmVudDogZmFsc2UsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5Db3VudDogMCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJhdmVyc2Uocm9vdElkLCB0aGlzLm5vZGVzLCBleHRyYVByb3BzT2JqZWN0LCAwKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGV4dHJhUHJvcHNPYmplY3RfMSA9IGV4dHJhUHJvcHNPYmplY3Q7IF9pIDwgZXh0cmFQcm9wc09iamVjdF8xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIG8gPSBleHRyYVByb3BzT2JqZWN0XzFbX2ldO1xuICAgICAgICAgICAgby5jaGlsZHJlbkNvdW50ID0gY291bnRDaGlsZHJlbihvLmlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXh0cmFQcm9wc09iamVjdDtcbiAgICAgICAgZnVuY3Rpb24gY291bnRDaGlsZHJlbihpZCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5ub2Rlc1tpZF0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbkNvdW50ID0gX3RoaXMubm9kZXNbaWRdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGRyZW5Db3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB0cmF2ZXJzZShzdGFydElkLCBub2RlcywgcmV0dXJuQXJyYXksIGxldmVsKSB7XG4gICAgICAgICAgICBpZiAobGV2ZWwgPT09IHZvaWQgMCkgeyBsZXZlbCA9IDA7IH1cbiAgICAgICAgICAgIGlmICghc3RhcnRJZCB8fCAhbm9kZXMgfHwgIXJldHVybkFycmF5IHx8ICFub2Rlc1tzdGFydElkXSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldmVsKys7XG4gICAgICAgICAgICB2YXIgaWRzTGlzdCA9IG5vZGVzW3N0YXJ0SWRdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZHNMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkID0gaWRzTGlzdFtpXTtcbiAgICAgICAgICAgICAgICByZXR1cm5BcnJheS5wdXNoKHsgaWQ6IGlkLCBsZXZlbDogbGV2ZWwsIGhhc1BhcmVudDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZShpZCwgbm9kZXMsIHJldHVybkFycmF5LCBsZXZlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXZlbC0tO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNdWx0aVJvb3RUcmVlLnByb3RvdHlwZS5tb3ZlSWRCZWZvcmVJZCA9IGZ1bmN0aW9uIChtb3ZlSWQsIGJlZm9yZUlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vdmVJZChtb3ZlSWQsIGJlZm9yZUlkLCBEaXJlY3Rpb24uQkVGT1JFKTtcbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLm1vdmVJZEFmdGVySWQgPSBmdW5jdGlvbiAobW92ZUlkLCBhZnRlcklkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vdmVJZChtb3ZlSWQsIGFmdGVySWQsIERpcmVjdGlvbi5BRlRFUik7XG4gICAgfTtcbiAgICBNdWx0aVJvb3RUcmVlLnByb3RvdHlwZS5tb3ZlSWRJbnRvSWQgPSBmdW5jdGlvbiAobW92ZUlkLCBpbnNpZGVJZCwgYXRTdGFydCkge1xuICAgICAgICBpZiAoYXRTdGFydCA9PT0gdm9pZCAwKSB7IGF0U3RhcnQgPSB0cnVlOyB9XG4gICAgICAgIGlmIChhdFN0YXJ0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb3ZlSWQobW92ZUlkLCBpbnNpZGVJZCwgRGlyZWN0aW9uLklOU0lERV9BVF9TVEFSVCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb3ZlSWQobW92ZUlkLCBpbnNpZGVJZCwgRGlyZWN0aW9uLklOU0lERV9BVF9FTkQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNdWx0aVJvb3RUcmVlLnByb3RvdHlwZS5zd2FwUm9vdElkV2l0aFJvb3RJZCA9IGZ1bmN0aW9uIChyb290SWQsIHdpdGhSb290SWQpIHtcbiAgICAgICAgdmFyIGxlZnRJbmRleCA9IHRoaXMuZmluZFJvb3RJZChyb290SWQpO1xuICAgICAgICB2YXIgcmlnaHRJbmRleCA9IHRoaXMuZmluZFJvb3RJZCh3aXRoUm9vdElkKTtcbiAgICAgICAgdGhpcy5zd2FwUm9vdFBvc2l0aW9uV2l0aFJvb3RQb3NpdGlvbihsZWZ0SW5kZXgsIHJpZ2h0SW5kZXgpO1xuICAgIH07XG4gICAgTXVsdGlSb290VHJlZS5wcm90b3R5cGUuc3dhcFJvb3RQb3NpdGlvbldpdGhSb290UG9zaXRpb24gPSBmdW5jdGlvbiAoc3dhcFJvb3RQb3NpdGlvbiwgd2l0aFJvb3RQb3NpdGlvbikge1xuICAgICAgICB2YXIgdGVtcCA9IHRoaXMucm9vdElkc1t3aXRoUm9vdFBvc2l0aW9uXTtcbiAgICAgICAgdGhpcy5yb290SWRzW3dpdGhSb290UG9zaXRpb25dID0gdGhpcy5yb290SWRzW3N3YXBSb290UG9zaXRpb25dO1xuICAgICAgICB0aGlzLnJvb3RJZHNbc3dhcFJvb3RQb3NpdGlvbl0gPSB0ZW1wO1xuICAgIH07XG4gICAgTXVsdGlSb290VHJlZS5wcm90b3R5cGUuZGVsZXRlSWQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdGhpcy5yb290RGVsZXRlSWQoaWQpO1xuICAgICAgICB0aGlzLm5vZGVBbmRTdWJOb2Rlc0RlbGV0ZShpZCk7XG4gICAgICAgIHRoaXMubm9kZVJlZnJlbmNlc0RlbGV0ZShpZCk7XG4gICAgfTtcbiAgICBNdWx0aVJvb3RUcmVlLnByb3RvdHlwZS5pbnNlcnRJZEJlZm9yZUlkID0gZnVuY3Rpb24gKGJlZm9yZUlkLCBpbnNlcnRJZCkge1xuICAgICAgICB2YXIgZm91bmRSb290SWRJbmRleCA9IHRoaXMuZmluZFJvb3RJZChiZWZvcmVJZCk7XG4gICAgICAgIGlmIChmb3VuZFJvb3RJZEluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0SWRJbnRvUm9vdChpbnNlcnRJZCwgZm91bmRSb290SWRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgbm9kZUtleSBpbiB0aGlzLm5vZGVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShub2RlS2V5KSkge1xuICAgICAgICAgICAgICAgIHZhciBmb3VuZE5vZGVJZEluZGV4ID0gdGhpcy5maW5kTm9kZUlkKG5vZGVLZXksIGJlZm9yZUlkKTtcbiAgICAgICAgICAgICAgICBpZiAoZm91bmROb2RlSWRJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0SWRJbnRvTm9kZShub2RlS2V5LCBpbnNlcnRJZCwgZm91bmROb2RlSWRJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBNdWx0aVJvb3RUcmVlLnByb3RvdHlwZS5pbnNlcnRJZEFmdGVySWQgPSBmdW5jdGlvbiAoYmVsb3dJZCwgaW5zZXJ0SWQpIHtcbiAgICAgICAgdmFyIGZvdW5kUm9vdElkSW5kZXggPSB0aGlzLmZpbmRSb290SWQoYmVsb3dJZCk7XG4gICAgICAgIGlmIChmb3VuZFJvb3RJZEluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0SWRJbnRvUm9vdChpbnNlcnRJZCwgZm91bmRSb290SWRJbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIG5vZGVLZXkgaW4gdGhpcy5ub2Rlcykge1xuICAgICAgICAgICAgaWYgKHRoaXMubm9kZXMuaGFzT3duUHJvcGVydHkobm9kZUtleSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZm91bmROb2RlSWRJbmRleCA9IHRoaXMuZmluZE5vZGVJZChub2RlS2V5LCBiZWxvd0lkKTtcbiAgICAgICAgICAgICAgICBpZiAoZm91bmROb2RlSWRJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0SWRJbnRvTm9kZShub2RlS2V5LCBpbnNlcnRJZCwgZm91bmROb2RlSWRJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTXVsdGlSb290VHJlZS5wcm90b3R5cGUuaW5zZXJ0SWRJbnRvSWQgPSBmdW5jdGlvbiAoaW5zaWRlSWQsIGluc2VydElkKSB7XG4gICAgICAgIHRoaXMubm9kZUluc2VydEF0RW5kKGluc2lkZUlkLCBpbnNlcnRJZCk7XG4gICAgICAgIHRoaXMubm9kZXNbaW5zZXJ0SWRdID0gW107XG4gICAgfTtcbiAgICBNdWx0aVJvb3RUcmVlLnByb3RvdHlwZS5pbnNlcnRJZEludG9Sb290ID0gZnVuY3Rpb24gKGlkLCBwb3NpdGlvbikge1xuICAgICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5yb290SW5zZXJ0QXRFbmQoaWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkge1xuICAgICAgICAgICAgICAgIHZhciBsZW5ndGhfMSA9IHRoaXMucm9vdElkcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdGhpcy5yb290SWRzLnNwbGljZSgocG9zaXRpb24gKyBsZW5ndGhfMSArIDEpLCAwLCBpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3RJZHMuc3BsaWNlKHBvc2l0aW9uLCAwLCBpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ub2Rlc1tpZF0gPSB0aGlzLm5vZGVzW2lkXSB8fCBbXTtcbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLmluc2VydElkSW50b05vZGUgPSBmdW5jdGlvbiAobm9kZUtleSwgaWQsIHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMubm9kZXNbbm9kZUtleV0gPSB0aGlzLm5vZGVzW25vZGVLZXldIHx8IFtdO1xuICAgICAgICB0aGlzLm5vZGVzW2lkXSA9IHRoaXMubm9kZXNbaWRdIHx8IFtdO1xuICAgICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5ub2RlSW5zZXJ0QXRFbmQobm9kZUtleSwgaWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkge1xuICAgICAgICAgICAgICAgIHZhciBsZW5ndGhfMiA9IHRoaXMubm9kZXNbbm9kZUtleV0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXNbbm9kZUtleV0uc3BsaWNlKChwb3NpdGlvbiArIGxlbmd0aF8yICsgMSksIDAsIGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXNbbm9kZUtleV0uc3BsaWNlKHBvc2l0aW9uLCAwLCBpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLm1vdmVJZCA9IGZ1bmN0aW9uIChtb3ZlSWQsIGJlZm9yZUlkLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgdmFyIHNvdXJjZUlkID0gbW92ZUlkO1xuICAgICAgICB2YXIgc291cmNlUm9vdEluZGV4ID0gdGhpcy5maW5kUm9vdElkKHNvdXJjZUlkKTtcbiAgICAgICAgdmFyIHNvdXJjZU5vZGVLZXk7XG4gICAgICAgIHZhciBzb3VyY2VOb2RlSWRJbmRleDtcbiAgICAgICAgaWYgKHRoaXMubm9kZXNbYmVmb3JlSWRdKSB7XG4gICAgICAgICAgICBzb3VyY2VOb2RlS2V5ID0gYmVmb3JlSWQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgbm9kZUtleSBpbiB0aGlzLm5vZGVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShub2RlS2V5KSkge1xuICAgICAgICAgICAgICAgIHNvdXJjZU5vZGVJZEluZGV4ID0gdGhpcy5maW5kTm9kZUlkKG5vZGVLZXksIGJlZm9yZUlkKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBnb3QgYWxsXG4gICAgICAgIHZhciB0YXJnZXRJZCA9IGJlZm9yZUlkO1xuICAgICAgICB2YXIgdGFyZ2V0Um9vdEluZGV4ID0gdGhpcy5maW5kUm9vdElkKHRhcmdldElkKTtcbiAgICAgICAgdmFyIHRhcmdldE5vZGVLZXk7XG4gICAgICAgIHZhciB0YXJnZXROb2RlSWRJbmRleDtcbiAgICAgICAgaWYgKHRoaXMubm9kZXNbYmVmb3JlSWRdKSB7XG4gICAgICAgICAgICB0YXJnZXROb2RlS2V5ID0gYmVmb3JlSWQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgbm9kZUtleSBpbiB0aGlzLm5vZGVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShub2RlS2V5KSkge1xuICAgICAgICAgICAgICAgIHRhcmdldE5vZGVJZEluZGV4ID0gdGhpcy5maW5kTm9kZUlkKG5vZGVLZXksIGJlZm9yZUlkKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBnb3QgYWxsXG4gICAgICAgIGlmIChzb3VyY2VSb290SW5kZXggPiAtMSkge1xuICAgICAgICAgICAgaWYgKHRhcmdldFJvb3RJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gbW92aW5nIHJvb3QgdG8gcm9vdFxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBNb3ZpbmcgUk9PVCB0byBST09UYCk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYFJvb3RJZHM6YCk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5yb290SWRzKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgVGFyZ2V0SW5kZXg9JHt0YXJnZXRSb290SW5kZXh9LCBTb3VyY2VJbmRleD0ke3NvdXJjZVJvb3RJbmRleH1gKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgVGFyZ2V0SWQ9JHt0YXJnZXRJZH0sIFNvdXJjZUlkPSR7c291cmNlSWR9YCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yb290RGVsZXRlKHNvdXJjZVJvb3RJbmRleCk7IC8vIGluZGV4ZXMgY2hhbmdlIG5vd1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRSb290SW5kZXggPiBzb3VyY2VSb290SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Um9vdEluZGV4LS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIERpcmVjdGlvbi5CRUZPUkU6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluc2VydElkSW50b1Jvb3Qoc291cmNlSWQsIHRhcmdldFJvb3RJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEaXJlY3Rpb24uQUZURVI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluc2VydElkSW50b1Jvb3Qoc291cmNlSWQsIHRhcmdldFJvb3RJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRGlyZWN0aW9uLklOU0lERV9BVF9TVEFSVDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZUluc2VydEF0U3RhcnQodGFyZ2V0SWQsIHNvdXJjZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIERpcmVjdGlvbi5JTlNJREVfQVRfRU5EOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlSW5zZXJ0QXRFbmQodGFyZ2V0SWQsIHNvdXJjZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG1vdmluZyByb290IChzb3VyY2UpIEFCT1ZFIG5vZGUgKHRhcmdldClcbiAgICAgICAgICAgICAgICAvLyB3aWxsIHJlbW92ZSBvbmUgZW50cnkgZnJvbSByb290c1xuICAgICAgICAgICAgICAgIHRoaXMucm9vdERlbGV0ZShzb3VyY2VSb290SW5kZXgpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG5vZGVLZXkgaW4gdGhpcy5ub2Rlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShub2RlS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5maW5kTm9kZUlkKG5vZGVLZXksIHRhcmdldElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEaXJlY3Rpb24uQkVGT1JFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRJZEludG9Ob2RlKG5vZGVLZXksIHNvdXJjZUlkLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEaXJlY3Rpb24uQUZURVI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluc2VydElkSW50b05vZGUobm9kZUtleSwgc291cmNlSWQsIGluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEaXJlY3Rpb24uSU5TSURFX0FUX1NUQVJUOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlSW5zZXJ0QXRTdGFydCh0YXJnZXRJZCwgc291cmNlSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRGlyZWN0aW9uLklOU0lERV9BVF9FTkQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGVJbnNlcnRBdEVuZCh0YXJnZXRJZCwgc291cmNlSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRhcmdldFJvb3RJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gbW92aW5nIG5vZGUgKHNvdXJjZSkgQUJPVkUgcm9vdCAodGFyZ2V0KVxuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSBzb3VyY2UgaWQgZnJvbSBlYWNoIG5vZGVcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBub2RlS2V5IGluIHRoaXMubm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubm9kZXMuaGFzT3duUHJvcGVydHkobm9kZUtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuZmluZE5vZGVJZChub2RlS2V5LCBzb3VyY2VJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubm9kZUluc2VydElkKG5vZGVLZXksIHNvdXJjZUlkLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlRGVsZXRlQXRJbmRleChub2RlS2V5LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEaXJlY3Rpb24uQkVGT1JFOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRJZEludG9Sb290KHNvdXJjZUlkLCB0YXJnZXRSb290SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRGlyZWN0aW9uLkFGVEVSOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRJZEludG9Sb290KHNvdXJjZUlkLCB0YXJnZXRSb290SW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIERpcmVjdGlvbi5JTlNJREVfQVRfU1RBUlQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGVJbnNlcnRBdFN0YXJ0KHRhcmdldElkLCBzb3VyY2VJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEaXJlY3Rpb24uSU5TSURFX0FUX0VORDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZUluc2VydEF0RW5kKHRhcmdldElkLCBzb3VyY2VJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBtb3Zpbmcgbm9kZSAoc291cmNlKSBBQk9WRSBub2RlICh0YXJnZXQpXG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIHNvdXJjZSBpZCBmcm9tIGVhY2ggbm9kZVxuICAgICAgICAgICAgICAgIGZvciAodmFyIG5vZGVLZXkgaW4gdGhpcy5ub2Rlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShub2RlS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5maW5kTm9kZUlkKG5vZGVLZXksIHNvdXJjZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlRGVsZXRlQXRJbmRleChub2RlS2V5LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbm9kZUtleSBpbiB0aGlzLm5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vZGVzLmhhc093blByb3BlcnR5KG5vZGVLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmZpbmROb2RlSWQobm9kZUtleSwgdGFyZ2V0SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERpcmVjdGlvbi5CRUZPUkU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluc2VydElkSW50b05vZGUobm9kZUtleSwgc291cmNlSWQsIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERpcmVjdGlvbi5BRlRFUjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0SWRJbnRvTm9kZShub2RlS2V5LCBzb3VyY2VJZCwgaW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERpcmVjdGlvbi5JTlNJREVfQVRfU1RBUlQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGVJbnNlcnRBdFN0YXJ0KHRhcmdldElkLCBzb3VyY2VJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEaXJlY3Rpb24uSU5TSURFX0FUX0VORDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZUluc2VydEF0RW5kKHRhcmdldElkLCBzb3VyY2VJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLnN3YXBBcnJheUVsZW1lbnRzID0gZnVuY3Rpb24gKGFyciwgaW5kZXhBLCBpbmRleEIpIHtcbiAgICAgICAgdmFyIHRlbXAgPSBhcnJbaW5kZXhBXTtcbiAgICAgICAgYXJyW2luZGV4QV0gPSBhcnJbaW5kZXhCXTtcbiAgICAgICAgYXJyW2luZGV4Ql0gPSB0ZW1wO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH07XG4gICAgTXVsdGlSb290VHJlZS5wcm90b3R5cGUucm9vdERlbGV0ZUlkID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuZmluZFJvb3RJZChpZCk7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3REZWxldGUoaW5kZXgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNdWx0aVJvb3RUcmVlLnByb3RvdHlwZS5ub2RlQW5kU3ViTm9kZXNEZWxldGUgPSBmdW5jdGlvbiAobm9kZUtleSkge1xuICAgICAgICB2YXIgdG9EZWxldGVMYXRlciA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubm9kZXNbbm9kZUtleV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpZCA9IHRoaXMubm9kZXNbbm9kZUtleV1baV07XG4gICAgICAgICAgICB0aGlzLm5vZGVBbmRTdWJOb2Rlc0RlbGV0ZShpZCk7XG4gICAgICAgICAgICB0b0RlbGV0ZUxhdGVyLnB1c2gobm9kZUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ub2RlRGVsZXRlKG5vZGVLZXkpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvRGVsZXRlTGF0ZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMubm9kZURlbGV0ZSh0b0RlbGV0ZUxhdGVyW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTXVsdGlSb290VHJlZS5wcm90b3R5cGUubm9kZVJlZnJlbmNlc0RlbGV0ZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICBmb3IgKHZhciBub2RlS2V5IGluIHRoaXMubm9kZXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5vZGVzLmhhc093blByb3BlcnR5KG5vZGVLZXkpKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm5vZGVzW25vZGVLZXldLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRJZCA9IHRoaXMubm9kZXNbbm9kZUtleV1baV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRJZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZURlbGV0ZUF0SW5kZXgobm9kZUtleSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLm5vZGVEZWxldGUgPSBmdW5jdGlvbiAobm9kZUtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5ub2Rlc1tub2RlS2V5XTtcbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLmZpbmRSb290SWQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdElkcy5pbmRleE9mKGlkKTtcbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLmZpbmROb2RlSWQgPSBmdW5jdGlvbiAobm9kZUtleSwgaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXNbbm9kZUtleV0uaW5kZXhPZihpZCk7XG4gICAgfTtcbiAgICBNdWx0aVJvb3RUcmVlLnByb3RvdHlwZS5maW5kTm9kZSA9IGZ1bmN0aW9uIChub2RlS2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVzW25vZGVLZXldO1xuICAgIH07XG4gICAgTXVsdGlSb290VHJlZS5wcm90b3R5cGUubm9kZUluc2VydEF0U3RhcnQgPSBmdW5jdGlvbiAobm9kZUtleSwgaWQpIHtcbiAgICAgICAgdGhpcy5ub2Rlc1tub2RlS2V5XS51bnNoaWZ0KGlkKTtcbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLm5vZGVJbnNlcnRBdEVuZCA9IGZ1bmN0aW9uIChub2RlS2V5LCBpZCkge1xuICAgICAgICB0aGlzLm5vZGVzW25vZGVLZXldLnB1c2goaWQpO1xuICAgIH07XG4gICAgTXVsdGlSb290VHJlZS5wcm90b3R5cGUucm9vdERlbGV0ZSA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB0aGlzLnJvb3RJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLm5vZGVEZWxldGVBdEluZGV4ID0gZnVuY3Rpb24gKG5vZGVLZXksIGluZGV4KSB7XG4gICAgICAgIHRoaXMubm9kZXNbbm9kZUtleV0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLnJvb3RJbnNlcnRBdFN0YXJ0ID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHRoaXMucm9vdElkcy51bnNoaWZ0KGlkKTtcbiAgICB9O1xuICAgIE11bHRpUm9vdFRyZWUucHJvdG90eXBlLnJvb3RJbnNlcnRBdEVuZCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB0aGlzLnJvb3RJZHMucHVzaChpZCk7XG4gICAgfTtcbiAgICByZXR1cm4gTXVsdGlSb290VHJlZTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBNdWx0aVJvb3RUcmVlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TXVsdGlSb290VHJlZS5qcy5tYXAiLCJpbXBvcnQgY3JlYXRlRGVidWcgZnJvbSAnZGVidWcnXG5jb25zdCBkZWJ1ZyA9IGNyZWF0ZURlYnVnKCdhcHA6V29ybGQnKVxuXG5pbXBvcnQgQmlyZCBmcm9tICcuL0JpcmQnXG5pbXBvcnQgU3RhZ2UgZnJvbSAnLi4vZW5naW5lL1N0YWdlJ1xuaW1wb3J0IEp1ZGdlciBmcm9tICcuL0p1ZGdlcidcbmltcG9ydCBQaXBlR2VuZXJhdG9yIGZyb20gJy4vUGlwZUdlbmVyYXRvcidcbmltcG9ydCBQYXJhbWV0ZXJDb250cm9sbGVyIGZyb20gJy4vUGFyYW1ldGVyQ29udHJvbGxlcidcbmltcG9ydCBHYW1lIGZyb20gJy4uL2VuZ2luZS9HYW1lJ1xuaW1wb3J0IEh1bWFuUGxheWVyIGZyb20gJy4uL2VuZ2luZS9IdW1hblBsYXllcidcbmltcG9ydCB7IEZpeGVkU2NvcmVMYWJlbCB9IGZyb20gJy4vU2NvcmVMYWJlbCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29ybGQgZXh0ZW5kcyBTdGFnZTxXb3JsZD4ge1xuICByZWFkb25seSBwYXJhbXM6IFBhcmFtZXRlckNvbnRyb2xsZXIgPSBuZXcgUGFyYW1ldGVyQ29udHJvbGxlcigpXG5cbiAgcmVhZG9ubHkgc2NvcmVMYWJlbDogRml4ZWRTY29yZUxhYmVsID0gbmV3IEZpeGVkU2NvcmVMYWJlbCh0aGlzKVxuXG4gIGNvbnN0cnVjdG9yKGdhbWU6IEdhbWUpIHtcbiAgICBzdXBlcignR2FtZScsIGdhbWUpXG4gICAgOyh3aW5kb3cgYXMgYW55KS53b3JsZCA9IHRoaXNcbiAgfVxuXG4gIHNldHVwKCkge1xuICAgIHRoaXMucGFyYW1zLnNldHVwKHRoaXMpXG5cbiAgICB0aGlzLmFkZENvbnRyb2xsZXIobmV3IEh1bWFuUGxheWVyKHRoaXMsICdUaW1OZXcnLCAnU3BhY2UnKSlcblxuICAgIGNvbnN0IGp1ZGdlID0gbmV3IEp1ZGdlcih0aGlzKVxuXG4gICAgdGhpcy5hZGRPYmplY3QoanVkZ2UpXG4gICAgdGhpcy5hZGRPYmplY3QobmV3IFBpcGVHZW5lcmF0b3IodGhpcykpXG5cbiAgICB0aGlzLmFkZENoaWxkKHRoaXMuc2NvcmVMYWJlbClcblxuICAgIGp1ZGdlLnN0YXJ0R2FtZSgpXG4gIH1cbn1cbiIsImltcG9ydCBjcmVhdGVEZWJ1ZyBmcm9tICdkZWJ1ZydcbmNvbnN0IGRlYnVnID0gY3JlYXRlRGVidWcoJ2FwcDpTdGFnZScpXG5cbmltcG9ydCB7IENvbnRhaW5lciwgUmVjdGFuZ2xlLCBsb2FkZXJzLCBEaXNwbGF5T2JqZWN0IH0gZnJvbSAncGl4aS5qcydcbmltcG9ydCBHYW1lIGZyb20gJy4vR2FtZSdcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gJy4vR2FtZU9iamVjdCdcbmltcG9ydCB7IE11bHRpRGljdGlvbmFyeSB9IGZyb20gJ3R5cGVzY3JpcHQtY29sbGVjdGlvbnMnXG5pbXBvcnQgRnVsbE5hbWUgZnJvbSAnLi9GdWxsTmFtZSdcbmltcG9ydCBLZXlib2FyZExpc3RlbmVyIGZyb20gJy4vS2V5Ym9hcmRMaXN0ZW5lcidcblxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgU3RhZ2U8VCBleHRlbmRzIFN0YWdlPFQ+PiBleHRlbmRzIENvbnRhaW5lclxuICBpbXBsZW1lbnRzIEdhbWVPYmplY3Q8R2FtZT4ge1xuICByZWFkb25seSBmdWxsTmFtZTogRnVsbE5hbWVcblxuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHJlYWRvbmx5IGdhbWU6IEdhbWUpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5mdWxsTmFtZSA9IG5ldyBGdWxsTmFtZSgnU3RhZ2UnLCBuYW1lKVxuICAgIHRoaXMubmFtZSA9IHRoaXMuZnVsbE5hbWUudG9TdHJpbmcoKVxuICB9XG5cbiAgZ2V0IHNjcmVlbigpOiBSZWN0YW5nbGUge1xuICAgIHJldHVybiB0aGlzLmdhbWUuc2NyZWVuXG4gIH1cblxuICBnZXQgcmVzb3VyY2VzKCk6IGxvYWRlcnMuUmVzb3VyY2VEaWN0aW9uYXJ5IHtcbiAgICByZXR1cm4gdGhpcy5nYW1lLnJlc291cmNlc1xuICB9XG5cbiAgZ2V0IGtleWJvYXJkKCk6IEtleWJvYXJkTGlzdGVuZXIge1xuICAgIHJldHVybiB0aGlzLmdhbWUua2V5Ym9hcmRcbiAgfVxuXG4gIHJlYWRvbmx5IGFjdG9yczogTXVsdGlEaWN0aW9uYXJ5PFxuICAgIHN0cmluZyxcbiAgICBHYW1lT2JqZWN0PFQ+ICYgRGlzcGxheU9iamVjdFxuICA+ID0gbmV3IE11bHRpRGljdGlvbmFyeSgpXG4gIHJlYWRvbmx5IGNvbnRyb2xsZXJzOiBNdWx0aURpY3Rpb25hcnk8XG4gICAgc3RyaW5nLFxuICAgIEdhbWVPYmplY3Q8VD5cbiAgPiA9IG5ldyBNdWx0aURpY3Rpb25hcnkoKVxuXG4gIGFkZE9iamVjdChvYmo6IEdhbWVPYmplY3Q8VD4pIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgRGlzcGxheU9iamVjdCkge1xuICAgICAgdGhpcy5hZGRBY3RvcihvYmopXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkQ29udHJvbGxlcihvYmopXG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlT2JqZWN0KG9iajogR2FtZU9iamVjdDxUPikge1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBEaXNwbGF5T2JqZWN0KSB7XG4gICAgICB0aGlzLnJlbW92ZUFjdG9yKG9iailcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW1vdmVDb250cm9sbGVyKG9iailcbiAgICB9XG4gIH1cblxuICBhZGRBY3RvcihhY3RvcjogR2FtZU9iamVjdDxUPiAmIERpc3BsYXlPYmplY3QsIG9uVG9wOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBkZWJ1ZygnQWRkIGFjdG9yOiAlcycsIGFjdG9yLm5hbWUpXG4gICAgdGhpcy5hY3RvcnMuc2V0VmFsdWUoYWN0b3IuZnVsbE5hbWUudHlwZSwgYWN0b3IpXG4gICAgaWYgKG9uVG9wKSB7XG4gICAgICB0aGlzLmFkZENoaWxkKGFjdG9yIGFzIERpc3BsYXlPYmplY3QpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkQ2hpbGRBdChhY3RvciBhcyBEaXNwbGF5T2JqZWN0LCAwKVxuICAgIH1cbiAgfVxuXG4gIGFkZENvbnRyb2xsZXIoY29udHJvbGxlcjogR2FtZU9iamVjdDxUPikge1xuICAgIGRlYnVnKCdBZGQgY29udHJvbGxlcjogJXMnLCBjb250cm9sbGVyLmZ1bGxOYW1lKVxuICAgIHRoaXMuY29udHJvbGxlcnMuc2V0VmFsdWUoY29udHJvbGxlci5mdWxsTmFtZS50eXBlLCBjb250cm9sbGVyKVxuICB9XG5cbiAgcmVtb3ZlQWN0b3IoYWN0b3I6IEdhbWVPYmplY3Q8VD4gJiBEaXNwbGF5T2JqZWN0KSB7XG4gICAgZGVidWcoJ1JlbW92ZSBhY3RvcjogJXMnLCBhY3Rvci5uYW1lKVxuXG4gICAgdGhpcy5hY3RvcnMucmVtb3ZlKGFjdG9yLmZ1bGxOYW1lLnR5cGUsIGFjdG9yKVxuICAgIHRoaXMucmVtb3ZlQ2hpbGQoYWN0b3IpXG4gIH1cblxuICByZW1vdmVDb250cm9sbGVyKGNvbnRyb2xsZXI6IEdhbWVPYmplY3Q8VD4pIHtcbiAgICBkZWJ1ZygnUmVtb3ZlIGNvbnRyb2xsZXI6ICVzJywgY29udHJvbGxlci5mdWxsTmFtZSlcblxuICAgIHRoaXMuY29udHJvbGxlcnMucmVtb3ZlKGNvbnRyb2xsZXIuZnVsbE5hbWUubmFtZSwgY29udHJvbGxlcilcbiAgfVxuXG4gIGFic3RyYWN0IHNldHVwKCk6IHZvaWRcblxuICB1cGRhdGUoZGVsdGFUaW1lOiBudW1iZXIsIGdhbWU6IEdhbWUpOiB2b2lkIHtcbiAgICBjb25zdCBzdGFnZTogVCA9IHRoaXMgYXMgYW55IC8vIFRvIHdvcmthcm91bmQgdGhlIGNvbXBpbGVyIHR5cGUgY2hlY2tcbiAgICB0aGlzLmFjdG9ycy52YWx1ZXMoKS5mb3JFYWNoKGFjdG9yID0+IHtcbiAgICAgIGFjdG9yLnVwZGF0ZShkZWx0YVRpbWUsIHN0YWdlKVxuICAgIH0pXG4gICAgdGhpcy5jb250cm9sbGVycy52YWx1ZXMoKS5mb3JFYWNoKG9iaiA9PiB7XG4gICAgICBvYmoudXBkYXRlKGRlbHRhVGltZSwgc3RhZ2UpXG4gICAgfSlcblxuICAgIHRoaXMudXBkYXRlT3RoZXJzKClcbiAgfVxuXG4gIHVwZGF0ZU90aGVycygpIHt9XG59XG4iLCJpbXBvcnQgY3JlYXRlRGVidWcgZnJvbSAnZGVidWcnXG5jb25zdCBkZWJ1ZyA9IGNyZWF0ZURlYnVnKCdhcHA6SnVkZ2VyJylcblxuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSAnLi4vZW5naW5lL0dhbWVPYmplY3QnXG5pbXBvcnQgV29ybGQgZnJvbSAnLi9Xb3JsZCdcbmltcG9ydCBCaXJkIGZyb20gJy4vQmlyZCdcbmltcG9ydCBGdWxsTmFtZSBmcm9tICcuLi9lbmdpbmUvRnVsbE5hbWUnXG5pbXBvcnQgUGlwZUdhdGUgZnJvbSAnLi9QaXBlR2F0ZSdcbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi4vZW5naW5lL1BsYXllcidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSnVkZ2VyIGltcGxlbWVudHMgR2FtZU9iamVjdDxXb3JsZD4ge1xuICByZWFkb25seSBmdWxsTmFtZSA9IEZ1bGxOYW1lLnNpbmdsZXRvbignSnVkZ2VyJylcblxuICByZWFkb25seSBzYWZlWDogbnVtYmVyXG5cbiAgY29uc3RydWN0b3IocmVhZG9ubHkgd29ybGQ6IFdvcmxkKSB7XG4gICAgY29uc3QgeyBoYWxmQmlyZFdpZHRoLCBwaXBlV2lkdGgsIGhhbGZTY3JlZW5XaWR0aCB9ID0gd29ybGQucGFyYW1zXG5cbiAgICB0aGlzLnNhZmVYID0gaGFsZlNjcmVlbldpZHRoIC0gaGFsZkJpcmRXaWR0aCAtIHBpcGVXaWR0aFxuICB9XG5cbiAgcHJpdmF0ZSBuZXh0UGlwZTogUGlwZUdhdGUgfCBudWxsID0gbnVsbFxuXG4gIHVwZGF0ZShkZWx0YVRpbWU6IG51bWJlciwgd29ybGQ6IFdvcmxkKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubmV4dFBpcGUgIT0gbnVsbCAmJiB0aGlzLm5leHRQaXBlLnggPCB0aGlzLnNhZmVYKSB7XG4gICAgICB0aGlzLnVwZGF0ZVBsYXllclBpcGVDb3VudCgpXG5cbiAgICAgIHRoaXMubmV4dFBpcGUgPSBudWxsXG4gICAgfVxuXG4gICAgaWYgKHRoaXMubmV4dFBpcGUgPT0gbnVsbCkge1xuICAgICAgdGhpcy5uZXh0UGlwZSA9IHRoaXMuZmluZE5leHRQaXBlKHdvcmxkKVxuICAgIH1cblxuICAgIGlmICh0aGlzLm5leHRQaXBlICE9IG51bGwpIHtcbiAgICAgIHRoaXMuZGV0ZWN0Q29sbGlzaW9uKHRoaXMubmV4dFBpcGUsIHdvcmxkKVxuICAgIH1cblxuICAgIHRoaXMudXBkYXRlUGxheWVyKGRlbHRhVGltZSwgd29ybGQucGFyYW1zLnNwZWVkKVxuICB9XG5cbiAgcHJpdmF0ZSBmaW5kTmV4dFBpcGUod29ybGQ6IFdvcmxkKTogUGlwZUdhdGUgfCBudWxsIHtcbiAgICBjb25zdCBmdXR1cmVHYXRlcyA9IHdvcmxkLmFjdG9yc1xuICAgICAgLmdldFZhbHVlKCdQaXBlR2F0ZScpXG4gICAgICAuZmlsdGVyKHBpcGUgPT4gcGlwZS54ID49IHRoaXMuc2FmZVgpXG5cbiAgICBsZXQgbmV4dFBpcGU6IFBpcGVHYXRlIHwgbnVsbFxuXG4gICAgc3dpdGNoIChmdXR1cmVHYXRlcy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgbmV4dFBpcGUgPSBudWxsXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIDE6XG4gICAgICAgIG5leHRQaXBlID0gZnV0dXJlR2F0ZXNbMF0gYXMgUGlwZUdhdGVcblxuICAgICAgICBkZWJ1ZyhcbiAgICAgICAgICAnTmV4dCBQaXBlOiAlc1t4OiAlZCwgeTogJWQgKy0gJWRdJyxcbiAgICAgICAgICBuZXh0UGlwZS5uYW1lLFxuICAgICAgICAgIG5leHRQaXBlLngsXG4gICAgICAgICAgbmV4dFBpcGUucG9zaXRpb24sXG4gICAgICAgICAgbmV4dFBpcGUuaGFsZkdhcFNpemVcbiAgICAgICAgKVxuICAgICAgICBicmVha1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBuZXh0UGlwZSA9IGZ1dHVyZUdhdGVzLnJlZHVjZShcbiAgICAgICAgICAocHJldmlvdXMsIGN1cnJlbnQpID0+IChjdXJyZW50LnggPCBwcmV2aW91cy54ID8gY3VycmVudCA6IHByZXZpb3VzKSxcbiAgICAgICAgICBmdXR1cmVHYXRlc1swXVxuICAgICAgICApIGFzIFBpcGVHYXRlXG5cbiAgICAgICAgZGVidWcoXG4gICAgICAgICAgJ05leHQgUGlwZTogJXNbeDogJWQsIHk6ICVkICstICVkXScsXG4gICAgICAgICAgbmV4dFBpcGUubmFtZSxcbiAgICAgICAgICBuZXh0UGlwZS54LFxuICAgICAgICAgIG5leHRQaXBlLnBvc2l0aW9uLFxuICAgICAgICAgIG5leHRQaXBlLmhhbGZHYXBTaXplXG4gICAgICAgIClcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV4dFBpcGVcbiAgfVxuXG4gIGRldGVjdENvbGxpc2lvbihwaXBlOiBQaXBlR2F0ZSwgd29ybGQ6IFdvcmxkKSB7XG4gICAgdGhpcy5saXZlQmlyZHNcbiAgICAgIC5maWx0ZXIoYmlyZCA9PiBwaXBlLnRlc3RIaXQoYmlyZCkpXG4gICAgICAuZm9yRWFjaChiaXJkID0+IHtcbiAgICAgICAgZGVidWcoJ0JpcmRbJXNdIGNvbGxpZGVzIG9uIFBpcGVbJXNdJywgYmlyZC5uYW1lLCBwaXBlLm5hbWUpXG4gICAgICAgIDsoYmlyZCBhcyBCaXJkKS5raWxsKClcbiAgICAgICAgdGhpcy5yZXZpdmVQbGF5ZXIoYmlyZC5wbGF5ZXIpXG4gICAgICB9KVxuICB9XG5cbiAgY3JlYXRlQmlyZEZvclBsYXllcihwbGF5ZXI6IFBsYXllciwgaXNQZW5kaW5nOiBib29sZWFuKSB7XG4gICAgY29uc3QgYmlyZCA9IG5ldyBCaXJkKHBsYXllciwgdGhpcy53b3JsZCwgaXNQZW5kaW5nKVxuICAgIHRoaXMud29ybGQuYWRkQWN0b3IoYmlyZClcbiAgfVxuXG4gIGdldCBwbGF5ZXJzKCk6IFBsYXllcltdIHtcbiAgICByZXR1cm4gdGhpcy53b3JsZC5jb250cm9sbGVyc1xuICAgICAgLmdldFZhbHVlKCdQbGF5ZXInKVxuICAgICAgLm1hcChwbGF5ZXIgPT4gcGxheWVyIGFzIFBsYXllcilcbiAgfVxuXG4gIGdldCBsaXZlQmlyZHMoKTogQmlyZFtdIHtcbiAgICByZXR1cm4gdGhpcy53b3JsZC5hY3RvcnNcbiAgICAgIC5nZXRWYWx1ZSgnUGxheWVyJylcbiAgICAgIC5tYXAoYmlyZCA9PiBiaXJkIGFzIEJpcmQpXG4gICAgICAuZmlsdGVyKGJpcmQgPT4gYmlyZC5pc0xpdmUpXG4gIH1cblxuICBnZXQgbGl2ZVBsYXllcnMoKTogUGxheWVyW10ge1xuICAgIHJldHVybiB0aGlzLmxpdmVCaXJkcy5tYXAoYmlyZCA9PiBiaXJkLnBsYXllcilcbiAgfVxuXG4gIHN0YXJ0R2FtZSgpIHtcbiAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xuICAgICAgdGhpcy5jcmVhdGVCaXJkRm9yUGxheWVyKHBsYXllciwgdHJ1ZSlcbiAgICAgIHBsYXllci5vbkdhbWVTdGFydCgpXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlUGxheWVyKGRlbHRhVGltZTogbnVtYmVyLCBzcGVlZDogbnVtYmVyKSB7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBkZWx0YVRpbWUgKiBzcGVlZFxuXG4gICAgdGhpcy5saXZlQmlyZHMuZm9yRWFjaChiaXJkID0+IHtcbiAgICAgIGNvbnN0IHBsYXllciA9IGJpcmQucGxheWVyXG4gICAgICBwbGF5ZXIub25JbmNyZWFzZURpc3RhbmNlKGRpc3RhbmNlKVxuXG4gICAgICBpZiAodGhpcy5uZXh0UGlwZSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHsgZ2FwUG9zaXRpb24sIGhhbGZHYXBTaXplLCB4IH0gPSB0aGlzLm5leHRQaXBlXG4gICAgICAgIHBsYXllci5vblZpc3VhbCh7XG4gICAgICAgICAgc3BlZWQ6IHNwZWVkLFxuICAgICAgICAgIGRpc3RhbmNlVG9OZXh0UGlwZTogeCAtIGJpcmQueCxcbiAgICAgICAgICBwaXBlR2FwOiAyICogaGFsZkdhcFNpemUsXG4gICAgICAgICAgaGVpZ2h0RGlmZmVyZW5jZTogZ2FwUG9zaXRpb24gLSBiaXJkLnlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVQbGF5ZXJQaXBlQ291bnQoKSB7XG4gICAgdGhpcy5saXZlUGxheWVycy5mb3JFYWNoKHBsYXllciA9PiBwbGF5ZXIub25JbmNyZWFzZVBpcGVDb3VudCgpKVxuICB9XG5cbiAgcHJpdmF0ZSByZXZpdmVQbGF5ZXIocGxheWVyOiBQbGF5ZXIpIHtcbiAgICBpZiAodGhpcy53b3JsZC5wYXJhbXMuYXV0b1Jldml2ZSkge1xuICAgICAgdGhpcy5jcmVhdGVCaXJkRm9yUGxheWVyKHBsYXllciwgdHJ1ZSlcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBjcmVhdGVEZWJ1ZyBmcm9tICdkZWJ1ZydcbmNvbnN0IGRlYnVnID0gY3JlYXRlRGVidWcoJ2FwcDpCaXJkJylcblxuaW1wb3J0IFdvcmxkIGZyb20gJy4vV29ybGQnXG5pbXBvcnQgeyBSZWN0YW5nbGUsIFNwcml0ZSwgVGV4dCwgVGV4dFN0eWxlIH0gZnJvbSAncGl4aS5qcydcbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi4vZW5naW5lL1BsYXllcidcbmltcG9ydCB7IENvbnRhaW5lckFjdG9yIH0gZnJvbSAnLi4vZW5naW5lL0NvbnRhaW5lckFjdG9yJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCaXJkIGV4dGVuZHMgQ29udGFpbmVyQWN0b3I8V29ybGQ+IHtcbiAgcmVhZG9ubHkgYmlyZFNwcml0ZTogU3ByaXRlXG5cbiAgY29uc3RydWN0b3IoXG4gICAgcmVhZG9ubHkgcGxheWVyOiBQbGF5ZXIsXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkLFxuICAgIGlzUGVuZGluZzogYm9vbGVhbiA9IGZhbHNlXG4gICkge1xuICAgIHN1cGVyKHBsYXllci5mdWxsTmFtZSlcblxuICAgIHRoaXMuYmlyZFNwcml0ZSA9IHRoaXMuY3JlYXRlQmlyZFNwcml0ZSh3b3JsZClcblxuICAgIGNvbnN0IHsgc2NyZWVuIH0gPSB3b3JsZFxuXG4gICAgdGhpcy54ID0gc2NyZWVuLndpZHRoIC8gMlxuICAgIHRoaXMueSA9IHNjcmVlbi5oZWlnaHQgLyAyXG5cbiAgICBjb25zdCBoYWxmSGVpZ2h0ID0gdGhpcy5oZWlnaHQgLyAyXG4gICAgY29uc3QgaGFsZldpZHRoID0gdGhpcy53aWR0aCAvIDJcblxuICAgIHRoaXMubW92ZUJvdW5kcyA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAtaGFsZldpZHRoLFxuICAgICAgaGFsZkhlaWdodCxcbiAgICAgIHNjcmVlbi53aWR0aCAvIDIgKyBoYWxmV2lkdGgsXG4gICAgICBzY3JlZW4uaGVpZ2h0IC0gdGhpcy5oZWlnaHRcbiAgICApXG5cbiAgICB0aGlzLnZlbG9jaXR5ID0gMFxuXG4gICAgaWYgKGlzUGVuZGluZykge1xuICAgICAgdGhpcy5zdGF0ZSA9IG5ldyBCaXJkUGVuZGluZ1N0YXRlKHRoaXMpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBuZXcgQmlyZExpdmVTdGF0ZSh0aGlzKVxuICAgIH1cblxuICAgIHBsYXllci5hdHRhY2godGhpcylcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQmlyZFNwcml0ZSh3b3JsZDogV29ybGQpOiBTcHJpdGUge1xuICAgIGNvbnN0IGJpcmRTcHJpdGUgPSBuZXcgU3ByaXRlKHdvcmxkLnJlc291cmNlcy5iaXJkLnRleHR1cmUpXG5cbiAgICBiaXJkU3ByaXRlLmFuY2hvci5zZXQoMC41KVxuXG4gICAgYmlyZFNwcml0ZS54ID0gMFxuICAgIGJpcmRTcHJpdGUueSA9IDBcblxuICAgIHRoaXMuYWRkQ2hpbGQoYmlyZFNwcml0ZSlcblxuICAgIHJldHVybiBiaXJkU3ByaXRlXG4gIH1cblxuICByZWFkb25seSBtb3ZlQm91bmRzOiBSZWN0YW5nbGVcblxuICB2ZWxvY2l0eTogbnVtYmVyXG4gIHN0YXRlOiBCaXJkU3RhdGVcblxuICBnZXQgaXNMaXZlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmlzTGl2ZVxuICB9XG5cbiAgb25MZWFzaChjb21tYW5kOiBzdHJpbmcsIGRhdGE6IGFueSkge1xuICAgIGRlYnVnKCdDb21tYW5kOiAlcyglaiknLCBjb21tYW5kLCBkYXRhKVxuXG4gICAgc3dpdGNoIChjb21tYW5kKSB7XG4gICAgICBjYXNlICdmbGFwJzpcbiAgICAgICAgdGhpcy5mbGFwKClcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICB1cGRhdGUoZGVsdGFUaW1lOiBudW1iZXIsIHdvcmxkOiBXb3JsZCkge1xuICAgIHRoaXMuc3RhdGUub25VcGRhdGUoZGVsdGFUaW1lKVxuICB9XG5cbiAgdXBkYXRlVmVsb2NpdHkoZGVsdGFUaW1lOiBudW1iZXIpIHtcbiAgICBjb25zdCB7IG1heERyb3BwaW5nU3BlZWQsIGdyYXZpdHkgfSA9IHRoaXMud29ybGQucGFyYW1zXG5cbiAgICBpZiAodGhpcy52ZWxvY2l0eSA8IG1heERyb3BwaW5nU3BlZWQpIHtcbiAgICAgIHRoaXMudmVsb2NpdHkgKz0gZ3Jhdml0eSAqIGRlbHRhVGltZVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVgoZGVsdGFUaW1lOiBudW1iZXIpIHtcbiAgICBjb25zdCB7IHNwZWVkIH0gPSB0aGlzLndvcmxkLnBhcmFtc1xuICAgIHRoaXMueCAtPSBzcGVlZCAqIGRlbHRhVGltZVxuICAgIGlmICh0aGlzLnggPD0gdGhpcy5tb3ZlQm91bmRzLmxlZnQpIHtcbiAgICAgIHRoaXMud29ybGQucmVtb3ZlT2JqZWN0KHRoaXMpXG4gICAgfVxuICB9XG5cbiAgdXBkYXRlWShkZWx0YVRpbWU6IG51bWJlcikge1xuICAgIHRoaXMueSArPSB0aGlzLnZlbG9jaXR5ICogZGVsdGFUaW1lXG5cbiAgICBpZiAodGhpcy55IDwgdGhpcy5tb3ZlQm91bmRzLnRvcCkge1xuICAgICAgdGhpcy52ZWxvY2l0eSA9IDBcbiAgICAgIHRoaXMueSA9IHRoaXMubW92ZUJvdW5kcy50b3BcbiAgICAgIHRoaXMuc3RhdGUub25IaXRUb3AoKVxuICAgIH0gZWxzZSBpZiAodGhpcy55ID4gdGhpcy5tb3ZlQm91bmRzLmJvdHRvbSkge1xuICAgICAgdGhpcy52ZWxvY2l0eSA9IDBcbiAgICAgIHRoaXMueSA9IHRoaXMubW92ZUJvdW5kcy5ib3R0b21cbiAgICAgIHRoaXMuc3RhdGUub25IaXRCb3R0b20oKVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVJvdGF0aW9uKCkge1xuICAgIGNvbnN0IHsgbWF4UmFpc2luZ1NwZWVkLCBtYXhEcm9wcGluZ1NwZWVkLCBtYXhSb3RhdGlvbiB9ID0gdGhpcy53b3JsZC5wYXJhbXNcblxuICAgIGlmICh0aGlzLnZlbG9jaXR5IDwgMCkge1xuICAgICAgdGhpcy5iaXJkU3ByaXRlLnJvdGF0aW9uID0gKHRoaXMudmVsb2NpdHkgLyBtYXhSYWlzaW5nU3BlZWQpICogbWF4Um90YXRpb25cbiAgICB9IGVsc2UgaWYgKHRoaXMudmVsb2NpdHkgPiAwKSB7XG4gICAgICB0aGlzLmJpcmRTcHJpdGUucm90YXRpb24gPVxuICAgICAgICAodGhpcy52ZWxvY2l0eSAvIG1heERyb3BwaW5nU3BlZWQpICogbWF4Um90YXRpb25cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5iaXJkU3ByaXRlLnJvdGF0aW9uID0gMFxuICAgIH1cbiAgfVxuXG4gIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5wbGF5ZXIuZGV0YWNoKHRoaXMpXG4gIH1cblxuICBmbGFwKCkge1xuICAgIHRoaXMuc3RhdGUub25GbGFwKClcbiAgfVxuXG4gIGtpbGwoKSB7XG4gICAgdGhpcy5zdGF0ZS5vbktpbGwoKVxuICB9XG59XG5cbmFic3RyYWN0IGNsYXNzIEJpcmRTdGF0ZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHJlYWRvbmx5IGJpcmQ6IEJpcmQsXG4gICAgcmVhZG9ubHkgbmFtZTogc3RyaW5nLFxuICAgIHJlYWRvbmx5IGlzTGl2ZTogYm9vbGVhbiA9IGZhbHNlXG4gICkge1xuICAgIGJpcmQuc3RhdGUgPSB0aGlzXG4gICAgZGVidWcoJ0JpcmRbJXNdIHN0YXRlIGNoYW5nZWQgdG8gJXMnLCBiaXJkLm5hbWUsIG5hbWUpXG4gIH1cblxuICBvblVwZGF0ZShkZWx0YVRpbWU6IG51bWJlcik6IHZvaWQge31cblxuICBvbkZsYXAoKSB7fVxuXG4gIG9uS2lsbCgpIHt9XG5cbiAgb25IaXRUb3AoKSB7fVxuXG4gIG9uSGl0Qm90dG9tKCkge31cbn1cblxuY2xhc3MgQmlyZExpdmVTdGF0ZSBleHRlbmRzIEJpcmRTdGF0ZSB7XG4gIGNvbnN0cnVjdG9yKGJpcmQ6IEJpcmQpIHtcbiAgICBzdXBlcihiaXJkLCAnTGl2ZScsIHRydWUpXG5cbiAgICBiaXJkLmFscGhhID0gMVxuICAgIGJpcmQuYmlyZFNwcml0ZS50aW50ID0gMHhmZmZmZmZcbiAgfVxuXG4gIG9uVXBkYXRlKGRlbHRhVGltZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgYmlyZCA9IHRoaXMuYmlyZFxuXG4gICAgYmlyZC51cGRhdGVZKGRlbHRhVGltZSlcbiAgICBiaXJkLnVwZGF0ZVZlbG9jaXR5KGRlbHRhVGltZSlcbiAgICBiaXJkLnVwZGF0ZVJvdGF0aW9uKClcbiAgfVxuXG4gIG9uRmxhcCgpIHtcbiAgICBjb25zdCBiaXJkID0gdGhpcy5iaXJkXG4gICAgY29uc3QgeyByYWlzaW5nU3BlZWQgfSA9IGJpcmQud29ybGQucGFyYW1zXG5cbiAgICBiaXJkLnZlbG9jaXR5ID0gLXJhaXNpbmdTcGVlZFxuICAgIGJpcmQudXBkYXRlUm90YXRpb24oKVxuICB9XG5cbiAgb25LaWxsKCkge1xuICAgIG5ldyBCaXJkRGVhZFN0YXRlKHRoaXMuYmlyZClcbiAgfVxufVxuXG5jbGFzcyBCaXJkRGVhZFN0YXRlIGV4dGVuZHMgQmlyZFN0YXRlIHtcbiAgY29uc3RydWN0b3IoYmlyZDogQmlyZCkge1xuICAgIHN1cGVyKGJpcmQsICdEZWFkJywgZmFsc2UpXG5cbiAgICBiaXJkLmJpcmRTcHJpdGUudGludCA9IDB4ZmYwMGNjY2NcblxuICAgIGJpcmQuZGlzcG9zZSgpXG5cbiAgICBiaXJkLnBsYXllci5vbkRlYXRoKClcbiAgfVxuXG4gIG9uVXBkYXRlKGRlbHRhVGltZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgYmlyZCA9IHRoaXMuYmlyZFxuXG4gICAgYmlyZC51cGRhdGVZKGRlbHRhVGltZSlcbiAgICBiaXJkLnVwZGF0ZVZlbG9jaXR5KGRlbHRhVGltZSlcbiAgICBiaXJkLnVwZGF0ZVJvdGF0aW9uKClcbiAgICBiaXJkLnVwZGF0ZVgoZGVsdGFUaW1lKVxuICB9XG59XG5cbmNsYXNzIEJpcmRQZW5kaW5nU3RhdGUgZXh0ZW5kcyBCaXJkU3RhdGUge1xuICBjb25zdHJ1Y3RvcihiaXJkOiBCaXJkKSB7XG4gICAgc3VwZXIoYmlyZCwgJ1BlbmRpbmcnLCBmYWxzZSlcbiAgICBiaXJkLmFscGhhID0gMC41XG4gIH1cblxuICBvbkZsYXAoKSB7XG4gICAgbmV3IEJpcmRMaXZlU3RhdGUodGhpcy5iaXJkKVxuICAgIHRoaXMuYmlyZC5wbGF5ZXIub25SZXZpdmUoKVxuICAgIHRoaXMuYmlyZC5mbGFwKClcbiAgfVxufVxuIiwiaW1wb3J0IGNyZWF0ZURlYnVnIGZyb20gJ2RlYnVnJ1xuY29uc3QgZGVidWcgPSBjcmVhdGVEZWJ1ZygnYXBwOlBpcGVHZW5lcmF0b3InKVxuXG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tICcuLi9lbmdpbmUvR2FtZU9iamVjdCdcbmltcG9ydCBXb3JsZCBmcm9tICcuL1dvcmxkJ1xuaW1wb3J0IHsgcmFuZG9tSW50IH0gZnJvbSAnLi4vZW5naW5lL3JhbmRvbUdlbmVyYXRvcidcbmltcG9ydCBGdWxsTmFtZSBmcm9tICcuLi9lbmdpbmUvRnVsbE5hbWUnXG5pbXBvcnQgUGlwZUdhdGUgZnJvbSAnLi9QaXBlR2F0ZSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlwZUdlbmVyYXRvciBpbXBsZW1lbnRzIEdhbWVPYmplY3Q8V29ybGQ+IHtcbiAgcmVhZG9ubHkgZnVsbE5hbWUgPSBGdWxsTmFtZS5zaW5nbGV0b24oJ1BpcGVHZW5lcmF0b3InKVxuXG4gIHJlYWRvbmx5IGluaXRpYWxYOiBudW1iZXJcbiAgZ2V0IGRpc3RhbmNlVGhyZXNob2xkKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMud29ybGQucGFyYW1zLm1pblBpcGVEaXN0YW5jZVxuICB9XG5cbiAgcHJpdmF0ZSBfZGlzdGFuY2U6IG51bWJlciA9IDBcbiAgZ2V0IGRpc3RhbmNlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2Rpc3RhbmNlXG4gIH1cblxuICBjb25zdHJ1Y3RvcihyZWFkb25seSB3b3JsZDogV29ybGQpIHtcbiAgICB0aGlzLmluaXRpYWxYID0gd29ybGQuc2NyZWVuLndpZHRoXG4gICAgdGhpcy5fZGlzdGFuY2UgPSByYW5kb21JbnQod29ybGQucGFyYW1zLnBpcGVXaWR0aCAqIDMpXG4gIH1cblxuICB1cGRhdGUoZGVsdGFUaW1lOiBudW1iZXIsIHdvcmxkOiBXb3JsZCk6IHZvaWQge1xuICAgIHRoaXMuX2Rpc3RhbmNlIC09IHdvcmxkLnBhcmFtcy5zcGVlZCAqIGRlbHRhVGltZVxuICAgIGlmICh0aGlzLmRpc3RhbmNlIDwgdGhpcy5kaXN0YW5jZVRocmVzaG9sZCkge1xuICAgICAgZGVidWcoJ0dlbmVyYXRpbmcgUGlwZTogJWQgPCAlZCcsIHRoaXMuZGlzdGFuY2UsIHRoaXMuZGlzdGFuY2VUaHJlc2hvbGQpXG4gICAgICB0aGlzLmdlbmVyYXRlUGlwZSgpXG4gICAgICB0aGlzLmdlbmVyYXRlRGlzdGFuY2UoKVxuICAgIH1cbiAgfVxuXG4gIGdlbmVyYXRlUGlwZSgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSB0aGlzLndvcmxkLnBhcmFtc1xuXG4gICAgY29uc3QgaGFsZkdhcFNpemUgPSByYW5kb21JbnQocGFyYW1zLm1heEdhcFNpemUsIHBhcmFtcy5taW5HYXBTaXplKSAvIDJcblxuICAgIGNvbnN0IGdhcFBvc2l0aW9uID0gcmFuZG9tSW50KFxuICAgICAgdGhpcy53b3JsZC5zY3JlZW4uaGVpZ2h0IC0gcGFyYW1zLm1pblBpcGVCb3R0b21NYXJnaW4gLSBoYWxmR2FwU2l6ZSxcbiAgICAgIHBhcmFtcy5taW5QaXBlVG9wTWFyZ2luICsgaGFsZkdhcFNpemVcbiAgICApXG5cbiAgICBjb25zdCB4ID0gdGhpcy5kaXN0YW5jZSArIHRoaXMuaW5pdGlhbFhcblxuICAgIGRlYnVnKCdHZW5lcmF0ZSBQaXBlOiBbJWQsICVkICstICVkXScsIHgsIGdhcFBvc2l0aW9uLCBoYWxmR2FwU2l6ZSlcblxuICAgIHRoaXMud29ybGQuYWRkT2JqZWN0KG5ldyBQaXBlR2F0ZSh0aGlzLndvcmxkLCB4LCBnYXBQb3NpdGlvbiwgaGFsZkdhcFNpemUpKVxuICB9XG5cbiAgZ2VuZXJhdGVEaXN0YW5jZSgpIHtcbiAgICB0aGlzLl9kaXN0YW5jZSArPSByYW5kb21JbnQoXG4gICAgICB0aGlzLndvcmxkLnBhcmFtcy5tYXhQaXBlRGlzdGFuY2UsXG4gICAgICB0aGlzLndvcmxkLnBhcmFtcy5taW5QaXBlRGlzdGFuY2VcbiAgICApXG4gICAgZGVidWcoJ25ldyBkaXN0YW5jZTogJWQnLCB0aGlzLmRpc3RhbmNlKVxuICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gcmFuZG9tRmxvYXQobWF4OiBudW1iZXIsIG1pbjogbnVtYmVyID0gMCkge1xuICByZXR1cm4gbWluICsgTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21JbnQobWF4OiBudW1iZXIsIG1pbjogbnVtYmVyID0gMCkge1xuICByZXR1cm4gTWF0aC5mbG9vcihyYW5kb21GbG9hdChtaW4sIG1heCkpXG59XG4iLCJpbXBvcnQgeyBDb250YWluZXJBY3RvciB9IGZyb20gJy4uL2VuZ2luZS9Db250YWluZXJBY3RvcidcbmltcG9ydCBXb3JsZCBmcm9tICcuL1dvcmxkJ1xuaW1wb3J0IHsgU3ByaXRlLCBsb2FkZXJzLCBEaXNwbGF5T2JqZWN0LCBSZWN0YW5nbGUsIFBvaW50IH0gZnJvbSAncGl4aS5qcydcbmltcG9ydCBGdWxsTmFtZSBmcm9tICcuLi9lbmdpbmUvRnVsbE5hbWUnXG5pbXBvcnQgQmlyZCBmcm9tICcuL0JpcmQnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpcGVHYXRlIGV4dGVuZHMgQ29udGFpbmVyQWN0b3I8V29ybGQ+IHtcbiAgc3RhdGljIGluc3RhbmNlQ291bnQ6IG51bWJlciA9IDBcblxuICByZWFkb25seSB0b3BQaXBlOiBQaXBlXG4gIHJlYWRvbmx5IGJvdHRvbVBpcGU6IFBpcGVcblxuICBjb25zdHJ1Y3RvcihcbiAgICB3b3JsZDogV29ybGQsXG4gICAgeDogbnVtYmVyLFxuICAgIHJlYWRvbmx5IGdhcFBvc2l0aW9uOiBudW1iZXIsXG4gICAgcmVhZG9ubHkgaGFsZkdhcFNpemU6IG51bWJlclxuICApIHtcbiAgICBzdXBlcihuZXcgRnVsbE5hbWUoJ1BpcGVHYXRlJywgU3RyaW5nKFBpcGVHYXRlLmluc3RhbmNlQ291bnQrKykpKVxuXG4gICAgdGhpcy54ID0geFxuXG4gICAgdGhpcy50b3BQaXBlID0gbmV3IFBpcGUoXG4gICAgICB3b3JsZC5yZXNvdXJjZXMsXG4gICAgICAxLFxuICAgICAgJ3RvcFBpcGUnLFxuICAgICAgZ2FwUG9zaXRpb24gLSBoYWxmR2FwU2l6ZVxuICAgIClcbiAgICB0aGlzLmJvdHRvbVBpcGUgPSBuZXcgUGlwZShcbiAgICAgIHdvcmxkLnJlc291cmNlcyxcbiAgICAgIDAsXG4gICAgICAnYm90dG9tUGlwZScsXG4gICAgICBnYXBQb3NpdGlvbiArIGhhbGZHYXBTaXplXG4gICAgKVxuXG4gICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRvcFBpcGUpXG4gICAgdGhpcy5hZGRDaGlsZCh0aGlzLmJvdHRvbVBpcGUpXG4gIH1cblxuICBnZXQgdGludCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnRvcFBpcGUudGludFxuICB9XG5cbiAgc2V0IHRpbnQodmFsdWU6IG51bWJlcikge1xuICAgIHRoaXMudG9wUGlwZS50aW50ID0gdGhpcy5ib3R0b21QaXBlLnRpbnQgPSB2YWx1ZVxuICB9XG5cbiAgdGVzdEhpdChiaXJkOiBCaXJkKTogYm9vbGVhbiB7XG4gICAgY29uc3QgYmlyZEJvdW5kcyA9IGJpcmQuZ2V0Qm91bmRzKClcblxuICAgIHJldHVybiAoXG4gICAgICB0aGlzLnRvcFBpcGUuZ2V0Qm91bmRzKCkub3ZlcmxhcHMoYmlyZEJvdW5kcykgfHxcbiAgICAgIHRoaXMuYm90dG9tUGlwZS5nZXRCb3VuZHMoKS5vdmVybGFwcyhiaXJkQm91bmRzKVxuICAgIClcbiAgfVxuXG4gIHVwZGF0ZShkZWx0YVRpbWU6IG51bWJlciwgd29ybGQ6IFdvcmxkKTogdm9pZCB7XG4gICAgdGhpcy54IC09IHdvcmxkLnBhcmFtcy5zcGVlZCAqIGRlbHRhVGltZVxuXG4gICAgaWYgKHRoaXMuZ2V0Qm91bmRzKCkucmlnaHQgPD0gMCkge1xuICAgICAgd29ybGQucmVtb3ZlT2JqZWN0KHRoaXMpXG4gICAgfVxuICB9XG59XG5cbmNsYXNzIFBpcGUgZXh0ZW5kcyBTcHJpdGUge1xuICBjb25zdHJ1Y3RvcihcbiAgICByZXNvdXJjZXM6IGxvYWRlcnMuUmVzb3VyY2VEaWN0aW9uYXJ5LFxuICAgIGFuY2hvcjogbnVtYmVyLFxuICAgIGFzc2V0TmFtZTogc3RyaW5nLFxuICAgIGhlaWdodDogbnVtYmVyXG4gICkge1xuICAgIHN1cGVyKHJlc291cmNlc1thc3NldE5hbWVdLnRleHR1cmUpXG5cbiAgICB0aGlzLmFuY2hvci5zZXQoMCwgYW5jaG9yKVxuXG4gICAgdGhpcy54ID0gMFxuICAgIHRoaXMueSA9IGhlaWdodFxuICB9XG59XG4iLCJpbXBvcnQgV29ybGQgZnJvbSAnLi9Xb3JsZCdcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gJy4uL2VuZ2luZS9HYW1lT2JqZWN0J1xuaW1wb3J0IEZ1bGxOYW1lIGZyb20gJy4uL2VuZ2luZS9GdWxsTmFtZSdcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ3BpeGkuanMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhcmFtZXRlckNvbnRyb2xsZXIgaW1wbGVtZW50cyBHYW1lT2JqZWN0PFdvcmxkPiB7XG4gIHJlYWRvbmx5IGZ1bGxOYW1lID0gRnVsbE5hbWUuc2luZ2xldG9uKCdQYXJhbWV0ZXJDb250cm9sbGVyJylcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICA7KHdpbmRvdyBhcyBhbnkpLnBhcmFtcyA9IHRoaXNcbiAgfVxuXG4gIHNjcmVlbjogUmVjdGFuZ2xlID0gUmVjdGFuZ2xlLkVNUFRZXG5cbiAgZ2V0IHNjcmVlbldpZHRoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuc2NyZWVuLndpZHRoXG4gIH1cblxuICBnZXQgc2NyZWVuSGVpZ2h0KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuc2NyZWVuLndpZHRoXG4gIH1cblxuICBnZXQgaGFsZlNjcmVlbldpZHRoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuc2NyZWVuV2lkdGggLyAyXG4gIH1cblxuICBnZXQgaGFsZlNjcmVlbkhlaWdodCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnNjcmVlbkhlaWdodCAvIDJcbiAgfVxuXG4gIHBpcGVXaWR0aDogbnVtYmVyID0gMFxuXG4gIGJpcmRXaWR0aDogbnVtYmVyID0gMFxuXG4gIGdldCBoYWxmQmlyZFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLmJpcmRXaWR0aCAvIDJcbiAgfVxuXG4gIGJpcmRIZWlnaHQ6IG51bWJlciA9IDBcblxuICBnZXQgaGFsZkJpcmRIZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmlyZEhlaWdodCAvIDJcbiAgfVxuXG4gIG1heFJhaXNpbmdTcGVlZDogbnVtYmVyID0gMFxuXG4gIHJhaXNpbmdTcGVlZDogbnVtYmVyID0gMFxuXG4gIGdyYXZpdHk6IG51bWJlciA9IDVcblxuICBtYXhEcm9wcGluZ1NwZWVkOiBudW1iZXIgPSAwXG5cbiAgbWF4Um90YXRpb246IG51bWJlciA9IE1hdGguUEkgLyA2XG5cbiAgc3BlZWQ6IG51bWJlciA9IDFcblxuICBtaW5QaXBlRGlzdGFuY2U6IG51bWJlciA9IDBcblxuICBtYXhQaXBlRGlzdGFuY2U6IG51bWJlciA9IDBcblxuICBtaW5HYXBTaXplOiBudW1iZXIgPSAwXG5cbiAgbWF4R2FwU2l6ZTogbnVtYmVyID0gMFxuXG4gIG1pblBpcGVUb3BNYXJnaW46IG51bWJlciA9IDMwXG5cbiAgbWluUGlwZUJvdHRvbU1hcmdpbjogbnVtYmVyID0gMzBcblxuICBhdXRvUmV2aXZlOiBib29sZWFuID0gdHJ1ZVxuXG4gIHNldHVwKHdvcmxkOiBXb3JsZCkge1xuICAgIC8vIFNjcmVlblxuXG4gICAgdGhpcy5zY3JlZW4gPSB3b3JsZC5zY3JlZW5cblxuICAgIC8vIFRleHR1cmVzXG4gICAgY29uc3QgYmlyZFRleHR1cmUgPSB3b3JsZC5yZXNvdXJjZXMuYmlyZC50ZXh0dXJlXG5cbiAgICB0aGlzLmJpcmRIZWlnaHQgPSBiaXJkVGV4dHVyZS5oZWlnaHRcbiAgICB0aGlzLmJpcmRXaWR0aCA9IGJpcmRUZXh0dXJlLndpZHRoXG5cbiAgICB0aGlzLnBpcGVXaWR0aCA9IHdvcmxkLnJlc291cmNlcy50b3BQaXBlLnRleHR1cmUud2lkdGhcblxuICAgIC8vIEhvcml6b250YWxcblxuICAgIHRoaXMuc3BlZWQgPSB3b3JsZC5zY3JlZW4ud2lkdGggLyA0XG5cbiAgICAvLyBWZXJ0aWNhbFxuXG4gICAgdGhpcy5ncmF2aXR5ID0gdGhpcy5iaXJkSGVpZ2h0ICogODBcblxuICAgIHRoaXMubWF4RHJvcHBpbmdTcGVlZCA9IHRoaXMuZ3Jhdml0eVxuXG4gICAgdGhpcy5yYWlzaW5nU3BlZWQgPSB0aGlzLmJpcmRIZWlnaHQgKiAxNVxuICAgIHRoaXMubWF4UmFpc2luZ1NwZWVkID0gdGhpcy5yYWlzaW5nU3BlZWRcblxuICAgIHRoaXMubWF4Um90YXRpb24gPSBNYXRoLlBJIC8gM1xuXG4gICAgLy8gUGlwZVxuICAgIHRoaXMubWluUGlwZUJvdHRvbU1hcmdpbiA9IDMwXG4gICAgdGhpcy5taW5QaXBlVG9wTWFyZ2luID0gMzBcblxuICAgIGNvbnN0IG1pbkZlYXNpYmxlR2FwU2l6ZSA9XG4gICAgICAoKHRoaXMucGlwZVdpZHRoICsgdGhpcy5iaXJkV2lkdGgpIC8gdGhpcy5zcGVlZCkgKlxuICAgICAgTWF0aC5taW4odGhpcy5tYXhEcm9wcGluZ1NwZWVkLCB0aGlzLm1heFJhaXNpbmdTcGVlZCwgdGhpcy5ncmF2aXR5IC8gNjApXG5cbiAgICB0aGlzLm1pbkdhcFNpemUgPSBtaW5GZWFzaWJsZUdhcFNpemUgKiA1XG4gICAgdGhpcy5tYXhHYXBTaXplID0gbWluRmVhc2libGVHYXBTaXplICogOFxuXG4gICAgdGhpcy5tYXhQaXBlRGlzdGFuY2UgPSB0aGlzLnBpcGVXaWR0aCAqIDZcbiAgICB0aGlzLm1pblBpcGVEaXN0YW5jZSA9IHRoaXMucGlwZVdpZHRoICogNFxuXG4gICAgLy8gU3dpdGNoZXNcblxuICAgIHRoaXMuYXV0b1Jldml2ZSA9IHRydWVcbiAgfVxuXG4gIHVwZGF0ZShkZWx0YVRpbWU6IG51bWJlciwgc3RhZ2U6IFdvcmxkKTogdm9pZCB7fVxufVxuIiwiaW1wb3J0IFBsYXllciBmcm9tICcuL1BsYXllcidcbmltcG9ydCBXb3JsZCBmcm9tICcuLi93b3JsZC9Xb3JsZCdcbmltcG9ydCBCaXJkIGZyb20gJy4uL3dvcmxkL0JpcmQnXG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAncGl4aS5qcydcbmltcG9ydCBOYW1lTGFiZWwgZnJvbSAnLi4vd29ybGQvTmFtZUxhYmVsJ1xuaW1wb3J0IHsgU2NvcmVMYWJlbCB9IGZyb20gJy4uL3dvcmxkL1Njb3JlTGFiZWwnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEh1bWFuUGxheWVyIGV4dGVuZHMgUGxheWVyIHtcbiAgY29uc3RydWN0b3IocmVhZG9ubHkgd29ybGQ6IFdvcmxkLCBuYW1lOiBzdHJpbmcsIHJlYWRvbmx5IGtleUNvZGU6IHN0cmluZykge1xuICAgIHN1cGVyKHdvcmxkLCBuYW1lKVxuXG4gICAgd29ybGQua2V5Ym9hcmQub25LZXkoa2V5Q29kZSkub25FdmVudCgna2V5RG93blNpbmdsZScsICgpID0+IHtcbiAgICAgIHRoaXMuZmxhcCgpXG4gICAgfSlcblxuICAgIHRoaXMuZGVidWcoJ0xpc3RlbmluZyBvbiBrZXkgJXMnLCBrZXlDb2RlKVxuICB9XG5cbiAgcHJvdGVjdGVkIHNldHVwTmFtZUxhYmVsKGJpcmQ6IEJpcmQpOiBOYW1lTGFiZWwge1xuICAgIGNvbnN0IGxhYmVsID0gc3VwZXIuc2V0dXBOYW1lTGFiZWwoYmlyZClcblxuICAgIGxhYmVsLmFscGhhID0gMC43XG5cbiAgICByZXR1cm4gbGFiZWxcbiAgfVxuXG4gIHByb3RlY3RlZCBzZXR1cFNjb3JlTGFiZWwoYmlyZDogQmlyZCk6IFNjb3JlTGFiZWwge1xuICAgIHRoaXMuc2NvcmVMYWJlbCA9IHRoaXMud29ybGQuc2NvcmVMYWJlbFxuICAgIHJldHVybiB0aGlzLnNjb3JlTGFiZWxcbiAgfVxuXG4gIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy53b3JsZC5rZXlib2FyZC5zaWxlbmNlKHRoaXMua2V5Q29kZSlcbiAgICB0aGlzLmRlYnVnKCdEaXNwb3NlZCcpXG4gIH1cbn1cbiIsImltcG9ydCBjcmVhdGVEZWJ1ZywgeyBJRGVidWdnZXIgfSBmcm9tICdkZWJ1ZydcblxuaW1wb3J0IEZ1bGxOYW1lIGZyb20gJy4vRnVsbE5hbWUnXG5pbXBvcnQgV29ybGQgZnJvbSAnLi4vd29ybGQvV29ybGQnXG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tICcuL0dhbWVPYmplY3QnXG5pbXBvcnQgQmlyZCBmcm9tICcuLi93b3JsZC9CaXJkJ1xuaW1wb3J0IHsgVGV4dCB9IGZyb20gJ3BpeGkuanMnXG5pbXBvcnQgTmFtZUxhYmVsIGZyb20gJy4uL3dvcmxkL05hbWVMYWJlbCdcbmltcG9ydCB7IEF0dGFjaGVkU2NvcmVMYWJlbCwgU2NvcmVMYWJlbCB9IGZyb20gJy4uL3dvcmxkL1Njb3JlTGFiZWwnXG5cbmV4cG9ydCB0eXBlIEJpcmRMZWFzaCA9IChjb21tYW5kOiBzdHJpbmcsIGRhdGE6IGFueSkgPT4gdm9pZFxuXG5leHBvcnQgaW50ZXJmYWNlIFBsYXllclZpc3VhbCB7XG4gIHNwZWVkOiBudW1iZXJcbiAgZGlzdGFuY2VUb05leHRQaXBlOiBudW1iZXJcbiAgcGlwZUdhcDogbnVtYmVyXG4gIGhlaWdodERpZmZlcmVuY2U6IG51bWJlclxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXIgaW1wbGVtZW50cyBHYW1lT2JqZWN0PFdvcmxkPiB7XG4gIGdldCBuYW1lKCkge1xuICAgIHJldHVybiB0aGlzLmZ1bGxOYW1lLm5hbWVcbiAgfVxuICByZWFkb25seSBmdWxsTmFtZTogRnVsbE5hbWVcbiAgcmVhZG9ubHkgZGVidWc6IElEZWJ1Z2dlclxuXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHdvcmxkOiBXb3JsZCwgbmFtZTogc3RyaW5nKSB7XG4gICAgdGhpcy5mdWxsTmFtZSA9IG5ldyBGdWxsTmFtZSgnUGxheWVyJywgbmFtZSlcblxuICAgIHRoaXMuZGVidWcgPSBjcmVhdGVEZWJ1Zyh0aGlzLmZ1bGxOYW1lLmZ1bGxOYW1lKVxuXG4gICAgdGhpcy5yZXBvcnRTY29yZSgpXG4gIH1cblxuICBhdHRhY2goYmlyZDogQmlyZCkge1xuICAgIHRoaXMuYmlyZExlYXNoID0gYmlyZC5vbkxlYXNoLmJpbmQoYmlyZClcblxuICAgIHRoaXMuc2V0dXBOYW1lTGFiZWwoYmlyZClcbiAgICB0aGlzLnNldHVwU2NvcmVMYWJlbChiaXJkKVxuXG4gICAgdGhpcy5yZW5kZXJTY29yZSgpXG4gIH1cblxuICBkZXRhY2goYmlyZDogQmlyZCkge1xuICAgIHRoaXMuYmlyZExlYXNoID0gbnVsbFxuICB9XG5cbiAgcHJvdGVjdGVkIHNldHVwTmFtZUxhYmVsKGJpcmQ6IEJpcmQpOiBOYW1lTGFiZWwge1xuICAgIGNvbnN0IHRleHQgPSBgJHt0aGlzLmZ1bGxOYW1lLm5hbWV9OiR7dGhpcy5kZWF0aH1gXG4gICAgY29uc3QgbGFiZWwgPSBuZXcgTmFtZUxhYmVsKHRleHQsIGJpcmQuYmlyZFNwcml0ZSlcbiAgICBiaXJkLmFkZENoaWxkKGxhYmVsKVxuICAgIHJldHVybiBsYWJlbFxuICB9XG5cbiAgcHJvdGVjdGVkIHNjb3JlTGFiZWw6IFNjb3JlTGFiZWwgfCBudWxsID0gbnVsbFxuXG4gIHByb3RlY3RlZCBzZXR1cFNjb3JlTGFiZWwoYmlyZDogQmlyZCk6IFNjb3JlTGFiZWwge1xuICAgIGNvbnN0IGxhYmVsID0gbmV3IEF0dGFjaGVkU2NvcmVMYWJlbChiaXJkKVxuICAgIHRoaXMuc2NvcmVMYWJlbCA9IGxhYmVsXG4gICAgcmV0dXJuIGxhYmVsXG4gIH1cblxuICBwcm90ZWN0ZWQgcmVuZGVyU2NvcmUoKSB7XG4gICAgaWYgKHRoaXMuc2NvcmVMYWJlbCAhPSBudWxsKSB7XG4gICAgICB0aGlzLnNjb3JlTGFiZWwucmVuZGVyU2NvcmUodGhpcylcbiAgICB9XG4gIH1cblxuICBzY29yZTogbnVtYmVyID0gMFxuICBiZXN0U2NvcmU6IG51bWJlciA9IDBcblxuICBkaXN0YW5jZTogbnVtYmVyID0gMFxuICBiZXN0RGlzdGFuY2U6IG51bWJlciA9IDBcblxuICBwaXBlQ291bnQ6IG51bWJlciA9IDBcbiAgYmVzdFBpcGVDb3VudDogbnVtYmVyID0gMFxuXG4gIGRlYXRoOiBudW1iZXIgPSAwXG5cbiAgYmlyZExlYXNoOiBCaXJkTGVhc2ggfCBudWxsID0gbnVsbFxuXG4gIGluc3RydWN0QmlyZChjb21tYW5kOiBzdHJpbmcsIGRhdGE6IGFueSA9IG51bGwpIHtcbiAgICBpZiAodGhpcy5iaXJkTGVhc2ggIT0gbnVsbCkge1xuICAgICAgdGhpcy5iaXJkTGVhc2goY29tbWFuZCwgZGF0YSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZWJ1ZygnUGxheWVyIG5vdCB5ZXQgcmVnaXN0ZXJlZCcpXG4gICAgfVxuICB9XG5cbiAgb25HYW1lU3RhcnQoKSB7XG4gICAgdGhpcy5kZWJ1ZygnR2FtZSBzdGFydCcpXG4gIH1cblxuICBmbGFwKCkge1xuICAgIHRoaXMuZGVidWcoJ0ZsYXAgQmlyZCcpXG4gICAgdGhpcy5pbnN0cnVjdEJpcmQoJ2ZsYXAnKVxuICB9XG5cbiAgb25JbmNyZWFzZURpc3RhbmNlKGRlbHRhRGlzdGFuY2U6IG51bWJlcikge1xuICAgIHRoaXMuZGlzdGFuY2UgKz0gZGVsdGFEaXN0YW5jZVxuICAgIHRoaXMudXBkYXRlU2NvcmUoZmFsc2UpXG4gIH1cblxuICBvbkluY3JlYXNlUGlwZUNvdW50KCkge1xuICAgIHRoaXMucGlwZUNvdW50ICs9IDFcbiAgICB0aGlzLnVwZGF0ZVNjb3JlKClcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlU2NvcmUocmVwb3J0OiBib29sZWFuID0gdHJ1ZSkge1xuICAgIHRoaXMuc2NvcmUgPSB0aGlzLmRpc3RhbmNlICsgdGhpcy5waXBlQ291bnQgKiA1MDBcblxuICAgIHRoaXMucmVuZGVyU2NvcmUoKVxuXG4gICAgaWYgKHJlcG9ydCkge1xuICAgICAgdGhpcy5kZWJ1ZyhcbiAgICAgICAgJ1Njb3JlOiBkOiAlZCBwOiAlZCBzOiAlZCcsXG4gICAgICAgIHRoaXMuZGlzdGFuY2UsXG4gICAgICAgIHRoaXMucGlwZUNvdW50LFxuICAgICAgICB0aGlzLnNjb3JlXG4gICAgICApXG4gICAgICB0aGlzLnJlcG9ydFNjb3JlKClcbiAgICB9XG4gIH1cblxuICBvbkRlYXRoKCkge1xuICAgIHRoaXMuZGVhdGggKz0gMVxuXG4gICAgdGhpcy5kZWJ1ZygnRGVhZDogJGQnLCB0aGlzLmRlYXRoKVxuXG4gICAgdGhpcy5iZXN0U2NvcmUgPSBNYXRoLm1heCh0aGlzLmJlc3RTY29yZSwgdGhpcy5zY29yZSlcbiAgICB0aGlzLnNjb3JlID0gMFxuXG4gICAgdGhpcy5iZXN0RGlzdGFuY2UgPSBNYXRoLm1heCh0aGlzLmJlc3REaXN0YW5jZSwgdGhpcy5kaXN0YW5jZSlcbiAgICB0aGlzLmRpc3RhbmNlID0gMFxuXG4gICAgdGhpcy5iZXN0UGlwZUNvdW50ID0gTWF0aC5tYXgodGhpcy5iZXN0UGlwZUNvdW50LCB0aGlzLnBpcGVDb3VudClcbiAgICB0aGlzLnBpcGVDb3VudCA9IDBcblxuICAgIHRoaXMudXBkYXRlU2NvcmUoKVxuICB9XG5cbiAgb25SZXZpdmUoKSB7XG4gICAgdGhpcy5kZWJ1ZygnUmV2aXZlJylcbiAgfVxuXG4gIG9uVmlzdWFsKHZpc3VhbDogUGxheWVyVmlzdWFsKSB7fVxuXG4gIHVwZGF0ZShkZWx0YVRpbWU6IG51bWJlciwgc3RhZ2U6IFdvcmxkKTogdm9pZCB7fVxuXG4gIHByaXZhdGUgcmVwb3J0U2NvcmUoKSB7XG4gICAgaWYgKHdpbmRvdy5nYW1lT2JzZXJ2ZXIgIT0gbnVsbCkge1xuICAgICAgd2luZG93LmdhbWVPYnNlcnZlci5yZXBvcnRQbGF5ZXJTY29yZSh7XG4gICAgICAgIG5hbWU6IHRoaXMuZnVsbE5hbWUubmFtZSxcbiAgICAgICAgc2NvcmU6IHRoaXMuc2NvcmUsXG4gICAgICAgIGJlc3RTY29yZTogdGhpcy5iZXN0U2NvcmUsXG4gICAgICAgIGRpc3RhbmNlOiB0aGlzLmRpc3RhbmNlLFxuICAgICAgICBiZXN0RGlzdGFuY2U6IHRoaXMuYmVzdERpc3RhbmNlLFxuICAgICAgICBwaXBlQ291bnQ6IHRoaXMucGlwZUNvdW50LFxuICAgICAgICBiZXN0UGlwZUNvdW50OiB0aGlzLmJlc3RQaXBlQ291bnQsXG4gICAgICAgIGRlYXRoOiB0aGlzLmRlYXRoXG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgVGV4dCwgVGV4dFN0eWxlLCBTcHJpdGUgfSBmcm9tICdwaXhpLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYW1lTGFiZWwgZXh0ZW5kcyBUZXh0IHtcbiAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCB0YXJnZXQ6IFNwcml0ZSwgYWxwaGE6IG51bWJlciA9IDEpIHtcbiAgICBjb25zdCBzdHlsZSA9IG5ldyBUZXh0U3R5bGUoe1xuICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgIGZvbnRTaXplOiAxNixcbiAgICAgIGZpbGw6IFsnI2ZmZmYnLCAnI2NjY2NjYyddLFxuICAgICAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gICAgICBzdHJva2VUaGlja25lc3M6IDFcbiAgICB9KVxuXG4gICAgc3VwZXIobmFtZSwgc3R5bGUpXG5cbiAgICB0aGlzLmFuY2hvci5zZXQoMC41LCAxKVxuICAgIHRoaXMueCA9IDBcbiAgICB0aGlzLnkgPSAtdGFyZ2V0LmhlaWdodCAvIDIgLSAxMFxuICAgIHRoaXMuYWxwaGEgPSBhbHBoYVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9